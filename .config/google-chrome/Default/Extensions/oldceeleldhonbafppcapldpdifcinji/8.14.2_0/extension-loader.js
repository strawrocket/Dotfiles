(()=>{"use strict";var E;!function(E){E.CHROME_EXTENSION_ID="CHROME_EXTENSION_ID",E.EXTN_PREFIX="EVENT_PREFIX",E.COLORS_GRAMMAR="COLORS_GRAMMAR",E.CARD_LAYOUT="CARD_LAYOUT",E.COLORS_SPELLING="COLORS_SPELLING",E.COLORS_STYLE="COLORS_LONG_SENTENCE",E.SUPPORTED_LANGUAGES="SUPPORTED_LANGUAGES",E.INSTALLED_ATTRIBUTE="INSTALLED_ATTRIBUTE",E.GDOCS_ATTRIBUTE="GDOCS_ATTRIBUTE",E.TWEAKS_ATTRIBUTE="TWEAKS_ATTRIBUTE",E.TMP_ID_ATTRIBUTE="TMP_ID_ATTRIBUTE",E.AI_RULE_ID_REGEX="AI_RULE_ID_REGEX",E.COLORS_PARAPHRASE="COLORS_PARAPHRASE",E.COLORS_RECOMMENDATION="COLORS_RECOMMENDATION",E.COLORS_RECOMMENDATION_TEASE="COLORS_RECOMMENDATION_TEASE",E.VALID_START_SENTENCE_REGEX="VALID_START_SENTENCE_REGEX",E.VALID_END_SENTENCE_REGEX="VALID_END_SENTENCE_REGEX",E.MULTI_SENTENCE_SELECTION_FOR_PARAPHRASE_ALLOWED="MULTI_SENTENCE_SELECTION_FOR_PARAPHRASE_ALLOWED",E.MAX_TEXT_LENGTH_ALLOWED_FOR_PAGELESS="MAX_TEXT_LENGTH_ALLOWED_FOR_PAGELESS",E.MAX_TEXT_LENGTH_ALLOWED="MAX_TEXT_LENGTH_ALLOWED",E.SELECTED_UNDERLINE_THICKNESS="SELECTED_UNDERLINE_THICKNESS",E.BULLET_POINT_PARSING_PREFIX="BULLET_POINT_PARSING_PREFIX",E.TOOLBAR_SIZE="TOOLBAR_SIZE",E.FIX_ALL_CONFIG="FIX_ALL_CONFIG",E.IGNORE_EDITOR_WITH_ATTRIBUTES="IGNORE_EDITOR_WITH_ATTRIBUTES",E.SHOW_TOOLBAR_ON_EMPTY_INPUT_AREA="SHOW_TOOLBAR_ON_EMPTY_INPUT_AREA",E.MAIN_CONTENT_SCRIPT_FILENAME="MAIN_CONTENT_SCRIPT_FILENAME",E.SPECIAL_INTRODUCTORY_TEASER_ENABLED="SPECIAL_INTRODUCTORY_TEASER_ENABLED",E.TERMS_OF_SERVICE_MODAL_ENABLED="TERMS_OF_SERVICE_MODAL_ENABLED",E.LOLLIPOP_CONFIG="LOLLIPOP_CONFIG"}(E||(E={}));const _={[E.CHROME_EXTENSION_ID]:"oldceeleldhonbafppcapldpdifcinji",[E.EXTN_PREFIX]:"lt",[E.COLORS_GRAMMAR]:{UNDERLINE:"#f2b24c",SELECTED_UNDERLINE:"#f2b24c",BACKGROUND:"rgba(242,179,77,0.3)",EMPHASIZE:"rgba(241,179,76,0.1)"},[E.COLORS_SPELLING]:{UNDERLINE:"#EB5757",SELECTED_UNDERLINE:"#EB5757",BACKGROUND:"rgba(235,88,88,0.2)",EMPHASIZE:"rgba(239,88,88,0.1)"},[E.COLORS_STYLE]:{UNDERLINE:"#8F7FFF",SELECTED_UNDERLINE:"#8F7FFF",BACKGROUND:"rgba(142,128,255,0.2)",EMPHASIZE:"rgba(138,128,255,0.2)",TITLE:"#5C4CFF"},[E.COLORS_PARAPHRASE]:{UNDERLINE:"#8F7FFF",BACKGROUND:"rgba(142,128,255,0.2)",EMPHASIZE:"rgba(138,128,255,0.2)",TITLE:"#5C4CFF"},[E.COLORS_RECOMMENDATION]:{UNDERLINE:"#80B3E2",SELECTED_UNDERLINE:"#0067C5",BACKGROUND:"rgba(0, 103, 199, 0.16)",EMPHASIZE:"rgba(0, 103, 199, 0.16)"},[E.COLORS_RECOMMENDATION_TEASE]:{UNDERLINE:"#f4c03e",SELECTED_UNDERLINE:"#F2B518",BACKGROUND:"rgba(242,181,24,0.16)",EMPHASIZE:"rgba(242,181,24,0.16)"},[E.SUPPORTED_LANGUAGES]:["ar","ast-es","be-by","br-fr","ca-es","ca-es-valencia","da-dk","de-at","de-ch","de-de","el-gr","en-au","en-ca","en-gb","en-nz","en-us","en-za","eo","es","fa","ga-ie","fr","gl-es","it","ja-jp","km-kh","nl","no","pl-pl","pt-ao","pt-br","pt-mz","pt-pt","ro-ro","ru-ru","sk-sk","sl-si","sv","ta-in","tl-ph","uk-ua","zh-cn"],[E.CARD_LAYOUT]:{TARGET_BOX_HORIZONTAL_MARGIN:0,TARGET_BOX_VERTICAL_MARGIN:5,HEADER_HEIGHT:36,FOOTER_HEIGHT:36,KEYBOARD_HINT_HEIGHT:60,MIN_HEIGHT_PARAPHRASE:200,MIN_HEIGHT_TOOLBOX:230,MAX_HEIGHT_TOOLBOX:372},[E.INSTALLED_ATTRIBUTE]:"data-lt-installed",[E.GDOCS_ATTRIBUTE]:"data-lt-site",[E.TWEAKS_ATTRIBUTE]:"data-lt-tweaks",[E.TMP_ID_ATTRIBUTE]:"data-lt-tmp-id",[E.AI_RULE_ID_REGEX]:/^(QB|AI)_/,[E.VALID_START_SENTENCE_REGEX]:"[¿¡(@]",[E.VALID_END_SENTENCE_REGEX]:"[?!.,)…:;‽]",[E.MULTI_SENTENCE_SELECTION_FOR_PARAPHRASE_ALLOWED]:!1,[E.MAX_TEXT_LENGTH_ALLOWED_FOR_PAGELESS]:Number.MAX_SAFE_INTEGER,[E.MAX_TEXT_LENGTH_ALLOWED]:1e4,[E.SELECTED_UNDERLINE_THICKNESS]:2,[E.BULLET_POINT_PARSING_PREFIX]:"• ",[E.TOOLBAR_SIZE]:{width:20,height:20},[E.FIX_ALL_CONFIG]:{FIX_GC_ERRORS:!0,FIX_RECOMMENDATIONS:!1,FIX_STYLE_ERRORS:!1},[E.IGNORE_EDITOR_WITH_ATTRIBUTES]:["spellcheck"],[E.SHOW_TOOLBAR_ON_EMPTY_INPUT_AREA]:!1,[E.MAIN_CONTENT_SCRIPT_FILENAME]:"/content.js",[E.SPECIAL_INTRODUCTORY_TEASER_ENABLED]:!0,[E.TERMS_OF_SERVICE_MODAL_ENABLED]:!0,[E.LOLLIPOP_CONFIG]:{LOLLIPOP_FREEZE_STATE_COLOR:"purple",TOOLBOX_CSS_PATH:"/content/styles/toolbox.css",LOLLIPOP_CSS_PATH:"/content/styles/lollipop.css",ONBOARDING_IMAGE_PATH:"/assets/images/toolbox/lollipop-onboarding-lt.svg",ONBOARDING_BORDER_RADIUS:"5px",LOLLIPOP_CIRCLE_IMAGE_PATH:"/assets/images/toolbox/lollipop-icon.svg",SUPPORTS_DARK_MODE:!0}};class T{constructor(){this.extnConfig=_}static getInstance(){return this.instance||self._qb_lt_config||(this.instance=new T,self._qb_lt_config=this.instance),this.instance||self._qb_lt_config}get(E){return this.extnConfig[E]}set(E,_){this.extnConfig[E]=_}setAll(E){this.extnConfig=E}getAll(){return this.extnConfig}}const A=T.getInstance();!async function(){const _="chrome"in self?self.chrome:browser,T=async()=>{await import(_.runtime.getURL(A.get(E.MAIN_CONTENT_SCRIPT_FILENAME)))},R=(E,_=0)=>!(!E||_>=10)&&(!!("isContentEditable"in E&&E.isContentEditable||"TEXTAREA"===E.nodeName)||!!E.shadowRoot?.activeElement&&R(E.shadowRoot.activeElement,_+1));self.location!==self.top?.location||"http://www.w3.org/2000/svg"===document.documentElement.namespaceURI?(await new Promise((_=>{const T=()=>setTimeout(O,1e3),O=()=>{"on"===document.designMode||location.href.includes("docs.google.com/document/d/")||location.href.includes("docs.google.com/presentation/d/")||R(document.activeElement)||(()=>{const _=Array.from(document.querySelectorAll("iframe"));for(const T of _)try{if(T.contentDocument?.documentElement.hasAttribute(A.get(E.INSTALLED_ATTRIBUTE)))return!0}catch(E){}})()?_():T()};T()})),await T()):await T()}()})();