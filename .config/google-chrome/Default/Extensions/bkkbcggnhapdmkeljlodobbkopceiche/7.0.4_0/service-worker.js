/*! For license information please see service-worker.js.LICENSE.txt */
!function(e){var t={};function __webpack_require__(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,__webpack_require__),n.l=!0,n.exports}__webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.d=function(e,t,r){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(e,t){if(1&t&&(e=__webpack_require__(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(__webpack_require__.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)__webpack_require__.d(r,n,function(t){return e[t]}.bind(null,n));return r},__webpack_require__.n=function(e){var t=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=323)}([function(e,t,r){"use strict";r.d(t,"h",(function(){return l})),r.d(t,"o",(function(){return _})),r.d(t,"t",(function(){return d})),r.d(t,"E",(function(){return h})),r.d(t,"D",(function(){return f})),r.d(t,"m",(function(){return O})),r.d(t,"d",(function(){return p})),r.d(t,"i",(function(){return T})),r.d(t,"K",(function(){return m})),r.d(t,"r",(function(){return S})),r.d(t,"J",(function(){return I})),r.d(t,"s",(function(){return A})),r.d(t,"e",(function(){return b})),r.d(t,"N",(function(){return C})),r.d(t,"x",(function(){return L})),r.d(t,"M",(function(){return N})),r.d(t,"q",(function(){return R})),r.d(t,"A",(function(){return P})),r.d(t,"y",(function(){return v})),r.d(t,"z",(function(){return w})),r.d(t,"p",(function(){return D})),r.d(t,"w",(function(){return k})),r.d(t,"l",(function(){return B})),r.d(t,"u",(function(){return K})),r.d(t,"n",(function(){return U})),r.d(t,"k",(function(){return F})),r.d(t,"G",(function(){return M})),r.d(t,"F",(function(){return x})),r.d(t,"v",(function(){return H})),r.d(t,"c",(function(){return j})),r.d(t,"b",(function(){return V})),r.d(t,"C",(function(){return G})),r.d(t,"j",(function(){return W})),r.d(t,"Q",(function(){return Y})),r.d(t,"P",(function(){return q})),r.d(t,"O",(function(){return z})),r.d(t,"R",(function(){return X})),r.d(t,"I",(function(){return Q})),r.d(t,"f",(function(){return Z})),r.d(t,"B",(function(){return $})),r.d(t,"L",(function(){return J})),r.d(t,"g",(function(){return ee})),r.d(t,"a",(function(){return te})),r.d(t,"H",(function(){return re}));var n=Object.defineProperty,a=Object.defineProperties,o=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,__spreadValues=(e,t)=>{for(var r in t||(t={}))s.call(t,r)&&__defNormalProp(e,r,t[r]);if(i)for(var r of i(t))u.call(t,r)&&__defNormalProp(e,r,t[r]);return e};const l={PAUSED:"paused",SETTINGS:"settings",WHITELIST:"whitelist",SOCIAL_CONTENT_KEYWORDS:"socialContentKeyWords",NUM_OF_BLOCKS:"numOfBlocks",NUM_OF_UNBLOCKS:"numOfUnBlocks",TOTAL_BLOCKS_BY_TAB_ID:"totalBlocksByTabId",TOTAL_BLOCKS_BY_TYPE:"totalBlocksByType",TOTAL_UNBLOCKS_BY_TYPE:"totalUnBlocksByType",BLOCKED_SITES_COUNTER:"counterBlockedSites",UNBLOCKED_SITES_COUNTER:"counterUnBlockedSites",OVERLAY_BLOCKED_LIST:"overlayBlockedList",USER:"user",LAST_USER_UPDATE_DATE:"lastUserUpdateDate",BLOCKED_ELEMENTS:"blockedElements",BLOCKED_ELEMENTS_PROMO:"blockedElementsPromo",BLOCKED_ELEMENTS_COUNT:"blockedElementsCount",DEFAULT_WHITELIST:"defaultWhitelist",POPULAR_SITES_FOR_BLOCK_ELEMENTS:"popularSitesForBlockElements",DEFAULT_WHITELIST_LAST_UPDATE:"defaultWhitelistLastUpdate",POPULAR_SITES_FOR_BLOCK_ELEMENTS_LAST_UPDATE:"popularSitesForBlockElementsLastUpdate",LAST_ALIVE_EVENT_SENT_AT:"lastAliveEventSentAt",AD_BLOCKING:"adBlocking",GENERAL_DATA:"generalData",PROMO_COUPON:"promoCoupon",WHATS_NEW:"whatsNew",DEFAULT_FACEBOOK_CONFIG:"facebookConfig",DEFAULT_SEGMENT_CONFIG:"segmentConfig",PUSH_NOTIFICATIONS_BLOCKER_PROMO:"pushNotificationBlockerPromo",RATING_STAR_CLICK:"ratingStarClick",RATING_US_MODAL:"ratingUsModal",FONT_STYLE:"fontStyle",RDID:"randid",FIRST_POPUP_BLOCK:"isFirstBlockAdds",PIN_TASKBAR_DATA:"pinTaskbarData",SPECIAL_OFFER_MODAL:"specialOfferModal",INSTALL_SOURCE:"installSource",REFRESH_MODAL:"refreshModal",BADGE_STATES:"badgeStates",INSTALL_EVENT_SENT:"installEventSent",HIDE_TRACKER_HOOK:"hideTrackerHook",TRACKER_HOOK_LAST_TIME_CLOSED:"trackerHookLastTimeClosed",HIDE_OPT_IN_HOOK:"hideOptInHook",HIDE_CONTENT_HOOK:"hideContentHook",GLOBAL_HIDE_PREMIUM_HOOKS:"globalHidePremiumHooks",OPT:"opt",ANALYTICS_EVENT_SAMPLE_CONFIG:"analyticsEventSampleConfig",ANALYTICS_EVENT_SAMPLE_CONFIG_LAST_SYNCED:"analyticsEventSampleConfigLastSynced",ANALYTICS_EVENT_SAMPLE_INFO:"analyticsEventSampleInfo",AB_TESTS_CONFIG:"abtestsConfig",AB_TESTS_CONFIG_LAST_SYNCED:"abtestsConfigLastSynced"},_={CATEGORIES:{OPTIONS:"Options_menu",MAIN_MENU:"Menu",CHECKBOX:"Checkbox",CTA:"Button CTA",NAVBAR:"Navigation bar",MISSING:"Missing Ad",NOTIFICATION:"Notification",RATING:"Rating",EXTENSION:"Extension",REPORTS:"Reports",BLOCK_ELEMENT:"Block Element",COOKIE_CRUMBLER:"Cookie Crumbler",INSITE_NOTIFICATIONS:"In-site Notifications"},ACTIONS:{CLICK:"Click",VIEWED:"Viewed",DAILY_BLOCKS:"Popups blocked per day",BLOCKED_ELEMENT_SITE:"Blocked element site URL"}},d={GA_EVENT:"trackEvent",ADD_BADGE_STATE:"addBadgeState",REMOVE_BADGE_STATE:"removeBadgeState",UPDATE_COUNTS:"updateBlockCounts",CREATE_CONTEXT_MENUS:"createIconContextMenu",SEND_ANALYTICS_EVENT:"sendAnalyticsEvent",SYNC_EXTENSION_ANALYTICS_DATA:"syncExtensionAnalyticsData",KEEN_IO:"KeenIO",ALLOW_ALWAYS:"allowAlways",RESTORE_BLOCKING:"restoreBlocking",REQUEST_TAB_URL:"requestTabUrl",REQUEST_CURRENT_TAB:"requestCurrentTab",OPEN_URL:"openUrl",UPDATE_RATING:"update-rating",GET_IS_RATE_US_SHOULD_BE_DISPLAYED:"get-is-rate-us-should-be-displayed",GET_USER:"getUser",UPDATE_USER_INFO:"updateUserInfo",SUBSCRIPTION_SUCCESS:"subscription-success",LOGIN:"login",LOGOUT:"logout",ON_LOGOUT:"on-logout",START_BLOCKED_ELEMENTS:"start-blocked-elements",MANUAL_REMOVE_OVERLAY:"manual-remove-overlay",ADD_UNBLOCK_ALL_ELEMENTS_MENU:"add-unblock-all-elements-menu",REMOVE_UNBLOCK_ALL_ELEMENTS_MENU:"remove-unblock-all-elements-menu",UNBLOCK_ALL_ELEMENTS:"unblock-all-elements",GET_DEFAULT_WHITELIST:"get-default-whitelist",GET_POPULAR_SITES_FOR_BLOCK_ELEMENTS:"get-popular-sites-for-block-elements",INSERT_COOKIE_FILTERS:"insert-cookie-filters",ACTIVATE_CC_OR_SHOW_PROMO:"activate-cc-or-show-promo",SHOW_COOKIE_CRUMBLER_HOOK:"show-cookie-crumbler-hook",HIDE_COOKIE_CRUMBLER_PROMO:"hide-cookie-crumbler-promo",SHOW_TRIAL_PROMO:"show-trial-promo",CHECK_PROMO_MESSAGE:"check-promo-message",SHOW_COUPON_MESSAGE:"show-coupon-message",OPT_IN_AGREE:"opt-in-agree",OPT_IN_AGREE_NO_REMOTE_UPDATE:"opt-in-agree-no-remote-update",OPT_IN_DISAGREE:"opt-in-disagree",SEND_ALIVE_EVENT:"send-alive-event",HIDE_AD_ELEMENT:"hide-ad-element",COUNT_AD_ELEMENT:"count-ad-element",UPDATE_SOCIAL_BLOCKER_CONFIG:"update-social-blocker-config",UPDATE_SEGMENT_DATA:"update-segment-data",UPDATE_BLOCK_STAT:"update-block-stat",UPDATE_UNBLOCK_STAT:"update-unblock-stat",UPDATE_BLOCK_COUNT:"update-block-count",UPDATE_UNBLOCK_COUNT:"update-unblock-count",COUNT_COOKIE_MESSAGES:"count-cookie-messages",TOGGLE_PUSH_NOTIFICATIONS_BLOCKING:"toggle-push-notification-blocking",INJECT_FONTS:"inject-font",FETCH_SETTINGS:"fetch-settings",UPDATE_REMOTE_SETTINGS:"update-remote-settings",UPDATE_REMOTE_AND_LOCAL_SETTINGS:"update-remote-and-local-settings",REQUEST_TRIAL_STATUS:"request-trial-status",EXTENSION_IS_PINNED:"extension-is-pinned",REQUEST_EXTENSION_ID:"request-extension-id",UPDATE_EXTENSION_ID:"update-extension-id",UPDATE_SCRIPT_BLOCKERS_STATE:"update-script-blockers-state",SETTINGS_CHANGED:"settings-changed",UPDATE_SETTINGS:"update-settings",EXTENSION_IS_ALLOWED_INCOGNITO:"extension-is-allowed-incognito",GET_ALL_EXTENSION_PERMISSIONS_GRANTED:"get-all-extension-permissions-granted",REQUEST_OPTIONAL_PERMISSIONS:"request-optional-permissions",UPDATE_SOCIAL_CONTENT_KEYWORDS:"update-social-content-keywords",ON_EXTENSION_ENABLED_STATE_UPDATED:"extension-enabled-state-updated",REQUEST_INSTALL_SOURCE:"request-install-source",GET_ALL_FEATURES_FLAGS:"get-all-features-flags",GET_ALL_FEATURES_FLAGS_ASYNC:"get-all-features-flags-async",GET_SETTINGS:"get-settings",GET_EXTENSION_INFO:"get-extension-info",SETTINGS_CHANGED_IN_EXTENSION:"settings-changed-in-extension",SETTINGS_CHANGED_IN_WEBAPP:"settings-changed-in-webapp",POST_MESSAGE:"post-message",ON_EXTENSION_INFO_UPDATED:"on-extension-info-updated",OPEN_EXTENSION_CHECKOUT_MODAL:"open-extension-checkout-modal",CLOSE_EXTENSION_CHECKOUT_MODAL:"close-extension-checkout-modal",PAYMENT_SUCCESS_PAGE_SETTINGS_CLICK:"payment-success-page-settings-click",UPDATE_PREMIUM_SETTING_TOGGLE_VALUE:"update-premium-setting-toggle-value",CLOSE_TRACKER_HOOK:"close-tracker-hook",HIDE_TRACKER_HOOK:"hide-tracker-hook",TMP_HIDE_TRACKER_HOOK:"tmp-hide-tracker-hook",HIDE_OPT_IN_HOOK:"hide-opt-in-hook",UPDATE_BLOCK_HOOKS:"update-block-hooks",GET_BLOCK_HOOKS:"get-block-hooks",GET_EXTENSION_STATUS:"get-extension-status",UPDATE_EXTENSION_STATUS:"update-extension-status",NOTIFY_EXTENSION_ON_SETTINGS_CHANGE:"notify-extension-on-settings-change",GET_TOTAL_BLOCKED_ITEMS:"get-total-blocked-items",SEND_TOTAL_BLOCKED_ITEMS:"send-total-blocked-items",REDO_LAST_BLOCKED_ITEMS:"redo-last-blocked-items",HIDE_HOOKS:"hide-hooks",REMOVE_ALL_TRACKER_HOOKS:"remove-all-tracker-hooks",IS_CANVAS_SPONSORED:"is-canvas-sponsored",INCREMENT_TRACKER_BLOCKER_SESSION_COUNT:"incrementTrackerBlockerSessionCount",WORKER_BLOCKED_POPUP:"worker-blocked-popup",REDO_LAST_BLOCKED_ITEMS_WORKER:"redo-last-blocked-items-worker"},h={UPDATE_WHITELIST:"pb-update-whitelist",DISABLE:"inject-script-disable",POPUP_BLOCKED:"blockedWindow",WHITELIST_MATCH:"inject-script-whitelist-match"},f=(E=__spreadValues({},{NO_USER_INTERACTION:"NO_USER_INTERACTION",CAPTURING_ELEMENT:"CAPTURING_ELEMENT",OVERLAYISH:"OVERLAYISH",FULL_SCREEN_WHILE_OPEN:"FULL_SCREEN_WHILE_OPEN",BLUR_CALLED:"BLUR_CALLED",CLICK_ON_ATAG:"CLICK_ON_ATAG",DISPATCH_ON_ATAG:"DISPATCH_ON_ATAG",ARTIFICIAL_MOUSE_CLICK:"ARTIFICIAL_MOUSE_CLICK"}),a(E,o({BLACKLIST:"BLACKLIST"})));var E;const O=__spreadValues({POPUPS:"popups",OVERLAYS:"overlays",PUSH_NOTIFICATION:"pushNotification",SOCIAL_CONTENT_BLOCKER:"socialContentBlocker"},{COOKIE_CRUMBLER:"cookieCrumbler",FACEBOOK:"facebookAdds",ADS_BLOCKER:"adsBlocker",YOUTUBE_BLOCKER:"youtubeBlocker",TRACKERS_BLOCKER:"trackersBlocker"}),p={COOKIE:"images/cookie-animation.json",FACEBOOK_END:"images/endTrialFacebookAnimation.json",PIN:"images/pinAnimation.json"},T={PARENT:{id:"parentContextMenu",title:"Poperblocker",contexts:["page","frame","selection","link","editable","image","video","audio"]},OVERLAY:{id:"removeOverlay",title:"Remove overlay",contexts:["page","frame","selection","link","editable","image","video","audio"]},BLOCK_ELEMENT:{id:"blockElement",title:"Hide Element",contexts:["page","frame","selection","link","editable","image","video","audio"]},UNBLOCK_ALL_ELEMENTS:{id:"unblockAllElement",title:"Unblock All Elements",contexts:["page","frame","selection","link","editable","image","video","audio"]}},m={BLOCK_ELEMENT_ROOT:"pb-block-element-root",LIMIT_NOTIFICATION_ROOT:"pb-limit-notification-root",PROMO_ROOT:"pb-feature-promo-root",BLOCKER_ELEMENT_ID:"pb-feature-elementsblocker-root",COOKIE_PROMO_ROOT:"pb-cookie-promo-root",MESSAGE_NOTIFICATION_ROOT:"pb-message-notification-root",ADS_HOOK_ROOT:"pb-ads-hook-root",CHECKOUT_MODAL:"pb-checkout-modal",TRACKER_BLOCKER_HOOK_ROOT:"pb-tracker-blocker-root",OPT_IN_HOOK_ROOT:"opt-in-hook-root"},S={CHROME_EXTENTION_MANAGER:"chrome://extensions",FF_EXTENTION_MANAGER:"about:addons",WEB_APP:"https://app.pbapi.xyz",CHECKOUT_YEARLY_PLAN:"https://app.pbapi.xyz/checkout?selectedPlan=Yearly",ANALYTICS_APP:"https://analytics.poperblocker.com",VALID_MESSAGE_DOMAINS:"poperblocker.com,pbapi.xyz".split(","),THANK_YOU_PAGE_CH:"https://poperblocker.com/welcome",THANK_YOU_PAGE_FF:"https://poperblocker.com/welcome-firefox",PRIVACY_POLICY_CH:"https://poperblocker.com/privacy/",PRIVACY_POLICY_FF:"https://addons.mozilla.org/en-US/firefox/addon/poper-blocker-pop-up-blocker/privacy/",UNINSTALL_PAGE_CH:"https://poperblocker.com/uninstall/?",UNINSTALL_PAGE_FF:"https://poperblocker.com/uninstall-firefox/?",FEEDBACK_PAGE:"https://poperblocker.com/feedback.html?from=ext",CONTACT_PAGE:"https://poperblocker.com/contact-form.html",CONTRIBUTE_PAGE:"https://poperblocker.com/contribute?utm_source=Extension_Popup",GOOGLE_FORM:"https://forms.gle/DfoB6hyd7MFtDPP8A",APPSTORE_CH:"https://chrome.google.com/webstore/detail/pop-up-blocker-for-chrome/bkkbcggnhapdmkeljlodobbkopceiche",APPSTORE_FF:"https://addons.mozilla.org/en-US/firefox/addon/poper-blocker-pop-up-blocker/",REVIEW_CH:"https://chromewebstore.google.com/detail/%D7%97%D7%95%D7%A1%D7%9D-%D7%A4%D7%95%D7%A4-%D7%90%D7%A4%D7%99%D7%9D-%D7%9C%D7%9B%D7%A8%D7%95%D7%9D-poper/bkkbcggnhapdmkeljlodobbkopceiche/reviews",REVIEW_FF:"https://addons.mozilla.org/en-US/firefox/addon/poper-blocker-pop-up-blocker/reviews/add",REVIEW_EDGE:"https://microsoftedge.microsoft.com/addons/detail/pop-up-blocker-for-edge%E2%84%A2-/baplddocidbpmmneofgnhkjojmibmpck",TWITTER_SHARE:"https://twitter.com/intent/tweet?hashtags=popups&original_referer=https%3A%2F%2Fpoperblocker.com%3Fref%3Dfb_pp_share&related=socialmediahats&text=I'm%20using%20poper%20blocker%20to%20enjoy%20a%20popup%20free%20browsing%20experience%20pic.twitter.com%2FniqVgqfmAw&url=https%3A%2F%2Fgoo.gl%2FryoaEn&via=poper_blocker",FACEBOOK_SHARE:"https://www.facebook.com/dialog/share?app_id=1911035589168170&display=popup&href=https%3A%2F%2Fpoperblocker.com%3Fref%3Dfb_pp_share%3Fhl%3Den&hashtag=%23For_No_More_Popups_Click_Below",RATE_US_FORM:"https://docs.google.com/forms/d/e/1FAIpQLScqaL8rpA8H-9Qa5WiLpbYXO_Gzlg33AfS0O4qhgQZBglpjtw/formResponse",REPORT_MISSED_POPUP_FORM:"https://docs.google.com/forms/d/e/1FAIpQLSfNBVyVG0f9IWCO_119MGnAZxwZDrb8Yo_X2CxKL9f3MHN6tw/formResponse",CHECKOUT_IFRAME_URL:"https://app.pbapi.xyz/checkout-iframe"},I={AFTER:5,EVERY:100},y=S.WEB_APP+"/api/v1",g=""+S.ANALYTICS_APP,A="?modal=login",b={OVERLAY_CHECK:"https://api2.poperblocker.com/view/update",ANALYTICS_SEND_EVENT:g+"/event",GET_USER:y+"/user",GET_USER_SEGMENT:y+"/segment",LOGOUT:y+"/auth/logout",MANAGE_SUBSCRIPTION:y+"/subscriptions",ANALYTIC_INFO:y+"/analytics/sync",WHITELIST:y+"/whitelist",BLACKLIST:y+"/blacklist",POPULAR_SITES_FOR_BLOCK_ELEMENTS:y+"/mostPopularSitesForBlockElements",PROMO_COUPON:y+"/promoCoupon",SETTINGS:y+"/settings",REFRESH:y+"/auth/refresh",SOCIALBLOCKER_CONFIG:y+"/socialblocker/config",ADS_BLOCKER_CONFIG:y+"/adsblocker/config",TRACKERS_BLOCKER_CONFIG:y+"/trackersblocker/config",YOUTUBE_BLOCKER_CONFIG:y+"/youtubeblocker/config",GROWTHBOOK:y+"/growthbook",COOKIE_CRUMBLER:y+"/cookieCrumbler",ALIVE:y+"/alive",CONFIG:y+"/extensionConfig",ANALYTICS_EVENT_SAMPLE_CONFIG:y+"/analyticsEventSampleConfig",VERSION:y+"/version"},C=288e5,L=864e5,N=5184e6,R=36e5,P=1,v=60*P,w=36e5,D=12*v,k=24*v,B=3,K=41,U="https://fonts.googleapis.com/css2?family=Mulish:wght@200;300;400;500;600;700;800;900&display=swa",F={poper20:"poper20",poper30:"poper30"},M=5,x=5,H=21,j={ANALYTICS_INFO_KEY:"ANALYTICS_INFO",ANALYTICS_PLATFORM:"Extension",ANALYTICS_PRODUCT:"PoperBlocker",ANALYTICS_RESOURCE_TYPES:{PAID:"PAID",ORGANIC:"ORGANIC"},ANALYTICS_EVENT_TYPES:{EXTENSION_INSTALL:"EXTENSION_INSTALL",EXTENSION_UNINSTALL:"EXTENSION_UNINSTALL",EXTENSION_UPGRADE:"EXTENSION_UPGRADE",EXTENSION_INSTALL_GENERAL:"EXTENSION_INSTALL_GENERAL",EXTENSION_OPT_IN_VIEWED:"EXTENSION_OPT_IN_VIEWED",EXTENSION_OPT_IN_CLICKED_AGREE:"EXTENSION_OPT_IN_CLICKED_AGREE",EXTENSION_OPT_OUT_CLICKED_AGREE:"EXTENSION_OPT_OUT_CLICKED_AGREE",POPUP_BLOCKED:"POPUP_BLOCKED",ALLOW_POPUPS:"ALLOW_POPUPS",DID_WE_MISS_ONE:"DID_WE_MISS_ONE",ELEMENT_BLOCKED:"ELEMENT_BLOCKED",OVERLAY_BLOCKED:"OVERLAY_BLOCKED",OVERLAY_DETECTED:"OVERLAY_DETECTED",REMOVE_OVERLAY_FOREVER:"REMOVE_OVERLAY_FOREVER",UNDO_OVERLAY_REMOVAL:"UNDO_OVERLAY_REMOVAL",ELEMENT_BLOCKED_UNDO:"ELEMENT_BLOCKED_UNDO",ELEMENT_BLOCKED_SAVE:"ELEMENT_BLOCKED_SAVE",BLOCK_ELEMENT_PROMOTION_NOTIFICATION_VIEW:"BLOCK_ELEMENT_PROMOTION_NOTIFICATION_VIEW",BLOCK_ELEMENT_FREE_BLOCKS:"BLOCK_ELEMENT_FREE_BLOCKS",BLOCK_ELEMENT_NO_BLOCKS_VIEW:"BLOCK_ELEMENT_NO_BLOCKS_VIEW",BLOCK_ELEMENT_UNBLOCK_ELEMENTS:"BLOCK_ELEMENT_UNBLOCK_ELEMENTS",WHITELIST_ADD:"WHITELIST_ADD",WHITELIST_REMOVE:"WHITELIST_REMOVE",SETTINGS_PAGE_VIEW:"SETTINGS_PAGE_VIEW",COOKIE_CRUMBLER_PROMOTION_NOTIFICATION_VIEW:"COOKIE_CRUMBLER_PROMOTION_NOTIFICATION_VIEW",INSITE_NOTIFICATION_PROMOTION_NOTIFICATION_VIEW:"INSITE_NOTIFICATION_PROMOTION_NOTIFICATION_VIEW",COOKIE_CRUMBLER_TRIAL_START:"COOKIE_CRUMBLER_TRIAL_START",COOKIE_CRUMBLER_HIDE_FOREVER:"COOKIE_CRUMBLER_HIDE_FOREVER",COOKIE_CRUMBLER_IN_TRIAL:"COOKIE_CRUMBLER_IN_TRIAL",COOKIE_CRUMBLER_END_OF_TRIAL:"COOKIE_CRUMBLER_END_OF_TRIAL",COOKIE_CRUMBLER_IN_TRIAL_CLICK:"COOKIE_CRUMBLER_IN_TRIAL_CLICK",COOKIE_CRUMBLER_USE_CASE_CLOSE:"COOKIE_CRUMBLER_USE_CASE_CLOSE",COOKIE_CRUMBLER_TRIAL_PROMOTION_NOTIFICATION_CLICK:"COOKIE_CRUMBLER_TRIAL_PROMOTION_NOTIFICATION_CLICK",COOKIE_CRUMBLER_USE_CASE_VIEW:"COOKIE_CRUMBLER_USE_CASE_VIEW",COOKIE_CRUMBLER_USE_CASE_CLICK:"COOKIE_CRUMBLER_USE_CASE_CLICK",ALIVE:"ALIVE",SOCIAL_BLOCKER_TRIAL_PROMOTION_NOTIFICATION_CLICK:"SOCIAL_BLOCKER_TRIAL_PROMOTION_NOTIFICATION_CLICK",SOCIAL_BLOCKER_REMOVE_ADS_FOR_GOOD_CLICK:"SOCIAL_BLOCKER_REMOVE_ADS_FOR_GOOD_CLICK",SOCIAL_BLOCKER_TRIAL_OVER_PROMOTION_VIEW:"SOCIAL_BLOCKER_TRIAL_OVER_PROMOTION_VIEW",IN_PRODUCT_PROMOTION_DIALOG_CLICK:"IN_PRODUCT_PROMOTION_DIALOG_CLICK",IN_PRODUCT_PROMOTION_DIALOG_VIEW:"IN_PRODUCT_PROMOTION_DIALOG_VIEW",IN_SITE_PUSH_NOTIFICATION_ALLOW_PERMISSIONS:"IN_SITE_PUSH_NOTIFICATION_ALLOW_PERMISSIONS",IN_SITE_PUSH_NOTIFICATION_DENY_PERMISSIONS:"IN_SITE_PUSH_NOTIFICATION_DENY_PERMISSIONS",IN_SITE_PUSH_NOTIFICATION_ON:"IN_SITE_PUSH_NOTIFICATION_ON",IN_SITE_PUSH_NOTIFICATION_OFF:"IN_SITE_PUSH_NOTIFICATION_OFF",BLOCK_ALL_DISTRACTIONS_BUTTON_CLICK:"BLOCK_ALL_DISTRACTIONS_BUTTON_CLICK",EXPAND_NOT_BLOCKED_DROPDOWN_CLICK:"EXPAND_NOT_BLOCKED_DROPDOWN_CLICK",RATE_US_DIALOG_VIEW:"RATE_US_DIALOG_VIEW",RATE_US_DIALOG_CLICK:"RATE_US_DIALOG_CLICK",RATE_US_DIALOG_RESULT_VIEW:"RATE_US_DIALOG_RESULT_VIEW",SEGMENTATION_PROMOTION_VIEW:"SEGMENTATION_PROMOTION_VIEW",SEGMENTATION_PROMOTION_CLICK:"SEGMENTATION_PROMOTION_CLICK",ADBLOCKER_PROMOTION_VIEW:"ADBLOCKER_PROMOTION_VIEW",ADBLOCKER_PROMOTION_CLICK:"ADBLOCKER_PROMOTION_CLICK",MONETIZATION_NOIFICATION_VIEW:"MONETIZATION_NOIFICATION_VIEW",MONETIZATION_NOIFICATION_CTA_CLICK:"MONETIZATION_NOIFICATION_CTA_CLICK",MONETIZATION_NOIFICATION_COPY_CODE_CLICK:"MONETIZATION_NOIFICATION_COPY_CODE_CLICK",SOCIAL_BLOCKER_FEED_PROMOTION_VIEW:"SOCIAL_BLOCKER_FEED_PROMOTION_VIEW",SOCIAL_BLOCKER_FEED_AD_DETECTED:"SOCIAL_BLOCKER_FEED_AD_DETECTED",SOCIAL_BLOCKER_FEED_PROMOTION_OPEN:"SOCIAL_BLOCKER_FEED_PROMOTION_OPEN",SOCIAL_BLOCKER_INTRIAL_PROMOTION_VIEW:"SOCIAL_BLOCKER_INTRIAL_PROMOTION_VIEW",SOCIAL_BLOCKER_FEED_PROMOTION_START_TRIAL:"SOCIAL_BLOCKER_FEED_PROMOTION_START_TRIAL",FIRST_POPUP_BLOCKED_NOTIFICATION_VIEW:"FIRST_POPUP_BLOCKED_NOTIFICATION_VIEW",FIRST_POPUP_BLOCKED_NOTIFICATION_CLICKED:"FIRST_POPUP_BLOCKED_NOTIFICATION_CLICKED",CLICK_SOCIAL_BLOCKER_IN_FEED_BANNER_ON_TRIAL:"CLICK_SOCIAL_BLOCKER_IN_FEED_BANNER_ON_TRIAL",CLICK_SOCIAL_BLOCKER_PROMOTION_DISCOUNT:"CLICK_SOCIAL_BLOCKER_PROMOTION_DISCOUNT",CLICK_COOKIE_PROMOTION_DISCOUNT:"CLICK_COOKIE_PROMOTION_DISCOUNT",PIN_TASKBAR_POPUP_VIEW:"PIN_TASKBAR_POPUP_VIEW",PIN_TASKBAR_POPUP_DISMISS_CLICK:"PIN_TASKBAR_POPUP_DISMISS_CLICK",TRIAL_MIGRATION:"TRIAL_MIGRATION",YOUTUBE_VIDEO_HOOK_SHOW:"YOUTUBE_VIDEOHOOK_SHOW",YOUTUBE_VIDEO_HOOK_SHOW_POSTTRIAL:"YOUTUBE_VIDEOHOOK_SHOW_POSTTRIAL",YOUTUBE_VIDEO_HOOK_CLICK:"YOUTUBE_VIDEOHOOK_CLICK",YOUTUBE_VIDEO_HOOK_CLICK_POSTTRIAL:"YOUTUBE_VIDEOHOOK_CLICK_POSTTRIAL",YOUTUBE_VIDEO_HOOK_DISMISS:"YOUTUBE_VIDEOHOOK_DISMISS",YOUTUBE_VIDEO_HOOK_DISMISS_POSTTRIAL:"YOUTUBE_VIDEOHOOK_DISMISS_POSTTRIAL",ADSBLOCKER_HOOK_SHOW:"ADSBLOCKER_HOOK_SHOW",ADSBLOCKER_HOOK_SHOW_POSTTRIAL:"ADSBLOCKER_HOOK_SHOW_POSTTRIAL",ADSBLOCKER_HOOK_CLICK:"ADSBLOCKER_HOOK_CLICK",ADSBLOCKER_HOOK_CLICK_POSTTRIAL:"ADSBLOCKER_HOOK_CLICK_POSTTRIAL",ADSBLOCKER_HOOK_DISMISS:"ADSBLOCKER_HOOK_DISMISS",ADSBLOCKER_HOOK_DISMISS_POSTTRIAL:"ADSBLOCKER_HOOK_DISMISS_POSTTRIAL",RATE_US_VIEW:"RATE_US_VIEW",RATE_US_POST_FEEDBACK_VIEW:"RATE_US_POST_FEEDBACK_VIEW",RATE_US_CLICK_DISMISS:"RATE_US_CLICK_DISMISS",RATE_US_CLICK_SUBMIT:"RATE_US_CLICK_SUBMIT",RATE_US_CLICK_STAR:"RATE_US_CLICK_STAR",RATE_US_CLICK_DISMISS_FEEDBACK:"RATE_US_CLICK_DISMISS_FEEDBACK",SOCIAL_CONTENT_INFEED_BANER_VIEW:"SOCIAL_CONTENT_INFEED_BANER_VIEW",SOCIAL_CONTENT_SHOW_POST_CLICK:"SOCIAL_CONTENT_SHOW_POST_CLICK",PANEL_ADREFRESH_CLICK_DISMISS:"PANEL_ADREFRESH_CLICK_DISMISS",PANEL_ADREFRESH_VIEW:"PANEL_ADREFRESH_VIEW",PANEL_ADREFRESH_CLICK_REFRESH:"PANEL_ADREFRESH_CLICK_REFRESH",PANEL_ADREFRESH_CLICK_GOPRO:"PANEL_ADREFRESH_CLICK_GOPRO",PANEL_ADREFRESH_PRO_VIEW:"PANEL_ADREFRESH_PRO_VIEW",PANEL_ADREFRESH_PRO_CLICK_REFRESH:"PANEL_ADREFRESH_PRO_CLICK_REFRESH",PANEL_SOCIAL_CONTENT_CLICK_SETUP:"PANEL_SOCIAL_CONTENT_CLICK_SETUP",PANEL_SUBEXP_DIALOG_VIEW:"PANEL_SUBEXP_DIALOG_VIEW",PANEL_SUBEXP_DIALOG_DISMISS_CLICK:"PANEL_SUBEXP_DIALOG_DISMISS_CLICK",PANEL_SUBEXP_DIALOG_RENEW_CLICK:"PANEL_SUBEXP_DIALOG_RENEW_CLICK",PANEL_SUBEXP_DIALOG_REMINDER_CLICK:"PANEL_SUBEXP_DIALOG_REMINDER_CLICK",PANEL_EULA_DIALOG_VIEW:"PANEL_EULA_DIALOG_VIEW",PANEL_EULA_DIALOG_CLOSE:"PANEL_EULA_DIALOG_CLOSE",PANEL_EULA_DIALOG_AGREE_CLICK:"PANEL_EULA_DIALOG_AGREE_CLICK",PANEL_EULA_DIALOG_DISAGREE_CLICK:"PANEL_EULA_DIALOG_DISAGREE_CLICK",PANEL_OVERLAY_BANNER_RED_VIEW:"PANEL_OVERLAY_BANNER_RED_VIEW",PANEL_OVERLAY_BANNER_RED_ACTIVATE_CLICK:"PANEL_OVERLAY_BANNER_RED_ACTIVATE_CLICK",TRACKER_BLOCKER_HOOK_DIALOG_VIEW_TEST:"TRACKER_BLOCKER_HOOK_DIALOG_VIEW_TEST",TRACKER_BLOCKER_HOOK_DIALOG_CLICK_CLOSE_TEST:"TRACKER_BLOCKER_HOOK_DIALOG_CLICK_CLOSE_TEST",TRACKER_BLOCKER_HOOK_DIALOG_CLICK_NEVER_SHOW_AGAIN_TEST:"TRACKER_BLOCKER_HOOK_DIALOG_CLICK_NEVER_SHOW_AGAIN_TEST",TRACKER_BLOCKER_HOOK_DIALOG_CLICK_CTA_TEST:"TRACKER_BLOCKER_HOOK_DIALOG_CLICK_CTA_TEST",OPT_IN_HOOK_DIALOG_VIEW_CONTROL:"OPT_IN_HOOK_DIALOG_VIEW_CONTROL",OPT_IN_HOOK_DIALOG_CLICK_CLOSE_CONTROL:"OPT_IN_HOOK_DIALOG_CLICK_CLOSE_CONTROL",OPT_IN_HOOK_DIALOG_CLICK_CTA_CONTROL:"OPT_IN_HOOK_DIALOG_CLICK_CTA_CONTROL",OPT_IN_HOOK_DIALOG_VIEW_TEST:"OPT_IN_HOOK_DIALOG_VIEW_TEST",OPT_IN_HOOK_DIALOG_CLICK_CLOSE_TEST:"OPT_IN_HOOK_DIALOG_CLICK_CLOSE_TEST",OPT_IN_HOOK_DIALOG_CLICK_CTA_TEST:"OPT_IN_HOOK_DIALOG_CLICK_CTA_TEST",CONTENT_BLOCKER_HOOK_CLICK_CLOSE:"CONTENT_BLOCKER_HOOK_CLICK_CLOSE",CONTENT_BLOCKER_HOOK_CLICK_CTA:"CONTENT_BLOCKER_HOOK_CLICK_CTA",CONTENT_BLOCKER_HOOK_VIEW:"CONTENT_BLOCKER_HOOK_VIEW",PANEL_RECOVER_POPUPS_CTA_CLICK:"PANEL_RECOVER_POPUPS_CTA_CLICK",STOP_SUGGESTIONS:"HOOK_CLICK_STOP_SUGGESTIONS",POP_WHITE_PST_OPEN_1_SRC:"POP_WHITE_PST_OPEN_1_SRC",POP_WHITE_PST_OPEN_1_TRGT:"POP_WHITE_PST_OPEN_1_TRGT",POP_BLOCK_PST_OPEN_1_BLACKLIST:"POP_BLOCK_PST_OPEN_1_BLACKLIST",POPUP_RECOVERED:"POPUP_RECOVERED"},PAGE:{PANEL:"PANEL",PANEL_SETTINGS_TAB:"PANEL_SETTINGS_TAB"},FEATURE:{SCREEN:"SCREEN",WHATS_NEW_CARD:"WHATS_NEW_CARD",WHATS_NEW_CARD_CTA:"WHATS_NEW_CARD_CTA",SPECIAL_OFFER_CARD:"SPECIAL_OFFER_CARD",SPECIAL_OFFER_CARD_PROCTA:"SPECIAL_OFFER_CARD_PROCTA",SPECIAL_OFFER_CARD_REMIND_LATER:"SPECIAL_OFFER_CARD_REMIND_LATER",SPECIAL_OFFER_CARD_X:"SPECIAL_OFFER_CARD_X",EXTENSION_DISABLED_CARD:"EXTENSION_DISABLED_CARD",EXTENSION_DISABLED_CARD_CTA:"EXTENSION_DISABLED_CARD_CTA",HEADER_GO_PRO:"HEADER_GO_PRO",HEADER_MENU:"HEADER_MENU",DROP_MENU_SETTINGS:"DROP_MENU_SETTINGS",DROP_MENU_LOGIN:"DROP_MENU_LOGIN",DROP_MENU_LOGOUT:"DROP_MENU_LOGOUT",DROP_MENU_DISABLE:"DROP_MENU_DISABLE",DROP_MENU_ENABLE:"DROP_MENU_ENABLE",WHITELIST_SITE:"WHITELIST_SITE",HIDE_DISTRACTIONS:"HIDE_DISTRACTIONS",HIDE_DISTRACTIONS_BACK:"HIDE_DISTRACTIONS_BACK",HIDE_DISTRACTIONS_REMOVE_ELEMENT:"HIDE_DISTRACTIONS_REMOVE_ELEMENT",HIDE_DISTRACTIONS_REMOVE_OVERLAY:"HIDE_DISTRACTIONS_REMOVE_OVERLAY",HIDE_DISTRACTIONS_REPORT_MISSED_POPUP:"HIDE_DISTRACTIONS_REPORT_MISSED_POPUP",HIDE_DISTRACTIONS_REPORT_MISSED_POPUP_CONFIRMATION:"HIDE_DISTRACTIONS_REPORT_MISSED_POPUP_CONFIRMATION",STATISTICS_TAB:"STATISTICS_TAB",STATISTICS_TAB_UN_BLOCKED:"STATISTICS_TAB_UN_BLOCKED",STATISTICS_TAB_BLOCKED:"STATISTICS_TAB_BLOCKED",STATISTICS_TAB_GO_PRO_CTA:"STATISTICS_TAB_GO_PRO_CTA",SETTINGS_TAB:"SETTINGS_TAB",POPUPS:"POPUPS",OVERLAYS:"OVERLAYS",COOKIE_CRUMBLER:"COOKIE_CRUMBLER",FACEBOOK:"FACEBOOK",PUSH_NOTIFICATION:"PUSH_NOTIFICATION",ADS_BLOCKER:"ADS_BLOCKER",YOUTUBE_BLOCKER:"YOUTUBE_BLOCKER",ADVANCED_SETTINGS:"ADVANCED_SETTINGS",SOCIAL_CONTENT_BLOCKER:"SOCIAL_CONTENT_BLOCKER",TRACKERS_BLOCKER:"TRACKERS_BLOCKER"},EVENT_TYPE:{VIEW:"VIEW",CLICK:"CLICK",CLOSE:"CLOSE",TOGGLE_ON:"TOGGLE_ON",TOGGLE_OFF:"TOGGLE_OFF",PANEL_SPECIAL_OFFER_X_CLICK:"PANEL_SPECIAL_OFFER_X_CLICK",PANEL_SPECIAL_OFFER_MAYBELATER_CLICK:"PANEL_SPECIAL_OFFER_MAYBELATER_CLICK",PANEL_SPECIAL_OFFER_GOPRO_CLICK:"PANEL_SPECIAL_OFFER_GOPRO_CLICK",PANEL_SPECIAL_OFFER_GOPRO_VIEW:"PANEL_SPECIAL_OFFER_GOPRO_VIEW",TRIAL_MIGRATION:"TRIAL_MIGRATION",START_TRIAL:"START_TRIAL"}},V={SEGMENT_ALARM:"segmentUpdate",TRACKERSBLOCKER_ALARM:"trackersBlockerConfigAlarm",ADSBLOCKER_ALARM:"adsBlockerConfigAlarm",YOUTUBEBLOCKER_ALARM:"youtubeBlockerConfigAlarm",COOKIE_CRUMBLER_ALARM:"cookieCrumblerConfigAlarm",BLACKLIST_SYNC_ALARM:"blacklistSync"},G={CONTENT_SETTINGS:"contentSettings",ALL_URLS:"<all_urls>",BLOCK:"block",ASK:"ask"},W={HIDDEN_PROPERTY:"{display: none !important ; visibility : hidden !important ; opacity : 0 !important}",DISPLAY:"display",VISIBILITY:"visibility",OPACITY:"opacity"},Y="pbYtHANDLED",q="youtube.com",z={HIDE:"hide",CLICK:"click",VIDEO:"video"},X={ADS_HOOK:"10000"},Q={COLORS:{orange:"#ffc866",green:" #2ebd92"}},Z={EXTENSION_OFF:{BadgeColor:"#c53929",TextColor:"#FFFFFF",BadgeIcon:"/images/icon128_disabled.png",InitialText:"OFF"},WHATSNEW:{BadgeColor:"#5B96EE",TextColor:"#FFFFFF",InitialText:"NEW",BadgeIcon:"/images/icon128.png"},OPT_OUT:{BadgeColor:"#D80032",TextColor:"#FFFFFF",InitialText:"!",BadgeIcon:"/images/icon128.png"},STATS_COUNT:{BadgeColor:"#8ab4f8",TextColor:"#FFFFFF",InitialText:"",BadgeIcon:"/images/icon128.png"}},$={PAYMENT_PENDING:0,PAYMENT_RECIEVED:1,FREE_TRIAL:2,PAYMENT_DEFERED:3,CANCELED:4,REFUNDED:5,PAUSED:6},J={REMINDER_INTERVAL:24,REMINDER_TMP_INTERVAL:12,PERIOD_DAYS_TO_DISPLAY:7,FEATURE_ACTIVE_DATE:"2023-09-11 00:00:00"},ee={IFRAME_SOCIAL_HOOK:"IFRAME_SOCIAL_HOOK",IFRAME_COOKIE_HOOK:"IFRAME_COOKIE_HOOK",IFRAME_ADS_HOOK_PREFIX:"IFRAME_ADS_HOOK_",IFRAME_TRACKER_HOOK:"IFRAME_TRACKER_HOOK",EXTENSION_PANEL_SETTINGS_PREFIX:"EXTENSION_PANEL_SETTINGS_",EXTENSION_PANEL_GO_PRO:"EXTENSION_PANEL_GO_PRO",EXTENSION_PANEL_STATS_GO_PRO:"EXTENSION_PANEL_STATS_GO_PRO"},te={OPT_IN_HOOK:"opt-in-hook",SHOW_HOOKS:"show-hooks",POPUP_BLOCKING_V2:"popup-blocking-v2"},re={PreOpen:"PreOpen",PostOpen:"PostOpen"}},function(e,t,r){"use strict";r.d(t,"h",(function(){return l})),r.d(t,"l",(function(){return _})),r.d(t,"o",(function(){return d})),r.d(t,"t",(function(){return h})),r.d(t,"u",(function(){return f})),r.d(t,"v",(function(){return O})),r.d(t,"x",(function(){return p})),r.d(t,"w",(function(){return T})),r.d(t,"k",(function(){return m})),r.d(t,"e",(function(){return S})),r.d(t,"z",(function(){return I})),r.d(t,"n",(function(){return y})),r.d(t,"s",(function(){return b})),r.d(t,"f",(function(){return C})),r.d(t,"C",(function(){return L})),r.d(t,"q",(function(){return N})),r.d(t,"r",(function(){return R})),r.d(t,"p",(function(){return P})),r.d(t,"j",(function(){return v})),r.d(t,"A",(function(){return w})),r.d(t,"m",(function(){return D})),r.d(t,"b",(function(){return k})),r.d(t,"d",(function(){return B})),r.d(t,"c",(function(){return K})),r.d(t,"i",(function(){return U})),r.d(t,"B",(function(){return F})),r.d(t,"g",(function(){return M})),r.d(t,"a",(function(){return x})),r.d(t,"y",(function(){return H}));var n=Object.defineProperty,a=Object.defineProperties,o=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,__spreadValues=(e,t)=>{for(var r in t||(t={}))s.call(t,r)&&__defNormalProp(e,r,t[r]);if(i)for(var r of i(t))u.call(t,r)&&__defNormalProp(e,r,t[r]);return e};const l={PAUSED:"paused",SETTINGS:"settings",WHITELIST:"whitelist",SOCIAL_CONTENT_KEYWORDS:"socialContentKeyWords",NUM_OF_BLOCKS:"numOfBlocks",NUM_OF_UNBLOCKS:"numOfUnBlocks",TOTAL_BLOCKS_BY_TAB_ID:"totalBlocksByTabId",TOTAL_BLOCKS_BY_TYPE:"totalBlocksByType",TOTAL_UNBLOCKS_BY_TYPE:"totalUnBlocksByType",BLOCKED_SITES_COUNTER:"counterBlockedSites",UNBLOCKED_SITES_COUNTER:"counterUnBlockedSites",OVERLAY_BLOCKED_LIST:"overlayBlockedList",USER:"user",LAST_USER_UPDATE_DATE:"lastUserUpdateDate",BLOCKED_ELEMENTS:"blockedElements",BLOCKED_ELEMENTS_PROMO:"blockedElementsPromo",BLOCKED_ELEMENTS_COUNT:"blockedElementsCount",DEFAULT_WHITELIST:"defaultWhitelist",POPULAR_SITES_FOR_BLOCK_ELEMENTS:"popularSitesForBlockElements",DEFAULT_WHITELIST_LAST_UPDATE:"defaultWhitelistLastUpdate",POPULAR_SITES_FOR_BLOCK_ELEMENTS_LAST_UPDATE:"popularSitesForBlockElementsLastUpdate",LAST_ALIVE_EVENT_SENT_AT:"lastAliveEventSentAt",AD_BLOCKING:"adBlocking",GENERAL_DATA:"generalData",PROMO_COUPON:"promoCoupon",WHATS_NEW:"whatsNew",DEFAULT_FACEBOOK_CONFIG:"facebookConfig",DEFAULT_SEGMENT_CONFIG:"segmentConfig",PUSH_NOTIFICATIONS_BLOCKER_PROMO:"pushNotificationBlockerPromo",RATING_STAR_CLICK:"ratingStarClick",RATING_US_MODAL:"ratingUsModal",FONT_STYLE:"fontStyle",RDID:"randid",FIRST_POPUP_BLOCK:"isFirstBlockAdds",PIN_TASKBAR_DATA:"pinTaskbarData",SPECIAL_OFFER_MODAL:"specialOfferModal",INSTALL_SOURCE:"installSource",REFRESH_MODAL:"refreshModal",BADGE_STATES:"badgeStates",INSTALL_EVENT_SENT:"installEventSent",HIDE_TRACKER_HOOK:"hideTrackerHook",TRACKER_HOOK_LAST_TIME_CLOSED:"trackerHookLastTimeClosed",HIDE_OPT_IN_HOOK:"hideOptInHook",HIDE_CONTENT_HOOK:"hideContentHook",GLOBAL_HIDE_PREMIUM_HOOKS:"globalHidePremiumHooks",OPT:"opt",ANALYTICS_EVENT_SAMPLE_CONFIG:"analyticsEventSampleConfig",ANALYTICS_EVENT_SAMPLE_CONFIG_LAST_SYNCED:"analyticsEventSampleConfigLastSynced",ANALYTICS_EVENT_SAMPLE_INFO:"analyticsEventSampleInfo",AB_TESTS_CONFIG:"abtestsConfig",AB_TESTS_CONFIG_LAST_SYNCED:"abtestsConfigLastSynced"},_={CATEGORIES:{OPTIONS:"Options_menu",MAIN_MENU:"Menu",CHECKBOX:"Checkbox",CTA:"Button CTA",NAVBAR:"Navigation bar",MISSING:"Missing Ad",NOTIFICATION:"Notification",RATING:"Rating",EXTENSION:"Extension",REPORTS:"Reports",BLOCK_ELEMENT:"Block Element",COOKIE_CRUMBLER:"Cookie Crumbler",INSITE_NOTIFICATIONS:"In-site Notifications"},ACTIONS:{CLICK:"Click",VIEWED:"Viewed",DAILY_BLOCKS:"Popups blocked per day",BLOCKED_ELEMENT_SITE:"Blocked element site URL"}},d={GA_EVENT:"trackEvent",ADD_BADGE_STATE:"addBadgeState",REMOVE_BADGE_STATE:"removeBadgeState",UPDATE_COUNTS:"updateBlockCounts",CREATE_CONTEXT_MENUS:"createIconContextMenu",SEND_ANALYTICS_EVENT:"sendAnalyticsEvent",SYNC_EXTENSION_ANALYTICS_DATA:"syncExtensionAnalyticsData",KEEN_IO:"KeenIO",ALLOW_ALWAYS:"allowAlways",RESTORE_BLOCKING:"restoreBlocking",REQUEST_TAB_URL:"requestTabUrl",REQUEST_CURRENT_TAB:"requestCurrentTab",OPEN_URL:"openUrl",UPDATE_RATING:"update-rating",GET_IS_RATE_US_SHOULD_BE_DISPLAYED:"get-is-rate-us-should-be-displayed",GET_USER:"getUser",UPDATE_USER_INFO:"updateUserInfo",SUBSCRIPTION_SUCCESS:"subscription-success",LOGIN:"login",LOGOUT:"logout",ON_LOGOUT:"on-logout",START_BLOCKED_ELEMENTS:"start-blocked-elements",MANUAL_REMOVE_OVERLAY:"manual-remove-overlay",ADD_UNBLOCK_ALL_ELEMENTS_MENU:"add-unblock-all-elements-menu",REMOVE_UNBLOCK_ALL_ELEMENTS_MENU:"remove-unblock-all-elements-menu",UNBLOCK_ALL_ELEMENTS:"unblock-all-elements",GET_DEFAULT_WHITELIST:"get-default-whitelist",GET_POPULAR_SITES_FOR_BLOCK_ELEMENTS:"get-popular-sites-for-block-elements",INSERT_COOKIE_FILTERS:"insert-cookie-filters",ACTIVATE_CC_OR_SHOW_PROMO:"activate-cc-or-show-promo",SHOW_COOKIE_CRUMBLER_HOOK:"show-cookie-crumbler-hook",HIDE_COOKIE_CRUMBLER_PROMO:"hide-cookie-crumbler-promo",SHOW_TRIAL_PROMO:"show-trial-promo",CHECK_PROMO_MESSAGE:"check-promo-message",SHOW_COUPON_MESSAGE:"show-coupon-message",OPT_IN_AGREE:"opt-in-agree",OPT_IN_AGREE_NO_REMOTE_UPDATE:"opt-in-agree-no-remote-update",OPT_IN_DISAGREE:"opt-in-disagree",SEND_ALIVE_EVENT:"send-alive-event",HIDE_AD_ELEMENT:"hide-ad-element",COUNT_AD_ELEMENT:"count-ad-element",UPDATE_SOCIAL_BLOCKER_CONFIG:"update-social-blocker-config",UPDATE_SEGMENT_DATA:"update-segment-data",UPDATE_BLOCK_STAT:"update-block-stat",UPDATE_UNBLOCK_STAT:"update-unblock-stat",UPDATE_BLOCK_COUNT:"update-block-count",UPDATE_UNBLOCK_COUNT:"update-unblock-count",COUNT_COOKIE_MESSAGES:"count-cookie-messages",TOGGLE_PUSH_NOTIFICATIONS_BLOCKING:"toggle-push-notification-blocking",INJECT_FONTS:"inject-font",FETCH_SETTINGS:"fetch-settings",UPDATE_REMOTE_SETTINGS:"update-remote-settings",UPDATE_REMOTE_AND_LOCAL_SETTINGS:"update-remote-and-local-settings",REQUEST_TRIAL_STATUS:"request-trial-status",EXTENSION_IS_PINNED:"extension-is-pinned",REQUEST_EXTENSION_ID:"request-extension-id",UPDATE_EXTENSION_ID:"update-extension-id",UPDATE_SCRIPT_BLOCKERS_STATE:"update-script-blockers-state",SETTINGS_CHANGED:"settings-changed",UPDATE_SETTINGS:"update-settings",EXTENSION_IS_ALLOWED_INCOGNITO:"extension-is-allowed-incognito",GET_ALL_EXTENSION_PERMISSIONS_GRANTED:"get-all-extension-permissions-granted",REQUEST_OPTIONAL_PERMISSIONS:"request-optional-permissions",UPDATE_SOCIAL_CONTENT_KEYWORDS:"update-social-content-keywords",ON_EXTENSION_ENABLED_STATE_UPDATED:"extension-enabled-state-updated",REQUEST_INSTALL_SOURCE:"request-install-source",GET_ALL_FEATURES_FLAGS:"get-all-features-flags",GET_ALL_FEATURES_FLAGS_ASYNC:"get-all-features-flags-async",GET_SETTINGS:"get-settings",GET_EXTENSION_INFO:"get-extension-info",SETTINGS_CHANGED_IN_EXTENSION:"settings-changed-in-extension",SETTINGS_CHANGED_IN_WEBAPP:"settings-changed-in-webapp",POST_MESSAGE:"post-message",ON_EXTENSION_INFO_UPDATED:"on-extension-info-updated",OPEN_EXTENSION_CHECKOUT_MODAL:"open-extension-checkout-modal",CLOSE_EXTENSION_CHECKOUT_MODAL:"close-extension-checkout-modal",PAYMENT_SUCCESS_PAGE_SETTINGS_CLICK:"payment-success-page-settings-click",UPDATE_PREMIUM_SETTING_TOGGLE_VALUE:"update-premium-setting-toggle-value",CLOSE_TRACKER_HOOK:"close-tracker-hook",HIDE_TRACKER_HOOK:"hide-tracker-hook",TMP_HIDE_TRACKER_HOOK:"tmp-hide-tracker-hook",HIDE_OPT_IN_HOOK:"hide-opt-in-hook",UPDATE_BLOCK_HOOKS:"update-block-hooks",GET_BLOCK_HOOKS:"get-block-hooks",GET_EXTENSION_STATUS:"get-extension-status",UPDATE_EXTENSION_STATUS:"update-extension-status",NOTIFY_EXTENSION_ON_SETTINGS_CHANGE:"notify-extension-on-settings-change",GET_TOTAL_BLOCKED_ITEMS:"get-total-blocked-items",SEND_TOTAL_BLOCKED_ITEMS:"send-total-blocked-items",REDO_LAST_BLOCKED_ITEMS:"redo-last-blocked-items",HIDE_HOOKS:"hide-hooks",REMOVE_ALL_TRACKER_HOOKS:"remove-all-tracker-hooks",IS_CANVAS_SPONSORED:"is-canvas-sponsored",INCREMENT_TRACKER_BLOCKER_SESSION_COUNT:"incrementTrackerBlockerSessionCount",WORKER_BLOCKED_POPUP:"worker-blocked-popup",REDO_LAST_BLOCKED_ITEMS_WORKER:"redo-last-blocked-items-worker"},h={UPDATE_WHITELIST:"pb-update-whitelist",DISABLE:"inject-script-disable",POPUP_BLOCKED:"blockedWindow",WHITELIST_MATCH:"inject-script-whitelist-match"},f={NO_USER_INTERACTION:"NO_USER_INTERACTION",CAPTURING_ELEMENT:"CAPTURING_ELEMENT",OVERLAYISH:"OVERLAYISH",FULL_SCREEN_WHILE_OPEN:"FULL_SCREEN_WHILE_OPEN",BLUR_CALLED:"BLUR_CALLED",CLICK_ON_ATAG:"CLICK_ON_ATAG",DISPATCH_ON_ATAG:"DISPATCH_ON_ATAG",ARTIFICIAL_MOUSE_CLICK:"ARTIFICIAL_MOUSE_CLICK"};E=__spreadValues({},f),a(E,o({BLACKLIST:"BLACKLIST"}));var E;const O={POP_BLOCK_PRE_OPEN_1_NO_USER_INT:"POP_BLOCK_PRE_OPEN_1_NO_USER_INT",POP_BLOCK_PRE_OPEN_1_CAP_ELEMENT:"POP_BLOCK_PRE_OPEN_1_CAP_ELEMENT",POP_BLOCK_PRE_OPEN_1_OVERLAYISH:"POP_BLOCK_PRE_OPEN_1_OVERLAYISH",POP_BLOCK_PRE_OPEN_1_FS_ON_OPEN:"POP_BLOCK_PRE_OPEN_1_FS_ON_OPEN",POP_BLOCK_PRE_OPEN_1_BLUR_CALLED:"POP_BLOCK_PRE_OPEN_1_BLUR_CALLED",POP_BLOCK_PRE_OPEN_1_ATAG_CLICK:"POP_BLOCK_PRE_OPEN_1_ATAG_CLICK",POP_BLOCK_PRE_OPEN_1_ATAG_DISPATCH:"POP_BLOCK_PRE_OPEN_1_ATAG_DISPATCH",POP_BLOCK_PRE_OPEN_1_ARTIF_CLICK:"POP_BLOCK_PRE_OPEN_1_ARTIF_CLICK"},p={WINDOW_OPEN_WHITELIST:"WINDOW_OPEN_WHITELIST",WINDOW_OPEN_SAME_DOMAIN:"WINDOW_OPEN_SAME_DOMAIN",WINDOW_OPEN_LOGIN_LINK:"WINDOW_OPEN_LOGIN_LINK",CREATE_ELEMENT_CLICK_WHITELIST:"CREATE_ELEMENT_CLICK_WHITELIST",CREATE_ELEMENT_CLICK_SAME_DOMAIN:"CREATE_ELEMENT_CLICK_SAME_DOMAIN",CREATE_ELEMENT_PARENT_CLICK:"CREATE_ELEMENT_PARENT_CLICK",CREATE_ELEMENT_DISPATCH_EVENT_WHITELIST:"CREATE_ELEMENT_DISPATCH_EVENT_WHITELIST",CREATE_ELEMENT_DISPATCH_EVENT_SAME_DOMAIN:"CREATE_ELEMENT_DISPATCH_EVENT_SAME_DOMAIN",CREATE_EVENT_WHITELIST:"CREATE_EVENT_WHITELIST",CREATE_EVENT_LOGIN_LINK:"CREATE_EVENT_LOGIN_LINK",CREATE_EVENT_SAME_DOMAIN:"CREATE_EVENT_SAME_DOMAIN"},T={POP_WHITE_PRE_OPEN_1_WINOPEN_LIST:"POP_WHITE_PRE_OPEN_1_WINOPEN_LIST",POP_WHITE_PRE_OPEN_1_WINOPEN_DOM:"POP_WHITE_PRE_OPEN_1_WINOPEN_DOM",POP_WHITE_PRE_OPEN_1_WINOPEN_LOGIN:"POP_WHITE_PRE_OPEN_1_WINOPEN_LOGIN",POP_WHITE_PRE_OPEN_1_CR_EL_CLCK_LIST:"POP_WHITE_PRE_OPEN_1_CR_EL_CLCK_LIST",POP_WHITE_PRE_OPEN_1_CR_EL_CLCK_DOM:"POP_WHITE_PRE_OPEN_1_CR_EL_CLCK_DOM",POP_WHITE_PRE_OPEN_1_CR_EL_CLCK_PAR:"POP_WHITE_PRE_OPEN_1_CR_EL_CLCK_PAR",POP_WHITE_PRE_OPEN_1_CR_EL_DISP_LIST:"POP_WHITE_PRE_OPEN_1_CR_EL_DISP_LIST",POP_WHITE_PRE_OPEN_1_CR_EL_DISP_DOM:"POP_WHITE_PRE_OPEN_1_CR_EL_DISP_DOM",POP_WHITE_PRE_OPEN_1_CR_EV_LIST:"POP_WHITE_PRE_OPEN_1_CR_EV_LIST",POP_WHITE_PRE_OPEN_1_CR_EV_LOGIN:"POP_WHITE_PRE_OPEN_1_CR_EV_LOGIN",POP_WHITE_PRE_OPEN_1_CR_EV_DOM:"POP_WHITE_PRE_OPEN_1_CR_EV_DOM"},m=__spreadValues({POPUPS:"popups",OVERLAYS:"overlays",PUSH_NOTIFICATION:"pushNotification",SOCIAL_CONTENT_BLOCKER:"socialContentBlocker"},{COOKIE_CRUMBLER:"cookieCrumbler",FACEBOOK:"facebookAdds",ADS_BLOCKER:"adsBlocker",YOUTUBE_BLOCKER:"youtubeBlocker",TRACKERS_BLOCKER:"trackersBlocker"}),S={COOKIE:"images/cookie-animation.json",FACEBOOK_END:"images/endTrialFacebookAnimation.json",PIN:"images/pinAnimation.json"},I={BLOCK_ELEMENT_ROOT:"pb-block-element-root",LIMIT_NOTIFICATION_ROOT:"pb-limit-notification-root",PROMO_ROOT:"pb-feature-promo-root",BLOCKER_ELEMENT_ID:"pb-feature-elementsblocker-root",COOKIE_PROMO_ROOT:"pb-cookie-promo-root",MESSAGE_NOTIFICATION_ROOT:"pb-message-notification-root",ADS_HOOK_ROOT:"pb-ads-hook-root",CHECKOUT_MODAL:"pb-checkout-modal",TRACKER_BLOCKER_HOOK_ROOT:"pb-tracker-blocker-root",OPT_IN_HOOK_ROOT:"opt-in-hook-root"},y={CHROME_EXTENTION_MANAGER:"chrome://extensions",FF_EXTENTION_MANAGER:"about:addons",WEB_APP:"https://app.pbapi.xyz",CHECKOUT_YEARLY_PLAN:"https://app.pbapi.xyz/checkout?selectedPlan=Yearly",ANALYTICS_APP:"https://analytics.poperblocker.com",VALID_MESSAGE_DOMAINS:"poperblocker.com,pbapi.xyz".split(","),THANK_YOU_PAGE_CH:"https://poperblocker.com/welcome",THANK_YOU_PAGE_FF:"https://poperblocker.com/welcome-firefox",PRIVACY_POLICY_CH:"https://poperblocker.com/privacy/",PRIVACY_POLICY_FF:"https://addons.mozilla.org/en-US/firefox/addon/poper-blocker-pop-up-blocker/privacy/",UNINSTALL_PAGE_CH:"https://poperblocker.com/uninstall/?",UNINSTALL_PAGE_FF:"https://poperblocker.com/uninstall-firefox/?",FEEDBACK_PAGE:"https://poperblocker.com/feedback.html?from=ext",CONTACT_PAGE:"https://poperblocker.com/contact-form.html",CONTRIBUTE_PAGE:"https://poperblocker.com/contribute?utm_source=Extension_Popup",GOOGLE_FORM:"https://forms.gle/DfoB6hyd7MFtDPP8A",APPSTORE_CH:"https://chrome.google.com/webstore/detail/pop-up-blocker-for-chrome/bkkbcggnhapdmkeljlodobbkopceiche",APPSTORE_FF:"https://addons.mozilla.org/en-US/firefox/addon/poper-blocker-pop-up-blocker/",REVIEW_CH:"https://chromewebstore.google.com/detail/%D7%97%D7%95%D7%A1%D7%9D-%D7%A4%D7%95%D7%A4-%D7%90%D7%A4%D7%99%D7%9D-%D7%9C%D7%9B%D7%A8%D7%95%D7%9D-poper/bkkbcggnhapdmkeljlodobbkopceiche/reviews",REVIEW_FF:"https://addons.mozilla.org/en-US/firefox/addon/poper-blocker-pop-up-blocker/reviews/add",REVIEW_EDGE:"https://microsoftedge.microsoft.com/addons/detail/pop-up-blocker-for-edge%E2%84%A2-/baplddocidbpmmneofgnhkjojmibmpck",TWITTER_SHARE:"https://twitter.com/intent/tweet?hashtags=popups&original_referer=https%3A%2F%2Fpoperblocker.com%3Fref%3Dfb_pp_share&related=socialmediahats&text=I'm%20using%20poper%20blocker%20to%20enjoy%20a%20popup%20free%20browsing%20experience%20pic.twitter.com%2FniqVgqfmAw&url=https%3A%2F%2Fgoo.gl%2FryoaEn&via=poper_blocker",FACEBOOK_SHARE:"https://www.facebook.com/dialog/share?app_id=1911035589168170&display=popup&href=https%3A%2F%2Fpoperblocker.com%3Fref%3Dfb_pp_share%3Fhl%3Den&hashtag=%23For_No_More_Popups_Click_Below",RATE_US_FORM:"https://docs.google.com/forms/d/e/1FAIpQLScqaL8rpA8H-9Qa5WiLpbYXO_Gzlg33AfS0O4qhgQZBglpjtw/formResponse",REPORT_MISSED_POPUP_FORM:"https://docs.google.com/forms/d/e/1FAIpQLSfNBVyVG0f9IWCO_119MGnAZxwZDrb8Yo_X2CxKL9f3MHN6tw/formResponse",CHECKOUT_IFRAME_URL:"https://app.pbapi.xyz/checkout-iframe"},g=y.WEB_APP+"/api/v1",A=""+y.ANALYTICS_APP,b="poper-blocked",C={OVERLAY_CHECK:"https://api2.poperblocker.com/view/update",ANALYTICS_SEND_EVENT:A+"/event",GET_USER:g+"/user",GET_USER_SEGMENT:g+"/segment",LOGOUT:g+"/auth/logout",MANAGE_SUBSCRIPTION:g+"/subscriptions",ANALYTIC_INFO:g+"/analytics/sync",WHITELIST:g+"/whitelist",BLACKLIST:g+"/blacklist",POPULAR_SITES_FOR_BLOCK_ELEMENTS:g+"/mostPopularSitesForBlockElements",PROMO_COUPON:g+"/promoCoupon",SETTINGS:g+"/settings",REFRESH:g+"/auth/refresh",SOCIALBLOCKER_CONFIG:g+"/socialblocker/config",ADS_BLOCKER_CONFIG:g+"/adsblocker/config",TRACKERS_BLOCKER_CONFIG:g+"/trackersblocker/config",YOUTUBE_BLOCKER_CONFIG:g+"/youtubeblocker/config",GROWTHBOOK:g+"/growthbook",COOKIE_CRUMBLER:g+"/cookieCrumbler",ALIVE:g+"/alive",CONFIG:g+"/extensionConfig",ANALYTICS_EVENT_SAMPLE_CONFIG:g+"/analyticsEventSampleConfig",VERSION:g+"/version"},L=288e5,N=864e5,R=36e5,P=1440,v=3,w=1e3,D=2147483646,k={adText:/((^|\s)(([aA][dD]\s)|advertisement|sponsored))/i,adChoicesIcon:/(adchoices)/i,containerElementTags:["iframe","div","section","td","ins"],adHintRegex:/((^|\s|_|\.|-)([aA][dD]([sS])?|[a-zA-Z]*Ad(s)?|adtech|adtag|dfp|darla|adv|advertisement|(b|B)anner|adsbygoogle|adwrap|adzerk|safeframe|300[xX]250|160[xX]600|728[xX]90)(\s|$|_|\.|-|[A-Z0-9]))/,elementMinSize:100,textMinSize:30},B={ANALYTICS_INFO_KEY:"ANALYTICS_INFO",ANALYTICS_PLATFORM:"Extension",ANALYTICS_PRODUCT:"PoperBlocker",ANALYTICS_RESOURCE_TYPES:{PAID:"PAID",ORGANIC:"ORGANIC"},ANALYTICS_EVENT_TYPES:{EXTENSION_INSTALL:"EXTENSION_INSTALL",EXTENSION_UNINSTALL:"EXTENSION_UNINSTALL",EXTENSION_UPGRADE:"EXTENSION_UPGRADE",EXTENSION_INSTALL_GENERAL:"EXTENSION_INSTALL_GENERAL",EXTENSION_OPT_IN_VIEWED:"EXTENSION_OPT_IN_VIEWED",EXTENSION_OPT_IN_CLICKED_AGREE:"EXTENSION_OPT_IN_CLICKED_AGREE",EXTENSION_OPT_OUT_CLICKED_AGREE:"EXTENSION_OPT_OUT_CLICKED_AGREE",POPUP_BLOCKED:"POPUP_BLOCKED",ALLOW_POPUPS:"ALLOW_POPUPS",DID_WE_MISS_ONE:"DID_WE_MISS_ONE",ELEMENT_BLOCKED:"ELEMENT_BLOCKED",OVERLAY_BLOCKED:"OVERLAY_BLOCKED",OVERLAY_DETECTED:"OVERLAY_DETECTED",REMOVE_OVERLAY_FOREVER:"REMOVE_OVERLAY_FOREVER",UNDO_OVERLAY_REMOVAL:"UNDO_OVERLAY_REMOVAL",ELEMENT_BLOCKED_UNDO:"ELEMENT_BLOCKED_UNDO",ELEMENT_BLOCKED_SAVE:"ELEMENT_BLOCKED_SAVE",BLOCK_ELEMENT_PROMOTION_NOTIFICATION_VIEW:"BLOCK_ELEMENT_PROMOTION_NOTIFICATION_VIEW",BLOCK_ELEMENT_FREE_BLOCKS:"BLOCK_ELEMENT_FREE_BLOCKS",BLOCK_ELEMENT_NO_BLOCKS_VIEW:"BLOCK_ELEMENT_NO_BLOCKS_VIEW",BLOCK_ELEMENT_UNBLOCK_ELEMENTS:"BLOCK_ELEMENT_UNBLOCK_ELEMENTS",WHITELIST_ADD:"WHITELIST_ADD",WHITELIST_REMOVE:"WHITELIST_REMOVE",SETTINGS_PAGE_VIEW:"SETTINGS_PAGE_VIEW",COOKIE_CRUMBLER_PROMOTION_NOTIFICATION_VIEW:"COOKIE_CRUMBLER_PROMOTION_NOTIFICATION_VIEW",INSITE_NOTIFICATION_PROMOTION_NOTIFICATION_VIEW:"INSITE_NOTIFICATION_PROMOTION_NOTIFICATION_VIEW",COOKIE_CRUMBLER_TRIAL_START:"COOKIE_CRUMBLER_TRIAL_START",COOKIE_CRUMBLER_HIDE_FOREVER:"COOKIE_CRUMBLER_HIDE_FOREVER",COOKIE_CRUMBLER_IN_TRIAL:"COOKIE_CRUMBLER_IN_TRIAL",COOKIE_CRUMBLER_END_OF_TRIAL:"COOKIE_CRUMBLER_END_OF_TRIAL",COOKIE_CRUMBLER_IN_TRIAL_CLICK:"COOKIE_CRUMBLER_IN_TRIAL_CLICK",COOKIE_CRUMBLER_USE_CASE_CLOSE:"COOKIE_CRUMBLER_USE_CASE_CLOSE",COOKIE_CRUMBLER_TRIAL_PROMOTION_NOTIFICATION_CLICK:"COOKIE_CRUMBLER_TRIAL_PROMOTION_NOTIFICATION_CLICK",COOKIE_CRUMBLER_USE_CASE_VIEW:"COOKIE_CRUMBLER_USE_CASE_VIEW",COOKIE_CRUMBLER_USE_CASE_CLICK:"COOKIE_CRUMBLER_USE_CASE_CLICK",ALIVE:"ALIVE",SOCIAL_BLOCKER_TRIAL_PROMOTION_NOTIFICATION_CLICK:"SOCIAL_BLOCKER_TRIAL_PROMOTION_NOTIFICATION_CLICK",SOCIAL_BLOCKER_REMOVE_ADS_FOR_GOOD_CLICK:"SOCIAL_BLOCKER_REMOVE_ADS_FOR_GOOD_CLICK",SOCIAL_BLOCKER_TRIAL_OVER_PROMOTION_VIEW:"SOCIAL_BLOCKER_TRIAL_OVER_PROMOTION_VIEW",IN_PRODUCT_PROMOTION_DIALOG_CLICK:"IN_PRODUCT_PROMOTION_DIALOG_CLICK",IN_PRODUCT_PROMOTION_DIALOG_VIEW:"IN_PRODUCT_PROMOTION_DIALOG_VIEW",IN_SITE_PUSH_NOTIFICATION_ALLOW_PERMISSIONS:"IN_SITE_PUSH_NOTIFICATION_ALLOW_PERMISSIONS",IN_SITE_PUSH_NOTIFICATION_DENY_PERMISSIONS:"IN_SITE_PUSH_NOTIFICATION_DENY_PERMISSIONS",IN_SITE_PUSH_NOTIFICATION_ON:"IN_SITE_PUSH_NOTIFICATION_ON",IN_SITE_PUSH_NOTIFICATION_OFF:"IN_SITE_PUSH_NOTIFICATION_OFF",BLOCK_ALL_DISTRACTIONS_BUTTON_CLICK:"BLOCK_ALL_DISTRACTIONS_BUTTON_CLICK",EXPAND_NOT_BLOCKED_DROPDOWN_CLICK:"EXPAND_NOT_BLOCKED_DROPDOWN_CLICK",RATE_US_DIALOG_VIEW:"RATE_US_DIALOG_VIEW",RATE_US_DIALOG_CLICK:"RATE_US_DIALOG_CLICK",RATE_US_DIALOG_RESULT_VIEW:"RATE_US_DIALOG_RESULT_VIEW",SEGMENTATION_PROMOTION_VIEW:"SEGMENTATION_PROMOTION_VIEW",SEGMENTATION_PROMOTION_CLICK:"SEGMENTATION_PROMOTION_CLICK",ADBLOCKER_PROMOTION_VIEW:"ADBLOCKER_PROMOTION_VIEW",ADBLOCKER_PROMOTION_CLICK:"ADBLOCKER_PROMOTION_CLICK",MONETIZATION_NOIFICATION_VIEW:"MONETIZATION_NOIFICATION_VIEW",MONETIZATION_NOIFICATION_CTA_CLICK:"MONETIZATION_NOIFICATION_CTA_CLICK",MONETIZATION_NOIFICATION_COPY_CODE_CLICK:"MONETIZATION_NOIFICATION_COPY_CODE_CLICK",SOCIAL_BLOCKER_FEED_PROMOTION_VIEW:"SOCIAL_BLOCKER_FEED_PROMOTION_VIEW",SOCIAL_BLOCKER_FEED_AD_DETECTED:"SOCIAL_BLOCKER_FEED_AD_DETECTED",SOCIAL_BLOCKER_FEED_PROMOTION_OPEN:"SOCIAL_BLOCKER_FEED_PROMOTION_OPEN",SOCIAL_BLOCKER_INTRIAL_PROMOTION_VIEW:"SOCIAL_BLOCKER_INTRIAL_PROMOTION_VIEW",SOCIAL_BLOCKER_FEED_PROMOTION_START_TRIAL:"SOCIAL_BLOCKER_FEED_PROMOTION_START_TRIAL",FIRST_POPUP_BLOCKED_NOTIFICATION_VIEW:"FIRST_POPUP_BLOCKED_NOTIFICATION_VIEW",FIRST_POPUP_BLOCKED_NOTIFICATION_CLICKED:"FIRST_POPUP_BLOCKED_NOTIFICATION_CLICKED",CLICK_SOCIAL_BLOCKER_IN_FEED_BANNER_ON_TRIAL:"CLICK_SOCIAL_BLOCKER_IN_FEED_BANNER_ON_TRIAL",CLICK_SOCIAL_BLOCKER_PROMOTION_DISCOUNT:"CLICK_SOCIAL_BLOCKER_PROMOTION_DISCOUNT",CLICK_COOKIE_PROMOTION_DISCOUNT:"CLICK_COOKIE_PROMOTION_DISCOUNT",PIN_TASKBAR_POPUP_VIEW:"PIN_TASKBAR_POPUP_VIEW",PIN_TASKBAR_POPUP_DISMISS_CLICK:"PIN_TASKBAR_POPUP_DISMISS_CLICK",TRIAL_MIGRATION:"TRIAL_MIGRATION",YOUTUBE_VIDEO_HOOK_SHOW:"YOUTUBE_VIDEOHOOK_SHOW",YOUTUBE_VIDEO_HOOK_SHOW_POSTTRIAL:"YOUTUBE_VIDEOHOOK_SHOW_POSTTRIAL",YOUTUBE_VIDEO_HOOK_CLICK:"YOUTUBE_VIDEOHOOK_CLICK",YOUTUBE_VIDEO_HOOK_CLICK_POSTTRIAL:"YOUTUBE_VIDEOHOOK_CLICK_POSTTRIAL",YOUTUBE_VIDEO_HOOK_DISMISS:"YOUTUBE_VIDEOHOOK_DISMISS",YOUTUBE_VIDEO_HOOK_DISMISS_POSTTRIAL:"YOUTUBE_VIDEOHOOK_DISMISS_POSTTRIAL",ADSBLOCKER_HOOK_SHOW:"ADSBLOCKER_HOOK_SHOW",ADSBLOCKER_HOOK_SHOW_POSTTRIAL:"ADSBLOCKER_HOOK_SHOW_POSTTRIAL",ADSBLOCKER_HOOK_CLICK:"ADSBLOCKER_HOOK_CLICK",ADSBLOCKER_HOOK_CLICK_POSTTRIAL:"ADSBLOCKER_HOOK_CLICK_POSTTRIAL",ADSBLOCKER_HOOK_DISMISS:"ADSBLOCKER_HOOK_DISMISS",ADSBLOCKER_HOOK_DISMISS_POSTTRIAL:"ADSBLOCKER_HOOK_DISMISS_POSTTRIAL",RATE_US_VIEW:"RATE_US_VIEW",RATE_US_POST_FEEDBACK_VIEW:"RATE_US_POST_FEEDBACK_VIEW",RATE_US_CLICK_DISMISS:"RATE_US_CLICK_DISMISS",RATE_US_CLICK_SUBMIT:"RATE_US_CLICK_SUBMIT",RATE_US_CLICK_STAR:"RATE_US_CLICK_STAR",RATE_US_CLICK_DISMISS_FEEDBACK:"RATE_US_CLICK_DISMISS_FEEDBACK",SOCIAL_CONTENT_INFEED_BANER_VIEW:"SOCIAL_CONTENT_INFEED_BANER_VIEW",SOCIAL_CONTENT_SHOW_POST_CLICK:"SOCIAL_CONTENT_SHOW_POST_CLICK",PANEL_ADREFRESH_CLICK_DISMISS:"PANEL_ADREFRESH_CLICK_DISMISS",PANEL_ADREFRESH_VIEW:"PANEL_ADREFRESH_VIEW",PANEL_ADREFRESH_CLICK_REFRESH:"PANEL_ADREFRESH_CLICK_REFRESH",PANEL_ADREFRESH_CLICK_GOPRO:"PANEL_ADREFRESH_CLICK_GOPRO",PANEL_ADREFRESH_PRO_VIEW:"PANEL_ADREFRESH_PRO_VIEW",PANEL_ADREFRESH_PRO_CLICK_REFRESH:"PANEL_ADREFRESH_PRO_CLICK_REFRESH",PANEL_SOCIAL_CONTENT_CLICK_SETUP:"PANEL_SOCIAL_CONTENT_CLICK_SETUP",PANEL_SUBEXP_DIALOG_VIEW:"PANEL_SUBEXP_DIALOG_VIEW",PANEL_SUBEXP_DIALOG_DISMISS_CLICK:"PANEL_SUBEXP_DIALOG_DISMISS_CLICK",PANEL_SUBEXP_DIALOG_RENEW_CLICK:"PANEL_SUBEXP_DIALOG_RENEW_CLICK",PANEL_SUBEXP_DIALOG_REMINDER_CLICK:"PANEL_SUBEXP_DIALOG_REMINDER_CLICK",PANEL_EULA_DIALOG_VIEW:"PANEL_EULA_DIALOG_VIEW",PANEL_EULA_DIALOG_CLOSE:"PANEL_EULA_DIALOG_CLOSE",PANEL_EULA_DIALOG_AGREE_CLICK:"PANEL_EULA_DIALOG_AGREE_CLICK",PANEL_EULA_DIALOG_DISAGREE_CLICK:"PANEL_EULA_DIALOG_DISAGREE_CLICK",PANEL_OVERLAY_BANNER_RED_VIEW:"PANEL_OVERLAY_BANNER_RED_VIEW",PANEL_OVERLAY_BANNER_RED_ACTIVATE_CLICK:"PANEL_OVERLAY_BANNER_RED_ACTIVATE_CLICK",TRACKER_BLOCKER_HOOK_DIALOG_VIEW_TEST:"TRACKER_BLOCKER_HOOK_DIALOG_VIEW_TEST",TRACKER_BLOCKER_HOOK_DIALOG_CLICK_CLOSE_TEST:"TRACKER_BLOCKER_HOOK_DIALOG_CLICK_CLOSE_TEST",TRACKER_BLOCKER_HOOK_DIALOG_CLICK_NEVER_SHOW_AGAIN_TEST:"TRACKER_BLOCKER_HOOK_DIALOG_CLICK_NEVER_SHOW_AGAIN_TEST",TRACKER_BLOCKER_HOOK_DIALOG_CLICK_CTA_TEST:"TRACKER_BLOCKER_HOOK_DIALOG_CLICK_CTA_TEST",OPT_IN_HOOK_DIALOG_VIEW_CONTROL:"OPT_IN_HOOK_DIALOG_VIEW_CONTROL",OPT_IN_HOOK_DIALOG_CLICK_CLOSE_CONTROL:"OPT_IN_HOOK_DIALOG_CLICK_CLOSE_CONTROL",OPT_IN_HOOK_DIALOG_CLICK_CTA_CONTROL:"OPT_IN_HOOK_DIALOG_CLICK_CTA_CONTROL",OPT_IN_HOOK_DIALOG_VIEW_TEST:"OPT_IN_HOOK_DIALOG_VIEW_TEST",OPT_IN_HOOK_DIALOG_CLICK_CLOSE_TEST:"OPT_IN_HOOK_DIALOG_CLICK_CLOSE_TEST",OPT_IN_HOOK_DIALOG_CLICK_CTA_TEST:"OPT_IN_HOOK_DIALOG_CLICK_CTA_TEST",CONTENT_BLOCKER_HOOK_CLICK_CLOSE:"CONTENT_BLOCKER_HOOK_CLICK_CLOSE",CONTENT_BLOCKER_HOOK_CLICK_CTA:"CONTENT_BLOCKER_HOOK_CLICK_CTA",CONTENT_BLOCKER_HOOK_VIEW:"CONTENT_BLOCKER_HOOK_VIEW",PANEL_RECOVER_POPUPS_CTA_CLICK:"PANEL_RECOVER_POPUPS_CTA_CLICK",STOP_SUGGESTIONS:"HOOK_CLICK_STOP_SUGGESTIONS",POP_WHITE_PST_OPEN_1_SRC:"POP_WHITE_PST_OPEN_1_SRC",POP_WHITE_PST_OPEN_1_TRGT:"POP_WHITE_PST_OPEN_1_TRGT",POP_BLOCK_PST_OPEN_1_BLACKLIST:"POP_BLOCK_PST_OPEN_1_BLACKLIST",POPUP_RECOVERED:"POPUP_RECOVERED"},PAGE:{PANEL:"PANEL",PANEL_SETTINGS_TAB:"PANEL_SETTINGS_TAB"},FEATURE:{SCREEN:"SCREEN",WHATS_NEW_CARD:"WHATS_NEW_CARD",WHATS_NEW_CARD_CTA:"WHATS_NEW_CARD_CTA",SPECIAL_OFFER_CARD:"SPECIAL_OFFER_CARD",SPECIAL_OFFER_CARD_PROCTA:"SPECIAL_OFFER_CARD_PROCTA",SPECIAL_OFFER_CARD_REMIND_LATER:"SPECIAL_OFFER_CARD_REMIND_LATER",SPECIAL_OFFER_CARD_X:"SPECIAL_OFFER_CARD_X",EXTENSION_DISABLED_CARD:"EXTENSION_DISABLED_CARD",EXTENSION_DISABLED_CARD_CTA:"EXTENSION_DISABLED_CARD_CTA",HEADER_GO_PRO:"HEADER_GO_PRO",HEADER_MENU:"HEADER_MENU",DROP_MENU_SETTINGS:"DROP_MENU_SETTINGS",DROP_MENU_LOGIN:"DROP_MENU_LOGIN",DROP_MENU_LOGOUT:"DROP_MENU_LOGOUT",DROP_MENU_DISABLE:"DROP_MENU_DISABLE",DROP_MENU_ENABLE:"DROP_MENU_ENABLE",WHITELIST_SITE:"WHITELIST_SITE",HIDE_DISTRACTIONS:"HIDE_DISTRACTIONS",HIDE_DISTRACTIONS_BACK:"HIDE_DISTRACTIONS_BACK",HIDE_DISTRACTIONS_REMOVE_ELEMENT:"HIDE_DISTRACTIONS_REMOVE_ELEMENT",HIDE_DISTRACTIONS_REMOVE_OVERLAY:"HIDE_DISTRACTIONS_REMOVE_OVERLAY",HIDE_DISTRACTIONS_REPORT_MISSED_POPUP:"HIDE_DISTRACTIONS_REPORT_MISSED_POPUP",HIDE_DISTRACTIONS_REPORT_MISSED_POPUP_CONFIRMATION:"HIDE_DISTRACTIONS_REPORT_MISSED_POPUP_CONFIRMATION",STATISTICS_TAB:"STATISTICS_TAB",STATISTICS_TAB_UN_BLOCKED:"STATISTICS_TAB_UN_BLOCKED",STATISTICS_TAB_BLOCKED:"STATISTICS_TAB_BLOCKED",STATISTICS_TAB_GO_PRO_CTA:"STATISTICS_TAB_GO_PRO_CTA",SETTINGS_TAB:"SETTINGS_TAB",POPUPS:"POPUPS",OVERLAYS:"OVERLAYS",COOKIE_CRUMBLER:"COOKIE_CRUMBLER",FACEBOOK:"FACEBOOK",PUSH_NOTIFICATION:"PUSH_NOTIFICATION",ADS_BLOCKER:"ADS_BLOCKER",YOUTUBE_BLOCKER:"YOUTUBE_BLOCKER",ADVANCED_SETTINGS:"ADVANCED_SETTINGS",SOCIAL_CONTENT_BLOCKER:"SOCIAL_CONTENT_BLOCKER",TRACKERS_BLOCKER:"TRACKERS_BLOCKER"},EVENT_TYPE:{VIEW:"VIEW",CLICK:"CLICK",CLOSE:"CLOSE",TOGGLE_ON:"TOGGLE_ON",TOGGLE_OFF:"TOGGLE_OFF",PANEL_SPECIAL_OFFER_X_CLICK:"PANEL_SPECIAL_OFFER_X_CLICK",PANEL_SPECIAL_OFFER_MAYBELATER_CLICK:"PANEL_SPECIAL_OFFER_MAYBELATER_CLICK",PANEL_SPECIAL_OFFER_GOPRO_CLICK:"PANEL_SPECIAL_OFFER_GOPRO_CLICK",PANEL_SPECIAL_OFFER_GOPRO_VIEW:"PANEL_SPECIAL_OFFER_GOPRO_VIEW",TRIAL_MIGRATION:"TRIAL_MIGRATION",START_TRIAL:"START_TRIAL"}},K={SEGMENT_ALARM:"segmentUpdate",TRACKERSBLOCKER_ALARM:"trackersBlockerConfigAlarm",ADSBLOCKER_ALARM:"adsBlockerConfigAlarm",YOUTUBEBLOCKER_ALARM:"youtubeBlockerConfigAlarm",COOKIE_CRUMBLER_ALARM:"cookieCrumblerConfigAlarm",BLACKLIST_SYNC_ALARM:"blacklistSync"},U={HIDDEN_PROPERTY:"{display: none !important ; visibility : hidden !important ; opacity : 0 !important}",DISPLAY:"display",VISIBILITY:"visibility",OPACITY:"opacity"},F={REMINDER_INTERVAL:24,REMINDER_TMP_INTERVAL:12,PERIOD_DAYS_TO_DISPLAY:7,FEATURE_ACTIVE_DATE:"2023-09-11 00:00:00"},M={IFRAME_SOCIAL_HOOK:"IFRAME_SOCIAL_HOOK",IFRAME_COOKIE_HOOK:"IFRAME_COOKIE_HOOK",IFRAME_ADS_HOOK_PREFIX:"IFRAME_ADS_HOOK_",IFRAME_TRACKER_HOOK:"IFRAME_TRACKER_HOOK",EXTENSION_PANEL_SETTINGS_PREFIX:"EXTENSION_PANEL_SETTINGS_",EXTENSION_PANEL_GO_PRO:"EXTENSION_PANEL_GO_PRO",EXTENSION_PANEL_STATS_GO_PRO:"EXTENSION_PANEL_STATS_GO_PRO"},x={OPT_IN_HOOK:"opt-in-hook",SHOW_HOOKS:"show-hooks",POPUP_BLOCKING_V2:"popup-blocking-v2"},H={Target:"target",Source:"source"}},,,function(e,t,r){"use strict";r.d(t,"m",(function(){return getBrowser})),r.d(t,"q",(function(){return getI18N})),r.d(t,"r",(function(){return getI18NWithParams})),r.d(t,"y",(function(){return isDomainInList})),r.d(t,"U",(function(){return sendGAEvent})),r.d(t,"W",(function(){return sendMessageToWorker})),r.d(t,"bb",(function(){return sendToWorker})),r.d(t,"f",(function(){return delayPromise})),r.d(t,"t",(function(){return getManifest})),r.d(t,"B",(function(){return isFireFoxIncognito})),r.d(t,"Z",(function(){return sendToActiveTab})),r.d(t,"ab",(function(){return sendToAllTabs})),r.d(t,"v",(function(){return getTabById})),r.d(t,"n",(function(){return getCurrentTab})),r.d(t,"d",(function(){return copyTextToClipboard})),r.d(t,"k",(function(){return getActiveTab})),r.d(t,"g",(function(){return enableProFetures})),r.d(t,"hb",(function(){return updateSegmentData})),r.d(t,"fb",(function(){return updateLocalSettings})),r.d(t,"gb",(function(){return updateRemoteSettingsData})),r.d(t,"h",(function(){return fetchRemoteSettingsData})),r.d(t,"R",(function(){return readLocalSettingsData})),r.d(t,"eb",(function(){return updateLocalAndRemoteFeatureSettings})),r.d(t,"K",(function(){return onStartCookieTrial})),r.d(t,"db",(function(){return timeToString})),r.d(t,"Q",(function(){return parseTime})),r.d(t,"E",(function(){return isPremium})),r.d(t,"H",(function(){return msToDays})),r.d(t,"C",(function(){return isKeysExists})),r.d(t,"o",(function(){return getDaysPassed})),r.d(t,"a",(function(){return backgroundSafeExec})),r.d(t,"D",(function(){return isPermissionGranted})),r.d(t,"l",(function(){return getAllPermissionGranted})),r.d(t,"T",(function(){return requestPermission})),r.d(t,"b",(function(){return checkIsPinned})),r.d(t,"c",(function(){return cleanDomain})),r.d(t,"L",(function(){return openPlansPage})),r.d(t,"x",(function(){return isAllowedIncognitoAccess})),r.d(t,"u",(function(){return getSocialContentKeywords})),r.d(t,"w",(function(){return getUserStatus})),r.d(t,"F",(function(){return isPremiumUser})),r.d(t,"j",(function(){return generateAnalyticsEventName})),r.d(t,"i",(function(){return generateAnalyticsEventAndSendToWorker})),r.d(t,"A",(function(){return isExtensionEnabled})),r.d(t,"J",(function(){return onPostLogout})),r.d(t,"X",(function(){return sendMessageToWorkerAndActiveTab})),r.d(t,"z",(function(){return isElementInViewport})),r.d(t,"G",(function(){return isProductionEnv})),r.d(t,"s",(function(){return getInstallSource})),r.d(t,"p",(function(){return getGlobalShowPremiumHooksFlag})),r.d(t,"V",(function(){return sendGoogleForm})),r.d(t,"Y",(function(){return sendMissedPopupGoogleForm})),r.d(t,"N",(function(){return openSettingPage})),r.d(t,"S",(function(){return replaceAll})),r.d(t,"M",(function(){return openReviewPage})),r.d(t,"P",(function(){return openSocialSettingsFromPanel})),r.d(t,"O",(function(){return openSettingsFromPanel})),r.d(t,"cb",(function(){return throttle})),r.d(t,"e",(function(){return debounce})),r.d(t,"I",(function(){return notifyWebapp}));var n=r(0),a=r(24),o=r(7),i=r(9),s=r(13),u=r(23),l=r(8),_=r(20),d=r(27),h=r(15),f=r(31),E=r(29);const fetchWebApi=(e,t={})=>fetch(e,t),getBrowser=()=>/firefox/i.test(navigator.userAgent)?"FF":"CH",getI18N=(e,t)=>chrome.i18n.getMessage(e)||chrome.i18n.getMessage(t||e)||e,getI18NWithParams=(e,...t)=>t.reduce((e,t)=>e.replace("%s",t),getI18N(e)),isDomainInList=(e,t)=>{t=t||[];for(let r=0;r<t.length;r++){const n=t[r];if(new RegExp("\\b[(www\\.)|.*.]?"+n+"\\b").test(e))return!0}return!1},sendGAEvent=(e,t,r,a)=>new Promise(o=>{chrome.runtime.sendMessage({name:n.t.GA_EVENT,category:e,action:t,label:r,isCount:a},()=>o())}),sendMessageToWorker=e=>new Promise(t=>{l.a.runtime.sendMessage(e,e=>t(e))}),sendToWorker=e=>new Promise(t=>{l.a.runtime.sendMessage(e,e=>t(e))}),delayPromise=e=>new Promise(t=>{setTimeout(t,e)}),getManifest=()=>chrome.runtime.getManifest(),isFireFoxIncognito=()=>new Promise(e=>{if("FF"!=getBrowser())return e(!1);chrome.tabs.query({currentWindow:!0,active:!0},t=>{const r=t[0].id;chrome.tabs.executeScript(r,{code:"isI=chrome.extension.inIncognitoContext; isI;"},t=>chrome.runtime.lastError?e(!1):e(!(!t||!Array.isArray(t))&&t[0]))})}),sendToActiveTab=(e,t)=>{chrome.tabs&&chrome.tabs.query({active:!0,lastFocusedWindow:!0},(function(r){const n=r&&r[0]&&r[0].id;n&&chrome.tabs.sendMessage(n,{name:e,data:t||""})}))},sendToAllTabs=(e,t)=>{chrome.tabs&&chrome.tabs.query({},r=>{for(const n of r){const r=n.id;r&&chrome.tabs.sendMessage(r,{name:e,data:t||""})}})},getTabById=async(e,{currentWindow:t}={currentWindow:!0})=>new Promise(r=>{chrome.tabs.query(t?{currentWindow:t}:{},t=>{const n=t.find(t=>t.id===e);r(n||null)})}),getCurrentTab=async()=>new Promise(e=>{sendMessageToWorker({name:n.t.REQUEST_CURRENT_TAB}).then(t=>{e(t)})}),copyTextToClipboard=e=>{const t=document.createElement("textarea");t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="2em",t.style.height="2em",t.style.padding="0",t.style.border="none",t.style.outline="none",t.style.boxShadow="none",t.style.background="transparent",t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)},getActiveTab=()=>new Promise(e=>{chrome.tabs.query({active:!0,lastFocusedWindow:!0},t=>{e(t[0])})}),enableProFetures=()=>{_.a.setFeaturesEnabled(Object(i.c)(),!0)},updateSegmentData=async()=>{chrome.storage.local.get([n.h.DEFAULT_SEGMENT_CONFIG],async e=>{var t;const r=e[n.h.DEFAULT_SEGMENT_CONFIG],o=await Object(a.a)();if(null==o?void 0:o.uuid){const e=await fetchWebApi(n.e.GET_USER_SEGMENT,{headers:{id:o.uuid}});if(200===e.status){const a=await e.json(),o=null!=(t=null==r?void 0:r.lastDisplayTime)?t:Date.now()-31*n.x,i={config:a,updateTime:Date.now(),lastDisplayTime:o,lastUpdateTime:Date.now()};chrome.storage.local.set({[n.h.DEFAULT_SEGMENT_CONFIG]:i})}}})},updateLocalSettings=async e=>{const t=await o.c.get(n.h.SETTINGS),r=e.features,a=await E.a.isOptIn();for(const e in r)t[e]=r[e]||!1;e.features.overlays&&!a&&await E.a.optIn(),t.detectOverlays=r.overlays,await _.a.updateSettings(t),e.whitelist&&await o.c.set(n.h.WHITELIST,e.whitelist),e.socialContentKeyWords&&await o.c.set(n.h.SOCIAL_CONTENT_KEYWORDS,e.socialContentKeyWords),e.blockedElements&&await o.c.set(n.h.BLOCKED_ELEMENTS,e.blockedElements)},updateRemoteSettingsData=async()=>{const e=await o.c.getAll(n.h.BLOCKED_ELEMENTS,n.h.SETTINGS,n.h.WHITELIST,n.h.USER),t=e[n.h.WHITELIST],r=e[n.h.SOCIAL_CONTENT_KEYWORDS],u=e[n.h.BLOCKED_ELEMENTS],l=e[n.h.USER],_=e[n.h.SETTINGS],d=null==l?void 0:l.isPremium,{version:f}=getManifest(),E={extensionVersion:f,features:{popups:void 0===_.popups||_.popups,overlays:_.detectOverlays,hideElements:void 0===_.hideElements||_.hideElements,pushNotification:!!_.pushNotification&&_.pushNotification,socialContentBlocker:_.socialContentBlocker},whitelist:t||[],socialContentKeyWords:r||[],blockedElements:u||{}};for(const e of Object(i.c)()){const t=await s.a.getDefault(h.a.onTrialEnded).loadAndUpdate();E.features[e.SettingsKey]=_[e.SettingsKey]&&(d||t.isTrialActive())}const O=await Object(a.a)();await fetch(n.e.SETTINGS,{method:"POST",headers:{"Content-Type":"application/json",id:O.uuid},body:JSON.stringify(E)})},fetchRemoteSettingsData=async()=>{try{const e=await o.c.getAll(n.h.BLOCKED_ELEMENTS,n.h.SETTINGS);let t=e[n.h.SOCIAL_CONTENT_KEYWORDS],r=e[n.h.BLOCKED_ELEMENTS];const s=e[n.h.SETTINGS],l=await Object(a.a)(),_=await Object(u.a)(n.e.SETTINGS,{headers:{id:l.uuid}},200);if(_.ok){const e=await _.json(),a=e.whitelist||[];Object(i.c)().forEach(t=>{s[t.SettingsKey]=e.features[t.SettingsKey]||!1}),s.popups=e.features.popups,s.detectOverlays=e.features.overlays,s.hideElements=e.features.hideElements,s.pushNotification=e.features.pushNotification,s.socialContentBlocker=e.features.socialContentBlocker,t=e.socialContentKeyWords||[],r=e.blockedElements||{},e.features.overlays&&(s.detectOverlays=!0),chrome.storage.local.set({[n.h.SETTINGS]:s,[n.h.WHITELIST]:a,[n.h.SOCIAL_CONTENT_KEYWORDS]:t,[n.h.BLOCKED_ELEMENTS]:r})}}catch(e){}},readLocalSettingsData=async()=>{const e=await s.a.getDefault(h.a.onTrialEnded).loadAndUpdate(),t=await s.a.getDefault(h.a.onTrialEnded).loadAndUpdate(),r=await s.a.getDefault(h.a.onTrialEnded).loadAndUpdate(),a=await s.a.getDefault(h.a.onTrialEnded).loadAndUpdate(),o=await s.a.getDefault(h.a.onTrialEnded).loadAndUpdate(),l=await Object(u.c)();return new Promise(s=>{chrome.storage.local.get([n.h.SETTINGS],u=>{const _=u[n.h.SETTINGS],d=!!l&&l.isPremium,h={popups:{isSelected:_.popups},overlays:{isSelected:_.detectOverlays},hideElements:{isSelected:_.hideElements},pushNotification:{isSelected:_.pushNotification},cookieCrumbler:{isPremium:d,isSelected:_.cookieCrumbler&&d||_.cookieCrumbler&&e.isTrialActive(),inTrialMode:!d&&e.isTrialActive(),trialLeftDays:e&&e.daysLeft||-1,trialEndMode:e&&0===e.daysLeft,feature:i.a.CookieCrumbler},facebookAdds:{isPremium:d,isSelected:_.facebookAdds&&d||_.facebookAdds&&t.isTrialActive(),inTrialMode:!d&&t.isTrialActive(),trialLeftDays:t&&t.daysLeft||-1,trialEndMode:t&&0===t.daysLeft,feature:i.a.SocialBlocker},adsBlocker:{isPremium:d,isSelected:_.adsBlocker&&(d||r.isTrialActive()),inTrialMode:!d&&r.isTrialActive(),trialLeftDays:r&&r.daysLeft||-1,trialEndMode:r&&0===r.daysLeft,feature:i.a.AdsBlocker},youtubeBlocker:{isPremium:d,isSelected:_.youtubeBlocker&&(d||o.isTrialActive()),inTrialMode:!d&&o.isTrialActive(),trialLeftDays:o&&o.daysLeft||-1,trialEndMode:o&&0===o.daysLeft,feature:i.a.YoutubeBlocker},trackersBlocker:{isPremium:d,isSelected:_.trackersBlocker&&(d||a.isTrialActive()),inTrialMode:!d&&a.isTrialActive(),trialLeftDays:a&&a.daysLeft||-1,trialEndMode:a&&0===a.daysLeft,feature:i.a.TrackersBlocker},socialContentBlocker:{isSelected:_.socialContentBlocker}};s(h)})})},updateLocalAndRemoteFeatureSettings=async e=>{const t=await _.a.getSettings();Object(i.c)().forEach(r=>{t[r.SettingsKey]=e[r.SettingsKey]||!1}),t.popups=e.popups||!1,t.detectOverlays=e.overlays||!1,t.pushNotification=e.pushNotification||!1,t.socialContentBlocker=e.socialContentBlocker||!1;const r=await Object(a.a)(),o={features:{popups:t.popups,overlays:t.detectOverlays,hideElements:t.hideElements,pushNotification:t.pushNotification,socialContentBlocker:t.socialContentBlocker}};Object(i.c)().forEach(async e=>{o.features[e.SettingsKey]=t[e.SettingsKey]}),await fetchWebApi(n.e.SETTINGS,{method:"POST",headers:{"Content-Type":"application/json",id:r.uuid},body:JSON.stringify(o)}),_.a.updateSettings(t)},onStartCookieTrial=()=>{sendMessageToWorker({name:n.t.INSERT_COOKIE_FILTERS}),sendToActiveTab(n.t.HIDE_COOKIE_CRUMBLER_PROMO)},roundTime2Digit=e=>e.toString().padStart(2,"0"),timeToString=e=>`${roundTime2Digit(e.hours)}h:${roundTime2Digit(e.minutes)}m:${roundTime2Digit(e.seconds)}s`,parseTime=e=>({days:Math.floor(e/864e5),hours:Math.floor(e%864e5/36e5),minutes:Math.floor(e%36e5/6e4),seconds:Math.floor(e%6e4/1e3)}),isPremium=async()=>{const e=await o.c.get(n.h.USER);return!!(null==e?void 0:e.isPremium)},msToDays=e=>e/n.x,isKeysExists=(e,t)=>e.every(e=>e in t),getDaysPassed=e=>{const t=e,r=Date.now()-t;return Math.floor(msToDays(r))},backgroundSafeExec=(e,t)=>{void 0!==l.a.tabs?e():t()},isPermissionGranted=e=>new Promise(t=>l.a.permissions.contains(e,t)),getAllPermissionGranted=()=>new Promise(e=>l.a.permissions.getAll(e)),requestPermission=e=>new Promise(t=>l.a.permissions.request(e,t)),checkIsPinned=async()=>({isPinned:(await l.a.action.getUserSettings()).isOnToolbar});function cleanDomain(e){if(!e)return e;let t=e.trim();if(/^chrome-extension?:\/\//.test(t))return t;/^https?:\/\//.test(t)||(t="http://"+t);try{return new URL(t).hostname.replace(/^www\d*\./,"")}catch(e){return t}}const openPlansPage=(e="")=>{const t=`${n.r.WEB_APP}/settings?checkout=1&source=${e}`;backgroundSafeExec(()=>chrome.tabs.create({url:t}),()=>window.postMessage({type:n.t.OPEN_EXTENSION_CHECKOUT_MODAL,source:e},"*"))},isAllowedIncognitoAccess=async()=>await l.a.extension.isAllowedIncognitoAccess(),getSocialContentKeywords=async()=>await o.c.get(n.h.SOCIAL_CONTENT_KEYWORDS),getUserStatus=e=>{let t=d.a.Anonymous;return(null==e?void 0:e.id)&&(t=d.a.Free,(null==e?void 0:e.isPremium)&&(t=d.a.Premium)),t},isPremiumUser=e=>!!(null==e?void 0:e.isPremium),generateAnalyticsEventName=(e,t,r)=>`${n.c.PAGE[e]}_${n.c.FEATURE[t]}_${n.c.EVENT_TYPE[r]}`,generateAnalyticsEventAndSendToWorker=(e,t,r,a)=>{let o=void 0;a&&(o={payload:JSON.stringify(a)}),sendMessageToWorker({name:n.t.SEND_ANALYTICS_EVENT,eventType:generateAnalyticsEventName(e,t,r),eventPayload:o})},isExtensionEnabled=async()=>!!!await o.c.get(n.h.PAUSED),onPostLogout=async()=>{const e=await isPremium();await o.c.remove([n.h.USER,n.h.LAST_USER_UPDATE_DATE]),e&&await h.a.clearTrials(),await(async()=>{for(const e of Object(i.c)())await _.a.setFeatureEnabled(e,!1)})(),await updateRemoteSettingsData()},sendMessageToWorkerAndActiveTab=(e,t)=>{sendToWorker({name:e,data:t}),sendToActiveTab(e,t)},isElementInViewport=e=>{const t=e.getBoundingClientRect();if(t.width<=0&&t.height<=0)return!1;const r=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight;return t.top>=0&&t.left>=0&&t.bottom<=n&&t.right<=r},isProductionEnv=()=>!0,getInstallSource=async()=>await o.c.get(n.h.INSTALL_SOURCE),getGlobalShowPremiumHooksFlag=async()=>{const e=!await o.c.get(n.h.GLOBAL_HIDE_PREMIUM_HOOKS),t=await(async(e,t)=>{const r=await sendToWorker({name:n.t.GET_ALL_FEATURES_FLAGS});return e in r?r[e]:t})(n.a.SHOW_HOOKS,!0);return e&&t},sendGoogleForm=async(e,t,r,a,o,i,s)=>{try{await fetch(`${n.r.RATE_US_FORM}?entry.492049526=${s}&entry.1525226020=${e}&entry.375126611=${t}&entry.1913270847=${r}&entry.911859707=${a}&entry.1339946149=${o}&entry.1635427313=${i}`,{method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json"}})}catch(e){}},sendMissedPopupGoogleForm=async(e,t,r,a,o,i)=>{try{const s=o?"Production":"Staging",u=`${n.r.REPORT_MISSED_POPUP_FORM}?entry.1545216463=${i}&entry.791342156=${e}&entry.904998852=${t}&entry.1693153242=${r}&entry.382366330=${a}&entry.422640230=${s}`;await fetch(u,{method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json"}})}catch(e){}},openSettingPage=async()=>{await sendMessageToWorker({name:n.t.OPEN_URL,url:n.r.WEB_APP+"/settings"})},replaceAll=(e,t,r)=>{const n=new RegExp(`\\b${t}\\b`,"gi");return e.replace(n,r)},openReviewPage=()=>{let e="";switch(Object(f.b)()){case f.a.CHROME:e=n.r.REVIEW_CH;break;case f.a.EDGE:e=n.r.REVIEW_EDGE;break;case f.a.FIREFOX:e=n.r.REVIEW_FF}e&&sendMessageToWorker({name:n.t.OPEN_URL,url:e})},openSocialSettingsFromPanel=async()=>{const e=n.r.WEB_APP+"/dashboard/social";await sendMessageToWorker({name:n.t.OPEN_URL,url:e}),window.close()},openSettingsFromPanel=async e=>{const t=`${n.r.WEB_APP}/settings${e?""+e:""}`;await sendMessageToWorker({name:n.t.OPEN_URL,url:t}),window.close()},throttle=(e,t)=>{let r;return(...n)=>{r||(r=setTimeout(()=>{e(...n),r=null},t))}},debounce=(e,t)=>{let r;return(...n)=>{clearTimeout(r),r=setTimeout(()=>{clearTimeout(r),e(...n)},t)}},notifyWebapp=async(e,t={})=>{const r={name:e,data:t};((e,t)=>{l.a.tabs&&l.a.tabs.query({},r=>{r.forEach(r=>{try{r.id&&l.a.tabs.sendMessage(r.id,{name:e,data:t||""})}catch(e){}})})})(n.t.POST_MESSAGE,r)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return Storage}));var n=r(10),a=(e=>(e.Local="local",e.Sync="sync",e))(a||{});class Storage{constructor(e){this.storageAreaName=e}get(e){return new Promise((t,r)=>{this.getAll(e).then(r=>{e||t(r),t(r&&e in r?r[e]:null)}).catch(r)})}getAll(...e){return new Promise((t,r)=>{n.a.storage[this.storageAreaName].get(e,e=>{var a;if(e)t(e);else{const e=null==(a=n.a.runtime)?void 0:a.lastError;e?r(e):t(null)}})})}set(e,t){return new Promise((r,a)=>{n.a.storage[this.storageAreaName].set({[e]:t},()=>{var e;const t=null==(e=n.a.runtime)?void 0:e.lastError;t?a(t):r()})})}remove(e){return new Promise((t,r)=>{let a=0;e.forEach(o=>{n.a.storage[this.storageAreaName].remove(o,()=>{var o;const i=null==(o=n.a.runtime)?void 0:o.lastError;i?r(i):++a==e.length&&t()})})})}}new Storage("sync");const o=new Storage("local");t.c=o},function(e,t,r){"use strict";r.d(t,"g",(function(){return getI18N})),r.d(t,"q",(function(){return sendGAEvent})),r.d(t,"r",(function(){return sendMessageToWorker})),r.d(t,"t",(function(){return sendToWorker})),r.d(t,"h",(function(){return getManifest})),r.d(t,"s",(function(){return sendToActiveTab})),r.d(t,"i",(function(){return getTabById})),r.d(t,"v",(function(){return updateRemoteSettingsData})),r.d(t,"k",(function(){return isPremium})),r.d(t,"m",(function(){return msToDays})),r.d(t,"d",(function(){return getDaysPassed})),r.d(t,"a",(function(){return backgroundSafeExec})),r.d(t,"b",(function(){return checkIsPinned})),r.d(t,"c",(function(){return cleanDomain})),r.d(t,"p",(function(){return openPlansPage})),r.d(t,"j",(function(){return isExtensionEnabled})),r.d(t,"o",(function(){return onPostLogout})),r.d(t,"l",(function(){return isProductionEnv})),r.d(t,"e",(function(){return getFeatureFlag})),r.d(t,"f",(function(){return getGlobalShowPremiumHooksFlag})),r.d(t,"u",(function(){return throttle})),r.d(t,"n",(function(){return notifyWebapp}));var n=r(1),a=r(38),o=r(5),i=r(17),s=r(19),u=(r(35),r(10)),l=r(26),_=r(25);r(14),r(41),r(11);const getI18N=(e,t)=>chrome.i18n.getMessage(e)||chrome.i18n.getMessage(t||e)||e,sendGAEvent=(e,t,r,a)=>new Promise(o=>{chrome.runtime.sendMessage({name:n.o.GA_EVENT,category:e,action:t,label:r,isCount:a},()=>o())}),sendMessageToWorker=e=>new Promise(t=>{u.a.runtime.sendMessage(e,e=>t(e))}),sendToWorker=e=>new Promise(t=>{u.a.runtime.sendMessage(e,e=>t(e))}),getManifest=()=>chrome.runtime.getManifest(),sendToActiveTab=(e,t)=>{chrome.tabs&&chrome.tabs.query({active:!0,lastFocusedWindow:!0},(function(r){const n=r&&r[0]&&r[0].id;n&&chrome.tabs.sendMessage(n,{name:e,data:t||""})}))},getTabById=async(e,{currentWindow:t}={currentWindow:!0})=>new Promise(r=>{chrome.tabs.query(t?{currentWindow:t}:{},t=>{const n=t.find(t=>t.id===e);r(n||null)})}),updateRemoteSettingsData=async()=>{const e=await o.c.getAll(n.h.BLOCKED_ELEMENTS,n.h.SETTINGS,n.h.WHITELIST,n.h.USER),t=e[n.h.WHITELIST],r=e[n.h.SOCIAL_CONTENT_KEYWORDS],u=e[n.h.BLOCKED_ELEMENTS],l=e[n.h.USER],d=e[n.h.SETTINGS],h=null==l?void 0:l.isPremium,{version:f}=getManifest(),E={extensionVersion:f,features:{popups:void 0===d.popups||d.popups,overlays:d.detectOverlays,hideElements:void 0===d.hideElements||d.hideElements,pushNotification:!!d.pushNotification&&d.pushNotification,socialContentBlocker:d.socialContentBlocker},whitelist:t||[],socialContentKeyWords:r||[],blockedElements:u||{}};for(const e of Object(i.c)()){const t=await s.a.getDefault(_.a.onTrialEnded).loadAndUpdate();E.features[e.SettingsKey]=d[e.SettingsKey]&&(h||t.isTrialActive())}const O=await Object(a.a)();await fetch(n.f.SETTINGS,{method:"POST",headers:{"Content-Type":"application/json",id:O.uuid},body:JSON.stringify(E)})},isPremium=async()=>{const e=await o.c.get(n.h.USER);return!!(null==e?void 0:e.isPremium)},msToDays=e=>e/n.q,getDaysPassed=e=>{const t=e,r=Date.now()-t;return Math.floor(msToDays(r))},backgroundSafeExec=(e,t)=>{void 0!==u.a.tabs?e():t()},checkIsPinned=async()=>({isPinned:(await u.a.action.getUserSettings()).isOnToolbar});function cleanDomain(e){if(!e)return e;let t=e.trim();if(/^chrome-extension?:\/\//.test(t))return t;/^https?:\/\//.test(t)||(t="http://"+t);try{return new URL(t).hostname.replace(/^www\d*\./,"")}catch(e){return t}}const openPlansPage=(e="")=>{const t=`${n.n.WEB_APP}/settings?checkout=1&source=${e}`;backgroundSafeExec(()=>chrome.tabs.create({url:t}),()=>window.postMessage({type:n.o.OPEN_EXTENSION_CHECKOUT_MODAL,source:e},"*"))},isExtensionEnabled=async()=>!!!await o.c.get(n.h.PAUSED),onPostLogout=async()=>{const e=await isPremium();await o.c.remove([n.h.USER,n.h.LAST_USER_UPDATE_DATE]),e&&await _.a.clearTrials(),await(async()=>{for(const e of Object(i.c)())await l.a.setFeatureEnabled(e,!1)})(),await updateRemoteSettingsData()},isProductionEnv=()=>!0,getFeatureFlag=async(e,t)=>{const r=await sendToWorker({name:n.o.GET_ALL_FEATURES_FLAGS});return e in r?r[e]:t},getGlobalShowPremiumHooksFlag=async()=>{const e=!await o.c.get(n.h.GLOBAL_HIDE_PREMIUM_HOOKS),t=await getFeatureFlag(n.a.SHOW_HOOKS,!0);return e&&t},throttle=(e,t)=>{let r;return(...n)=>{r||(r=setTimeout(()=>{e(...n),r=null},t))}},notifyWebapp=async(e,t={})=>{const r={name:e,data:t};((e,t)=>{u.a.tabs&&u.a.tabs.query({},r=>{r.forEach(r=>{try{r.id&&u.a.tabs.sendMessage(r.id,{name:e,data:t||""})}catch(e){}})})})(n.o.POST_MESSAGE,r)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return Storage}));var n=r(8),a=(e=>(e.Local="local",e.Sync="sync",e))(a||{});class Storage{constructor(e){this.storageAreaName=e}get(e){return new Promise((t,r)=>{this.getAll(e).then(r=>{e||t(r),t(r&&e in r?r[e]:null)}).catch(r)})}getAll(...e){return new Promise((t,r)=>{n.a.storage[this.storageAreaName].get(e,e=>{var a;if(e)t(e);else{const e=null==(a=n.a.runtime)?void 0:a.lastError;e?r(e):t(null)}})})}set(e,t){return new Promise((r,a)=>{n.a.storage[this.storageAreaName].set({[e]:t},()=>{var e;const t=null==(e=n.a.runtime)?void 0:e.lastError;t?a(t):r()})})}remove(e){return new Promise((t,r)=>{let a=0;e.forEach(o=>{n.a.storage[this.storageAreaName].remove(o,()=>{var o;const i=null==(o=n.a.runtime)?void 0:o.lastError;i?r(i):++a==e.length&&t()})})})}}new Storage("sync");const o=new Storage("local");t.c=o},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));const n=["Chrome","Opera","Edge","SamsungBrowser","YaBrowser"],a=["Firefox","Safari","MSIE"],o=(()=>{for(const e of n)if(navigator.userAgent.indexOf(e)>-1)return!0;return!1})()?chrome:(()=>{for(const e of a)if(navigator.userAgent.indexOf(e)>-1)return!0;return!1})()?browser:{runtime:{sendMessage:()=>{}}}},function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return o})),r.d(t,"c",(function(){return getPremiumFeaturesList})),r.d(t,"d",(function(){return isFeatureEquals})),r.d(t,"e",(function(){return isPremiumFeature}));var n=r(0);const a="tState",o={SocialBlocker:{Name:"SocialBlocker",SettingsKey:"facebookAdds",QuickSettings:{QuickSettingsId:n.m.FACEBOOK,QuickSettingsTitleId:"settingsSocialAd"},HasTrial:!0,Style:{"margin-top":"43px"},ImgURL:"images/facebook-cta.svg",TitleStrId:"facebookadsBlocked",StartTrialBtnStrId:"startTrialFacebookBtn",EndTrialBtnStrId:"startTrialFacebookBtn",EndTrialLottieFile:n.d.FACEBOOK_END,TotalBlocksKeys:["fbAd","linkedinAd","twitterAd","instagramAd"],ShowDailyPromo:!1,Analytics:{EndTrialEvent:n.c.ANALYTICS_EVENT_TYPES.SOCIAL_BLOCKER_TRIAL_OVER_PROMOTION_VIEW,PromoView:n.c.ANALYTICS_EVENT_TYPES.SOCIAL_BLOCKER_INTRIAL_PROMOTION_VIEW,PromoNotificationClick:n.c.ANALYTICS_EVENT_TYPES.SOCIAL_BLOCKER_TRIAL_PROMOTION_NOTIFICATION_CLICK,PromoDiscountClick:n.c.ANALYTICS_EVENT_TYPES.CLICK_SOCIAL_BLOCKER_PROMOTION_DISCOUNT}},CookieCrumbler:{Name:"CookieCrumbler",SettingsKey:"cookieCrumbler",QuickSettings:{QuickSettingsId:n.m.COOKIE_CRUMBLER,QuickSettingsTitleId:"settingsCookie"},HasTrial:!0,Style:{"margin-top":"23px"},ImgURL:"images/cookie-blocked.svg",TitleStrId:"cookiesBlocked",StartTrialBtnStrId:"startTrialcookiesBtn",EndTrialBtnStrId:"removeCookieForAllGood",EndTrialLottieFile:n.d.COOKIE,TotalBlocksKeys:["cookie"],ShowDailyPromo:!1,Analytics:{EndTrialEvent:n.c.ANALYTICS_EVENT_TYPES.COOKIE_CRUMBLER_END_OF_TRIAL,PromoView:n.c.ANALYTICS_EVENT_TYPES.COOKIE_CRUMBLER_IN_TRIAL,PromoNotificationClick:n.c.ANALYTICS_EVENT_TYPES.COOKIE_CRUMBLER_TRIAL_PROMOTION_NOTIFICATION_CLICK,PromoDiscountClick:n.c.ANALYTICS_EVENT_TYPES.CLICK_COOKIE_PROMOTION_DISCOUNT}},AdsBlocker:{Name:"AdsBlocker",SettingsKey:"adsBlocker",QuickSettings:{QuickSettingsId:"adsBlocker",QuickSettingsTitleId:"settingsAdsBlocker"},HasTrial:!0,TotalBlocksKeys:["ad"],ImgURL:"images/facebook-cta.svg",TitleStrId:"facebookadsBlocked",StartTrialBtnStrId:"startTrialFacebookBtn",EndTrialBtnStrId:"startTrialFacebookBtn",EndTrialLottieFile:n.d.FACEBOOK_END,ShowDailyPromo:!1,Analytics:{HookShow:n.c.ANALYTICS_EVENT_TYPES.ADSBLOCKER_HOOK_SHOW,HookShowPostTrial:n.c.ANALYTICS_EVENT_TYPES.ADSBLOCKER_HOOK_SHOW_POSTTRIAL,HookClick:n.c.ANALYTICS_EVENT_TYPES.ADSBLOCKER_HOOK_CLICK,HookClickPostTrial:n.c.ANALYTICS_EVENT_TYPES.ADSBLOCKER_HOOK_CLICK_POSTTRIAL,HookDismiss:n.c.ANALYTICS_EVENT_TYPES.ADSBLOCKER_HOOK_DISMISS,HookDismissPostTrial:n.c.ANALYTICS_EVENT_TYPES.ADSBLOCKER_HOOK_DISMISS_POSTTRIAL}},YoutubeBlocker:{Name:"YoutubeBlocker",SettingsKey:"youtubeBlocker",QuickSettings:{QuickSettingsId:"youtubeBlocker",QuickSettingsTitleId:"settingsYoutubeAdsBlocker"},HasTrial:!0,TotalBlocksKeys:["youtubeAd"],ImgURL:"images/facebook-cta.svg",TitleStrId:"facebookadsBlocked",StartTrialBtnStrId:"startTrialFacebookBtn",EndTrialBtnStrId:"startTrialFacebookBtn",EndTrialLottieFile:n.d.FACEBOOK_END,ShowDailyPromo:!1,Analytics:{HookShow:n.c.ANALYTICS_EVENT_TYPES.YOUTUBE_VIDEO_HOOK_SHOW,HookShowPostTrial:n.c.ANALYTICS_EVENT_TYPES.YOUTUBE_VIDEO_HOOK_SHOW_POSTTRIAL,HookClick:n.c.ANALYTICS_EVENT_TYPES.YOUTUBE_VIDEO_HOOK_CLICK,HookClickPostTrial:n.c.ANALYTICS_EVENT_TYPES.YOUTUBE_VIDEO_HOOK_CLICK_POSTTRIAL,HookDismiss:n.c.ANALYTICS_EVENT_TYPES.YOUTUBE_VIDEO_HOOK_DISMISS,HookDismissPostTrial:n.c.ANALYTICS_EVENT_TYPES.YOUTUBE_VIDEO_HOOK_DISMISS_POSTTRIAL}},TrackersBlocker:{Name:"TrackersBlocker",SettingsKey:"trackersBlocker",QuickSettings:{QuickSettingsId:"trackersBlocker",QuickSettingsTitleId:"settingsTrackersBlocker"},HasTrial:!0,TotalBlocksKeys:["tracker"],ImgURL:"images/facebook-cta.svg",TitleStrId:"trackersBlockerSettingsTitle",EndTrialLottieFile:n.d.FACEBOOK_END,Analytics:{}}},getPremiumFeaturesList=()=>Object.keys(o).map(e=>o[e]),isFeatureEquals=(e,t)=>e.Name===t.Name,isPremiumFeature=e=>getPremiumFeaturesList().some(t=>isFeatureEquals(t,e))},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));const n=["Chrome","Opera","Edge","SamsungBrowser","YaBrowser"],a=["Firefox","Safari","MSIE"],o=(()=>{for(const e of n)if(navigator.userAgent.indexOf(e)>-1)return!0;return!1})()?chrome:(()=>{for(const e of a)if(navigator.userAgent.indexOf(e)>-1)return!0;return!1})()?browser:{runtime:{sendMessage:()=>{}}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return fetchWebApi}));const fetchWebApi=(e,t={})=>fetch(e,t)},,function(e,t,r){"use strict";r.d(t,"a",(function(){return E}));var n=r(9),a=r(22),o=r(4),i=r(0),s=Object.defineProperty,u=Object.defineProperties,l=Object.getOwnPropertyDescriptors,_=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,r)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const f=class extends a.a{constructor(e){super(),this.onTrialEnded=e,this.state=0,this.startTime=-1,this.lastDisplayed=-1,this.doNotShowAgain=!1,this.lastDisplayedPromo=-1,this.daysLeft=i.l}async loadAndUpdate(){return await super.load(),await this.updateState(),this}getRaw(){return((e,t)=>u(e,l(t)))(((e,t)=>{for(var r in t||(t={}))d.call(t,r)&&__defNormalProp(e,r,t[r]);if(_)for(var r of _(t))h.call(t,r)&&__defNormalProp(e,r,t[r]);return e})({},this.toDTO()),{v:this.getVersion()})}getDaysLeft(){return i.l-Object(o.o)(this.startTime)}daysSinceDisplayedHook(){const e=Date.now(),t=this.lastDisplayed<0?e:this.lastDisplayed;return Object(o.H)(e-t)}daysSinceDisplayedPromo(){const e=Date.now(),t=this.lastDisplayedPromo<0?e:this.lastDisplayedPromo;return Object(o.H)(e-t)}daysSinceStarted(){const e=Date.now(),t=this.startTime<0?e:this.startTime;return Object(o.H)(e-t)}isTrialActive(){return 1===this.state}isTrialEnded(){return 2===this.state}isTrialStarted(){return this.isTrialActive()&&!this.isTrialEnded()}isTrialPending(){return 0===this.state}async updateState(){if(!this.isTrialActive()||this.daysLeft<=0)return;this.isTrialActive()?this.state=1:this.isTrialEnded()&&(this.state=2);const e=this.daysLeft,t=Object(o.o)(this.startTime);this.daysLeft=i.l-t;let r=!1;e!==this.daysLeft&&(r=!0),this.daysLeft<=0&&(this.endTrial(),r=!0),r&&this.save()}async enable(){return this.isTrialActive()||this.isTrialEnded()||(this.startTime=Date.now(),this.state=1,this.lastDisplayed=0,await this.save()),this}async endTrial(){return this.isTrialEnded()||!this.isTrialActive()||(this.daysLeft=0,this.state=2,this.doNotShowAgain=!1,await this.save(),this.onTrialEnded()),this}toDTO(){return{startTime:this.startTime,daysLeft:this.daysLeft,lastDisplayed:this.lastDisplayed,state:this.state,doNotShowAgain:this.doNotShowAgain,lastDisplayedPromo:this.lastDisplayedPromo}}getKey(){return n.b}getLegacyKeys(){return[]}getVersion(){return 2}async migrate(e){if(0===e){const e=this;if("active"in e){const t=Object(o.o)(this.startTime)>=i.l;this.state=t?2:e.active?1:0}}}};let E=f;E.getDefault=e=>new f(e)},function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return getBrowserName}));var n=(e=>(e.CHROME="chrome",e.FIREFOX="firefox",e.OPERA="opera",e.EDGE="edge",e.SAFARI="safari",e.UNKNOWN="unknown",e))(n||{});const getBrowserName=()=>{try{const e=navigator.userAgent;if(e.match(/opera|opr\//i))return"opera";if(e.match(/firefox|fxios/i))return"firefox";if(e.match(/edg/i))return"edge";if(e.match(/safari/i)&&!e.match(/chrome|chromium|crios/i))return"safari";if(e.match(/chrome|chromium|crios/i))return"chrome"}catch(e){}return"unknown"}},function(e,t,r){"use strict";var n=r(0),a=r(4),o=r(9),i=r(13),s=r(20),u=Object.defineProperty,l=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,r)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,__spreadValues=(e,t)=>{for(var r in t||(t={}))_.call(t,r)&&__defNormalProp(e,r,t[r]);if(l)for(var r of l(t))d.call(t,r)&&__defNormalProp(e,r,t[r]);return e};t.a=new class PremiumManager{async startPremiumFeature(e=""){return await Object(a.E)()||Object(a.L)(e),!1}async shouldShowDailyPromo(){const e=await i.a.getDefault(this.onTrialEnded).loadAndUpdate();return e.isTrialStarted()&&!e.isTrialEnded()&&e.daysSinceDisplayedPromo()>=1}async shouldShowEndPromo(){const e=await i.a.getDefault(this.onTrialEnded).loadAndUpdate(),t=e.startTime+n.l*n.x,r=e.lastDisplayedPromo>t;return e.isTrialEnded()&&!r}async updateHookDisplayTime(){const e=await i.a.getDefault(this.onTrialEnded).loadAndUpdate();e.lastDisplayed=Date.now(),await e.save()}async updatePromoDisplayTime(){const e=await i.a.getDefault(this.onTrialEnded).loadAndUpdate();e.lastDisplayedPromo=Date.now(),await e.save()}async showTrialPromoIfNeeded(e,t){if(await Object(a.E)())return;const r=await this.shouldShowDailyPromo()&&e.ShowDailyPromo,o=await this.shouldShowEndPromo(),i=t||{};i.isShowDailyPromo=r,i.isShowEndPromo=o,(r||o)&&Object(a.a)(()=>{Object(a.Z)(n.t.SHOW_TRIAL_PROMO,{feature:e,extras:i}),this.updatePromoDisplayTime()},()=>Object(a.bb)({name:n.t.SHOW_TRIAL_PROMO,data:{feature:e,extras:i}}))}async getFeaturesTrialState(){let e;for(const t of Object(o.c)()){const r=await i.a.getDefault(this.onTrialEnded).loadAndUpdate();e=__spreadValues({[t.Name]:{TrialState:r.state,TrialLeftDays:r.getDaysLeft()}},e)}return e}async isPremiumFeatureAvailable(e){const t=await i.a.getDefault(this.onTrialEnded).load();return await Object(a.E)()||e.HasTrial&&t.isTrialActive()}async clearTrials(){await i.a.getDefault(this.onTrialEnded).save()}async onTrialEnded(){if(!await Object(a.E)())for(const e of Object(o.c)())await s.a.setFeatureEnabled(e,!1)}async getTrialEntity(){return await i.a.getDefault(this.onTrialEnded).loadAndUpdate()}}},function(e,t,r){"use strict";r.d(t,"b",(function(){return isObject})),r.d(t,"c",(function(){return isString})),r.d(t,"a",(function(){return getRecordEntries}));const isObject=e=>null!=e&&"object"==typeof e,isString=e=>null!=e&&"string"==typeof e,getRecordEntries=e=>Object.entries(e)},function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return o})),r.d(t,"c",(function(){return getPremiumFeaturesList})),r.d(t,"d",(function(){return isPremiumFeature}));var n=r(1);const a="tState",o={SocialBlocker:{Name:"SocialBlocker",SettingsKey:"facebookAdds",QuickSettings:{QuickSettingsId:n.k.FACEBOOK,QuickSettingsTitleId:"settingsSocialAd"},HasTrial:!0,Style:{"margin-top":"43px"},ImgURL:"images/facebook-cta.svg",TitleStrId:"facebookadsBlocked",StartTrialBtnStrId:"startTrialFacebookBtn",EndTrialBtnStrId:"startTrialFacebookBtn",EndTrialLottieFile:n.e.FACEBOOK_END,TotalBlocksKeys:["fbAd","linkedinAd","twitterAd","instagramAd"],ShowDailyPromo:!1,Analytics:{EndTrialEvent:n.d.ANALYTICS_EVENT_TYPES.SOCIAL_BLOCKER_TRIAL_OVER_PROMOTION_VIEW,PromoView:n.d.ANALYTICS_EVENT_TYPES.SOCIAL_BLOCKER_INTRIAL_PROMOTION_VIEW,PromoNotificationClick:n.d.ANALYTICS_EVENT_TYPES.SOCIAL_BLOCKER_TRIAL_PROMOTION_NOTIFICATION_CLICK,PromoDiscountClick:n.d.ANALYTICS_EVENT_TYPES.CLICK_SOCIAL_BLOCKER_PROMOTION_DISCOUNT}},CookieCrumbler:{Name:"CookieCrumbler",SettingsKey:"cookieCrumbler",QuickSettings:{QuickSettingsId:n.k.COOKIE_CRUMBLER,QuickSettingsTitleId:"settingsCookie"},HasTrial:!0,Style:{"margin-top":"23px"},ImgURL:"images/cookie-blocked.svg",TitleStrId:"cookiesBlocked",StartTrialBtnStrId:"startTrialcookiesBtn",EndTrialBtnStrId:"removeCookieForAllGood",EndTrialLottieFile:n.e.COOKIE,TotalBlocksKeys:["cookie"],ShowDailyPromo:!1,Analytics:{EndTrialEvent:n.d.ANALYTICS_EVENT_TYPES.COOKIE_CRUMBLER_END_OF_TRIAL,PromoView:n.d.ANALYTICS_EVENT_TYPES.COOKIE_CRUMBLER_IN_TRIAL,PromoNotificationClick:n.d.ANALYTICS_EVENT_TYPES.COOKIE_CRUMBLER_TRIAL_PROMOTION_NOTIFICATION_CLICK,PromoDiscountClick:n.d.ANALYTICS_EVENT_TYPES.CLICK_COOKIE_PROMOTION_DISCOUNT}},AdsBlocker:{Name:"AdsBlocker",SettingsKey:"adsBlocker",QuickSettings:{QuickSettingsId:"adsBlocker",QuickSettingsTitleId:"settingsAdsBlocker"},HasTrial:!0,TotalBlocksKeys:["ad"],ImgURL:"images/facebook-cta.svg",TitleStrId:"facebookadsBlocked",StartTrialBtnStrId:"startTrialFacebookBtn",EndTrialBtnStrId:"startTrialFacebookBtn",EndTrialLottieFile:n.e.FACEBOOK_END,ShowDailyPromo:!1,Analytics:{HookShow:n.d.ANALYTICS_EVENT_TYPES.ADSBLOCKER_HOOK_SHOW,HookShowPostTrial:n.d.ANALYTICS_EVENT_TYPES.ADSBLOCKER_HOOK_SHOW_POSTTRIAL,HookClick:n.d.ANALYTICS_EVENT_TYPES.ADSBLOCKER_HOOK_CLICK,HookClickPostTrial:n.d.ANALYTICS_EVENT_TYPES.ADSBLOCKER_HOOK_CLICK_POSTTRIAL,HookDismiss:n.d.ANALYTICS_EVENT_TYPES.ADSBLOCKER_HOOK_DISMISS,HookDismissPostTrial:n.d.ANALYTICS_EVENT_TYPES.ADSBLOCKER_HOOK_DISMISS_POSTTRIAL}},YoutubeBlocker:{Name:"YoutubeBlocker",SettingsKey:"youtubeBlocker",QuickSettings:{QuickSettingsId:"youtubeBlocker",QuickSettingsTitleId:"settingsYoutubeAdsBlocker"},HasTrial:!0,TotalBlocksKeys:["youtubeAd"],ImgURL:"images/facebook-cta.svg",TitleStrId:"facebookadsBlocked",StartTrialBtnStrId:"startTrialFacebookBtn",EndTrialBtnStrId:"startTrialFacebookBtn",EndTrialLottieFile:n.e.FACEBOOK_END,ShowDailyPromo:!1,Analytics:{HookShow:n.d.ANALYTICS_EVENT_TYPES.YOUTUBE_VIDEO_HOOK_SHOW,HookShowPostTrial:n.d.ANALYTICS_EVENT_TYPES.YOUTUBE_VIDEO_HOOK_SHOW_POSTTRIAL,HookClick:n.d.ANALYTICS_EVENT_TYPES.YOUTUBE_VIDEO_HOOK_CLICK,HookClickPostTrial:n.d.ANALYTICS_EVENT_TYPES.YOUTUBE_VIDEO_HOOK_CLICK_POSTTRIAL,HookDismiss:n.d.ANALYTICS_EVENT_TYPES.YOUTUBE_VIDEO_HOOK_DISMISS,HookDismissPostTrial:n.d.ANALYTICS_EVENT_TYPES.YOUTUBE_VIDEO_HOOK_DISMISS_POSTTRIAL}},TrackersBlocker:{Name:"TrackersBlocker",SettingsKey:"trackersBlocker",QuickSettings:{QuickSettingsId:"trackersBlocker",QuickSettingsTitleId:"settingsTrackersBlocker"},HasTrial:!0,TotalBlocksKeys:["tracker"],ImgURL:"images/facebook-cta.svg",TitleStrId:"trackersBlockerSettingsTitle",EndTrialLottieFile:n.e.FACEBOOK_END,Analytics:{}}},getPremiumFeaturesList=()=>Object.keys(o).map(e=>o[e]),isPremiumFeature=e=>getPremiumFeaturesList().some(t=>{return r=e,t.Name===r.Name;var r})},,function(e,t,r){"use strict";r.d(t,"a",(function(){return E}));var n=r(17),a=r(39),o=r(6),i=r(1),s=Object.defineProperty,u=Object.defineProperties,l=Object.getOwnPropertyDescriptors,_=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,r)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const f=class extends a.a{constructor(e){super(),this.onTrialEnded=e,this.state=0,this.startTime=-1,this.lastDisplayed=-1,this.doNotShowAgain=!1,this.lastDisplayedPromo=-1,this.daysLeft=i.j}async loadAndUpdate(){return await super.load(),await this.updateState(),this}getRaw(){return((e,t)=>u(e,l(t)))(((e,t)=>{for(var r in t||(t={}))d.call(t,r)&&__defNormalProp(e,r,t[r]);if(_)for(var r of _(t))h.call(t,r)&&__defNormalProp(e,r,t[r]);return e})({},this.toDTO()),{v:this.getVersion()})}getDaysLeft(){return i.j-Object(o.d)(this.startTime)}daysSinceDisplayedHook(){const e=Date.now(),t=this.lastDisplayed<0?e:this.lastDisplayed;return Object(o.m)(e-t)}daysSinceDisplayedPromo(){const e=Date.now(),t=this.lastDisplayedPromo<0?e:this.lastDisplayedPromo;return Object(o.m)(e-t)}daysSinceStarted(){const e=Date.now(),t=this.startTime<0?e:this.startTime;return Object(o.m)(e-t)}isTrialActive(){return 1===this.state}isTrialEnded(){return 2===this.state}isTrialStarted(){return this.isTrialActive()&&!this.isTrialEnded()}isTrialPending(){return 0===this.state}async updateState(){if(!this.isTrialActive()||this.daysLeft<=0)return;this.isTrialActive()?this.state=1:this.isTrialEnded()&&(this.state=2);const e=this.daysLeft,t=Object(o.d)(this.startTime);this.daysLeft=i.j-t;let r=!1;e!==this.daysLeft&&(r=!0),this.daysLeft<=0&&(this.endTrial(),r=!0),r&&this.save()}async enable(){return this.isTrialActive()||this.isTrialEnded()||(this.startTime=Date.now(),this.state=1,this.lastDisplayed=0,await this.save()),this}async endTrial(){return this.isTrialEnded()||!this.isTrialActive()||(this.daysLeft=0,this.state=2,this.doNotShowAgain=!1,await this.save(),this.onTrialEnded()),this}toDTO(){return{startTime:this.startTime,daysLeft:this.daysLeft,lastDisplayed:this.lastDisplayed,state:this.state,doNotShowAgain:this.doNotShowAgain,lastDisplayedPromo:this.lastDisplayedPromo}}getKey(){return n.b}getLegacyKeys(){return[]}getVersion(){return 2}async migrate(e){if(0===e){const e=this;if("active"in e){const t=Object(o.d)(this.startTime)>=i.j;this.state=t?2:e.active?1:0}}}};let E=f;E.getDefault=e=>new f(e)},function(e,t,r){"use strict";var n=r(9),a=r(0),o=r(7),i=r(15),s=r(4),u=Object.defineProperty,l=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,r)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,__spreadValues=(e,t)=>{for(var r in t||(t={}))_.call(t,r)&&__defNormalProp(e,r,t[r]);if(l)for(var r of l(t))d.call(t,r)&&__defNormalProp(e,r,t[r]);return e};t.a=new class SettingsHelper{constructor(){this.setFeatureEnabled=async(e,t,r=!0)=>{let o=t;if(o&&Object(n.e)(e)){const t=await i.a.isPremiumFeatureAvailable(e);o=o&&t}const u={};return u[e.SettingsKey]=o,r&&(await this.updateSettings(u),Object(s.bb)({name:a.t.SETTINGS_CHANGED,data:{feature:e,value:t}})),u},this.setFeaturesEnabled=async(e,t)=>{let r={};for(const n of e){const e=await this.setFeatureEnabled(n,t,!1);r=__spreadValues(__spreadValues({},r),e),Object(s.bb)({name:a.t.SETTINGS_CHANGED,data:{feature:n,value:t}})}await this.updateSettings(r)},this.isFeatureEnabled=async e=>{const t=await o.c.get(a.h.SETTINGS);return!(!t||!(e.SettingsKey in t))&&t[e.SettingsKey]},this.updateSettings=async e=>{const t=await o.c.get(a.h.SETTINGS),r=__spreadValues(__spreadValues({},t),e);o.c.set(a.h.SETTINGS,r).then(()=>{Object(s.bb)({name:a.t.SETTINGS_CHANGED})})},this.getSettings=async()=>o.c.get(a.h.SETTINGS)}}},function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return OptEntity}));var n=r(0),a=r(22),o=r(7),i=(e=>(e[e.UNKNOWN=-1]="UNKNOWN",e[e.OUT=0]="OUT",e[e.IN=1]="IN",e))(i||{});class OptEntity extends a.a{constructor(){super(...arguments),this.state=-1}getKey(){return n.h.OPT}getLegacyKeys(){return[]}toDTO(){return{state:this.state}}getVersion(){return 1}migrate(e){if(!(e>0))return new Promise(e=>{o.c.get(n.h.SETTINGS).then(t=>{t&&void 0!==t.isOptIn?this.state=t.isOptIn?1:0:this.state=-1,e()})})}static async getOrCreate(){return await(new OptEntity).load()}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return Entity}));var n=r(7);class Entity{constructor(e=new n.b(n.a.Local)){this.storage=e}async load(){const e=[...this.getLegacyKeys(),this.getKey()].filter(e=>void 0!==e);if(!e)return this;const t=await this.storage.getAll(...e);return t?(this.getLegacyKeys().filter(e=>e in t).forEach(e=>{this.mergeObject(t[e])}),this.getKey()in t&&this.mergeObject(t[this.getKey()]),(!this.v||this.v<this.getVersion())&&(await this.migrate(this.v?this.v:0),await this.save()),this):this}async save(){const e=Object.assign({},this.toDTO(),{v:this.getVersion()});return this.storage.set(this.getKey(),e)}mergeObject(e){Object.keys(e).forEach(t=>{this[t]=e[t]})}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return fetchWithTokenRefreshIfNeeded})),r.d(t,"b",(function(){return getUser})),r.d(t,"e",(function(){return updateUserInfo})),r.d(t,"d",(function(){return logoutWebApp})),r.d(t,"c",(function(){return getUserInfo}));var n=r(0),a=r(5),o=r(11);const fetchWithTokenRefreshIfNeeded=async(e,t,r)=>{const a=await Object(o.a)(e,t);if(a.status===r)return a;if(401===a.status){if(204===(await Object(o.a)(n.e.REFRESH,{method:"POST",headers:{"Content-Type":"application/json"}})).status){const n=await Object(o.a)(e,t);if(n.status===r)return n}return{status:a.status,message:a.statusText}}},getUser=async()=>{try{const e=await fetchWithTokenRefreshIfNeeded(n.e.GET_USER,{},200);if(200===e.status){const t=await e.json();return await a.c.set(n.h.USER,t.user),await a.c.set(n.h.LAST_USER_UPDATE_DATE,Date.now()),t.user||null}throw new Error(`Failed to get user. Response status: '${e.status}'`)}catch(e){return await a.c.remove([n.h.LAST_USER_UPDATE_DATE]),null}},updateUserInfo=async()=>{if(!await a.c.get(n.h.USER))return;const e=await a.c.get(n.h.LAST_USER_UPDATE_DATE);(!e||Date.now()-e>=n.N)&&await getUser()},logoutWebApp=async()=>200===(await Object(o.a)(n.e.LOGOUT)).status,getUserInfo=()=>a.c.get(n.h.USER)},function(e,t,r){"use strict";r.d(t,"a",(function(){return getOrInitAnalyticsInfo})),r.d(t,"b",(function(){return syncAnalyticsInfoWithWebApp}));var n=r(23),a=r(14),o=r(1),i=r(16),s=r(51);const getLocale=()=>{const e=chrome.i18n.getUILanguage().replace("_","-");return e.length<7?e:"en-US"},getUserAgent=()=>{switch(Object(a.b)()){case a.a.CHROME:return"Chrome";case a.a.FIREFOX:return"Firefox";case a.a.EDGE:return"Microsoft Edge";case a.a.OPERA:return"Opera";case a.a.SAFARI:return"Safari";case a.a.UNKNOWN:return"Unknown"}},uuidToAnalyticsInfo=e=>({uuid:e,country:getLocale(),resource:o.d.ANALYTICS_RESOURCE_TYPES.ORGANIC,user_agent:getUserAgent()}),isValidUuid=e=>Object(i.c)(e)&&Object(s.a)(e);var u=r(11);const getAnalyticsInfoFromWebApp=async()=>{try{const e=await Object(u.a)(o.f.ANALYTIC_INFO);if(200!==e.status)throw new Error("Invalid response status");const t=await e.json();if(!(e=>Object(i.b)(e)&&("uuid"in e&&"string"==typeof e.uuid||!("uuid"in e)))(t))throw new Error("Invalid response");return isValidUuid(t.uuid)?uuidToAnalyticsInfo(t.uuid):void 0}catch(e){return}},syncAnalyticsInfoWithWebApp=async({uuid:e})=>{try{await Object(u.a)(o.f.ANALYTIC_INFO,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uuid:e})})}catch(e){return Promise.resolve()}};var l=r(98),_=r(5);const isAnalyticsInfo=e=>Object(i.b)(e)&&"uuid"in e&&isValidUuid(e.uuid)&&"country"in e&&Object(i.c)(e.country)&&"resource"in e&&Object(i.c)(e.resource)&&"user_agent"in e&&Object(i.c)(e.user_agent),getAnalyticsInfoFromStorage=async e=>{try{const t=await new _.b(e).get(o.d.ANALYTICS_INFO_KEY);return isAnalyticsInfo(t)?t:void 0}catch(e){return}},syncAnalyticInfo=async e=>{await(async(e,t)=>{try{const r=await new _.b(e).set(o.d.ANALYTICS_INFO_KEY,t);return isAnalyticsInfo(r)?r:void 0}catch(e){return}})(_.a.Sync,e),await syncAnalyticsInfoWithWebApp(e)},getOrInitAnalyticsInfo=async()=>{const e=await getAnalyticsInfoFromStorage(_.a.Sync);if(!e){const e=await(async()=>{let e=await getAnalyticsInfoFromStorage(_.a.Sync);return e||(e=await getAnalyticsInfoFromStorage(_.a.Local)),e||(e=await getAnalyticsInfoFromWebApp()),e||(e=uuidToAnalyticsInfo(Object(l.a)())),e})();return await syncAnalyticInfo(e),await Object(n.e)(),e}return e}},function(e,t,r){"use strict";var n=r(1),a=r(6),o=r(17),i=r(19),s=r(26),u=Object.defineProperty,l=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,r)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,__spreadValues=(e,t)=>{for(var r in t||(t={}))_.call(t,r)&&__defNormalProp(e,r,t[r]);if(l)for(var r of l(t))d.call(t,r)&&__defNormalProp(e,r,t[r]);return e};t.a=new class PremiumManager{async startPremiumFeature(e=""){return await Object(a.k)()||Object(a.p)(e),!1}async shouldShowDailyPromo(){const e=await i.a.getDefault(this.onTrialEnded).loadAndUpdate();return e.isTrialStarted()&&!e.isTrialEnded()&&e.daysSinceDisplayedPromo()>=1}async shouldShowEndPromo(){const e=await i.a.getDefault(this.onTrialEnded).loadAndUpdate(),t=e.startTime+n.j*n.q,r=e.lastDisplayedPromo>t;return e.isTrialEnded()&&!r}async updateHookDisplayTime(){const e=await i.a.getDefault(this.onTrialEnded).loadAndUpdate();e.lastDisplayed=Date.now(),await e.save()}async updatePromoDisplayTime(){const e=await i.a.getDefault(this.onTrialEnded).loadAndUpdate();e.lastDisplayedPromo=Date.now(),await e.save()}async showTrialPromoIfNeeded(e,t){if(await Object(a.k)())return;const r=await this.shouldShowDailyPromo()&&e.ShowDailyPromo,o=await this.shouldShowEndPromo(),i=t||{};i.isShowDailyPromo=r,i.isShowEndPromo=o,(r||o)&&Object(a.a)(()=>{Object(a.s)(n.o.SHOW_TRIAL_PROMO,{feature:e,extras:i}),this.updatePromoDisplayTime()},()=>Object(a.t)({name:n.o.SHOW_TRIAL_PROMO,data:{feature:e,extras:i}}))}async getFeaturesTrialState(){let e;for(const t of Object(o.c)()){const r=await i.a.getDefault(this.onTrialEnded).loadAndUpdate();e=__spreadValues({[t.Name]:{TrialState:r.state,TrialLeftDays:r.getDaysLeft()}},e)}return e}async isPremiumFeatureAvailable(e){const t=await i.a.getDefault(this.onTrialEnded).load();return await Object(a.k)()||e.HasTrial&&t.isTrialActive()}async clearTrials(){await i.a.getDefault(this.onTrialEnded).save()}async onTrialEnded(){if(!await Object(a.k)())for(const e of Object(o.c)())await s.a.setFeatureEnabled(e,!1)}async getTrialEntity(){return await i.a.getDefault(this.onTrialEnded).loadAndUpdate()}}},function(e,t,r){"use strict";var n=r(17),a=r(1),o=r(5),i=r(25),s=r(6),u=Object.defineProperty,l=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,r)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,__spreadValues=(e,t)=>{for(var r in t||(t={}))_.call(t,r)&&__defNormalProp(e,r,t[r]);if(l)for(var r of l(t))d.call(t,r)&&__defNormalProp(e,r,t[r]);return e};t.a=new class SettingsHelper{constructor(){this.setFeatureEnabled=async(e,t,r=!0)=>{let o=t;if(o&&Object(n.d)(e)){const t=await i.a.isPremiumFeatureAvailable(e);o=o&&t}const u={};return u[e.SettingsKey]=o,r&&(await this.updateSettings(u),Object(s.t)({name:a.o.SETTINGS_CHANGED,data:{feature:e,value:t}})),u},this.setFeaturesEnabled=async(e,t)=>{let r={};for(const n of e){const e=await this.setFeatureEnabled(n,t,!1);r=__spreadValues(__spreadValues({},r),e),Object(s.t)({name:a.o.SETTINGS_CHANGED,data:{feature:n,value:t}})}await this.updateSettings(r)},this.isFeatureEnabled=async e=>{const t=await o.c.get(a.h.SETTINGS);return!(!t||!(e.SettingsKey in t))&&t[e.SettingsKey]},this.updateSettings=async e=>{const t=await o.c.get(a.h.SETTINGS),r=__spreadValues(__spreadValues({},t),e);o.c.set(a.h.SETTINGS,r).then(()=>{Object(s.t)({name:a.o.SETTINGS_CHANGED})})},this.getSettings=async()=>o.c.get(a.h.SETTINGS)}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=(e=>(e.Anonymous="anonymous",e.Free="free",e.Premium="premium",e))(n||{})},,function(e,t,r){"use strict";var n=r(21);t.a=new class OptManager{async optIn(){const e=await n.a.getOrCreate();return e.state=n.b.IN,e.save().then(()=>this.onOptStateChanged(e.state))}async optOut(){const e=await n.a.getOrCreate();return e.state=n.b.OUT,e.save().then(()=>this.onOptStateChanged(e.state))}async isOptIn(){return(await n.a.getOrCreate()).state==n.b.IN}async getOptInCurrentState(){return(await n.a.getOrCreate()).state}async isOptInStatusUnknown(){return(await n.a.getOrCreate()).state==n.b.UNKNOWN}setOptStateChangedListener(e){this.onOptStateChangedListener=e}onOptStateChanged(e){this.onOptStateChangedListener&&this.onOptStateChangedListener(e)}}},function(e,t,r){"use strict";r.d(t,"i",(function(){return getPrivacyPolicy})),r.d(t,"k",(function(){return getTabUrl})),r.d(t,"c",(function(){return executeCode})),r.d(t,"m",(function(){return isGoogleDomain})),r.d(t,"o",(function(){return randId})),r.d(t,"a",(function(){return GUID})),r.d(t,"g",(function(){return getManifestInfo})),r.d(t,"b",(function(){return copyTextToClipboard})),r.d(t,"e",(function(){return getBrowser})),r.d(t,"j",(function(){return getRandomInt})),r.d(t,"d",(function(){return getAbsoluteURL})),r.d(t,"f",(function(){return getI18N})),r.d(t,"n",(function(){return prevntBrowserBlock})),r.d(t,"l",(function(){return insertElementAfterElement})),r.d(t,"h",(function(){return getParentByLevel}));var n=r(36),a=r(0);function getPrivacyPolicy(e=null){const t=n.a["privacy_policy_"+getBrowser()];return e?e.replace(/%s/,t):t}function getTabUrl(){return new Promise(e=>{chrome.runtime.sendMessage({name:"requestTabUrl"},t=>{try{let r=new URL(t.url);e({domain:r.hostname,href:r.href})}catch(t){e({domain:document.domain,href:location.href})}})})}function executeCode(e){let t=document.createElement("script");t.textContent=e,insertBeforeRoot(t),t.remove()}function isGoogleDomain(e){return new RegExp(".*google..*").test(e)}const getRandId=async()=>new Promise(e=>{chrome.storage.local.get(a.h.RDID,t=>{e(t[a.h.RDID])})});async function randId(){if(!await getRandId()){var rr=function(){return(65536*(1+Math.random(Date.now()+14))|0).toString(28).substring(1)};const e=rr()+rr()+rr()+rr()+rr()+rr()+rr()+rr()+rr();chrome.storage.local.set({[a.h.RDID]:e})}return await getRandId()}function GUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}function getManifestInfo(){return chrome.runtime.getManifest()}function copyTextToClipboard(e){var t=document.createElement("textarea");t.style.position="fixed",t.style.top=0,t.style.left=0,t.style.width="2em",t.style.height="2em",t.style.padding=0,t.style.border="none",t.style.outline="none",t.style.boxShadow="none",t.style.background="transparent",t.value=e,document.body.appendChild(t),t.select();try{document.execCommand("copy")}catch(e){}document.body.removeChild(t)}function getBrowser(){return/firefox/i.test(navigator.userAgent)?"FF":"CH"}function getRandomInt(e,t){return Math.floor(Math.random()*(t-e))+e}function getAbsoluteURL(e){return/^about:blank/i.test(e)||/^(https?:)?\/\//.test(e)?e:e=location.origin+(/^\//.test(e)?"":"/")+e}function getI18N(e,t){return chrome.i18n.getMessage(e)||chrome.i18n.getMessage(t||e)||e}function insertBeforeRoot(e){const t=document.head;if(t)t.appendChild(e);else{const t=document.documentElement;t.insertBefore(e,t.firstChild)}}const prevntBrowserBlock=(e,t)=>{let r=[];switch(e){case"allowOnce":case"allowAlways":r=t;break;case"twitter":r=[t.config.twitter_share_link,"poper_share","width=730,height=260,top=150,left="+(screen.availWidth/2-365)];break;case"facebook":r=[t.config.facebook_share_link,"poper_share","width=730,height=360,top=150,left="+(screen.availWidth/2-365)];break;default:return}/^https?\:/.test(r[0])||/^about:blank/i.test(r[0])||(r[0]="http:"+(/^\/\//.test(r[0])?"":"//")+r[0]),/firefox/i.test(navigator.userAgent)&&(r[0]="firefox/ff-open.html?u="+encodeURIComponent(r[0])),window.open(r[0]||"",r[1]||"",r[2]||"")};const insertElementAfterElement=(e,t)=>{t.parentNode.insertBefore(e,t.nextSibling)},getParentByLevel=(e,t)=>{let r=e;for(let e=t;e>0;e--){if(!r)return r;r=r.parentNode}return r}},function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return getBrowserName}));var n=(e=>(e.CHROME="chrome",e.FIREFOX="firefox",e.OPERA="opera",e.EDGE="edge",e.SAFARI="safari",e.UNKNOWN="unknown",e))(n||{});const getBrowserName=()=>{try{const e=navigator.userAgent;if(e.match(/opera|opr\//i))return"opera";if(e.match(/firefox|fxios/i))return"firefox";if(e.match(/edg/i))return"edge";if(e.match(/safari/i)&&!e.match(/chrome|chromium|crios/i))return"safari";if(e.match(/chrome|chromium|crios/i))return"chrome"}catch(e){}return"unknown"}},,,,function(e,t,r){"use strict";r.d(t,"a",(function(){return fetchWithTokenRefreshIfNeeded})),r.d(t,"c",(function(){return updateUserInfo})),r.d(t,"b",(function(){return getUserInfo}));var n=r(1),a=r(5),o=r(11);const fetchWithTokenRefreshIfNeeded=async(e,t,r)=>{const a=await Object(o.a)(e,t);if(a.status===r)return a;if(401===a.status){if(204===(await Object(o.a)(n.f.REFRESH,{method:"POST",headers:{"Content-Type":"application/json"}})).status){const n=await Object(o.a)(e,t);if(n.status===r)return n}return{status:a.status,message:a.statusText}}},updateUserInfo=async()=>{if(!await a.c.get(n.h.USER))return;const e=await a.c.get(n.h.LAST_USER_UPDATE_DATE);(!e||Date.now()-e>=n.C)&&await(async()=>{try{const e=await fetchWithTokenRefreshIfNeeded(n.f.GET_USER,{},200);if(200===e.status){const t=await e.json();return await a.c.set(n.h.USER,t.user),await a.c.set(n.h.LAST_USER_UPDATE_DATE,Date.now()),t.user||null}throw new Error(`Failed to get user. Response status: '${e.status}'`)}catch(e){return await a.c.remove([n.h.LAST_USER_UPDATE_DATE]),null}})()},getUserInfo=()=>a.c.get(n.h.USER)},function(e,t,r){"use strict";t.a={thank_you_page_CH:"https://poperblocker.com/welcome",thank_you_page_FF:"https://poperblocker.com/welcome-firefox",privacy_policy_CH:"https://poperblocker.com/privacy/",privacy_policy_FF:"https://addons.mozilla.org/en-US/firefox/addon/poper-blocker-pop-up-blocker/privacy/",uninstall_page_CH:"https://poperblocker.com/uninstall/?",uninstall_page_FF:"https://poperblocker.com/uninstall-firefox/?",feedback_page:"https://poperblocker.com/feedback.html?from=ext",contact_page:"https://poperblocker.com/contact-form.html",appStore_CH:"https://chrome.google.com/webstore/detail/pop-up-blocker-for-chrome/bkkbcggnhapdmkeljlodobbkopceiche",appStore_FF:"https://addons.mozilla.org/en-US/firefox/addon/poper-blocker-pop-up-blocker/",extension_review_page_CH:"https://chrome.google.com/webstore/detail/pop-up-blocker-for-chrome/bkkbcggnhapdmkeljlodobbkopceiche/reviews",extension_review_page_FF:"https://addons.mozilla.org/en-US/firefox/addon/poper-blocker-pop-up-blocker/reviews/add",twitter_share_link:"https://twitter.com/intent/tweet?hashtags=popups&original_referer=https%3A%2F%2Fpoperblocker.com%3Fref%3Dfb_pp_share&related=socialmediahats&text=I'm%20using%20poper%20blocker%20to%20enjoy%20a%20popup%20free%20browsing%20experience%20pic.twitter.com%2FniqVgqfmAw&url=https%3A%2F%2Fgoo.gl%2FryoaEn&via=poper_blocker",facebook_share_link:"https://www.facebook.com/dialog/share?app_id=1911035589168170&display=popup&href=https%3A%2F%2Fpoperblocker.com%3Fref%3Dfb_pp_share%3Fhl%3Den&hashtag=%23For_No_More_Popups_Click_Below",facebook_base_url:"www.facebook.com",overlay_check_API:"https://api2.poperblocker.com/view/update",overlay_blocking_context_item_contexts:["page","frame","selection","link","editable","image","video","audio"],googleSheetID:"1dRQsmt6DYMXGo3YeTQ442kV-xxG1LJfG41wEUpnWefM",dataSettings:{strKeys:["ga_allEvent_rate","ni"],arrKeys:["blacklist","whitelist"]},blockCountsToShowRate:5,blockCountsToShowRateAgain:100,totalBlockingFeatures:2,blockedTypes:{win:"win",tab:"tab",overlay:"overlay",ad:"ad",cookie:"cookie",fbAd:"fbAd",linkedinAd:"linkedinAd",twitterAd:"twitterAd",tracker:"tracker",instagramAd:"instagramAd",youtubeAd:"youtubeAd",keywords:"keywords"},defaultBlackList:["adrunnr","successforyu.clickfunnels.com","fmovies.se","in-365-tagen.info","5000-settimanale.com","shop.mazzugioielli.com","maxigossip.com","lp.yazizim.com","beyourxfriend.com","99tab.com","zzqrt.com","canuck-method.net","bewomenly.com","playnow.guru","datingforyou-48e1.kxcdn.com","trafficnetworkads24.com","sistemadedinerogratis.com","canuckmethodprofit.co","consumerresearchnetwork.com","securemacfix.com","zz3d3.ru","zd1.quebec-bin.com","hot-games4you.xyz","om.elvenar.com","superpccleanup.com","gomediaz.com","judithi.xyz","free.atozmanuals.com","yoursuccess.ravpage.co.il","123hop.ir","quizcliente.pw","aussiemethod.biz","hlpnowp-c.com","picbumper.com","shaneless.com","anacondamonster.com","altrk1.com","health.todaydiets.com","download.weatherblink.com","happyluketh.com","go.ameinfo.com","50kaweek.net","thepornsurvey.com","ofsiite.ru","fulltab.com","1000spins.com","time2play-online.net","vintacars.com","welcome.pussysaga.com","free-desktop-games.com","download.televisionfanatic.com","theprofitsmaker.net","sgad.info","algocashmaster.net","sunmaker.com","topvipdreams.com","watchmygirlfriend.gfpornvideos.com","filesharefanatic.com","safedownloadhub.com","7awlalalam.blogspot.com","tvplusnewtab.com","trendingpatrol.com","moneymorning.com","ifileyou.com","classifiedcanada.ca","firefan.com","methode-binaire.com","letmetell.com","kenduktur.com","getafuk.com","yotraleplahnte.ru","jackpot.88beto.com","pwwysydh.com","search.queryrouter.com","v.lvztxy.com","pussysaga.com","saffamethod.com","prezzonline.com","searchprivacy.website","3d2819216eb4e1035879-7c248de0c99745406e9b749fc86ec3e4.ssl.cf1.rackcdn.com","only2date.com","mysagagame.com","themillionaireinpjs.net","wlt.kd2244.com","quickprivacycheck.com","hotchatdate.com","autotraderbot.com","z1.zedo.com","youlucky2014.com","traffic.getmyads.com","appcloudprotected.com","safensecure.com-allsites3.xyz","newpoptab.com","static.williamhill.com","myhealthyblog.co","greatestmobideals.com","sweetclarity.com","mgid.com","securepccure.com","autopengebygger.com","am15.net","es.reimageplus.com","o2.promos-info.com","it.reimageplus.com","westsluts.com","spinandwin.com-ser.pw","reimageplus.com","vodafone.promos-info.com","vinnmatpengar.se","movie.ienjoyapps.com","love4single.com","origin.getprice.com.au","ohmydating.com","lp.want-to-win.com","yabuletchrome.ru","bamdad.net","gotositenow.com","vcrypt.pw","newtabtv.com","mon.setsu.xyz","youforgottorenewyourhosting.com","zone-telechargement.ws","land.pckeeper.software","ad.adpop-1.com","advancedpctools.com","videos.randolphcountyheraldtribune.com","web-start.org","softreadynow.installupgradenowfreshandforyou.website","uplod.ws","pornhubcasino.com","maxbet.ro","2016prizefeed.com","thevideo.me","wantubad.com","tavanero.com","xcusmy.club","daclips.in","gaymenofporn.online","jackpotcitycasino.com","italian-method.com","getsearchincognito.com","youjustwonprize.com","finanz-nachrichten.me","quizcliente.site","da.reimageplus.com","jkanime.net","britmoneymethod.com","uae.souq.com","ka.azzer.net","safensecure.xyz","8t.hootingrhejkz.online","www6.blinkx.com","wizzcaster.com","comparaison-prix.com","vodlocker.lol","fr.reimageplus.com","free.fromdoctopdf.com","userscloud.com","myprivatesearch.com","fanli90.cn","tutticodicisconto.it","mediadec.com","gogamego.thewhizproducts.com","download.weatherblink.com","free.videodownloadconverter.com","we-are-gamers.com","sesso.communityadult.net","lp.blpmovies.com","search.queryrouter.com","bbb-johannesburg.localspecific.com","lp.blpmovies.com","go.ppixelm.com","r0.ru","sesso.communityadult.net","bbb-johannesburg.localspecific.com","ppixelm.com","cyberguardianspe.info","we-are-gamers.com","loginfaster.com/new","www.alfacart.com","www.foresee.com","mobile-win.com","www.plusnetwork.com","www.amicafarmacia.com","www.ienjoyapps.com","cheapcheap.io","screenaddict.thewhizproducts.com","nova.rambler.ru","free.gamingwonderland.com","p9328ujeiw1.ru","mobilecasinoclub.co.uk","pfhsystem.com","regtuneup.com","theprofitsmaker.net","bodogpromotions.eu","heroesreplay.org","financialsecrets.info","mymoneymakingapp.com","sunmaker.com","888casino-promotions.com","vogliosesso.com","scienceremix.com","allinonedocs.com","arabia.starzplay.com","allirishcasino.com","advancepctools.info","movie.ienjoyapps.com","surveyform001.s3-website-us-east-1.amazonaws.com","mgs188.com","pfhsystem.com","lpeva.com","ddsh8.com","theprofitsmaker.net","b2.ijquery11.com","sporthero.thewhizmarketing.com","securefastmac.tech","seen-on-screen.thewhizmarketing.com","1000spins.com","search.queryrouter.com","pfhsystem.com","reimageplus.com","offer.alibaba.com","searchlistings.org","search.queryrouter.com","search.queryrouter.com","mybinaryoptionsrobot.com","duplicashapp.com","search.queryrouter.com","bestgame.directory","droidclub.net",".rivalo.com","yoursuperprize.com","mediaexplained.com","om.elvenar.com","shinar.club","revitoleczemacream.com","freelotto.com","screenaddict.thewhizproducts.com","download.bringmesports.com/","allinonedocs.com","driver-fixer.com","arabydeal.com","cleanyourcomputertoday.com","arabydeal.com","music.mixplugin.com","1se.info","survey12.com","freesoftwaredlul.com","pldist01.com","ad.adpop-1.com","searchanonymous.net","abrst.pro","muzikfury.thewhizmarketing.com","lp.mbtrx.com","th1.forfun.maxisize-pro.com","watchmygirlfriend.gfpornbox.com","new.freelotto.com","desktoptrack.com","search.queryrouter.com","offer.alibaba.com","1000spins.com","promotions.coral.co.uk","search.queryrouter.com","tbsia.com","tbsia.com","multtaepyo.com","search.queryrouter.com","czechmethod.com","consumerview.co","wayretail.com","72onbase.com","funsafetab.com","search.queryrouter.com","speedyfiledownload.com","driver-fixer.com","arabydeal.com","cleanyourcomputertoday.com","arabydeal.com","music.mixplugin.com","1se.info","survey12.com","freesoftwaredlul.com","pldist01.com","ad.adpop-1.com","searchanonymous.net","abrst.pro","muzikfury.thewhizmarketing.com","lp.mbtrx.com","th1.forfun.maxisize-pro.com","watchmygirlfriend.gfpornbox.com","new.freelotto.com","desktoptrack.com","search.queryrouter.com","offer.alibaba.com","1000spins.com","promotions.coral.co.uk","search.queryrouter.com","tbsia.com","tbsia.com","surveyform001.s3-website-us-east-1.amazonaws.com","mgs188.com","pfhsystem.com","lpeva.com","ddsh8.com","theprofitsmaker.net","quantomcoding.com","sporthero.thewhizmarketing.com","popads.net","onclkds.com","consumerview.co","12kotov.ru","ruhotpair2.fingta.com","easytelevisionaccessnow.com","ahwrd.com","lpeva.com","ppgzf.com","zjstx.com","kituure.xyz","join.pro-gaming-world.com","mackeeperapp.mackeeper.com","tracknotify.com","2075.cdn.beyondhosting.net","idollash.com","ds.moviegoat.com","fulltab.com","rackcdn.com","prestoris.com","adsterra.com","swampssovuuhusp.top","streesusa.info","freesoftwaredlul.com","adreactor.com","a-static.com","codeonclick.com","heheme.com","adf.ly","seen-on-screen.thewhizmarketing.com","openload.co"]}},,function(e,t,r){"use strict";r.d(t,"a",(function(){return getOrInitAnalyticsInfo}));var n=r(35),a=r(14),o=r(1),i=r(16),s=r(51);const getLocale=()=>{const e=chrome.i18n.getUILanguage().replace("_","-");return e.length<7?e:"en-US"},getUserAgent=()=>{switch(Object(a.b)()){case a.a.CHROME:return"Chrome";case a.a.FIREFOX:return"Firefox";case a.a.EDGE:return"Microsoft Edge";case a.a.OPERA:return"Opera";case a.a.SAFARI:return"Safari";case a.a.UNKNOWN:return"Unknown"}},uuidToAnalyticsInfo=e=>({uuid:e,country:getLocale(),resource:o.d.ANALYTICS_RESOURCE_TYPES.ORGANIC,user_agent:getUserAgent()}),isValidUuid=e=>Object(i.c)(e)&&Object(s.a)(e);var u=r(11);const getAnalyticsInfoFromWebApp=async()=>{try{const e=await Object(u.a)(o.f.ANALYTIC_INFO);if(200!==e.status)throw new Error("Invalid response status");const t=await e.json();if(!(e=>Object(i.b)(e)&&("uuid"in e&&"string"==typeof e.uuid||!("uuid"in e)))(t))throw new Error("Invalid response");return isValidUuid(t.uuid)?uuidToAnalyticsInfo(t.uuid):void 0}catch(e){return}};var l=r(98),_=r(5);const isAnalyticsInfo=e=>Object(i.b)(e)&&"uuid"in e&&isValidUuid(e.uuid)&&"country"in e&&Object(i.c)(e.country)&&"resource"in e&&Object(i.c)(e.resource)&&"user_agent"in e&&Object(i.c)(e.user_agent),getAnalyticsInfoFromStorage=async e=>{try{const t=await new _.b(e).get(o.d.ANALYTICS_INFO_KEY);return isAnalyticsInfo(t)?t:void 0}catch(e){return}},syncAnalyticInfo=async e=>{await(async(e,t)=>{try{const r=await new _.b(e).set(o.d.ANALYTICS_INFO_KEY,t);return isAnalyticsInfo(r)?r:void 0}catch(e){return}})(_.a.Sync,e),await(async({uuid:e})=>{try{await Object(u.a)(o.f.ANALYTIC_INFO,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uuid:e})})}catch(e){return Promise.resolve()}})(e)},getOrInitAnalyticsInfo=async()=>{const e=await getAnalyticsInfoFromStorage(_.a.Sync);if(!e){const e=await(async()=>{let e=await getAnalyticsInfoFromStorage(_.a.Sync);return e||(e=await getAnalyticsInfoFromStorage(_.a.Local)),e||(e=await getAnalyticsInfoFromWebApp()),e||(e=uuidToAnalyticsInfo(Object(l.a)())),e})();return await syncAnalyticInfo(e),await Object(n.c)(),e}return e}},function(e,t,r){"use strict";r.d(t,"a",(function(){return Entity}));var n=r(5);class Entity{constructor(e=new n.b(n.a.Local)){this.storage=e}async load(){const e=[...this.getLegacyKeys(),this.getKey()].filter(e=>void 0!==e);if(!e)return this;const t=await this.storage.getAll(...e);return t?(this.getLegacyKeys().filter(e=>e in t).forEach(e=>{this.mergeObject(t[e])}),this.getKey()in t&&this.mergeObject(t[this.getKey()]),(!this.v||this.v<this.getVersion())&&(await this.migrate(this.v?this.v:0),await this.save()),this):this}async save(){const e=Object.assign({},this.toDTO(),{v:this.getVersion()});return this.storage.set(this.getKey(),e)}mergeObject(e){Object.keys(e).forEach(t=>{this[t]=e[t]})}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return blocking_manager_BlockedItemsPerTab}));var n=r(0),a=r(36),o=r(22),i=r(4);const isNotNullOrUndefined=e=>null!=e;var s=Object.defineProperty,u=Object.defineProperties,l=Object.getOwnPropertyDescriptors,_=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,r)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,__spreadValues=(e,t)=>{for(var r in t||(t={}))d.call(t,r)&&__defNormalProp(e,r,t[r]);if(_)for(var r of _(t))h.call(t,r)&&__defNormalProp(e,r,t[r]);return e},__spreadProps=(e,t)=>u(e,l(t));const f="UPDATE",E="PRUNE",O="CLEAR_IF_DOMAIN_CHANGED";class blocking_manager_BlockedItemsCounter extends o.a{constructor(){super(...arguments),this.pop=0,this.win=0,this.tab=0,this.overlay=0,this.ad=0,this.cookie=0,this.fbAd=0,this.linkedinAd=0,this.twitterAd=0,this.tracker=0,this.instagramAd=0,this.socialContent=0,this.youtubeAd=0,this.keywords=0}getKey(){return n.h.TOTAL_BLOCKS_BY_TYPE}getLegacyKeys(){return[]}toDTO(){return{pop:this.pop,win:this.win,tab:this.tab,overlay:this.overlay,ad:this.ad,cookie:this.cookie,fbAd:this.fbAd,linkedinAd:this.linkedinAd,twitterAd:this.twitterAd,tracker:this.tracker,instagramAd:this.instagramAd,socialContent:this.socialContent,youtubeAd:this.youtubeAd,keywords:this.keywords}}getVersion(){return 1}migrate(){return Promise.resolve()}}class blocking_manager_UnblockedItemsCounter extends blocking_manager_BlockedItemsCounter{getKey(){return n.h.TOTAL_UNBLOCKS_BY_TYPE}}const copyBlockedPerTabId=e=>__spreadProps(__spreadValues({},e),{totalBlocksByType:__spreadValues({},e.totalBlocksByType)}),copyBlockedPerTabs=e=>{return Object.fromEntries((t=e,Object.entries(t)).map(([e,t])=>[e,copyBlockedPerTabId(t)]));var t};class blocking_manager_BlockedItemsPerTab extends o.a{constructor(){super(...arguments),this.value={}}load(){return super.load()}getRaw(){return __spreadProps(__spreadValues({},this.toDTO()),{v:this.getVersion()})}getAll(){return copyBlockedPerTabs(this.value)}getAllTabIds(){return Object.keys(this.value).map(e=>Number(e))}getByTabId(e){return this.value[e]?copyBlockedPerTabId(this.value[e]):void 0}setByTabId(e,t){this.value[e]=t}deleteByTabId(e){delete this.value[e]}getKey(){return n.h.TOTAL_BLOCKS_BY_TAB_ID}getLegacyKeys(){return[]}toDTO(){return{value:copyBlockedPerTabs(this.value)}}getVersion(){return 2}migrate(e){return 1===e&&(this.value=Object.fromEntries(Object.entries(this).map(e=>{const[t,r]=e;return isNaN(Number(t))?void 0:[t,r]}).filter(isNotNullOrUndefined))),Promise.resolve()}}t.b=new class blocking_manager_BlockingManager{constructor(){this.queue=[],this.inProcess=!1}async getTotalBlocksByType(){return await(new blocking_manager_BlockedItemsCounter).load()}async getTotalUnBlocksByType(){return await(new blocking_manager_UnblockedItemsCounter).load()}async getTotalBlockForKeys(...e){const t=await this.getTotalBlocksByType();let r=0;return e.forEach(e=>{r+=e in t?t[e]:0}),r}async getTotalBlocksPerTab(){return await(new blocking_manager_BlockedItemsPerTab).load()}updateTotalBlocksByTabId(e){this.addActionToQueue({data:e,type:f})}addActionToQueue(e){this.queue.push(e),this.inProcess||(this.inProcess=!0,this.processActionQueue())}async runUpdate(e){const t=e.tabId,r=e.count||1,n=await Object(i.v)(t,{currentWindow:!1}),a=new URL(n.url).host,o=await this.getTotalBlocksPerTab();let s=o.getByTabId(t);s&&s.host===a||(s={host:a,lastUpdated:Date.now(),totalCount:0,totalBlocksByType:this.getEmptyBlockList()}),s.totalBlocksByType[e.type]+=r,s.lastUpdated=Date.now(),s.host=a,o.setByTabId(t,s),await o.save(),await this.updateStatsTotals(e)}async updateStatsTotals(e){const t=await this.getTotalBlocksByType();t[e.type]+=e.count||1,await t.save()}async updateUnblockStatsStatsTotals(e){const t=await this.getTotalUnBlocksByType();t[e.type]+=e.count||1,await t.save()}async clearTotalBlocksOfTabIdIfNeeded(e,t){e&&this.addActionToQueue({data:{tabId:e,host:t},type:O})}async runClearIfDomainChanged({tabId:e,host:t}){const r=await this.getTotalBlocksPerTab(),n=r.getByTabId(e);n&&n.host!==t&&r.deleteByTabId(e),r.save()}pruneTotalBlocksPerTab(){this.addActionToQueue({type:E})}getEmptyBlockList(){return{pop:0,win:0,tab:0,overlay:0,ad:0,cookie:0,fbAd:0,linkedinAd:0,twitterAd:0,tracker:0,instagramAd:0,youtubeAd:0,keywords:0}}updateBlockedItemCount(e,t,r){const n=e;return"pop"==t.block?t.args&&t.args[2]&&/(?:(?:width=)|(?:height=))/.test(t.args[2])?n.win=(n.win||0)+1:n.tab=(n.tab||0)+1:void 0!==n[t.block]?n[t.block]=n[t.block]+(r||1):t.block in a.a.blockedTypes?n[t.block]=r||1:console.error("Error: Undefined block type ",t.block),n}async processActionQueue(){try{for(;this.queue.length>0;){const e=this.queue.shift();switch(e.type){case f:await this.runUpdate(e.data);break;case E:await this.runPrune();break;case O:await this.runClearIfDomainChanged(e.data)}}}catch(e){console.error(e)}finally{this.inProcess=!1}}async runPrune(){const e=(await chrome.tabs.query({})).map(({id:e})=>e),t=await this.getTotalBlocksPerTab();t.getAllTabIds().forEach(r=>{e.includes(r)||t.deleteByTabId(r)}),await t.save()}}},function(e,t,r){"use strict";var n=r(1),a=r(39),o=r(5),i=(e=>(e[e.UNKNOWN=-1]="UNKNOWN",e[e.OUT=0]="OUT",e[e.IN=1]="IN",e))(i||{});class opt_entity_OptEntity extends a.a{constructor(){super(...arguments),this.state=-1}getKey(){return n.h.OPT}getLegacyKeys(){return[]}toDTO(){return{state:this.state}}getVersion(){return 1}migrate(e){if(!(e>0))return new Promise(e=>{o.c.get(n.h.SETTINGS).then(t=>{t&&void 0!==t.isOptIn?this.state=t.isOptIn?1:0:this.state=-1,e()})})}static async getOrCreate(){return await(new opt_entity_OptEntity).load()}}t.a=new class opt_manager_OptManager{async optIn(){const e=await opt_entity_OptEntity.getOrCreate();return e.state=i.IN,e.save().then(()=>this.onOptStateChanged(e.state))}async optOut(){const e=await opt_entity_OptEntity.getOrCreate();return e.state=i.OUT,e.save().then(()=>this.onOptStateChanged(e.state))}async isOptIn(){return(await opt_entity_OptEntity.getOrCreate()).state==i.IN}async getOptInCurrentState(){return(await opt_entity_OptEntity.getOrCreate()).state}async isOptInStatusUnknown(){return(await opt_entity_OptEntity.getOrCreate()).state==i.UNKNOWN}setOptStateChangedListener(e){this.onOptStateChangedListener=e}onOptStateChanged(e){this.onOptStateChangedListener&&this.onOptStateChangedListener(e)}}},,function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=(e=>(e.adsBlocker="adsBlocker",e.cookieCrumble="cookieCrumble",e.trackerBlocker="trackerBlocker",e.youtubeBlocker="youtubeBlocker",e.socialConfig="socialConfig",e.contentConfig="contentConfig",e))(n||{})},function(e,t,r){"use strict";r.d(t,"a",(function(){return prefixLogger}));const prefixLogger=(e,t)=>{const prefixMethod=r=>n=>{e[r](`${t}: ${n}`)};return{debug:prefixMethod("debug"),error:prefixMethod("error")}}},function(e,t,r){"use strict";var n=r(4),a=r(0),o=r(7);t.a=new class WhitelistHelper{list(e=!0){return new Promise(t=>{o.c.getAll(a.h.WHITELIST,a.h.DEFAULT_WHITELIST).then(r=>{const n=r[a.h.DEFAULT_WHITELIST]||[],o=r[a.h.WHITELIST]||[];t(e?[...n,...o]:[...o])})})}add(e){return this.list().then(t=>{t.push(e),o.c.set(a.h.WHITELIST,t)})}remove(e){return this.list().then(t=>{t=t.filter(t=>t!==e),o.c.set(a.h.WHITELIST,t)})}async containsDomain(e,t={}){const{tailOnly:r=!1,addDefault:a=!0}=t,o=await this.list(a);return e=Object(n.c)(e),o.some(t=>{t.includes("http")||(t="http://"+t);const n=new URL(t).hostname,a=null==n?void 0:n.split("www.").filter(e=>e)[0];return r?e.endsWith(a):a===e})}}},,,,,function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(7),a=r(0),o=r(11);const i=new class RemoteConfig{constructor(){this.lastConfigFetchTsStorageKey="remoteConfigLastFetch",this.configStorageKey="remoteConfig"}async getConfig(e){const t=Date.now(),r=await n.c.get(this.lastConfigFetchTsStorageKey)||0;let a=await this.getConfigFromStorage();return(!a||t-432e5>r)&&(await this.updateConfig(),a=await this.getConfigFromStorage()),a[e]||{}}async getConfigFromStorage(){return await n.c.get(this.configStorageKey)}async updateConfig(){const e=await Object(o.a)(a.e.CONFIG,{method:"GET",headers:{"Content-Type":"application/json"}});if(e.ok){const t=await e.json();await n.c.set(this.configStorageKey,t),await this.updateLastUpdate()}}async updateLastUpdate(){await n.c.set(this.lastConfigFetchTsStorageKey,Date.now())}}},function(e,t,r){"use strict";var n=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;t.a=function validate(e){return"string"==typeof e&&n.test(e)}},,function(e,t,r){"use strict";t.a={thank_you_page_CH:"https://poperblocker.com/welcome",thank_you_page_FF:"https://poperblocker.com/welcome-firefox",privacy_policy_CH:"https://poperblocker.com/privacy/",privacy_policy_FF:"https://addons.mozilla.org/en-US/firefox/addon/poper-blocker-pop-up-blocker/privacy/",uninstall_page_CH:"https://poperblocker.com/uninstall/?",uninstall_page_FF:"https://poperblocker.com/uninstall-firefox/?",feedback_page:"https://poperblocker.com/feedback.html?from=ext",contact_page:"https://poperblocker.com/contact-form.html",appStore_CH:"https://chrome.google.com/webstore/detail/pop-up-blocker-for-chrome/bkkbcggnhapdmkeljlodobbkopceiche",appStore_FF:"https://addons.mozilla.org/en-US/firefox/addon/poper-blocker-pop-up-blocker/",extension_review_page_CH:"https://chrome.google.com/webstore/detail/pop-up-blocker-for-chrome/bkkbcggnhapdmkeljlodobbkopceiche/reviews",extension_review_page_FF:"https://addons.mozilla.org/en-US/firefox/addon/poper-blocker-pop-up-blocker/reviews/add",twitter_share_link:"https://twitter.com/intent/tweet?hashtags=popups&original_referer=https%3A%2F%2Fpoperblocker.com%3Fref%3Dfb_pp_share&related=socialmediahats&text=I'm%20using%20poper%20blocker%20to%20enjoy%20a%20popup%20free%20browsing%20experience%20pic.twitter.com%2FniqVgqfmAw&url=https%3A%2F%2Fgoo.gl%2FryoaEn&via=poper_blocker",facebook_share_link:"https://www.facebook.com/dialog/share?app_id=1911035589168170&display=popup&href=https%3A%2F%2Fpoperblocker.com%3Fref%3Dfb_pp_share%3Fhl%3Den&hashtag=%23For_No_More_Popups_Click_Below",facebook_base_url:"www.facebook.com",overlay_check_API:"https://api2.poperblocker.com/view/update",overlay_blocking_context_item_contexts:["page","frame","selection","link","editable","image","video","audio"],googleSheetID:"1dRQsmt6DYMXGo3YeTQ442kV-xxG1LJfG41wEUpnWefM",dataSettings:{strKeys:["ga_allEvent_rate","ni"],arrKeys:["blacklist","whitelist"]},blockCountsToShowRate:5,blockCountsToShowRateAgain:100,totalBlockingFeatures:2,blockedTypes:{win:"win",tab:"tab",overlay:"overlay",ad:"ad",cookie:"cookie",fbAd:"fbAd",linkedinAd:"linkedinAd",twitterAd:"twitterAd",tracker:"tracker",instagramAd:"instagramAd",youtubeAd:"youtubeAd",keywords:"keywords"},defaultBlackList:["adrunnr","successforyu.clickfunnels.com","fmovies.se","in-365-tagen.info","5000-settimanale.com","shop.mazzugioielli.com","maxigossip.com","lp.yazizim.com","beyourxfriend.com","99tab.com","zzqrt.com","canuck-method.net","bewomenly.com","playnow.guru","datingforyou-48e1.kxcdn.com","trafficnetworkads24.com","sistemadedinerogratis.com","canuckmethodprofit.co","consumerresearchnetwork.com","securemacfix.com","zz3d3.ru","zd1.quebec-bin.com","hot-games4you.xyz","om.elvenar.com","superpccleanup.com","gomediaz.com","judithi.xyz","free.atozmanuals.com","yoursuccess.ravpage.co.il","123hop.ir","quizcliente.pw","aussiemethod.biz","hlpnowp-c.com","picbumper.com","shaneless.com","anacondamonster.com","altrk1.com","health.todaydiets.com","download.weatherblink.com","happyluketh.com","go.ameinfo.com","50kaweek.net","thepornsurvey.com","ofsiite.ru","fulltab.com","1000spins.com","time2play-online.net","vintacars.com","welcome.pussysaga.com","free-desktop-games.com","download.televisionfanatic.com","theprofitsmaker.net","sgad.info","algocashmaster.net","sunmaker.com","topvipdreams.com","watchmygirlfriend.gfpornvideos.com","filesharefanatic.com","safedownloadhub.com","7awlalalam.blogspot.com","tvplusnewtab.com","trendingpatrol.com","moneymorning.com","ifileyou.com","classifiedcanada.ca","firefan.com","methode-binaire.com","letmetell.com","kenduktur.com","getafuk.com","yotraleplahnte.ru","jackpot.88beto.com","pwwysydh.com","search.queryrouter.com","v.lvztxy.com","pussysaga.com","saffamethod.com","prezzonline.com","searchprivacy.website","3d2819216eb4e1035879-7c248de0c99745406e9b749fc86ec3e4.ssl.cf1.rackcdn.com","only2date.com","mysagagame.com","themillionaireinpjs.net","wlt.kd2244.com","quickprivacycheck.com","hotchatdate.com","autotraderbot.com","z1.zedo.com","youlucky2014.com","traffic.getmyads.com","appcloudprotected.com","safensecure.com-allsites3.xyz","newpoptab.com","static.williamhill.com","myhealthyblog.co","greatestmobideals.com","sweetclarity.com","mgid.com","securepccure.com","autopengebygger.com","am15.net","es.reimageplus.com","o2.promos-info.com","it.reimageplus.com","westsluts.com","spinandwin.com-ser.pw","reimageplus.com","vodafone.promos-info.com","vinnmatpengar.se","movie.ienjoyapps.com","love4single.com","origin.getprice.com.au","ohmydating.com","lp.want-to-win.com","yabuletchrome.ru","bamdad.net","gotositenow.com","vcrypt.pw","newtabtv.com","mon.setsu.xyz","youforgottorenewyourhosting.com","zone-telechargement.ws","land.pckeeper.software","ad.adpop-1.com","advancedpctools.com","videos.randolphcountyheraldtribune.com","web-start.org","softreadynow.installupgradenowfreshandforyou.website","uplod.ws","pornhubcasino.com","maxbet.ro","2016prizefeed.com","thevideo.me","wantubad.com","tavanero.com","xcusmy.club","daclips.in","gaymenofporn.online","jackpotcitycasino.com","italian-method.com","getsearchincognito.com","youjustwonprize.com","finanz-nachrichten.me","quizcliente.site","da.reimageplus.com","jkanime.net","britmoneymethod.com","uae.souq.com","ka.azzer.net","safensecure.xyz","8t.hootingrhejkz.online","www6.blinkx.com","wizzcaster.com","comparaison-prix.com","vodlocker.lol","fr.reimageplus.com","free.fromdoctopdf.com","userscloud.com","myprivatesearch.com","fanli90.cn","tutticodicisconto.it","mediadec.com","gogamego.thewhizproducts.com","download.weatherblink.com","free.videodownloadconverter.com","we-are-gamers.com","sesso.communityadult.net","lp.blpmovies.com","search.queryrouter.com","bbb-johannesburg.localspecific.com","lp.blpmovies.com","go.ppixelm.com","r0.ru","sesso.communityadult.net","bbb-johannesburg.localspecific.com","ppixelm.com","cyberguardianspe.info","we-are-gamers.com","loginfaster.com/new","www.alfacart.com","www.foresee.com","mobile-win.com","www.plusnetwork.com","www.amicafarmacia.com","www.ienjoyapps.com","cheapcheap.io","screenaddict.thewhizproducts.com","nova.rambler.ru","free.gamingwonderland.com","p9328ujeiw1.ru","mobilecasinoclub.co.uk","pfhsystem.com","regtuneup.com","theprofitsmaker.net","bodogpromotions.eu","heroesreplay.org","financialsecrets.info","mymoneymakingapp.com","sunmaker.com","888casino-promotions.com","vogliosesso.com","scienceremix.com","allinonedocs.com","arabia.starzplay.com","allirishcasino.com","advancepctools.info","movie.ienjoyapps.com","surveyform001.s3-website-us-east-1.amazonaws.com","mgs188.com","pfhsystem.com","lpeva.com","ddsh8.com","theprofitsmaker.net","b2.ijquery11.com","sporthero.thewhizmarketing.com","securefastmac.tech","seen-on-screen.thewhizmarketing.com","1000spins.com","search.queryrouter.com","pfhsystem.com","reimageplus.com","offer.alibaba.com","searchlistings.org","search.queryrouter.com","search.queryrouter.com","mybinaryoptionsrobot.com","duplicashapp.com","search.queryrouter.com","bestgame.directory","droidclub.net",".rivalo.com","yoursuperprize.com","mediaexplained.com","om.elvenar.com","shinar.club","revitoleczemacream.com","freelotto.com","screenaddict.thewhizproducts.com","download.bringmesports.com/","allinonedocs.com","driver-fixer.com","arabydeal.com","cleanyourcomputertoday.com","arabydeal.com","music.mixplugin.com","1se.info","survey12.com","freesoftwaredlul.com","pldist01.com","ad.adpop-1.com","searchanonymous.net","abrst.pro","muzikfury.thewhizmarketing.com","lp.mbtrx.com","th1.forfun.maxisize-pro.com","watchmygirlfriend.gfpornbox.com","new.freelotto.com","desktoptrack.com","search.queryrouter.com","offer.alibaba.com","1000spins.com","promotions.coral.co.uk","search.queryrouter.com","tbsia.com","tbsia.com","multtaepyo.com","search.queryrouter.com","czechmethod.com","consumerview.co","wayretail.com","72onbase.com","funsafetab.com","search.queryrouter.com","speedyfiledownload.com","driver-fixer.com","arabydeal.com","cleanyourcomputertoday.com","arabydeal.com","music.mixplugin.com","1se.info","survey12.com","freesoftwaredlul.com","pldist01.com","ad.adpop-1.com","searchanonymous.net","abrst.pro","muzikfury.thewhizmarketing.com","lp.mbtrx.com","th1.forfun.maxisize-pro.com","watchmygirlfriend.gfpornbox.com","new.freelotto.com","desktoptrack.com","search.queryrouter.com","offer.alibaba.com","1000spins.com","promotions.coral.co.uk","search.queryrouter.com","tbsia.com","tbsia.com","surveyform001.s3-website-us-east-1.amazonaws.com","mgs188.com","pfhsystem.com","lpeva.com","ddsh8.com","theprofitsmaker.net","quantomcoding.com","sporthero.thewhizmarketing.com","popads.net","onclkds.com","consumerview.co","12kotov.ru","ruhotpair2.fingta.com","easytelevisionaccessnow.com","ahwrd.com","lpeva.com","ppgzf.com","zjstx.com","kituure.xyz","join.pro-gaming-world.com","mackeeperapp.mackeeper.com","tracknotify.com","2075.cdn.beyondhosting.net","idollash.com","ds.moviegoat.com","fulltab.com","rackcdn.com","prestoris.com","adsterra.com","swampssovuuhusp.top","streesusa.info","freesoftwaredlul.com","adreactor.com","a-static.com","codeonclick.com","heheme.com","adf.ly","seen-on-screen.thewhizmarketing.com","openload.co"]}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(22),a=r(0);const o=class extends n.a{constructor(){super(...arguments),this.shouldBeDisplayed=!1,this.shouldBeDisplayedThankMsg=!1,this.rating=0,this.userFeedback="",this.isFeedbackSubmit=!1}getKey(){return a.h.RATING_US_MODAL}getLegacyKeys(){return[]}toDTO(){return{shouldBeDisplayed:this.shouldBeDisplayed,shouldBeDisplayedThankMsg:this.shouldBeDisplayedThankMsg,rating:this.rating,userFeedback:this.userFeedback,isFeedbackSubmit:this.isFeedbackSubmit}}getVersion(){return 1}migrate(){}async enable(){return this.shouldBeDisplayed=!0,this.isFeedbackSubmit=!1,await this.save(),this}async disable(){return this.isFeedbackSubmit=!0,await this.save(),this}getShouldBeDisplayed(){return(this.shouldBeDisplayed||this.shouldBeDisplayedThankMsg)&&!this.isFeedbackSubmit}async displayThankMsg(){return this.shouldBeDisplayedThankMsg=!0,await this.save(),this}async setUserRating(e=0){return this.rating=e,await this.save(),this}async setUserFeedback(e=""){return this.userFeedback=e,await this.save(),this}getUserFeedback(){return{rating:this.rating,userFeedback:this.userFeedback}}getShouldBeDisplayedThankMsg(){return this.shouldBeDisplayedThankMsg}};let i=o;i.getDefault=()=>new o},function(e,t,r){"use strict";r.d(t,"i",(function(){return setUninstallURL})),r.d(t,"h",(function(){return setOptIn})),r.d(t,"e",(function(){return initOnExtensionOnInstall})),r.d(t,"a",(function(){return initAlarms})),r.d(t,"b",(function(){return initContextMenu})),r.d(t,"f",(function(){return initOnExtensionOnStartup})),r.d(t,"g",(function(){return initTabsUpdatedListener})),r.d(t,"j",(function(){return updateBadgeListener})),r.d(t,"c",(function(){return initFeatures})),r.d(t,"d",(function(){return initListeners}));var n=r(23),a=r(87),o=r(66),i=r(0),s=r(4),u=r(24),l=r(30),_=r(94),d=r(8),h=r(29),f=r(5),E=r(82),O=Object.defineProperty,p=Object.defineProperties,T=Object.getOwnPropertyDescriptors,m=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,r)=>t in e?O(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,__spreadValues=(e,t)=>{for(var r in t||(t={}))S.call(t,r)&&__defNormalProp(e,r,t[r]);if(m)for(var r of m(t))I.call(t,r)&&__defNormalProp(e,r,t[r]);return e};var y=new class favicon_manager_FaviconManager{updateBadgeState(e){d.a.action.setIcon({path:e.BadgeIcon}),d.a.action.setBadgeText({text:e.InitialText}),d.a.action.setBadgeTextColor({color:e.TextColor}),d.a.action.setBadgeBackgroundColor({color:e.BadgeColor})}async refreshIconAndLabel(){if(!await h.a.isOptIn())return void this.updateBadgeState(i.f.OPT_OUT);if(await f.c.get(i.h.PAUSED))return void this.updateBadgeState(i.f.EXTENSION_OFF);const e=await Object(s.k)(),t=await(new E.b).load();let r=0;const n=void 0!==(null==e?void 0:e.id)?t.getByTabId(e.id):void 0;var a;(n&&Object.keys(n.totalBlocksByType).forEach(e=>{r+=n.totalBlocksByType[e]}),r>0)?this.updateBadgeState((a=__spreadValues({},i.f.STATS_COUNT),p(a,T({InitialText:""+r})))):this.updateBadgeState(__spreadValues({},i.f.STATS_COUNT))}},g=r(72),A=r(40),b=r(68),C=r(90),L=r(7),N=r(20),R=r(81),P=r(1),v=r(6),w=r(11);const D=_.a.getInstance(),setUninstallURL=async e=>{const t="?version="+Object(s.t)().version,r="&block="+e||!1,n=await L.c.get(i.h.GENERAL_DATA),a="&installTime="+(null==n?void 0:n.installTime),o=await b.a.getInstance().getAllFeaturesValueAsync(),u=new URLSearchParams;i.a.SHOW_HOOKS in o&&u.append("showHooks",String(o[i.a.SHOW_HOOKS])),i.a.POPUP_BLOCKING_V2 in o&&u.append("popupBlockingV2",String(o[i.a.POPUP_BLOCKING_V2])),chrome.runtime.setUninstallURL(`https://app.pbapi.xyz/uninstall${t}${r}&logout=true${a}${u.size>0?"&"+u.toString():""}`)},setOptIn=async(e,t)=>{await(e?h.a.optIn():h.a.optOut()),await N.a.setFeatureEnabled({Name:"DetectOverlays",SettingsKey:"detectOverlays"},e),t&&t()},initOnExtensionOnInstall=()=>{chrome.runtime.onInstalled.addListener(async e=>{const{reason:t}=e,r=await Object(u.a)();if(await Object(u.b)(r),await(async()=>{const e=await fetch(i.n);if(200===e.status){const t=await e.text();chrome.storage.local.set({[i.h.FONT_STYLE]:t})}})(),"install"===t){await b.a.getInstance().init(),await Object(a.b)(),Object(o.a)(!1);try{const e=await Object(C.b)();L.c.set(i.h.INSTALL_SOURCE,e)}catch(e){}chrome.tabs.create({url:i.r.WEB_APP+"/welcome"}),(async()=>{try{if("normal"!==(await chrome.management.getSelf()).installType)return;const e=new L.b(L.a.Sync);if(await e.get(i.h.INSTALL_EVENT_SENT))return;Object(R.a)(i.c.ANALYTICS_EVENT_TYPES.EXTENSION_INSTALL),e.set(i.h.INSTALL_EVENT_SENT,Date.now())}catch(e){}})()}else"update"===t&&(Object(o.a)(!1),Object(a.c)());await(async()=>{const{version:e}=Object(v.h)();try{await Object(w.a)(P.f.VERSION,{method:"POST",body:JSON.stringify({version:e}),headers:{"Content-Type":"application/json"}})}catch(e){}})(),await setUninstallURL(0),await Object(s.gb)(),chrome.storage.local.get([i.h.PAUSED],({paused:e})=>{Object(o.a)(e)})})},initAlarms=()=>{D.createPeriodicAlarmWithDelay(i.b.SEGMENT_ALARM,i.w,Object(l.j)(i.A,i.p),!0),D.createPeriodicAlarm(i.b.ADSBLOCKER_ALARM,i.w),D.createPeriodicAlarm(i.b.TRACKERSBLOCKER_ALARM,i.w),D.createPeriodicAlarm(i.b.YOUTUBEBLOCKER_ALARM,i.w),D.createPeriodicAlarm(i.b.COOKIE_CRUMBLER_ALARM,i.w),D.registerAlarmListener(async e=>{switch(e.name){case i.b.SEGMENT_ALARM:await Object(s.hb)()}})},initContextMenu=()=>{chrome.contextMenus.onClicked.addListener(async e=>{const t=await Object(s.B)();switch(e.menuItemId){case i.i.OVERLAY.id:h.a.isOptIn().then(e=>{e?t||Object(s.Z)("manual-remove-overlay",{source:"right-click"}):Object(s.Z)("overlay-not-active",{source:"right-click"})});break;case i.i.BLOCK_ELEMENT.id:Object(s.Z)(i.t.START_BLOCKED_ELEMENTS);break;case i.i.UNBLOCK_ALL_ELEMENTS.id:Object(s.Z)(i.t.UNBLOCK_ALL_ELEMENTS)}})},initOnExtensionOnStartup=()=>{chrome.runtime.onStartup.addListener(async()=>{chrome.storage.local.get([i.h.PAUSED],({paused:e})=>{Object(o.a)(e)}),Object(n.e)(),await D.createPeriodicAlarmWithDelay(i.b.SEGMENT_ALARM,i.w,Object(l.j)(0,i.y))})},initTabsUpdatedListener=()=>{d.a.webNavigation.onBeforeNavigate.addListener(e=>{-1===e.parentFrameId&&A.b.clearTotalBlocksOfTabIdIfNeeded(e.tabId,"")}),d.a.tabs.onUpdated.addListener(async(e,t,r)=>{g.a.onTabChanged(r,t)}),d.a.tabs.onRemoved.addListener(async e=>{A.b.clearTotalBlocksOfTabIdIfNeeded(e,"")}),d.a.windows.onRemoved.addListener(async()=>{await A.b.pruneTotalBlocksPerTab()})},updateBadgeListener=async()=>{await y.refreshIconAndLabel(),d.a.tabs.onUpdated.addListener(async(e,t)=>{"complete"===t.status&&await y.refreshIconAndLabel()}),d.a.tabs.onActivated.addListener(async()=>{await y.refreshIconAndLabel()}),d.a.windows.onFocusChanged.addListener(async()=>{await y.refreshIconAndLabel()}),chrome.storage.onChanged.addListener(async()=>{await y.refreshIconAndLabel()})},initFeatures=()=>{g.a.onLoaded()},initListeners=()=>{h.a.setOptStateChangedListener(()=>{Object(s.I)(i.t.ON_EXTENSION_INFO_UPDATED)})}},,function(e,t,r){"use strict";var n=r(84);r.o(n,"SampleService")&&r.d(t,"SampleService",(function(){return n.SampleService})),r.o(n,"SyncStoredLocalValue")&&r.d(t,"SyncStoredLocalValue",(function(){return n.SyncStoredLocalValue})),r.o(n,"createRemoteConfigSyncedValueService")&&r.d(t,"createRemoteConfigSyncedValueService",(function(){return n.createRemoteConfigSyncedValueService})),r.o(n,"createSyncedValueService")&&r.d(t,"createSyncedValueService",(function(){return n.createSyncedValueService}));var a=r(103);r.o(a,"SampleService")&&r.d(t,"SampleService",(function(){return a.SampleService})),r.o(a,"SyncStoredLocalValue")&&r.d(t,"SyncStoredLocalValue",(function(){return a.SyncStoredLocalValue})),r.o(a,"createRemoteConfigSyncedValueService")&&r.d(t,"createRemoteConfigSyncedValueService",(function(){return a.createRemoteConfigSyncedValueService})),r.o(a,"createSyncedValueService")&&r.d(t,"createSyncedValueService",(function(){return a.createSyncedValueService}));var o=r(85);r.o(o,"SampleService")&&r.d(t,"SampleService",(function(){return o.SampleService})),r.o(o,"SyncStoredLocalValue")&&r.d(t,"SyncStoredLocalValue",(function(){return o.SyncStoredLocalValue})),r.o(o,"createRemoteConfigSyncedValueService")&&r.d(t,"createRemoteConfigSyncedValueService",(function(){return o.createRemoteConfigSyncedValueService})),r.o(o,"createSyncedValueService")&&r.d(t,"createSyncedValueService",(function(){return o.createSyncedValueService}));var i=r(109);r.o(i,"SampleService")&&r.d(t,"SampleService",(function(){return i.SampleService})),r.o(i,"SyncStoredLocalValue")&&r.d(t,"SyncStoredLocalValue",(function(){return i.SyncStoredLocalValue})),r.o(i,"createRemoteConfigSyncedValueService")&&r.d(t,"createRemoteConfigSyncedValueService",(function(){return i.createRemoteConfigSyncedValueService})),r.o(i,"createSyncedValueService")&&r.d(t,"createSyncedValueService",(function(){return i.createSyncedValueService}))},,,,,function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r(91);const{logger:n}=r(128)},,function(e,t,r){"use strict";r.d(t,"b",(function(){return isError})),r.d(t,"a",(function(){return getErrorMessage}));const isError=e=>"object"==typeof e&&e&&"message"in e&&e.message&&"string"==typeof e.message,getErrorMessage=e=>isError(e)?e.message:"Unknown error"},,function(e,t,r){"use strict";r.d(t,"c",(function(){return removeContextMenu})),r.d(t,"b",(function(){return createChildMenuItem})),r.d(t,"a",(function(){return createBrowserContextMenu}));var n=r(0),a=Object.defineProperty,o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,r)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,__spreadValues=(e,t)=>{for(var r in t||(t={}))i.call(t,r)&&__defNormalProp(e,r,t[r]);if(o)for(var r of o(t))s.call(t,r)&&__defNormalProp(e,r,t[r]);return e};const removeContextMenu=e=>{chrome.contextMenus.remove(e,()=>chrome.runtime.lastError)},createChildMenuItem=e=>{chrome.contextMenus.create(e,()=>chrome.runtime.lastError)},createBrowserContextMenu=async e=>{if(e)chrome.contextMenus.removeAll();else{const e=await new Promise(e=>{const t=n.i.PARENT;chrome.contextMenus.create(t,()=>(e(n.i.PARENT.id),chrome.runtime.lastError))});createChildMenuItem(__spreadValues({parentId:e},n.i.OVERLAY)),createChildMenuItem(__spreadValues({parentId:e},n.i.BLOCK_ELEMENT))}}},,function(e,t,r){"use strict";r.d(t,"a",(function(){return ABTests}));var n=r(95),a=r(24),o=r(0),i=r(4),s=r(57),u=r(62),l=Object.defineProperty,_=Object.defineProperties,d=Object.getOwnPropertyDescriptors,h=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,r)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;class ABTests{constructor({configSyncService:e,growthbook:t}){this.firstSync=!0,this.configSyncService=e,this.growthbookInstance=t}static getInstance(){return this.abTestInstance||(this.abTestInstance=ABTests.createABTests()),this.abTestInstance}async init(){if(!this.syncPromise){const runSyncConfig=async()=>(await this.syncConfig(),this.syncPromise=null,this);this.syncPromise=runSyncConfig()}return this.syncPromise}async getAllFeaturesValueAsync(){return await this.init(),this.getFeatures()}getAllFeaturesValue(){return this.init(),this.getFeatures()}getFeatures(){return Object.keys(this.growthbookInstance.getFeatures()).reduce((e,t)=>((e,t)=>_(e,d(t)))(((e,t)=>{for(var r in t||(t={}))f.call(t,r)&&__defNormalProp(e,r,t[r]);if(h)for(var r of h(t))E.call(t,r)&&__defNormalProp(e,r,t[r]);return e})({},e),{[t]:this.growthbookInstance.feature(t).value}),{})}async syncConfig(){const e=await this.configSyncService.syncIfNecessary();if(this.firstSync||e.updated){this.firstSync=!1;const t=await this.userId();this.growthbookInstance.setFeatures(e.value.features),this.growthbookInstance.setAttributes({id:t})}}async userId(){const e=await Object(a.a)();return(null==e?void 0:e.uuid)?e.uuid:""}static createABTests(){const e=new s.SyncStoredLocalValue(o.h.AB_TESTS_CONFIG,o.h.AB_TESTS_CONFIG_LAST_SYNCED,O),t=new n.a({enableDevMode:!Object(i.G)(),features:O.features});return new ABTests({configSyncService:Object(s.createRemoteConfigSyncedValueService)({storage:e,logger:u.a,fetchProps:{endpoint:o.e.GROWTHBOOK}}),growthbook:t})}static testCreateABTests(){return ABTests.createABTests()}}const O={features:{},outdatedAfterInMs:8*o.z}},function(e,t,r){"use strict";r.d(t,"a",(function(){return C}));var n=r(1),a=r(62),o=r(57);const i={[n.d.ANALYTICS_EVENT_TYPES.POP_BLOCK_PST_OPEN_1_BLACKLIST]:{sampleSize:200},[n.d.ANALYTICS_EVENT_TYPES.POP_WHITE_PST_OPEN_1_SRC]:{sampleSize:200},[n.d.ANALYTICS_EVENT_TYPES.POP_WHITE_PST_OPEN_1_TRGT]:{sampleSize:200},[n.v.POP_BLOCK_PRE_OPEN_1_NO_USER_INT]:{sampleSize:200},[n.v.POP_BLOCK_PRE_OPEN_1_CAP_ELEMENT]:{sampleSize:200},[n.v.POP_BLOCK_PRE_OPEN_1_OVERLAYISH]:{sampleSize:200},[n.v.POP_BLOCK_PRE_OPEN_1_FS_ON_OPEN]:{sampleSize:200},[n.v.POP_BLOCK_PRE_OPEN_1_BLUR_CALLED]:{sampleSize:200},[n.v.POP_BLOCK_PRE_OPEN_1_ATAG_CLICK]:{sampleSize:200},[n.v.POP_BLOCK_PRE_OPEN_1_ATAG_DISPATCH]:{sampleSize:200},[n.v.POP_BLOCK_PRE_OPEN_1_ARTIF_CLICK]:{sampleSize:200},[n.w.POP_WHITE_PRE_OPEN_1_WINOPEN_LIST]:{sampleSize:200},[n.w.POP_WHITE_PRE_OPEN_1_WINOPEN_DOM]:{sampleSize:200},[n.w.POP_WHITE_PRE_OPEN_1_WINOPEN_LOGIN]:{sampleSize:200},[n.w.POP_WHITE_PRE_OPEN_1_CR_EL_CLCK_LIST]:{sampleSize:200},[n.w.POP_WHITE_PRE_OPEN_1_CR_EL_CLCK_DOM]:{sampleSize:200},[n.w.POP_WHITE_PRE_OPEN_1_CR_EL_CLCK_PAR]:{sampleSize:200},[n.w.POP_WHITE_PRE_OPEN_1_CR_EL_DISP_LIST]:{sampleSize:200},[n.w.POP_WHITE_PRE_OPEN_1_CR_EL_DISP_DOM]:{sampleSize:200},[n.w.POP_WHITE_PRE_OPEN_1_CR_EV_LIST]:{sampleSize:200},[n.w.POP_WHITE_PRE_OPEN_1_CR_EV_LOGIN]:{sampleSize:200},[n.w.POP_WHITE_PRE_OPEN_1_CR_EV_DOM]:{sampleSize:200}},s={[n.d.ANALYTICS_EVENT_TYPES.POP_BLOCK_PST_OPEN_1_BLACKLIST]:{count:0},[n.d.ANALYTICS_EVENT_TYPES.POP_WHITE_PST_OPEN_1_SRC]:{count:0},[n.d.ANALYTICS_EVENT_TYPES.POP_WHITE_PST_OPEN_1_TRGT]:{count:0},[n.v.POP_BLOCK_PRE_OPEN_1_NO_USER_INT]:{count:0},[n.v.POP_BLOCK_PRE_OPEN_1_CAP_ELEMENT]:{count:0},[n.v.POP_BLOCK_PRE_OPEN_1_OVERLAYISH]:{count:0},[n.v.POP_BLOCK_PRE_OPEN_1_FS_ON_OPEN]:{count:0},[n.v.POP_BLOCK_PRE_OPEN_1_BLUR_CALLED]:{count:0},[n.v.POP_BLOCK_PRE_OPEN_1_ATAG_CLICK]:{count:0},[n.v.POP_BLOCK_PRE_OPEN_1_ATAG_DISPATCH]:{count:0},[n.v.POP_BLOCK_PRE_OPEN_1_ARTIF_CLICK]:{count:0},[n.w.POP_WHITE_PRE_OPEN_1_WINOPEN_LIST]:{count:0},[n.w.POP_WHITE_PRE_OPEN_1_WINOPEN_DOM]:{count:0},[n.w.POP_WHITE_PRE_OPEN_1_WINOPEN_LOGIN]:{count:0},[n.w.POP_WHITE_PRE_OPEN_1_CR_EL_CLCK_LIST]:{count:0},[n.w.POP_WHITE_PRE_OPEN_1_CR_EL_CLCK_DOM]:{count:0},[n.w.POP_WHITE_PRE_OPEN_1_CR_EL_CLCK_PAR]:{count:0},[n.w.POP_WHITE_PRE_OPEN_1_CR_EL_DISP_LIST]:{count:0},[n.w.POP_WHITE_PRE_OPEN_1_CR_EL_DISP_DOM]:{count:0},[n.w.POP_WHITE_PRE_OPEN_1_CR_EV_LIST]:{count:0},[n.w.POP_WHITE_PRE_OPEN_1_CR_EV_LOGIN]:{count:0},[n.w.POP_WHITE_PRE_OPEN_1_CR_EV_DOM]:{count:0}};var u=Object.defineProperty,l=Object.defineProperties,_=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,r)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,__spreadValues=(e,t)=>{for(var r in t||(t={}))h.call(t,r)&&__defNormalProp(e,r,t[r]);if(d)for(var r of d(t))f.call(t,r)&&__defNormalProp(e,r,t[r]);return e},__spreadProps=(e,t)=>l(e,_(t));var E=r(92),O=r(6),p=r(23),T=r(81),m=r(14),S=r(24),I=r(11),y=Object.defineProperty,g=Object.getOwnPropertySymbols,A=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,unsampled_defNormalProp=(e,t,r)=>t in e?y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,unsampled_spreadValues=(e,t)=>{for(var r in t||(t={}))A.call(t,r)&&unsampled_defNormalProp(e,r,t[r]);if(g)for(var r of g(t))b.call(t,r)&&unsampled_defNormalProp(e,r,t[r]);return e};const addToEventPayload=(e,t)=>{let r={};e.payload&&(r=JSON.parse(e.payload));const n=Object.assign(r,t);return e.payload=JSON.stringify(n),e},C=(({unsampledSendAnalyticsEvent:e})=>{const t=new o.SyncStoredLocalValue(n.h.ANALYTICS_EVENT_SAMPLE_CONFIG,n.h.ANALYTICS_EVENT_SAMPLE_CONFIG_LAST_SYNCED,{eventNameToSampleConfig:i}),r=Object(o.createSyncedValueService)({outdatedAfterInMs:n.r,storage:t,logger:a.a,fetchProps:{endpoint:n.f.ANALYTICS_EVENT_SAMPLE_CONFIG},responseToValue:e=>e.config}),u=new o.SampleService(n.h.ANALYTICS_EVENT_SAMPLE_INFO,s);return async(t,n)=>{if((e=>Object.keys(i).includes(e))(t)){const{value:{eventNameToSampleConfig:a}}=await r.syncIfNecessary();return u.sample(()=>{e(t,__spreadProps(__spreadValues({},n),{payload:JSON.stringify(__spreadProps(__spreadValues({},(null==n?void 0:n.payload)?JSON.parse(n.payload):{}),{sampleSize:a[t].sampleSize}))}))},t,a[t])}return e(t,n)}})({unsampledSendAnalyticsEvent:async(e,t)=>{const r=await Object(S.a)(),a=await Object(p.c)(),o=!(!a||!a.id);let i=t||{};i=(e=>{const{version:t}=Object(O.h)();return addToEventPayload(e,{version:t})})(i),i=(e=>addToEventPayload(e,{browser:Object(m.b)()}))(i);const s=unsampled_spreadValues(unsampled_spreadValues({event_type:e,platform:n.d.ANALYTICS_PLATFORM,product:n.d.ANALYTICS_PRODUCT,timestamp:(new Date).getTime(),is_logged_in:o,is_pro_user:Boolean(a&&a.isPremium)},r),i);Object(T.a)(e,i);try{await Object(I.a)(n.f.ANALYTICS_SEND_EVENT,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify((u=s,{ev:E.Buffer.from(Array.from(JSON.stringify(u)).map((e,t)=>e.charCodeAt(0)-(u.uuid.length+2*t)).toString()).toString("base64"),se:u.uuid}))})}catch(e){}var u}})},,,function(e,t,r){"use strict";var n=r(4),a=r(13),o=r(9),i=r(20),s=r(8),u=(e=>(e.BLOCK="block",e.REDIRECT="redirect",e.ALLOW="allow",e.UPGRADE_SCHEME="upgradeScheme",e.MODIFY_HEADERS="modifyHeaders",e.ALLOW_ALL_REQUESTS="allowAllRequests",e))(u||{}),l=(e=>(e.MAIN_FRAME="main_frame",e.SUB_FRAME="sub_frame",e.STYLESHEET="stylesheet",e.SCRIPT="script",e.IMAGE="image",e.FONT="font",e.OBJECT="object",e.XMLHTTPREQUEST="xmlhttprequest",e.PING="ping",e.CSP_REPORT="csp_report",e.MEDIA="media",e.WEBSOCKET="websocket",e.OTHER="other",e))(l||{});class rule_AjaxBlockingRule extends class Rule{constructor(e){this.ruleId=e,this.getRuleId=()=>this.ruleId}getRule(){const e=this.getCondition(),t=this.getInitiatorDomains(),r=this.getExcludedInitiatorDomains();return t&&(e.initiatorDomains=t),r&&(e.excludedInitiatorDomains=r),{id:this.ruleId,priority:1,condition:e,action:{type:this.getAction()}}}}{constructor(e,t,r,n,a){super(e),this.url=t,this.initiatorDomains=r,this.excludedInitiatorDomains=n,this.resourceTypes=a}getCondition(){return{urlFilter:`*${this.url}*`,resourceTypes:this.resourceTypes||[l.SCRIPT,l.XMLHTTPREQUEST]}}getAction(){return u.BLOCK}getInitiatorDomains(){return this.initiatorDomains}getExcludedInitiatorDomains(){return this.excludedInitiatorDomains}}var _=r(45),d=r(50),h=r(40),f=r(0);function sourceToRule(e,t,r,n){return new rule_AjaxBlockingRule(function generateRuleId(e,t){let r=e.length;return Array.from(e).forEach(e=>{r+=e.charCodeAt(0)}),Math.floor(1e4*r+t)}(e.url,t),e.url,e.initiator,r,n)}const E=class{constructor(e,t,r,n){if(this.uniqueRuleId=e,this.configKey=t,this.dnrWrapper=r,this.type=n,this.blockedDomains=new Set,this.enabled=!1,this.isEnabled=()=>this.enabled,this.blockType=n,e>9999||e<1e3)throw Error("blocker unique id can only be between 1000 to 9999")}async enable(){if(this.enabled)return;const e=await _.a.list();await this.loadConfig(e),this.enabled=!0}async disable(){this.enabled&&(await this.reset(),this.enabled=!1)}async updateConfig(){this.restart()}async restart(){this.isEnabled()&&(await this.disable(),await this.enable())}async loadConfig(e,t=!0){const r=await d.a.getConfig(this.configKey);if(!r)throw new Error("failed getting config");{const n=[];r.providers.map(e=>n.push(...e.sources)),t&&await this.applyDnrRules(this.getDnrRules(n,e,r.resourceTypes)),await this.loadMonitorRules(n)}}async startMonitor(){await this.loadConfig([],!1),this.requestListener=e=>{if(e&&e.url&&E.MONITORED_REQ_TYPES.has(e.type))try{if(e.tabId<0)return;if(!this.blockedDomains.has(Object(n.c)(e.url)))return;const{originUrl:t}=e;let{initiator:r}=e;if(r=Object(n.c)(r||t),!r)return;const a={tabId:e.tabId,initiator:r,url:e.url,type:e.type};this.enabled?this.onBlockedScriptRequest&&this.onBlockedScriptRequest(a):(s.a.tabs.sendMessage(e.tabId,{name:f.t.INCREMENT_TRACKER_BLOCKER_SESSION_COUNT}),h.b.updateUnblockStatsStatsTotals({type:this.blockType,tabId:e.tabId}))}catch(e){console.error("requestListener => "+e)}},this.requestListener=this.requestListener.bind(this),s.a.webRequest.onBeforeRequest.addListener(this.requestListener,{urls:["*://*/*"]})}getDnrRules(e,t,r){const n=[...E.DEFAULT_EXCLUDED_DOMAINS,...t,"null"],a=[],o=[];return e.forEach(e=>{const t=sourceToRule(e,this.uniqueRuleId,n,r);a.push(t.getRuleId()),o.push(t.getRule())}),{removeRuleIds:a,dnrRules:o}}async applyDnrRules(e){await this.dnrWrapper.updateDynamicRules({removeRuleIds:e.removeRuleIds,addRules:e.dnrRules})}async loadMonitorRules(e){this.blockedDomains.clear(),e.forEach(e=>{this.blockedDomains.add(Object(n.c)(e.url))})}async reset(){const e=(await this.dnrWrapper.getDynamicRules()).map(e=>e.id).filter(e=>function isRelevantId(e,t){const r=e.toString();if(r.length>4){return r.substring(r.length-4,r.length)===t.toString()}return!1}(e,this.uniqueRuleId));await this.dnrWrapper.updateDynamicRules({removeRuleIds:e})}};let O=E;O.MONITORED_REQ_TYPES=new Set([l.SCRIPT]),O.DEFAULT_EXCLUDED_DOMAINS=["poperblocker.com","pbapi.xyz"];var p=new class api_DNRHelper extends class DeclarativeNetRequest{}{constructor(){super(...arguments),this.updateDynamicRules=async e=>new Promise((t,r)=>{s.a.declarativeNetRequest.updateDynamicRules(e,()=>{var e;const n=null==(e=s.a.runtime)?void 0:e.lastError;n?r(n):t()})}),this.getDynamicRules=async()=>new Promise((e,t)=>{s.a.declarativeNetRequest.getDynamicRules(r=>{var n;const a=null==(n=s.a.runtime)?void 0:n.lastError;a?t(a):e(r)})}),this.onRuleMatchedDebug={addListener(e){s.a.declarativeNetRequest.onRuleMatchedDebug.addListener(e)}}}},T=r(43),m=r(6);var S=new class ads_blocker_AdsBlocker extends O{constructor(){super(2563,T.a.adsBlocker,p,"ad")}onBlockedScriptRequest(e){setTimeout(async()=>{const t=await _.a.list(),r=await Object(m.i)(e.tabId);try{const n=new URL(r.url).hostname.replace("www.","");t.includes(n)||h.b.updateTotalBlocksByTabId({tabId:e.tabId,type:"ad"})}catch(e){}},500)}};var I=new class trackers_blocker_TrackersBlocker extends O{constructor(){super(2564,T.a.trackerBlocker,p,"tracker")}async onBlockedScriptRequest(e){const t=await _.a.list(),r=await Object(n.v)(e.tabId),a=new URL(r.url).hostname.replace("www.","");t.includes(a)||h.b.updateTotalBlocksByTabId({tabId:e.tabId,type:"tracker"})}},y=r(15);t.a=new class script_blockers_manager_ScriptBlockersManager{constructor(){this.tryActivateFeature=async e=>{let t;!await Object(n.E)()&&(t=await a.a.getDefault(y.a.onTrialEnded).loadAndUpdate(),t.isTrialPending()||t.isTrialEnded())?await e.disable():await e.enable()},this.tryDeactivateFeature=async e=>{await e.disable()},this.refresh=async()=>{S.isEnabled()&&S.restart(),I.isEnabled()&&I.restart()},this.onLoaded=async()=>(I.startMonitor(),S.startMonitor(),this.toggleFeatures()),this.getScriptBlockerByFeature=e=>{let t;return Object(o.d)(e,o.a.AdsBlocker)?t=S:Object(o.d)(e,o.a.TrackersBlocker)&&(t=I),t},this.toggleFeatureState=async(e,t)=>{if(!e)return;const r=this.getScriptBlockerByFeature(e);r&&(t?this.tryActivateFeature(r):this.tryDeactivateFeature(r))},this.onTabChanged=async(e,t)=>{if("loading"===(t&&t.status)&&(null==e?void 0:e.url))return this.toggleFeatures()},this.toggleFeatures=async()=>{const e=await Object(n.A)();await this.toggleFeatureState(o.a.AdsBlocker,e&&await i.a.isFeatureEnabled(o.a.AdsBlocker)),await this.toggleFeatureState(o.a.TrackersBlocker,e&&await i.a.isFeatureEnabled(o.a.TrackersBlocker))},this.onExtensionStateChanged=async e=>{e?await this.refresh():(await S.disable(),await I.disable())}}}},,,,,,,,,function(e,t,r){"use strict";r.d(t,"a",(function(){return ga4Event}));var n=r(24),a=r(4),o=r(31),i=r(68),s=Object.defineProperty,u=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,r)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,__spreadValues=(e,t)=>{for(var r in t||(t={}))l.call(t,r)&&__defNormalProp(e,r,t[r]);if(u)for(var r of u(t))_.call(t,r)&&__defNormalProp(e,r,t[r]);return e};const decode=e=>atob(atob(atob(e))),ga4Event=async(e,t)=>{const r=decode("VW5rd2QxSnJUbE5PYTFaSVRqQktVUT09"),s=decode("Vld4c05tVnRTbE5PVlVaVlUxZHNTMVZXU2tWa01rcHlUbGhLY2xGUlBUMD0="),u=await Object(n.a)();let l={};t&&t.payload?l=JSON.parse(t.payload):(l.browser=Object(o.b)(),l.version=Object(a.t)().version);try{const e=i.a.getInstance().getAllFeaturesValue();l=__spreadValues(__spreadValues({},l),e)}catch(e){console.error(e)}l=(e=>{const t=e?Object.keys(e):[],r={};return t.forEach(t=>{let n=Object(a.S)(t,"-","_");n.length>=40&&(n=n.substring(0,40)),r[n]=e[t]}),r})(l);try{fetch(`https://www.google-analytics.com/mp/collect?measurement_id=${r}&api_secret=${s}`,{method:"POST",headers:{"Content-type":"application/x-www-form-urlencoded"},body:JSON.stringify({client_id:null==u?void 0:u.uuid,events:[{name:e,params:__spreadValues({},l)}]})})}catch(e){console.error(e)}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return BlockedItemsCounter})),r.d(t,"c",(function(){return UnblockedItemsCounter})),r.d(t,"b",(function(){return BlockedItemsPerTab}));var n=r(1),a=r(53),o=r(39),i=r(6),s=r(93),u=r(16),l=Object.defineProperty,_=Object.defineProperties,d=Object.getOwnPropertyDescriptors,h=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,r)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,__spreadValues=(e,t)=>{for(var r in t||(t={}))f.call(t,r)&&__defNormalProp(e,r,t[r]);if(h)for(var r of h(t))E.call(t,r)&&__defNormalProp(e,r,t[r]);return e},__spreadProps=(e,t)=>_(e,d(t));const O="UPDATE",p="PRUNE",T="CLEAR_IF_DOMAIN_CHANGED";class BlockedItemsCounter extends o.a{constructor(){super(...arguments),this.pop=0,this.win=0,this.tab=0,this.overlay=0,this.ad=0,this.cookie=0,this.fbAd=0,this.linkedinAd=0,this.twitterAd=0,this.tracker=0,this.instagramAd=0,this.socialContent=0,this.youtubeAd=0,this.keywords=0}getKey(){return n.h.TOTAL_BLOCKS_BY_TYPE}getLegacyKeys(){return[]}toDTO(){return{pop:this.pop,win:this.win,tab:this.tab,overlay:this.overlay,ad:this.ad,cookie:this.cookie,fbAd:this.fbAd,linkedinAd:this.linkedinAd,twitterAd:this.twitterAd,tracker:this.tracker,instagramAd:this.instagramAd,socialContent:this.socialContent,youtubeAd:this.youtubeAd,keywords:this.keywords}}getVersion(){return 1}migrate(){return Promise.resolve()}}class UnblockedItemsCounter extends BlockedItemsCounter{getKey(){return n.h.TOTAL_UNBLOCKS_BY_TYPE}}const copyBlockedPerTabId=e=>__spreadProps(__spreadValues({},e),{totalBlocksByType:__spreadValues({},e.totalBlocksByType)}),copyBlockedPerTabs=e=>Object.fromEntries(Object(u.a)(e).map(([e,t])=>[e,copyBlockedPerTabId(t)]));class BlockedItemsPerTab extends o.a{constructor(){super(...arguments),this.value={}}load(){return super.load()}getRaw(){return __spreadProps(__spreadValues({},this.toDTO()),{v:this.getVersion()})}getAll(){return copyBlockedPerTabs(this.value)}getAllTabIds(){return Object.keys(this.value).map(e=>Number(e))}getByTabId(e){return this.value[e]?copyBlockedPerTabId(this.value[e]):void 0}setByTabId(e,t){this.value[e]=t}deleteByTabId(e){delete this.value[e]}getKey(){return n.h.TOTAL_BLOCKS_BY_TAB_ID}getLegacyKeys(){return[]}toDTO(){return{value:copyBlockedPerTabs(this.value)}}getVersion(){return 2}migrate(e){return 1===e&&(this.value=Object.fromEntries(Object.entries(this).map(e=>{const[t,r]=e;return isNaN(Number(t))?void 0:[t,r]}).filter(s.a))),Promise.resolve()}}t.d=new class BlockingManager{constructor(){this.queue=[],this.inProcess=!1}async getTotalBlocksByType(){return await(new BlockedItemsCounter).load()}async getTotalUnBlocksByType(){return await(new UnblockedItemsCounter).load()}async getTotalBlockForKeys(...e){const t=await this.getTotalBlocksByType();let r=0;return e.forEach(e=>{r+=e in t?t[e]:0}),r}async getTotalBlocksPerTab(){return await(new BlockedItemsPerTab).load()}updateTotalBlocksByTabId(e){this.addActionToQueue({data:e,type:O})}addActionToQueue(e){this.queue.push(e),this.inProcess||(this.inProcess=!0,this.processActionQueue())}async runUpdate(e){const t=e.tabId,r=e.count||1,n=await Object(i.i)(t,{currentWindow:!1}),a=new URL(n.url).host,o=await this.getTotalBlocksPerTab();let s=o.getByTabId(t);s&&s.host===a||(s={host:a,lastUpdated:Date.now(),totalCount:0,totalBlocksByType:this.getEmptyBlockList()}),s.totalBlocksByType[e.type]+=r,s.lastUpdated=Date.now(),s.host=a,o.setByTabId(t,s),await o.save(),await this.updateStatsTotals(e)}async updateStatsTotals(e){const t=await this.getTotalBlocksByType();t[e.type]+=e.count||1,await t.save()}async updateUnblockStatsStatsTotals(e){const t=await this.getTotalUnBlocksByType();t[e.type]+=e.count||1,await t.save()}async clearTotalBlocksOfTabIdIfNeeded(e,t){e&&this.addActionToQueue({data:{tabId:e,host:t},type:T})}async runClearIfDomainChanged({tabId:e,host:t}){const r=await this.getTotalBlocksPerTab(),n=r.getByTabId(e);n&&n.host!==t&&r.deleteByTabId(e),r.save()}pruneTotalBlocksPerTab(){this.addActionToQueue({type:p})}getEmptyBlockList(){return{pop:0,win:0,tab:0,overlay:0,ad:0,cookie:0,fbAd:0,linkedinAd:0,twitterAd:0,tracker:0,instagramAd:0,youtubeAd:0,keywords:0}}updateBlockedItemCount(e,t,r){const n=e;return"pop"==t.block?t.args&&t.args[2]&&/(?:(?:width=)|(?:height=))/.test(t.args[2])?n.win=(n.win||0)+1:n.tab=(n.tab||0)+1:void 0!==n[t.block]?n[t.block]=n[t.block]+(r||1):t.block in a.a.blockedTypes?n[t.block]=r||1:console.error("Error: Undefined block type ",t.block),n}async processActionQueue(){try{for(;this.queue.length>0;){const e=this.queue.shift();switch(e.type){case O:await this.runUpdate(e.data);break;case p:await this.runPrune();break;case T:await this.runClearIfDomainChanged(e.data)}}}catch(e){console.error(e)}finally{this.inProcess=!1}}async runPrune(){const e=(await chrome.tabs.query({})).map(({id:e})=>e),t=await this.getTotalBlocksPerTab();t.getAllTabIds().forEach(r=>{e.includes(r)||t.deleteByTabId(r)}),await t.save()}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(22),a=r(0);const o=class extends n.a{constructor(){super(...arguments),this.shouldBeDisplayed=!0,this.installTime=-1,this.openSettingsPanelNumber=0,this.maybeLaterTime=-1}getLegacyKeys(){return[]}toDTO(){return{shouldBeDisplayed:this.shouldBeDisplayed,installTime:this.installTime,openSettingsPanelNumber:this.openSettingsPanelNumber,maybeLaterTime:this.maybeLaterTime}}getVersion(){return 1}migrate(){}async countOpenSettingsPanel(){return this.openSettingsPanelNumber++,await this.save(),this}getKey(){return a.h.SPECIAL_OFFER_MODAL}async initIfNeeded(){return-1===this.installTime&&await this.init(),this}isTimeToDisplayModal(){const e=Date.now()-this.installTime-14*a.x>0,t=Date.now()-this.maybeLaterTime-2*a.x>0,r=-1===this.maybeLaterTime&&(e||this.openSettingsPanelNumber>12),n=this.maybeLaterTime>-1&&t;return this.shouldBeDisplayed&&(r||n)}async disable(){return this.shouldBeDisplayed=!1,await this.save(),this}async enable(){return this.shouldBeDisplayed=!0,await this.save(),this}async updateMaybeLaterTime(){return this.maybeLaterTime=Date.now(),await this.save(),this}async init(){return this.installTime=Date.now(),this.shouldBeDisplayed=!0,this.openSettingsPanelNumber=0,this.maybeLaterTime=-1,await this.save(),this}};let i=o;i.getDefault=()=>new o},function(e,t,r){"use strict";var n=r(101);r.o(n,"SampleService")&&r.d(t,"SampleService",(function(){return n.SampleService})),r.o(n,"SyncStoredLocalValue")&&r.d(t,"SyncStoredLocalValue",(function(){return n.SyncStoredLocalValue})),r.o(n,"createRemoteConfigSyncedValueService")&&r.d(t,"createRemoteConfigSyncedValueService",(function(){return n.createRemoteConfigSyncedValueService})),r.o(n,"createSyncedValueService")&&r.d(t,"createSyncedValueService",(function(){return n.createSyncedValueService})),r.o(n,"fetchData")&&r.d(t,"fetchData",(function(){return n.fetchData}));var a=r(102);r.d(t,"fetchData",(function(){return a.a}))},function(e,t,r){"use strict";var n=r(107);r.o(n,"SampleService")&&r.d(t,"SampleService",(function(){return n.SampleService})),r.o(n,"StoredValueImpl")&&r.d(t,"StoredValueImpl",(function(){return n.StoredValueImpl})),r.o(n,"SyncStoredLocalValue")&&r.d(t,"SyncStoredLocalValue",(function(){return n.SyncStoredLocalValue})),r.o(n,"createRemoteConfigSyncedValueService")&&r.d(t,"createRemoteConfigSyncedValueService",(function(){return n.createRemoteConfigSyncedValueService})),r.o(n,"createSyncedValueService")&&r.d(t,"createSyncedValueService",(function(){return n.createSyncedValueService}));var a=r(108);r.d(t,"StoredValueImpl",(function(){return a.a})),r.d(t,"SyncStoredLocalValue",(function(){return a.b}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return createStoredValueService}));var n=r(44),a=r(84);const createStoredValueService=({storage:e,logger:t,fetchProps:r,responseToValue:o=(e=>e)})=>{const i=Object(n.a)(t,`StoredValue '${r.endpoint}'`);return{update:async()=>{const t=await Object(a.fetchData)(r);if(t){i.debug("New value received");const r=o(t);return await e.store(r),{success:!0,value:r}}i.debug("Keeping old/default");return{success:!1,value:await e.getOrDefault()}}}}},function(e,t,r){"use strict";r.d(t,"b",(function(){return setDefaultConfig})),r.d(t,"c",(function(){return syncConfigOnUpdate})),r.d(t,"a",(function(){return p}));var n=r(0),a=r(13),o=r(22);const i=class extends o.a{constructor(){super(...arguments),this.shouldBeDisplayed=!1}getKey(){return n.h.WHATS_NEW}getLegacyKeys(){return[]}toDTO(){return{shouldBeDisplayed:this.shouldBeDisplayed}}getVersion(){return 1}migrate(){}async enable(){return this.shouldBeDisplayed=!0,await this.save(),this}async disable(){return this.shouldBeDisplayed=!1,await this.save(),this}getShouldBeDisplayed(){return this.shouldBeDisplayed}};let s=i;s.getDefault=()=>new i;var u=r(15),l=r(89),_=r(83),d=r(54),h=Object.defineProperty,f=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,r)=>t in e?h(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,__spreadValues=(e,t)=>{for(var r in t||(t={}))E.call(t,r)&&__defNormalProp(e,r,t[r]);if(f)for(var r of f(t))O.call(t,r)&&__defNormalProp(e,r,t[r]);return e};const p={whitelist:[],socialContentKeyWords:[],doNotShowNotifyList:{},overlayBlockedList:{},lastNotificationDisplay:{},counterBlockedSites:{},totalBlocksByType:{pop:0,win:0,tab:0,overlay:0,ad:0,cookie:0,fbAd:0,linkedinAd:0,twitterAd:0,tracker:0,instagramAd:0,socialContent:0,youtubeAd:0,keywords:0},totalBlocksByTabId:{value:{}},numOfBlocks:0,counterUnBlockedSites:{},totalUnBlocksByType:{pop:0,win:0,tab:0,overlay:0,ad:0,cookie:0,fbAd:0,linkedinAd:0,twitterAd:0,tracker:0,instagramAd:0,socialContent:0,youtubeAd:0,keywords:0},numOfUnBlocks:0,paused:!1,settings:{isOptIn:void 0,showBadge:!0,showNotifications:!0,detectOverlays:!1,enableContextMenu:!0,enableSiteExperience:!1,popups:!0,hideElements:!0,cookieCrumbler:!1,facebookAdds:!1,adsBlocker:!1,trackersBlocker:!1,pushNotification:!1,socialContentBlocker:!0,youtubeBlocker:!1},isFirstBlockAdds:!0,rating:{showCount:0,nextDisplay:n.J.AFTER,complete:!1},siteExperience:"clean"},setDefaultConfig=async()=>{chrome.storage.local.set(p);const e=Date.now();a.a.getDefault(u.a.onTrialEnded).loadAndUpdate().then(e=>{e.lastDisplayed=Date.now()-(n.x+18e5),e.save()}),s.getDefault().disable(),l.a.getDefault().init(),_.a.getDefault().init(),d.a.getDefault().enable();const t={installTime:e},r={newUser:!0,lastUpdateTime:e,count:0,cycle:0,coolDown:!1};await chrome.storage.local.set({[n.h.GENERAL_DATA]:t,[n.h.PROMO_COUPON]:r,[n.h.FIRST_POPUP_BLOCK]:!0})},syncConfigOnUpdate=async()=>{chrome.storage.local.get(null,async e=>{var t,r,n,a;const o={whitelist:[],socialContentKeyWords:[],numOfBlocks:0,paused:!1,counterBlockedSites:{},settings:p.settings,isFirstBlockAdds:!0,totalBlocksByType:p.totalBlocksByType,totalBlocksByTabId:p.totalBlocksByTabId,numOfUnBlocks:0,counterUnBlockedSites:{},totalUnBlocksByType:p.totalUnBlocksByType};s.getDefault().enable();(await _.a.getDefault().load()).initIfNeeded(),e.pb_numOfBlocks>=0&&!e.settings?(o.numOfBlocks=e.pb_numOfBlocks,o.settings.isOptIn=e.pb_detectOverlays||"In"===e.isOpted,o.settings.detectOverlays=e.pb_detectOverlays||"In"===e.isOpted,e.pb_totalBlocksByType&&(o.totalBlocksByType={pop:e.pb_totalBlocksByType.pop,win:e.pb_totalBlocksByType.win,tab:e.pb_totalBlocksByType.tab,overlay:e.pb_totalBlocksByType.overlay,ad:e.pb_totalBlocksByType.ad,cookie:e.pb_totalBlocksByType.cookie,fbAd:e.pb_totalBlocksByType.fbAd,twitterAd:e.pb_totalBlocksByType.twitterAd,linkedinAd:e.pb_totalBlocksByType.linkedinAd,instagramAd:e.pb_totalBlocksByType.instagramAd,tracker:e.pb_totalBlocksByType.tracker,socialContent:e.pb_totalBlocksByType.socialContent,youtubeAd:e.pb_totalBlocksByType.youtubeAd,keywords:e.pb_totalBlocksByType.keywords},o.counterBlockedSites=e.pb_counterBlockedSites),e.pb_whitelistManager&&e.pb_whitelistManager.userWhitelist&&(o.whitelist=e.pb_whitelistManager.userWhitelist||[]),chrome.storage.local.set(__spreadValues(__spreadValues({},p),o))):e.pb_numOfBlocks>=0?(e.settings.isOptIn=e.pb_detectOverlays||"In"===e.isOpted,e.settings.popups=void 0===(null==(t=e.settings)?void 0:t.popups)||e.settings.popups,e.settings.hideElements=void 0===(null==(r=e.settings)?void 0:r.hideElements)||e.settings.hideElements,e.settings.detectOverlays=e.pb_detectOverlays||"In"===e.isOpted,chrome.storage.local.set({settings:__spreadValues({},e.settings)})):(e.settings.popups=void 0===(null==(n=e.settings)?void 0:n.popups)||e.settings.popups,e.settings.hideElements=void 0===(null==(a=e.settings)?void 0:a.hideElements)||e.settings.hideElements,chrome.storage.local.set({settings:__spreadValues({},e.settings)}))})}},,function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(22),a=r(0);const o=class extends n.a{constructor(){super(...arguments),this.isDisplayed=!1,this.installTime=-1}getKey(){return a.h.PIN_TASKBAR_DATA}getLegacyKeys(){return[]}toDTO(){return{isDisplayed:this.isDisplayed,installTime:this.installTime}}getVersion(){return 1}migrate(){}async setDisplayed(e){return this.isDisplayed=e,await this.save(),this}isTimeToDisplayPromo(){return!this.isDisplayed}async init(){return this.installTime=Date.now(),this.isDisplayed=!1,await this.save(),this}};let i=o;i.getDefault=()=>new o},function(e,t,r){"use strict";r.d(t,"c",(function(){return logout})),r.d(t,"b",(function(){return getInstallSource})),r.d(t,"a",(function(){return getExtensionInfo}));var n=r(6),a=r(0),o=r(24),i=r(15),s=r(23),u=r(41);const getInstallSource=async()=>new Promise(e=>{chrome.windows.getAll({populate:!0},t=>{let r,n,a="other";t.forEach(e=>(e.tabs||[]).some(e=>{const t=e.url||"";n="https://chrome.google.com/webstore/detail.*"+chrome.runtime.id,r=new RegExp(n,"g");return!!r.exec(t)&&(a="chrome_store",!0)})),e(a)})}),getExtensionInfo=async()=>{const{version:e}=Object(n.h)(),t=await Object(o.a)(),r=await i.a.getFeaturesTrialState(),a=await Object(s.c)(),l=await u.a.getOptInCurrentState();return{version:e,uuid:t.uuid,user:a,trial:r,optInStatus:l}},logout=async()=>{await Object(s.d)()&&(await Object(n.o)(),Object(n.n)(a.t.ON_LOGOUT))}},function(e,t){},function(e,t,r){"use strict";(function(e){var n=r(113),a=r(114),o=r(115);function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(e,t){if(kMaxLength()<t)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=Buffer.prototype:(null===e&&(e=new Buffer(t)),e.length=t),e}function Buffer(e,t,r){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,e)}return from(this,e,t,r)}function from(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function fromArrayBuffer(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);Buffer.TYPED_ARRAY_SUPPORT?(e=t).__proto__=Buffer.prototype:e=fromArrayLike(e,t);return e}(e,t,r,n):"string"==typeof t?function fromString(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!Buffer.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|byteLength(t,r),a=(e=createBuffer(e,n)).write(t,r);a!==n&&(e=e.slice(0,a));return e}(e,t,r):function fromObject(e,t){if(Buffer.isBuffer(t)){var r=0|checked(t.length);return 0===(e=createBuffer(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function isnan(e){return e!=e}(t.length)?createBuffer(e,0):fromArrayLike(e,t);if("Buffer"===t.type&&o(t.data))return fromArrayLike(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function assertSize(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function allocUnsafe(e,t){if(assertSize(t),e=createBuffer(e,t<0?0:0|checked(t)),!Buffer.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function fromArrayLike(e,t){var r=t.length<0?0:0|checked(t.length);e=createBuffer(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function checked(e){if(e>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|e}function byteLength(e,t){if(Buffer.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return utf8ToBytes(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return base64ToBytes(e).length;default:if(n)return utf8ToBytes(e).length;t=(""+t).toLowerCase(),n=!0}}function slowToString(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return hexSlice(this,t,r);case"utf8":case"utf-8":return utf8Slice(this,t,r);case"ascii":return asciiSlice(this,t,r);case"latin1":case"binary":return latin1Slice(this,t,r);case"base64":return base64Slice(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function swap(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function bidirectionalIndexOf(e,t,r,n,a){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=a?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(a)return-1;r=e.length-1}else if(r<0){if(!a)return-1;r=0}if("string"==typeof t&&(t=Buffer.from(t,n)),Buffer.isBuffer(t))return 0===t.length?-1:arrayIndexOf(e,t,r,n,a);if("number"==typeof t)return t&=255,Buffer.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):arrayIndexOf(e,[t],r,n,a);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(e,t,r,n,a){var o,i=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;i=2,s/=2,u/=2,r/=2}function read(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}if(a){var l=-1;for(o=r;o<s;o++)if(read(e,o)===read(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*i}else-1!==l&&(o-=o-l),l=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){for(var _=!0,d=0;d<u;d++)if(read(e,o+d)!==read(t,d)){_=!1;break}if(_)return o}return-1}function hexWrite(e,t,r,n){r=Number(r)||0;var a=e.length-r;n?(n=Number(n))>a&&(n=a):n=a;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var i=0;i<n;++i){var s=parseInt(t.substr(2*i,2),16);if(isNaN(s))return i;e[r+i]=s}return i}function utf8Write(e,t,r,n){return blitBuffer(utf8ToBytes(t,e.length-r),e,r,n)}function asciiWrite(e,t,r,n){return blitBuffer(function asciiToBytes(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function latin1Write(e,t,r,n){return asciiWrite(e,t,r,n)}function base64Write(e,t,r,n){return blitBuffer(base64ToBytes(t),e,r,n)}function ucs2Write(e,t,r,n){return blitBuffer(function utf16leToBytes(e,t){for(var r,n,a,o=[],i=0;i<e.length&&!((t-=2)<0);++i)r=e.charCodeAt(i),n=r>>8,a=r%256,o.push(a),o.push(n);return o}(t,e.length-r),e,r,n)}function base64Slice(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function utf8Slice(e,t,r){r=Math.min(e.length,r);for(var n=[],a=t;a<r;){var o,i,s,u,l=e[a],_=null,d=l>239?4:l>223?3:l>191?2:1;if(a+d<=r)switch(d){case 1:l<128&&(_=l);break;case 2:128==(192&(o=e[a+1]))&&(u=(31&l)<<6|63&o)>127&&(_=u);break;case 3:o=e[a+1],i=e[a+2],128==(192&o)&&128==(192&i)&&(u=(15&l)<<12|(63&o)<<6|63&i)>2047&&(u<55296||u>57343)&&(_=u);break;case 4:o=e[a+1],i=e[a+2],s=e[a+3],128==(192&o)&&128==(192&i)&&128==(192&s)&&(u=(15&l)<<18|(63&o)<<12|(63&i)<<6|63&s)>65535&&u<1114112&&(_=u)}null===_?(_=65533,d=1):_>65535&&(_-=65536,n.push(_>>>10&1023|55296),_=56320|1023&_),n.push(_),a+=d}return function decodeCodePointsArray(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}t.Buffer=Buffer,t.SlowBuffer=function SlowBuffer(e){+e!=e&&(e=0);return Buffer.alloc(+e)},t.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function typedArraySupport(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(e){return e.__proto__=Buffer.prototype,e},Buffer.from=function(e,t,r){return from(null,e,t,r)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(e,t,r){return function alloc(e,t,r,n){return assertSize(t),t<=0?createBuffer(e,t):void 0!==r?"string"==typeof n?createBuffer(e,t).fill(r,n):createBuffer(e,t).fill(r):createBuffer(e,t)}(null,e,t,r)},Buffer.allocUnsafe=function(e){return allocUnsafe(null,e)},Buffer.allocUnsafeSlow=function(e){return allocUnsafe(null,e)},Buffer.isBuffer=function isBuffer(e){return!(null==e||!e._isBuffer)},Buffer.compare=function compare(e,t){if(!Buffer.isBuffer(e)||!Buffer.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,a=0,o=Math.min(r,n);a<o;++a)if(e[a]!==t[a]){r=e[a],n=t[a];break}return r<n?-1:n<r?1:0},Buffer.isEncoding=function isEncoding(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function concat(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Buffer.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=Buffer.allocUnsafe(t),a=0;for(r=0;r<e.length;++r){var i=e[r];if(!Buffer.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(n,a),a+=i.length}return n},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function swap16(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)swap(this,t,t+1);return this},Buffer.prototype.swap32=function swap32(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)swap(this,t,t+3),swap(this,t+1,t+2);return this},Buffer.prototype.swap64=function swap64(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)swap(this,t,t+7),swap(this,t+1,t+6),swap(this,t+2,t+5),swap(this,t+3,t+4);return this},Buffer.prototype.toString=function toString(){var e=0|this.length;return 0===e?"":0===arguments.length?utf8Slice(this,0,e):slowToString.apply(this,arguments)},Buffer.prototype.equals=function equals(e){if(!Buffer.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Buffer.compare(this,e)},Buffer.prototype.inspect=function inspect(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},Buffer.prototype.compare=function compare2(e,t,r,n,a){if(!Buffer.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===a&&(a=this.length),t<0||r>e.length||n<0||a>this.length)throw new RangeError("out of range index");if(n>=a&&t>=r)return 0;if(n>=a)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(a>>>=0)-(n>>>=0),i=(r>>>=0)-(t>>>=0),s=Math.min(o,i),u=this.slice(n,a),l=e.slice(t,r),_=0;_<s;++_)if(u[_]!==l[_]){o=u[_],i=l[_];break}return o<i?-1:i<o?1:0},Buffer.prototype.includes=function includes(e,t,r){return-1!==this.indexOf(e,t,r)},Buffer.prototype.indexOf=function indexOf(e,t,r){return bidirectionalIndexOf(this,e,t,r,!0)},Buffer.prototype.lastIndexOf=function lastIndexOf(e,t,r){return bidirectionalIndexOf(this,e,t,r,!1)},Buffer.prototype.write=function write(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var a=this.length-t;if((void 0===r||r>a)&&(r=a),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return hexWrite(this,e,t,r);case"utf8":case"utf-8":return utf8Write(this,e,t,r);case"ascii":return asciiWrite(this,e,t,r);case"latin1":case"binary":return latin1Write(this,e,t,r);case"base64":return base64Write(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},Buffer.prototype.toJSON=function toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function asciiSlice(e,t,r){var n="";r=Math.min(e.length,r);for(var a=t;a<r;++a)n+=String.fromCharCode(127&e[a]);return n}function latin1Slice(e,t,r){var n="";r=Math.min(e.length,r);for(var a=t;a<r;++a)n+=String.fromCharCode(e[a]);return n}function hexSlice(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var a="",o=t;o<r;++o)a+=toHex(e[o]);return a}function utf16leSlice(e,t,r){for(var n=e.slice(t,r),a="",o=0;o<n.length;o+=2)a+=String.fromCharCode(n[o]+256*n[o+1]);return a}function checkOffset(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function checkInt(e,t,r,n,a,o){if(!Buffer.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>a||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function objectWriteUInt16(e,t,r,n){t<0&&(t=65535+t+1);for(var a=0,o=Math.min(e.length-r,2);a<o;++a)e[r+a]=(t&255<<8*(n?a:1-a))>>>8*(n?a:1-a)}function objectWriteUInt32(e,t,r,n){t<0&&(t=4294967295+t+1);for(var a=0,o=Math.min(e.length-r,4);a<o;++a)e[r+a]=t>>>8*(n?a:3-a)&255}function checkIEEE754(e,t,r,n,a,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function writeFloat(e,t,r,n,o){return o||checkIEEE754(e,0,r,4),a.write(e,t,r,n,23,4),r+4}function writeDouble(e,t,r,n,o){return o||checkIEEE754(e,0,r,8),a.write(e,t,r,n,52,8),r+8}Buffer.prototype.slice=function slice(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),Buffer.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=Buffer.prototype;else{var a=t-e;r=new Buffer(a,void 0);for(var o=0;o<a;++o)r[o]=this[o+e]}return r},Buffer.prototype.readUIntLE=function readUIntLE(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var n=this[e],a=1,o=0;++o<t&&(a*=256);)n+=this[e+o]*a;return n},Buffer.prototype.readUIntBE=function readUIntBE(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var n=this[e+--t],a=1;t>0&&(a*=256);)n+=this[e+--t]*a;return n},Buffer.prototype.readUInt8=function readUInt8(e,t){return t||checkOffset(e,1,this.length),this[e]},Buffer.prototype.readUInt16LE=function readUInt16LE(e,t){return t||checkOffset(e,2,this.length),this[e]|this[e+1]<<8},Buffer.prototype.readUInt16BE=function readUInt16BE(e,t){return t||checkOffset(e,2,this.length),this[e]<<8|this[e+1]},Buffer.prototype.readUInt32LE=function readUInt32LE(e,t){return t||checkOffset(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Buffer.prototype.readUInt32BE=function readUInt32BE(e,t){return t||checkOffset(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Buffer.prototype.readIntLE=function readIntLE(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var n=this[e],a=1,o=0;++o<t&&(a*=256);)n+=this[e+o]*a;return n>=(a*=128)&&(n-=Math.pow(2,8*t)),n},Buffer.prototype.readIntBE=function readIntBE(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var n=t,a=1,o=this[e+--n];n>0&&(a*=256);)o+=this[e+--n]*a;return o>=(a*=128)&&(o-=Math.pow(2,8*t)),o},Buffer.prototype.readInt8=function readInt8(e,t){return t||checkOffset(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Buffer.prototype.readInt16LE=function readInt16LE(e,t){t||checkOffset(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt16BE=function readInt16BE(e,t){t||checkOffset(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt32LE=function readInt32LE(e,t){return t||checkOffset(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Buffer.prototype.readInt32BE=function readInt32BE(e,t){return t||checkOffset(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Buffer.prototype.readFloatLE=function readFloatLE(e,t){return t||checkOffset(e,4,this.length),a.read(this,e,!0,23,4)},Buffer.prototype.readFloatBE=function readFloatBE(e,t){return t||checkOffset(e,4,this.length),a.read(this,e,!1,23,4)},Buffer.prototype.readDoubleLE=function readDoubleLE(e,t){return t||checkOffset(e,8,this.length),a.read(this,e,!0,52,8)},Buffer.prototype.readDoubleBE=function readDoubleBE(e,t){return t||checkOffset(e,8,this.length),a.read(this,e,!1,52,8)},Buffer.prototype.writeUIntLE=function writeUIntLE(e,t,r,n){(e=+e,t|=0,r|=0,n)||checkInt(this,e,t,r,Math.pow(2,8*r)-1,0);var a=1,o=0;for(this[t]=255&e;++o<r&&(a*=256);)this[t+o]=e/a&255;return t+r},Buffer.prototype.writeUIntBE=function writeUIntBE(e,t,r,n){(e=+e,t|=0,r|=0,n)||checkInt(this,e,t,r,Math.pow(2,8*r)-1,0);var a=r-1,o=1;for(this[t+a]=255&e;--a>=0&&(o*=256);)this[t+a]=e/o&255;return t+r},Buffer.prototype.writeUInt8=function writeUInt8(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},Buffer.prototype.writeUInt16LE=function writeUInt16LE(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):objectWriteUInt16(this,e,t,!0),t+2},Buffer.prototype.writeUInt16BE=function writeUInt16BE(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):objectWriteUInt16(this,e,t,!1),t+2},Buffer.prototype.writeUInt32LE=function writeUInt32LE(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):objectWriteUInt32(this,e,t,!0),t+4},Buffer.prototype.writeUInt32BE=function writeUInt32BE(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):objectWriteUInt32(this,e,t,!1),t+4},Buffer.prototype.writeIntLE=function writeIntLE(e,t,r,n){if(e=+e,t|=0,!n){var a=Math.pow(2,8*r-1);checkInt(this,e,t,r,a-1,-a)}var o=0,i=1,s=0;for(this[t]=255&e;++o<r&&(i*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/i>>0)-s&255;return t+r},Buffer.prototype.writeIntBE=function writeIntBE(e,t,r,n){if(e=+e,t|=0,!n){var a=Math.pow(2,8*r-1);checkInt(this,e,t,r,a-1,-a)}var o=r-1,i=1,s=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/i>>0)-s&255;return t+r},Buffer.prototype.writeInt8=function writeInt8(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},Buffer.prototype.writeInt16LE=function writeInt16LE(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):objectWriteUInt16(this,e,t,!0),t+2},Buffer.prototype.writeInt16BE=function writeInt16BE(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):objectWriteUInt16(this,e,t,!1),t+2},Buffer.prototype.writeInt32LE=function writeInt32LE(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):objectWriteUInt32(this,e,t,!0),t+4},Buffer.prototype.writeInt32BE=function writeInt32BE(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):objectWriteUInt32(this,e,t,!1),t+4},Buffer.prototype.writeFloatLE=function writeFloatLE(e,t,r){return writeFloat(this,e,t,!0,r)},Buffer.prototype.writeFloatBE=function writeFloatBE(e,t,r){return writeFloat(this,e,t,!1,r)},Buffer.prototype.writeDoubleLE=function writeDoubleLE(e,t,r){return writeDouble(this,e,t,!0,r)},Buffer.prototype.writeDoubleBE=function writeDoubleBE(e,t,r){return writeDouble(this,e,t,!1,r)},Buffer.prototype.copy=function copy(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var a,o=n-r;if(this===e&&r<t&&t<n)for(a=o-1;a>=0;--a)e[a+t]=this[a+r];else if(o<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(a=0;a<o;++a)e[a+t]=this[a+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},Buffer.prototype.fill=function fill(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var a=e.charCodeAt(0);a<256&&(e=a)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!Buffer.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var i=Buffer.isBuffer(e)?e:utf8ToBytes(new Buffer(e,n).toString()),s=i.length;for(o=0;o<r-t;++o)this[o+t]=i[o%s]}return this};var i=/[^+\/0-9A-Za-z-_]/g;function toHex(e){return e<16?"0"+e.toString(16):e.toString(16)}function utf8ToBytes(e,t){var r;t=t||1/0;for(var n=e.length,a=null,o=[],i=0;i<n;++i){if((r=e.charCodeAt(i))>55295&&r<57344){if(!a){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(i+1===n){(t-=3)>-1&&o.push(239,191,189);continue}a=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),a=r;continue}r=65536+(a-55296<<10|r-56320)}else a&&(t-=3)>-1&&o.push(239,191,189);if(a=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function base64ToBytes(e){return n.toByteArray(function base64clean(e){if((e=function stringtrim(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(i,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function blitBuffer(e,t,r,n){for(var a=0;a<n&&!(a+r>=t.length||a>=e.length);++a)t[a+r]=e[a];return a}}).call(this,r(112))},function(e,t,r){"use strict";r.d(t,"a",(function(){return isNotNullOrUndefined}));const isNotNullOrUndefined=e=>null!=e},function(e,t,r){"use strict";class AlarmManager{static getInstance(){return void 0===this.instance&&(this.instance=new AlarmManager),this.instance}async createPeriodicAlarm(e,t,r=!1){await this.createIfNeeded(e,{periodInMinutes:t},r)}async createPeriodicAlarmWithDelay(e,t,r=0,n=!1){await this.createIfNeeded(e,{delayInMinutes:r,periodInMinutes:t},n)}async createOneTimeAlarm(e,t,r=!1){await this.createIfNeeded(e,{when:t},r)}async createDelayedAlarm(e,t,r=!1){await this.createIfNeeded(e,{delayInMinutes:t},r)}async clearAlarms(){return new Promise(e=>{chrome.alarms.clearAll(t=>{e(t)})})}async clearAlarm(e){return new Promise(t=>{chrome.alarms.clear(e,e=>{t(e)})})}registerAlarmListener(e){e&&chrome.alarms.onAlarm.addListener(e)}async getAlarm(e){return new Promise(t=>{chrome.alarms.get(e,e=>{t(e)})})}async createIfNeeded(e,t,r=!1){if(await this.getAlarm(e)){if(!r)return;await this.clearAlarm(e)}chrome.alarms.create(e,t)}}t.a=AlarmManager},function(e,t,r){"use strict";function hash(e){return function hashFnv32a(e){let t=2166136261;const r=e.length;for(let n=0;n<r;n++)t^=e.charCodeAt(n),t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24);return t>>>0}(e)%1e3/1e3}function getEqualWeights(e){return e<=0?[]:new Array(e).fill(1/e)}r.d(t,"a",(function(){return GrowthBook_GrowthBook}));const n={};function evalCondition(e,t){if("$or"in t)return evalOr(e,t.$or);if("$nor"in t)return!evalOr(e,t.$nor);if("$and"in t)return function evalAnd(e,t){for(let r=0;r<t.length;r++)if(!evalCondition(e,t[r]))return!1;return!0}(e,t.$and);if("$not"in t)return!evalCondition(e,t.$not);for(const[r,n]of Object.entries(t))if(!evalConditionValue(n,getPath(e,r)))return!1;return!0}function getPath(e,t){const r=t.split(".");let n=e;for(let e=0;e<r.length;e++){if(!n||"object"!=typeof n||!(r[e]in n))return null;n=n[r[e]]}return n}function evalConditionValue(e,t){if("string"==typeof e)return t+""===e;if("number"==typeof e)return 1*t===e;if("boolean"==typeof e)return!!t===e;if(Array.isArray(e)||!isOperatorObject(e))return JSON.stringify(t)===JSON.stringify(e);for(const r in e)if(!evalOperatorCondition(r,t,e[r]))return!1;return!0}function isOperatorObject(e){const t=Object.keys(e);return t.length>0&&t.filter(e=>"$"===e[0]).length===t.length}function evalOperatorCondition(e,t,r){switch(e){case"$eq":return t===r;case"$ne":return t!==r;case"$lt":return t<r;case"$lte":return t<=r;case"$gt":return t>r;case"$gte":return t>=r;case"$exists":return r?null!==t:null===t;case"$in":return r.includes(t);case"$nin":return!r.includes(t);case"$not":return!evalConditionValue(r,t);case"$size":return!!Array.isArray(t)&&evalConditionValue(r,t.length);case"$elemMatch":return function elemMatch(e,t){if(!Array.isArray(e))return!1;const r=isOperatorObject(t)?e=>evalConditionValue(t,e):e=>evalCondition(e,t);for(let t=0;t<e.length;t++)if(e[t]&&r(e[t]))return!0;return!1}(t,r);case"$all":if(!Array.isArray(t))return!1;for(let e=0;e<r.length;e++){let n=!1;for(let a=0;a<t.length;a++)if(evalConditionValue(r[e],t[a])){n=!0;break}if(!n)return!1}return!0;case"$regex":try{return function getRegex(e){return n[e]||(n[e]=new RegExp(e.replace(/([^\\])\//g,"$1\\/"))),n[e]}(r).test(t)}catch(e){return!1}case"$type":return function getType(e){if(null===e)return"null";if(Array.isArray(e))return"array";const t=typeof e;return["string","number","boolean","object","undefined"].includes(t)?t:"unknown"}(t)===r;default:return console.error("Unknown operator: "+e),!1}}function evalOr(e,t){if(!t.length)return!0;for(let r=0;r<t.length;r++)if(evalCondition(e,t[r]))return!0;return!1}var a=Object.defineProperty,o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,r)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,__spreadValues=(e,t)=>{for(var r in t||(t={}))i.call(t,r)&&__defNormalProp(e,r,t[r]);if(o)for(var r of o(t))s.call(t,r)&&__defNormalProp(e,r,t[r]);return e};function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const u="undefined"!=typeof window&&"undefined"!=typeof document,base64ToBuf=e=>Uint8Array.from(atob(e),e=>e.charCodeAt(0));class GrowthBook_GrowthBook{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_defineProperty(this,"_renderer",null),_defineProperty(this,"_trackedExperiments",new Set),_defineProperty(this,"_trackedFeatures",{}),_defineProperty(this,"debug",!1),_defineProperty(this,"subscriptions",new Set),_defineProperty(this,"_rtQueue",[]),_defineProperty(this,"_rtTimer",0),_defineProperty(this,"assigned",new Map),_defineProperty(this,"_forcedFeatureValues",new Map),_defineProperty(this,"_attributeOverrides",{}),this.context=e,u&&e.enableDevMode&&(window._growthbook=this,document.dispatchEvent(new Event("gbloaded")))}render(){this._renderer&&this._renderer()}setFeatures(e){this.context.features=e,this.render()}async setEncryptedFeatures(e,t,r){if(!(r=r||globalThis.crypto&&globalThis.crypto.subtle))throw new Error("No SubtleCrypto implementation found");try{const n=await r.importKey("raw",base64ToBuf(t),{name:"AES-CBC",length:128},!0,["encrypt","decrypt"]),[a,o]=e.split("."),i=await r.decrypt({name:"AES-CBC",iv:base64ToBuf(a)},n,base64ToBuf(o));this.setFeatures(JSON.parse((new TextDecoder).decode(i)))}catch(e){throw new Error("Failed to decrypt features")}}setAttributes(e){this.context.attributes=e,this.render()}setAttributeOverrides(e){this._attributeOverrides=e,this.render()}setForcedVariations(e){this.context.forcedVariations=e||{},this.render()}setForcedFeatures(e){this._forcedFeatureValues=e,this.render()}getAttributes(){return __spreadValues(__spreadValues({},this.context.attributes),this._attributeOverrides)}getFeatures(){return this.context.features||{}}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}getAllResults(){return new Map(this.assigned)}destroy(){this.subscriptions.clear(),this.assigned.clear(),this._trackedExperiments.clear(),this._trackedFeatures={},this._rtQueue=[],this._rtTimer&&clearTimeout(this._rtTimer),u&&window._growthbook===this&&delete window._growthbook}setRenderer(e){this._renderer=e}forceVariation(e,t){this.context.forcedVariations=this.context.forcedVariations||{},this.context.forcedVariations[e]=t,this.render()}run(e){const t=this._run(e,null);return this.fireSubscriptions(e,t),t}fireSubscriptions(e,t){const r=e.key,n=this.assigned.get(r);n&&n.result.inExperiment===t.inExperiment&&n.result.variationId===t.variationId||(this.assigned.set(r,{experiment:e,result:t}),this.subscriptions.forEach(r=>{try{r(e,t)}catch(e){console.error(e)}}))}trackFeatureUsage(e,t){if("override"===t.source)return;const r=JSON.stringify(t.value);if(this._trackedFeatures[e]!==r){if(this._trackedFeatures[e]=r,this.context.onFeatureUsage)try{this.context.onFeatureUsage(e,t)}catch(e){}u&&window.fetch&&(this._rtQueue.push({key:e,on:t.on}),this._rtTimer||(this._rtTimer=window.setTimeout(()=>{this._rtTimer=0;const e=[...this._rtQueue];this._rtQueue=[],this.context.realtimeKey&&window.fetch("https://rt.growthbook.io/?key=".concat(this.context.realtimeKey,"&events=").concat(encodeURIComponent(JSON.stringify(e))),{cache:"no-cache",mode:"no-cors"}).catch(()=>{})},this.context.realtimeInterval||2e3)))}}getFeatureResult(e,t,r,n){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;const i={value:t,on:!!t,off:!t,source:r,ruleId:n||""};return a&&(i.experiment=a),o&&(i.experimentResult=o),this.trackFeatureUsage(e,i),i}isOn(e){return this.evalFeature(e).on}isOff(e){return this.evalFeature(e).off}getFeatureValue(e,t){var r;return null!==(r=this.evalFeature(e).value)&&void 0!==r?r:t}feature(e){return this.evalFeature(e)}evalFeature(e){var t;if(this._forcedFeatureValues.has(e))return this.getFeatureResult(e,this._forcedFeatureValues.get(e),"override");if(!this.context.features||!this.context.features[e])return this.getFeatureResult(e,null,"unknownFeature");const r=this.context.features[e];if(r.rules)for(const t of r.rules){if(t.condition&&!this.conditionPasses(t.condition))continue;if("force"in t){if("coverage"in t){const{hashValue:r}=this.getHashAttribute(t.hashAttribute);if(!r)continue;if(hash(r+e)>t.coverage)continue}return this.getFeatureResult(e,t.force,"force",t.id)}if(!t.variations)continue;const r={variations:t.variations,key:t.key||e};"coverage"in t&&(r.coverage=t.coverage),t.weights&&(r.weights=t.weights),t.hashAttribute&&(r.hashAttribute=t.hashAttribute),t.namespace&&(r.namespace=t.namespace);const n=this._run(r,e);if(this.fireSubscriptions(r,n),n.inExperiment)return this.getFeatureResult(e,n.value,"experiment",t.id,r,n)}return this.getFeatureResult(e,null!==(t=r.defaultValue)&&void 0!==t?t:null,"defaultValue")}conditionPasses(e){return evalCondition(this.getAttributes(),e)}_run(e,t){var r;const n=e.key,a=e.variations.length;if(a<2)return this.getResult(e,-1,!1,t);if(!1===this.context.enabled)return this.getResult(e,-1,!1,t);e=this.mergeOverrides(e);const o=function getQueryStringOverride(e,t,r){if(!t)return null;const n=t.split("?")[1];if(!n)return null;const a=n.replace(/#.*/,"").split("&").map(e=>e.split("=",2)).filter(t=>{let[r]=t;return r===e}).map(e=>{let[,t]=e;return parseInt(t)});return a.length>0&&a[0]>=0&&a[0]<r?a[0]:null}(n,this.getContextUrl(),a);if(null!==o)return this.getResult(e,o,!1,t);if(this.context.forcedVariations&&n in this.context.forcedVariations){const r=this.context.forcedVariations[n];return this.getResult(e,r,!1,t)}if("draft"===e.status||!1===e.active)return this.getResult(e,-1,!1,t);const{hashValue:i}=this.getHashAttribute(e.hashAttribute);if(!i)return this.getResult(e,-1,!1,t);if(e.namespace&&!function inNamespace(e,t){const r=hash(e+"__"+t[0]);return r>=t[1]&&r<t[2]}(i,e.namespace))return this.getResult(e,-1,!1,t);if(e.include&&!function isIncluded(e){try{return e()}catch(e){return console.error(e),!1}}(e.include))return this.getResult(e,-1,!1,t);if(e.condition&&!this.conditionPasses(e.condition))return this.getResult(e,-1,!1,t);if(e.groups&&!this.hasGroupOverlap(e.groups))return this.getResult(e,-1,!1,t);if(e.url&&!this.urlIsValid(e.url))return this.getResult(e,-1,!1,t);const s=function getBucketRanges(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2?arguments[2]:void 0;t<0?t=0:t>1&&(t=1);const n=getEqualWeights(e);r=r||n,r.length!==e&&(r=n);const a=r.reduce((e,t)=>t+e,0);(a<.99||a>1.01)&&(r=n);let o=0;return r.map(e=>{const r=o;return o+=e,[r,r+t*e]})}(a,null!==(r=e.coverage)&&void 0!==r?r:1,e.weights),u=function chooseVariation(e,t){for(let r=0;r<t.length;r++)if(e>=t[r][0]&&e<t[r][1])return r;return-1}(hash(i+n),s);if(u<0)return this.getResult(e,-1,!1,t);var l;if("force"in e)return this.getResult(e,null!==(l=e.force)&&void 0!==l?l:-1,!1,t);if(this.context.qaMode)return this.getResult(e,-1,!1,t);if("stopped"===e.status)return this.getResult(e,-1,!1,t);const _=this.getResult(e,u,!0,t);return this.track(e,_),_}log(e,t){this.debug&&(this.context.log?this.context.log(e,t):console.log(e,t))}track(e,t){if(!this.context.trackingCallback)return;const r=e.key,n=t.hashAttribute+t.hashValue+r+t.variationId;if(!this._trackedExperiments.has(n)){this._trackedExperiments.add(n);try{this.context.trackingCallback(e,t)}catch(e){console.error(e)}}}mergeOverrides(e){const t=e.key,r=this.context.overrides;return r&&r[t]&&"string"==typeof(e=Object.assign({},e,r[t])).url&&(e.url=function getUrlRegExp(e){try{const t=e.replace(/([^\\])\//g,"$1\\/");return new RegExp(t)}catch(e){return void console.error(e)}}(e.url)),e}getHashAttribute(e){const t=e||"id";let r="";return this._attributeOverrides[t]?r=this._attributeOverrides[t]:this.context.attributes?r=this.context.attributes[t]||"":this.context.user&&(r=this.context.user[t]||""),{hashAttribute:t,hashValue:r}}getResult(e,t,r,n){let a=!0;(t<0||t>=e.variations.length)&&(t=0,a=!1);const{hashAttribute:o,hashValue:i}=this.getHashAttribute(e.hashAttribute);return{featureId:n,inExperiment:a,hashUsed:r,variationId:t,value:e.variations[t],hashAttribute:o,hashValue:i}}getContextUrl(){return this.context.url||(u?window.location.href:"")}urlIsValid(e){const t=this.getContextUrl();if(!t)return!1;const r=t.replace(/^https?:\/\//,"").replace(/^[^/]*\//,"/");return!!e.test(t)||!!e.test(r)}hasGroupOverlap(e){const t=this.context.groups||{};for(let r=0;r<e.length;r++)if(t[e[r]])return!0;return!1}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return isPushNotificationPermissionGranted})),r.d(t,"c",(function(){return setPushNotificationBlocker})),r.d(t,"b",(function(){return requestPushNotificationPermission}));var n=r(0),a=r(4),o=r(69);const isPushNotificationPermissionGranted=async()=>{const e={permissions:[n.C.CONTENT_SETTINGS],origins:[n.C.ALL_URLS]};return await Object(a.D)(e)},setPushNotificationBlocker=e=>{chrome.contentSettings.notifications.set({primaryPattern:n.C.ALL_URLS,setting:e?n.C.BLOCK:n.C.ASK});const t=e?n.c.ANALYTICS_EVENT_TYPES.IN_SITE_PUSH_NOTIFICATION_ON:n.c.ANALYTICS_EVENT_TYPES.IN_SITE_PUSH_NOTIFICATION_OFF;Object(o.a)(t)},requestPushNotificationPermission=async()=>{const e={permissions:[n.C.CONTENT_SETTINGS],origins:[n.C.ALL_URLS]},t=await Object(a.T)(e),r=t?n.c.ANALYTICS_EVENT_TYPES.IN_SITE_PUSH_NOTIFICATION_ALLOW_PERMISSIONS:n.c.ANALYTICS_EVENT_TYPES.IN_SITE_PUSH_NOTIFICATION_DENY_PERMISSIONS;Object(o.a)(r),t&&setPushNotificationBlocker(t)}},,function(e,t,r){"use strict";var n,a=new Uint8Array(16);function rng(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(a)}for(var o=r(51),i=[],s=0;s<256;++s)i.push((s+256).toString(16).substr(1));var u=function stringify(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]).toLowerCase();if(!Object(o.a)(r))throw TypeError("Stringified UUID is invalid");return r};t.a=function v4(e,t,r){var n=(e=e||{}).random||(e.rng||rng)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var a=0;a<16;++a)t[r+a]=n[a];return t}return u(n)}},,,function(e,t){},function(e,t,r){"use strict";r.d(t,"a",(function(){return fetchData}));var n=r(64),a=r(62),o=r(11);const fetchData=async e=>{const{endpoint:t,isValid:r=(e=>!0),init:i,validCodes:s}=e;try{const e=await Object(o.a)(t,i);if(!(s?s.includes(e.status):e.ok))throw new Error(`Invalid response status: '${e.status}'`);const n=e.json();if(!r(n))throw new Error("Invalid response");return n}catch(e){return Object(n.b)(e)?a.a.debug("Failed to fetch data. Error: "+e.message):a.a.debug("Failed to fetch data. Error: unknown"),null}}},function(e,t,r){"use strict";var n=r(104);r.d(t,"createSyncedValueService",(function(){return n.a}));var a=r(105);r.d(t,"createRemoteConfigSyncedValueService",(function(){return a.a}));var o=r(106);r.o(o,"SampleService")&&r.d(t,"SampleService",(function(){return o.SampleService})),r.o(o,"SyncStoredLocalValue")&&r.d(t,"SyncStoredLocalValue",(function(){return o.SyncStoredLocalValue}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return createSyncedValueService}));var n=r(86),a=Object.defineProperty,o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,r)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const createSyncedValueService=e=>{var t=e,{storage:r,outdatedAfterInMs:a}=t,u=((e,t)=>{var r={};for(var n in e)i.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&o)for(var n of o(e))t.indexOf(n)<0&&s.call(e,n)&&(r[n]=e[n]);return r})(t,["storage","outdatedAfterInMs"]);const l=Object(n.a)(((e,t)=>{for(var r in t||(t={}))i.call(t,r)&&__defNormalProp(e,r,t[r]);if(o)for(var r of o(t))s.call(t,r)&&__defNormalProp(e,r,t[r]);return e})({storage:r},u));return{syncIfNecessary:async()=>{const{lastSynced:e,isValid:t,value:n}=await r.getState();if(e&&Date.now()-e<a&&t&&n)return{updated:!1,value:n};const o=await l.update();return o.success?(await r.setLastSynced(Date.now()),{updated:!0,value:o.value}):{updated:!1,value:o.value}}}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return createRemoteConfigSyncedValueService}));var n=r(86),a=Object.defineProperty,o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,r)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const createRemoteConfigSyncedValueService=e=>{var t=e,{storage:r,responseToValue:a=(e=>e)}=t,u=((e,t)=>{var r={};for(var n in e)i.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&o)for(var n of o(e))t.indexOf(n)<0&&s.call(e,n)&&(r[n]=e[n]);return r})(t,["storage","responseToValue"]);const l=Object(n.a)(((e,t)=>{for(var r in t||(t={}))i.call(t,r)&&__defNormalProp(e,r,t[r]);if(o)for(var r of o(t))s.call(t,r)&&__defNormalProp(e,r,t[r]);return e})({storage:r,responseToValue:a},u));return{syncIfNecessary:async()=>{const{lastSynced:e,isValid:t,value:n}=await r.getState();if(e&&n&&t&&Date.now()-e<n.outdatedAfterInMs)return{updated:!1,value:n};const a=await l.update();return a.success?(await r.setLastSynced(Date.now()),{updated:!0,value:a.value}):{updated:!1,value:a.value}}}}},function(e,t){},function(e,t){},function(e,t,r){"use strict";r.d(t,"a",(function(){return StoredValueImpl})),r.d(t,"b",(function(){return SyncStoredLocalValue}));var n=r(5);class StoredValueImpl{constructor(e,t,r){this.storageKey=e,this.defaultValue=t,this.isValid=r||(e=>null!==e)}async get(){return await n.c.get(this.storageKey)}async getOrDefault(){const e=await n.c.get(this.storageKey);return this.isValid(e)?e:this.defaultValue}async store(e){await n.c.set(this.storageKey,e)}}class SyncStoredLocalValue{constructor(e,t,r,n){this.storedValue=new StoredValueImpl(e,r,n),this.storedLastSynced=new StoredValueImpl(t,0)}async setLastSynced(e){await this.storedLastSynced.store(e)}async getState(){const e=await this.storedLastSynced.getOrDefault(),t=await this.storedValue.get();return this.storedValue.isValid(t)?{lastSynced:e,isValid:!0,value:t}:{lastSynced:e,isValid:!1,value:t}}async getOrDefault(){return this.storedValue.getOrDefault()}async store(e){this.storedValue.store(e)}async get(){return this.storedValue.get()}}},function(e,t,r){"use strict";var n=r(110);r.o(n,"SampleService")&&r.d(t,"SampleService",(function(){return n.SampleService})),r.o(n,"SyncStoredLocalValue")&&r.d(t,"SyncStoredLocalValue",(function(){return n.SyncStoredLocalValue})),r.o(n,"createRemoteConfigSyncedValueService")&&r.d(t,"createRemoteConfigSyncedValueService",(function(){return n.createRemoteConfigSyncedValueService})),r.o(n,"createSyncedValueService")&&r.d(t,"createSyncedValueService",(function(){return n.createSyncedValueService}));var a=r(111);r.d(t,"SampleService",(function(){return a.a}))},function(e,t){},function(e,t,r){"use strict";r.d(t,"a",(function(){return SampleService}));var n=r(85),a=Object.defineProperty,o=Object.defineProperties,i=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,r)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;class SampleService{constructor(e,t){this.recordToSampleInfoStoredValue=new n.StoredValueImpl(e,t)}async getSampleInfo(e){return(await this.recordToSampleInfoStoredValue.getOrDefault())[e]}async setEventSampleInfo(e,t){const r=await this.recordToSampleInfoStoredValue.getOrDefault();await this.recordToSampleInfoStoredValue.store(((e,t)=>o(e,i(t)))(((e,t)=>{for(var r in t||(t={}))u.call(t,r)&&__defNormalProp(e,r,t[r]);if(s)for(var r of s(t))l.call(t,r)&&__defNormalProp(e,r,t[r]);return e})({},r),{[e]:t}))}async sample(e,t,{sampleSize:r}){let{count:n=0}=await this.getSampleInfo(t);n++,n>=r?(await this.setEventSampleInfo(t,{count:0}),e()):await this.setEventSampleInfo(t,{count:n})}}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";t.byteLength=function byteLength(e){var t=getLens(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function toByteArray(e){var t,r,n=getLens(e),i=n[0],s=n[1],u=new o(function _byteLength(e,t,r){return 3*(t+r)/4-r}(0,i,s)),l=0,_=s>0?i-4:i;for(r=0;r<_;r+=4)t=a[e.charCodeAt(r)]<<18|a[e.charCodeAt(r+1)]<<12|a[e.charCodeAt(r+2)]<<6|a[e.charCodeAt(r+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;2===s&&(t=a[e.charCodeAt(r)]<<2|a[e.charCodeAt(r+1)]>>4,u[l++]=255&t);1===s&&(t=a[e.charCodeAt(r)]<<10|a[e.charCodeAt(r+1)]<<4|a[e.charCodeAt(r+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t);return u},t.fromByteArray=function fromByteArray(e){for(var t,r=e.length,a=r%3,o=[],i=0,s=r-a;i<s;i+=16383)o.push(encodeChunk(e,i,i+16383>s?s:i+16383));1===a?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===a&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],a=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=i.length;s<u;++s)n[s]=i[s],a[i.charCodeAt(s)]=s;function getLens(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function encodeChunk(e,t,r){for(var a,o,i=[],s=t;s<r;s+=3)a=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),i.push(n[(o=a)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return i.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,a){var o,i,s=8*a-n-1,u=(1<<s)-1,l=u>>1,_=-7,d=r?a-1:0,h=r?-1:1,f=e[t+d];for(d+=h,o=f&(1<<-_)-1,f>>=-_,_+=s;_>0;o=256*o+e[t+d],d+=h,_-=8);for(i=o&(1<<-_)-1,o>>=-_,_+=n;_>0;i=256*i+e[t+d],d+=h,_-=8);if(0===o)o=1-l;else{if(o===u)return i?NaN:1/0*(f?-1:1);i+=Math.pow(2,n),o-=l}return(f?-1:1)*i*Math.pow(2,o-n)},t.write=function(e,t,r,n,a,o){var i,s,u,l=8*o-a-1,_=(1<<l)-1,d=_>>1,h=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:o-1,E=n?1:-1,O=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,i=_):(i=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-i))<1&&(i--,u*=2),(t+=i+d>=1?h/u:h*Math.pow(2,1-d))*u>=2&&(i++,u/=2),i+d>=_?(s=0,i=_):i+d>=1?(s=(t*u-1)*Math.pow(2,a),i+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,a),i=0));a>=8;e[r+f]=255&s,f+=E,s/=256,a-=8);for(i=i<<a|s,l+=a;l>0;e[r+f]=255&i,f+=E,i/=256,l-=8);e[r+f-E]|=128*O}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},,function(e,t,r){"use strict";r.d(t,"b",(function(){return insertCookieFilters}));var n=r(50),a=r(43);class cookie_crumbler_CookieCrumblerConfigManager{segmentSelectors(e,t){if(!t||t<=0)throw new Error("Error in segment size");const r=[];for(let n=0;n<e.length;n+=t)r.push(e.slice(n,n+t));return r}async getAndParse(){const e=await n.a.getConfig(a.a.cookieCrumble),t=this.segmentSelectors(e.cookieClasses,e.segmentSize),r=[];return t.forEach(e=>{r.push(e.join(","))}),r}}t.a=new cookie_crumbler_CookieCrumblerConfigManager;const insertFilters=async e=>{(await(new cookie_crumbler_CookieCrumblerConfigManager).getAndParse()).forEach(t=>{chrome.scripting.insertCSS({target:{tabId:e},css:t+" { display: none !important; height: 0 !important; z-index: -99999 !important;visibility: hidden !important; width: 0 !important; overflow: hidden !important; }"}).catch(console.error)}),(async e=>{const t=await n.a.getConfig(a.a.cookieCrumble);t.extraStyle&&t.extraStyle.length&&t.extraStyle.forEach(t=>{chrome.scripting.insertCSS({target:{tabId:e},css:`${t.selector} ${t.css}`}).catch(console.error)})})(e)},insertCookieFilters=async()=>{const[e]=await chrome.tabs.query({active:!0,currentWindow:!0});(null==e?void 0:e.id)&&await insertFilters(e.id)}},,,,function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));const n=["pemsrv.com","aucoudsa.net","fouwheepoh.com","austeemsa.com"]},,,,,function(e,t,r){"use strict";var n=r(277);r.o(n,"OneTimeWhitelistStorage")&&r.d(t,"OneTimeWhitelistStorage",(function(){return n.OneTimeWhitelistStorage})),r.o(n,"WhitelistServiceImpl")&&r.d(t,"WhitelistServiceImpl",(function(){return n.WhitelistServiceImpl}));var a=r(278);r.d(t,"WhitelistServiceImpl",(function(){return a.a}));var o=r(279);r.d(t,"OneTimeWhitelistStorage",(function(){return o.a}))},,function(e,t,r){"use strict";r.r(t),r.d(t,"logger",(function(){return n}));const n={error:()=>{},debug:()=>{}}},,,function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,r){"use strict";r.d(t,"a",(function(){return BlacklistSyncServiceImpl}));var n=r(44),a=r(64),o=r(121),i=r(11);class BlacklistSyncServiceImpl{constructor(e,t,r){this.config=t,this.storage=r,this.logger=Object(n.a)(e,"BlacklistSyncService")}async sync(){this.logger.debug("Syncing");let e=[];try{const t=await Object(i.a)(this.config.blacklistFetchUrl);if(t.ok){const{blacklist:r}=await t.json();this.logger.debug(`Fetched ${r.length} entries`),e=r}else this.logger.debug("Fetch failed. Status: "+t.status)}catch(e){this.logger.debug("Fetch error. Message: "+Object(a.a)(e))}await this.storage.transaction(async()=>{if(0===e.length){await this.storage.isEmpty()?(this.logger.debug("Storing default blacklist"),await this.storage.store(o.a)):this.logger.debug("Keeping old blacklist")}else this.logger.debug("Storing new blacklist"),await this.storage.store(e)})}}},function(e,t){},function(e,t,r){"use strict";r.d(t,"a",(function(){return WhitelistServiceImpl}));var n=r(44);class WhitelistServiceImpl{constructor({logger:e,oneTimeWhitelistStorage:t,defaultWhitelistStorage:r,analyticsSession:a}){this.logger=Object(n.a)(e,"WhitelistService"),this.oneTimeWhitelistStorage=t,this.defaultWhitelistStorage=r,this.analyticsSession=a}async has(e){try{if(await this.oneTimeWhitelistStorage.has(e.toString()))return this.logger.debug(`Url ${e.toString()} is matched against one time whitelist`),!0;const t=await this.defaultWhitelistStorage.has(e.toString());return this.analyticsSession.recordDefaultWhitelistResult(t),this.logger.debug(`Url ${e.toString()} is matched against default whitelist? ${t}`),t}catch(e){return this.logger.debug("Error matching url"),!1}}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return OneTimeWhitelistStorage}));var n=r(44),a=r(93),o=r(1);class OneTimeWhitelistStorage{constructor(e){this.lastUpdatedInMs=0,this.whitelist=[],this.logger=Object(n.a)(e,"OneTimeBlock")}async store(e){this.lastUpdatedInMs=Date.now(),this.whitelist=e.map(e=>{try{return new URL(e)}catch(e){return null}}).filter(a.a),this.logger.debug(`Set one time whitelist to '['${this.whitelist.map(e=>e.toString()).join("','")}']'`)}async has(e){if(Date.now()-this.lastUpdatedInMs>o.A)return this.logger.debug("Whitelist is outdated"),!1;const t=this.whitelist.findIndex(t=>t.toString()===e);return-1===t?(this.logger.debug("Url is not whitelisted"),!1):(this.logger.debug(`Whitelisted url: '${e.toString()}'`),this.whitelist=this.whitelist.filter((e,r)=>r!==t),!0)}}},function(e,t){},function(e,t){},function(e,t,r){"use strict";r.d(t,"a",(function(){return PopupCheckerImpl}));var n=r(64),a=r(44),o=r(1);class PopupCheckerImpl{constructor(e,t,r,n){this.blacklistService=t,this.whitelistService=r,this.analyticsService=n,this.logger=Object(a.a)(e,"PopupChecker")}contructURL(e){let t;try{t=new URL(e)}catch(t){this.logger.debug(`Couldnt construct URL for '${e}'. Message: ${Object(n.a)(t)}`)}return t}async isGoodPopup(e){const t=e.sourceTabExists?this.contructURL(e.sourceTabUrl):void 0,r=this.contructURL(e.url);return!r||(t&&await this.whitelistService.has(t)?(this.analyticsService.recordWhitelistReason(o.y.Source),!0):r&&await this.whitelistService.has(r)?(this.analyticsService.recordWhitelistReason(o.y.Target),!0):!await this.blacklistService.has(r))}}},function(e,t){},function(e,t,r){"use strict";r.d(t,"a",(function(){return service_PopupBlockService}));var n=r(1),a=r(6);var o=r(69),i=Object.defineProperty,s=Object.defineProperties,u=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,r)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,__spreadValues=(e,t)=>{for(var r in t||(t={}))_.call(t,r)&&__defNormalProp(e,r,t[r]);if(l)for(var r of l(t))d.call(t,r)&&__defNormalProp(e,r,t[r]);return e};const sendPopupBlockAnalyticsEvent=e=>{var t,r,n=e,{type:i,targetUrl:h,sourceUrl:f}=n,E=((e,t)=>{var r={};for(var n in e)_.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&l)for(var n of l(e))t.indexOf(n)<0&&d.call(e,n)&&(r[n]=e[n]);return r})(n,["type","targetUrl","sourceUrl"]);return Object(o.a)(i,{payload:JSON.stringify((t=__spreadValues({},E),r={targetUrl:h,sourceUrl:f,targetDomain:Object(a.c)(h),sourceDomain:Object(a.c)(f)},s(t,u(r))))})};var h=r(44);const createPopupAnalyticsSession=(e,t)=>{const r=Object(h.a)(e,"PopupAnalyticsSession"),o={popupBlocked:!1,whitelist:{matchedDefault:!1}};return{recordBlock:()=>{o.popupBlocked=!0},recordWhitelistReason:e=>{o.whitelist.matchedDefault&&(o.whitelist.reason=e)},recordDefaultWhitelistResult:e=>{o.whitelist={matchedDefault:e,reason:void 0}},end:async()=>{var e,i,s;if(o.popupBlocked)r.debug("Sending popup blocked"),sendPopupBlockAnalyticsEvent({type:n.d.ANALYTICS_EVENT_TYPES.POP_BLOCK_PST_OPEN_1_BLACKLIST,targetUrl:t.url,sourceUrl:t.sourceTabExists?t.sourceTabUrl:"not exists"}),i=n.o.WORKER_BLOCKED_POPUP,s={targetUrl:t.url},Object(a.s)(i,s);else if(o.whitelist.matchedDefault){r.debug("Sending whitelist matched");const a=null!=(e=o.whitelist.reason)?e:n.y.Source;sendPopupBlockAnalyticsEvent({type:a===n.y.Source?n.d.ANALYTICS_EVENT_TYPES.POP_WHITE_PST_OPEN_1_SRC:n.d.ANALYTICS_EVENT_TYPES.POP_WHITE_PST_OPEN_1_TRGT,targetUrl:t.url,sourceUrl:t.sourceTabExists?t.sourceTabUrl:"not exists"})}}}};var f=r(299),E=r(300),O=r(126);var p=Object.defineProperty,T=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,service_defNormalProp=(e,t,r)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;class service_PopupBlockService{constructor(e,t,r,n,a,o){this.configService=e,o.setOnNavigatedToTabListener(this.onNavigatedToTabHandler.bind(this)),this.popupHandlerDeps={logger:t,blacklistStorage:r,oneTimeWhitelistStorage:n,defaultWhitelistStorage:a,browserService:o}}async onNavigatedToTabHandler(e){if(await this.configService.isBlockingEnabled()){const t=this.popupHandlerDeps,{logger:r}=t,n=((e,t)=>{var r={};for(var n in e)m.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&T)for(var n of T(e))t.indexOf(n)<0&&S.call(e,n)&&(r[n]=e[n]);return r})(t,["logger"]),a=createPopupAnalyticsSession(r,e),{handlePopup:o}=(({logger:e,blacklistStorage:t,oneTimeWhitelistStorage:r,defaultWhitelistStorage:n,analyticsSession:a,browserService:o})=>{const i=[e,new f.BlacklistServiceImpl(e,t),new O.WhitelistServiceImpl({logger:e,oneTimeWhitelistStorage:r,defaultWhitelistStorage:n,analyticsSession:a}),a],s=new E.PopupCheckerImpl(...i);return{handlePopup:async t=>{const r=Date.now();e.debug("Checking popup url "+t.url);await s.isGoodPopup(t)||(e.debug("Trying to close popup "+t.url),await o.removeTab(t.tabId),e.debug(`Closed popup ${t.url} in ${Date.now()-r}ms`),a.recordBlock())}}})(((e,t)=>{for(var r in t||(t={}))m.call(t,r)&&service_defNormalProp(e,r,t[r]);if(T)for(var r of T(t))S.call(t,r)&&service_defNormalProp(e,r,t[r]);return e})({logger:r,analyticsSession:a},n));await o(e),a.end()}}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return service_BrowserServiceImpl}));var n=r(10);const chainAsyncListenerCalls=e=>{let t=Promise.resolve();return async(...r)=>{t=(async r=>(await t,e(...r)))(r)}};var a=r(44),o=r(64),i=Object.defineProperty,s=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,r)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;class OnNavigatedTabEventListener_WebNavigationEventListener{constructor(e,t){this.listener=t,this.logger=Object(a.a)(e,"OnNavigatedToTabEventDetailsListener"),this.handleEvent.bind(this)}async createEventDetails({sourceTabId:e,tabId:t,url:r}){let a;try{a=(await n.a.tabs.get(e)).url}catch(e){this.logger.debug("Failed to find source tab. Error: "+Object(o.a)(e))}return((e,t)=>{for(var r in t||(t={}))u.call(t,r)&&__defNormalProp(e,r,t[r]);if(s)for(var r of s(t))l.call(t,r)&&__defNormalProp(e,r,t[r]);return e})({tabId:t,url:r,sourceTabId:e},a?{sourceTabUrl:a,sourceTabExists:!0}:{sourceTabExists:!1})}async handleEvent(e){const t=await this.createEventDetails(e);await this.listener(t)}}class service_BrowserServiceImpl{constructor(e){this.logger=Object(a.a)(e,"BrowserService")}setOnNavigatedToTabListener(e){n.a.webNavigation.onCreatedNavigationTarget.addListener(chainAsyncListenerCalls(async t=>{const r=new OnNavigatedTabEventListener_WebNavigationEventListener(this.logger,e);await r.handleEvent(t)}))}async removeTab(e){await n.a.tabs.remove(e)}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return service_BlacklistServiceImpl}));var n=r(44);class service_BlacklistServiceImpl{constructor(e,t){this.storage=t,this.logger=Object(n.a)(e,"BlacklistService")}async has(e){const t=(e=>e.hostname.split(".").slice(-2).join("."))(e),r=await this.storage.has(t);return this.logger.debug(`Url ${e.toString()} is matched ? ${r}`),r}}},,,,,,,,,,function(e,t,r){"use strict";var n=r(272);r.o(n,"BrowserServiceImpl")&&r.d(t,"BrowserServiceImpl",(function(){return n.BrowserServiceImpl}));var a=r(285);r.d(t,"BrowserServiceImpl",(function(){return a.a}));r(273)},function(e,t,r){"use strict";var n=r(275);r.o(n,"BlacklistSyncServiceImpl")&&r.d(t,"BlacklistSyncServiceImpl",(function(){return n.BlacklistSyncServiceImpl}));var a=r(276);r.d(t,"BlacklistSyncServiceImpl",(function(){return a.a}));r(121)},function(e,t,r){"use strict";var n=r(284);r.d(t,"PopupBlockService",(function(){return n.a}));r(283)},function(e,t,r){"use strict";var n=r(280);r.o(n,"BlacklistServiceImpl")&&r.d(t,"BlacklistServiceImpl",(function(){return n.BlacklistServiceImpl}));var a=r(286);r.d(t,"BlacklistServiceImpl",(function(){return a.a}))},function(e,t,r){"use strict";var n=r(281);r.o(n,"PopupCheckerImpl")&&r.d(t,"PopupCheckerImpl",(function(){return n.PopupCheckerImpl}));var a=r(282);r.d(t,"PopupCheckerImpl",(function(){return a.a}))},,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";r.r(t),r.d(t,"logger",(function(){return n}));const n={error:()=>{},debug:()=>{}}},,,,function(e,t,r){"use strict";r.r(t);var n=r(0),a=r(54);var o=r(11),i=r(4);var s=r(23),u=r(66),l=r(1),_=r(41),d=r(6),h=r(69);var f=r(117),E=r(24),O=Object.defineProperty,p=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,r)=>t in e?O(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,__spreadValues=(e,t)=>{for(var r in t||(t={}))T.call(t,r)&&__defNormalProp(e,r,t[r]);if(p)for(var r of p(t))m.call(t,r)&&__defNormalProp(e,r,t[r]);return e};var S=r(81),I=r(15),y=r(96),g=r(55),A=r(10),b=r(72),C=r(9),L=r(68),N=r(90),R=r(26),P=r(5);var v=new class whitelist_WhitelistHelper{list(e=!0){return new Promise(t=>{P.c.getAll(l.h.WHITELIST,l.h.DEFAULT_WHITELIST).then(r=>{const n=r[l.h.DEFAULT_WHITELIST]||[],a=r[l.h.WHITELIST]||[];t(e?[...n,...a]:[...a])})})}add(e){return this.list().then(t=>{t.push(e),P.c.set(l.h.WHITELIST,t)})}remove(e){return this.list().then(t=>{t=t.filter(t=>t!==e),P.c.set(l.h.WHITELIST,t)})}async containsDomain(e,t={}){const{tailOnly:r=!1,addDefault:n=!0}=t,a=await this.list(n);return e=Object(d.c)(e),a.some(t=>{t.includes("http")||(t="http://"+t);const n=new URL(t).hostname,a=null==n?void 0:n.split("www.").filter(e=>e)[0];return r?e.endsWith(a):a===e})}},w=r(82);const isEmptyCol=(e,t)=>{for(let r=0;r<e.length;r++)if(e[r][t])return!1;return!0},getStrokeCount=e=>e.join("").split("0").filter(e=>e).length,isCanvasSponsored=(e,t,r,n)=>{try{const a=e.length/t;let o=0;const i=[];for(let t=0;t<e.length;t++){o+=e[t];const r=Math.floor(t/a),n=Math.floor(t%a);i[r]||(i[r]=[]);const s=o>0?1:0;i[r][n]=s,o=0}const s=(e=>{let t=0,r=0;for(let r=0;r<e.length;r++)if(e[r].includes(1)){t=r;break}for(let t=e.length-1;t>=0;t--)if(e[t].includes(1)){r=t;break}const n=2===getStrokeCount(e[t+1]),a=e[t+1].indexOf(1),o=e[t+1].lastIndexOf(1),i=1===getStrokeCount(e[r]),s=e[r].indexOf(1);return n&&i&&(a<s&&s<o)})(i),u=(e=>{const t=Math.round((e.length-1)/2);return getStrokeCount(e[t])})((e=>{for(let t=0;t<e[0].length;t++){if(isEmptyCol(e,t))for(let r=0;r<e.length;r++)e[r][t]=1}return e})(i));return s&&u<=n&&u>=r}catch(e){return!1}};var D=Object.defineProperty,k=Object.getOwnPropertySymbols,B=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable,messaging_defNormalProp=(e,t,r)=>t in e?D(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const initListenToInternalMessages=()=>{A.a.runtime.onMessage.addListener((e,t,r)=>{let a={};switch(e.name){case n.t.GA_EVENT:Object(S.a)(e.action),r();break;case n.t.UPDATE_COUNTS:Object(g.i)(e.numOfBlocks);break;case n.t.CREATE_CONTEXT_MENUS:Object(u.a)(e.paused||!1);break;case n.t.SEND_ANALYTICS_EVENT:Object(h.a)(e.eventType,e.eventPayload);break;case n.t.ALLOW_ALWAYS:O=e.domain,p=e.type,chrome.storage.local.get("whitelist",async e=>{const t=[...e.whitelist,O];if(chrome.storage.local.set({whitelist:t}),"popup"===p);else{const e=await Object(i.k)();chrome.tabs.sendMessage(e.id,{name:"allowOverlays"})}});break;case n.t.REQUEST_TAB_URL:A.a.tabs.get(t.tab.id,e=>{a={url:e.url}});break;case n.t.REQUEST_CURRENT_TAB:r(t.tab);break;case n.t.OPEN_URL:A.a.tabs.create({url:e.url});break;case n.t.UPDATE_RATING:((e,t)=>{chrome.storage.local.get("rating",({rating:r})=>{switch(e){case"display":r.showCount++;break;case"click":!r.complete&&r.showCount>=r.nextDisplay&&(chrome.tabs.sendMessage(t.tab.id,{name:"showRateUs"}),r.nextDisplay+=n.J.EVERY);break;case"complete":r.complete=!0}chrome.storage.local.set({rating:r})})})(e.action,t);break;case n.t.UPDATE_USER_INFO:Object(s.e)();break;case n.t.LOGIN:Object(s.b)().then(()=>{Object(i.h)()});break;case n.t.SUBSCRIPTION_SUCCESS:Object(s.b)(),Object(i.g)(),Object(i.W)({name:n.t.UPDATE_REMOTE_SETTINGS});break;case n.t.GET_USER:Object(s.b)();break;case n.t.LOGOUT:Object(N.c)();break;case n.t.ADD_UNBLOCK_ALL_ELEMENTS_MENU:Object(u.b)(((e,t)=>{for(var r in t||(t={}))B.call(t,r)&&messaging_defNormalProp(e,r,t[r]);if(k)for(var r of k(t))K.call(t,r)&&messaging_defNormalProp(e,r,t[r]);return e})({parentId:n.i.PARENT.id},n.i.UNBLOCK_ALL_ELEMENTS));break;case n.t.REMOVE_UNBLOCK_ALL_ELEMENTS_MENU:Object(u.c)(n.i.UNBLOCK_ALL_ELEMENTS.id);break;case n.t.GET_DEFAULT_WHITELIST:(async()=>{new Promise(e=>{const t=n.h.DEFAULT_WHITELIST_LAST_UPDATE,r=Date.now();chrome.storage.local.get(t,async a=>{if(!a[t]||r-a[t]>=n.x){const a=await Object(o.a)(n.e.WHITELIST);if(200===a.status){const o=await a.json();chrome.storage.local.set({[t]:r,[n.h.DEFAULT_WHITELIST]:o},()=>e())}}e()})})})();break;case n.t.GET_POPULAR_SITES_FOR_BLOCK_ELEMENTS:(async()=>{new Promise(e=>{const t=n.h.POPULAR_SITES_FOR_BLOCK_ELEMENTS_LAST_UPDATE,r=Date.now();chrome.storage.local.get(t,async a=>{if(!a[t]||r-a[t]>=n.x){const a=await Object(o.a)(n.e.POPULAR_SITES_FOR_BLOCK_ELEMENTS);if(200===a.status){const o=await a.json();chrome.storage.local.set({[t]:r,[n.h.POPULAR_SITES_FOR_BLOCK_ELEMENTS]:o},()=>e())}}e()})})})();break;case n.t.MANUAL_REMOVE_OVERLAY:Object(i.Z)(n.t.MANUAL_REMOVE_OVERLAY);break;case n.t.START_BLOCKED_ELEMENTS:Object(i.Z)(n.t.START_BLOCKED_ELEMENTS);break;case n.t.INSERT_COOKIE_FILTERS:Object(f.b)();break;case n.t.OPT_IN_AGREE:Object(g.h)(!0,i.gb);break;case n.t.OPT_IN_AGREE_NO_REMOTE_UPDATE:Object(g.h)(!0);break;case n.t.OPT_IN_DISAGREE:Object(g.h)(!1,i.gb);break;case n.t.SEND_ALIVE_EVENT:(async()=>{chrome.storage.local.get([l.h.LAST_ALIVE_EVENT_SENT_AT,l.h.SETTINGS],async e=>{const t=e[l.h.LAST_ALIVE_EVENT_SENT_AT]||0,r=Date.now(),n=r-t>=l.q,a=await _.a.isOptIn(),i=(await Object(d.b)()).isPinned,u=await Object(d.k)();if(n){await Object(h.a)(l.d.ANALYTICS_EVENT_TYPES.ALIVE,{payload:JSON.stringify({optin:a,pinned:i,isPremium:u})}),chrome.storage.local.set({[l.h.LAST_ALIVE_EVENT_SENT_AT]:r});if(await Object(s.c)())try{await Object(o.a)(l.f.ALIVE,{method:"POST",headers:[["x-opt",""+(a?1:0)]]})}catch(e){}}})})();break;case n.t.UPDATE_SEGMENT_DATA:Object(i.hb)();break;case n.t.UPDATE_BLOCK_STAT:w.d.updateTotalBlocksByTabId({tabId:t.tab.id,type:e.type});break;case n.t.UPDATE_UNBLOCK_STAT:w.d.updateUnblockStatsStatsTotals({tabId:t.tab.id,type:e.type});break;case n.t.CHECK_PROMO_MESSAGE:(async e=>{chrome.storage.local.get([n.h.PROMO_COUPON,n.h.GENERAL_DATA,n.h.USER],async t=>{const r=Date.now();let a=t[n.h.PROMO_COUPON];const s=t[n.h.USER];if(null==s?void 0:s.isPremium)return;a||(a={lastUpdateTime:r,count:0,cycle:0,coolDown:!1},chrome.storage.local.set({promoCoupon:a}));let u=!1;if(a.newUser&&(r-(null==a?void 0:a.lastUpdateTime)>n.q&&0===(null==a?void 0:a.count)||(null==a?void 0:a.count)>=1)?(u=!0,a.coolDown=!0):r-(null==a?void 0:a.lastUpdateTime)>n.M?(a.cycle=0,a.count=1,a.coolDown=!1,a.lastUpdateTime=r):a.coolDown&&r-a.lastUpdateTime>n.x&&a.cycle<n.F?(a.count=1,a.coolDown=!1):a.cycle<n.F&&(null==a?void 0:a.count)>=n.G&&!a.coolDown&&(a.coolDown=!0,u=!0),u){const t=await Object(E.a)(),s=await Object(o.a)(n.e.PROMO_COUPON,{headers:{id:(null==t?void 0:t.uuid)||"",couponid:"promo"}});if(200===s.status){const t=await s.json();a.lastUpdateTime=r,a.cycle++,a.count=0,a.newUser=!1,(null==t?void 0:t.couponId)&&Object(i.Z)(n.t.SHOW_COUPON_MESSAGE,{data:t,delay:e})}}chrome.storage.local.set({[n.h.PROMO_COUPON]:__spreadValues({},a)})})})(e.delay);break;case n.t.INJECT_FONTS:A.a.storage.local.get(n.h.FONT_STYLE,e=>{r({fonts:e})});break;case n.t.FETCH_SETTINGS:Object(i.h)();break;case n.t.UPDATE_REMOTE_SETTINGS:Object(i.gb)();break;case n.t.UPDATE_REMOTE_AND_LOCAL_SETTINGS:Object(i.eb)(e.settings);break;case n.t.SHOW_TRIAL_PROMO:if(e&&e.data){const t=e.data;I.a.showTrialPromoIfNeeded(t.feature,t.extras)}break;case n.t.TOGGLE_PUSH_NOTIFICATIONS_BLOCKING:Object(y.c)(e.checked);break;case n.t.EXTENSION_IS_PINNED:return Object(i.b)().then(r),!0;case n.t.UPDATE_SETTINGS:Object(i.fb)(e.data);break;case n.t.REQUEST_OPTIONAL_PERMISSIONS:Object(y.b)();break;case n.t.REQUEST_EXTENSION_ID:A.a.management.getSelf(e=>{Object(i.Z)(n.t.REQUEST_EXTENSION_ID,{id:e.id,version:e.version})});break;case n.t.UPDATE_SCRIPT_BLOCKERS_STATE:b.a.refresh();break;case n.t.SETTINGS_CHANGED:e.data&&e.data.feature&&e.data.value&&(b.a.toggleFeatureState(e.data.feature,e.data.value),Object(i.Z)(e.name,e.data)),Object(i.I)(n.t.SETTINGS_CHANGED_IN_EXTENSION);break;case n.t.ON_EXTENSION_ENABLED_STATE_UPDATED:b.a.onExtensionStateChanged(e.data.isEnabled);break;case n.t.GET_ALL_FEATURES_FLAGS:return r(L.a.getInstance().getAllFeaturesValue()),!0;case n.t.GET_ALL_FEATURES_FLAGS_ASYNC:return L.a.getInstance().getAllFeaturesValueAsync().then(r),!0;case n.t.HIDE_TRACKER_HOOK:P.c.set(n.h.HIDE_TRACKER_HOOK,!0),Object(i.ab)(n.t.REMOVE_ALL_TRACKER_HOOKS);break;case n.t.HIDE_OPT_IN_HOOK:P.c.set(n.h.HIDE_OPT_IN_HOOK,!0);break;case n.t.HIDE_HOOKS:P.c.set(n.h.GLOBAL_HIDE_PREMIUM_HOOKS,!0);break;case n.t.IS_CANVAS_SPONSORED:return void r(isCanvasSponsored(Object.values(e.data.canvasArr),e.data.canvasRows,e.data.minStrokes,e.data.maxStrokes))}var O,p;return r(a),!0})},initListenToExternalMessages=()=>{A.a.runtime.onMessageExternal.addListener(async(e,t,r)=>{try{switch(e.type){case n.t.REQUEST_TRIAL_STATUS:r(await I.a.getFeaturesTrialState());break;case n.t.EXTENSION_IS_PINNED:r(await Object(i.b)());break;case n.t.EXTENSION_IS_ALLOWED_INCOGNITO:r(await Object(i.x)());break;case n.t.GET_ALL_EXTENSION_PERMISSIONS_GRANTED:r(await Object(i.l)());break;case n.t.LOGOUT:await Object(i.J)();break;case n.t.UPDATE_SOCIAL_CONTENT_KEYWORDS:r(await Object(i.u)());break;case n.t.REQUEST_INSTALL_SOURCE:r(await Object(i.s)());break;case n.t.GET_SETTINGS:{const e=await R.a.getSettings(),t=await P.c.get(n.h.SOCIAL_CONTENT_KEYWORDS)||[],a=await v.list(!1);r({features:e,socialContentKeyWords:t,whitelist:a});break}case n.t.GET_EXTENSION_INFO:return Object(N.a)().then(r),!0;case n.t.SETTINGS_CHANGED_IN_WEBAPP:Object(i.fb)(e.payload);break;case n.t.UPDATE_PREMIUM_SETTING_TOGGLE_VALUE:{const t=await Object(i.E)(),r=e.payload,n=C.a[r];n&&t&&await R.a.setFeatureEnabled({Name:n.Name,SettingsKey:n.SettingsKey},!0);break}case n.t.UPDATE_BLOCK_HOOKS:await P.c.set(n.h.GLOBAL_HIDE_PREMIUM_HOOKS,e.payload.value);break;case n.t.GET_BLOCK_HOOKS:r(!!await P.c.get(n.h.GLOBAL_HIDE_PREMIUM_HOOKS));break;case n.t.GET_EXTENSION_STATUS:r(!!await P.c.get(n.h.PAUSED));break;case n.t.UPDATE_EXTENSION_STATUS:await P.c.set(n.h.PAUSED,e.payload.value);break;case n.t.UPDATE_RATING:(async()=>{const t=await a.a.getDefault().load();await t.setUserRating(e.payload.rating),e.payload.userFeedback&&await t.setUserFeedback(e.payload.userFeedback),await t.disable()})().finally();break;case n.t.GET_IS_RATE_US_SHOULD_BE_DISPLAYED:r(await(async()=>(await a.a.getDefault().load()).getShouldBeDisplayed())());break;case n.t.NOTIFY_EXTENSION_ON_SETTINGS_CHANGE:await Object(i.h)(),b.a.refresh()}}catch(t){console.log(`failed to handle message ${e.type} - ${t.message}`)}})};var U=r(29),F=r(64),M=r(296),x=(r(274),r(44));class storage_BlacklistStorage{constructor(e,t){this.database=t,this.logger=Object(x.a)(e,"BlacklistStorage")}async store(e){try{await this.database.transaction("readwrite",[this.database.blacklist],async()=>{await this.database.blacklist.clear(),await this.database.blacklist.bulkAdd(e.map(e=>({domain:e})))})}catch(e){this.logger.debug("Failed to store, using temp storage. Message: "+Object(F.a)(e))}}async isEmpty(){return 0===await this.database.blacklist.count()}async has(e){try{const t=await this.database.blacklist.get(e);return!!(null==t?void 0:t.domain)}catch(e){return this.logger.debug("Failed to store, using temp storage. Message: "+Object(F.a)(e)),!1}}async transaction(e){await this.database.transaction("readwrite",[this.database.blacklist],e)}}var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};var __assign=function(){return(__assign=Object.assign||function __assign(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function __spreadArray(e,t,r){if(r||2===arguments.length)for(var n,a=0,o=t.length;a<o;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))}var H="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,j=Object.keys,V=Array.isArray;function extend(e,t){return"object"!=typeof t||j(t).forEach((function(r){e[r]=t[r]})),e}"undefined"==typeof Promise||H.Promise||(H.Promise=Promise);var G=Object.getPrototypeOf,W={}.hasOwnProperty;function hasOwn(e,t){return W.call(e,t)}function props(e,t){"function"==typeof t&&(t=t(G(e))),("undefined"==typeof Reflect?j:Reflect.ownKeys)(t).forEach((function(r){setProp(e,r,t[r])}))}var Y=Object.defineProperty;function setProp(e,t,r,n){Y(e,t,extend(r&&hasOwn(r,"get")&&"function"==typeof r.get?{get:r.get,set:r.set,configurable:!0}:{value:r,configurable:!0,writable:!0},n))}function derive(e){return{from:function(t){return e.prototype=Object.create(t.prototype),setProp(e.prototype,"constructor",e),{extend:props.bind(null,e.prototype)}}}}var q=Object.getOwnPropertyDescriptor;var z=[].slice;function slice(e,t,r){return z.call(e,t,r)}function override(e,t){return t(e)}function assert(e){if(!e)throw new Error("Assertion Failed")}function asap$1(e){H.setImmediate?setImmediate(e):setTimeout(e,0)}function getByKeyPath(e,t){if("string"==typeof t&&hasOwn(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var r=[],n=0,a=t.length;n<a;++n){var o=getByKeyPath(e,t[n]);r.push(o)}return r}var i=t.indexOf(".");if(-1!==i){var s=e[t.substr(0,i)];return null==s?void 0:getByKeyPath(s,t.substr(i+1))}}function setByKeyPath(e,t,r){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){assert("string"!=typeof r&&"length"in r);for(var n=0,a=t.length;n<a;++n)setByKeyPath(e,t[n],r[n])}else{var o=t.indexOf(".");if(-1!==o){var i=t.substr(0,o),s=t.substr(o+1);if(""===s)void 0===r?V(e)&&!isNaN(parseInt(i))?e.splice(i,1):delete e[i]:e[i]=r;else{var u=e[i];u&&hasOwn(e,i)||(u=e[i]={}),setByKeyPath(u,s,r)}}else void 0===r?V(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=r}}function shallowClone(e){var t={};for(var r in e)hasOwn(e,r)&&(t[r]=e[r]);return t}var X=[].concat;function flatten(e){return X.apply([],e)}var Q="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(flatten([8,16,32,64].map((function(e){return["Int","Uint","Float"].map((function(t){return t+e+"Array"}))})))).filter((function(e){return H[e]})),Z=new Set(Q.map((function(e){return H[e]})));var $=null;function deepClone(e){$=new WeakMap;var t=function innerDeepClone(e){if(!e||"object"!=typeof e)return e;var t=$.get(e);if(t)return t;if(V(e)){t=[],$.set(e,t);for(var r=0,n=e.length;r<n;++r)t.push(innerDeepClone(e[r]))}else if(Z.has(e.constructor))t=e;else{var a=G(e);for(var o in t=a===Object.prototype?{}:Object.create(a),$.set(e,t),e)hasOwn(e,o)&&(t[o]=innerDeepClone(e[o]))}return t}(e);return $=null,t}var J={}.toString;function toStringTag(e){return J.call(e).slice(8,-1)}var ee="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",te="symbol"==typeof ee?function(e){var t;return null!=e&&(t=e[ee])&&t.apply(e)}:function(){return null};function delArrayItem(e,t){var r=e.indexOf(t);return r>=0&&e.splice(r,1),r>=0}var re={};function getArrayOf(e){var t,r,n,a;if(1===arguments.length){if(V(e))return e.slice();if(this===re&&"string"==typeof e)return[e];if(a=te(e)){for(r=[];!(n=a.next()).done;)r.push(n.value);return r}if(null==e)return[e];if("number"==typeof(t=e.length)){for(r=new Array(t);t--;)r[t]=e[t];return r}return[e]}for(t=arguments.length,r=new Array(t);t--;)r[t]=arguments[t];return r}var ne="undefined"!=typeof Symbol?function(e){return"AsyncFunction"===e[Symbol.toStringTag]}:function(){return!1},ae=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],oe=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(ae),ie={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function DexieError(e,t){this.name=e,this.message=t}function getMultiErrorMessage(e,t){return e+". Errors: "+Object.keys(t).map((function(e){return t[e].toString()})).filter((function(e,t,r){return r.indexOf(e)===t})).join("\n")}function ModifyError(e,t,r,n){this.failures=t,this.failedKeys=n,this.successCount=r,this.message=getMultiErrorMessage(e,t)}function BulkError(e,t){this.name="BulkError",this.failures=Object.keys(t).map((function(e){return t[e]})),this.failuresByPos=t,this.message=getMultiErrorMessage(e,this.failures)}derive(DexieError).from(Error).extend({toString:function(){return this.name+": "+this.message}}),derive(ModifyError).from(DexieError),derive(BulkError).from(DexieError);var se=oe.reduce((function(e,t){return e[t]=t+"Error",e}),{}),ce=DexieError,ue=oe.reduce((function(e,t){var r=t+"Error";function DexieError(e,n){this.name=r,e?"string"==typeof e?(this.message="".concat(e).concat(n?"\n "+n:""),this.inner=n||null):"object"==typeof e&&(this.message="".concat(e.name," ").concat(e.message),this.inner=e):(this.message=ie[t]||r,this.inner=null)}return derive(DexieError).from(ce),e[t]=DexieError,e}),{});ue.Syntax=SyntaxError,ue.Type=TypeError,ue.Range=RangeError;var le=ae.reduce((function(e,t){return e[t+"Error"]=ue[t],e}),{});var _e=oe.reduce((function(e,t){return-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=ue[t]),e}),{});function nop(){}function mirror(e){return e}function pureFunctionChain(e,t){return null==e||e===mirror?t:function(r){return t(e(r))}}function callBoth(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function hookCreatingChain(e,t){return e===nop?t:function(){var r=e.apply(this,arguments);void 0!==r&&(arguments[0]=r);var n=this.onsuccess,a=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return n&&(this.onsuccess=this.onsuccess?callBoth(n,this.onsuccess):n),a&&(this.onerror=this.onerror?callBoth(a,this.onerror):a),void 0!==o?o:r}}function hookDeletingChain(e,t){return e===nop?t:function(){e.apply(this,arguments);var r=this.onsuccess,n=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),r&&(this.onsuccess=this.onsuccess?callBoth(r,this.onsuccess):r),n&&(this.onerror=this.onerror?callBoth(n,this.onerror):n)}}function hookUpdatingChain(e,t){return e===nop?t:function(r){var n=e.apply(this,arguments);extend(r,n);var a=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var i=t.apply(this,arguments);return a&&(this.onsuccess=this.onsuccess?callBoth(a,this.onsuccess):a),o&&(this.onerror=this.onerror?callBoth(o,this.onerror):o),void 0===n?void 0===i?void 0:i:extend(n,i)}}function reverseStoppableEventChain(e,t){return e===nop?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function promisableChain(e,t){return e===nop?t:function(){var r=e.apply(this,arguments);if(r&&"function"==typeof r.then){for(var n=this,a=arguments.length,o=new Array(a);a--;)o[a]=arguments[a];return r.then((function(){return t.apply(n,o)}))}return t.apply(this,arguments)}}_e.ModifyError=ModifyError,_e.DexieError=DexieError,_e.BulkError=BulkError;var de="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function setDebug(e,t){de=e}var he={},fe="undefined"==typeof Promise?[]:function(){var e=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[e,G(e),e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,G(t),e]}(),Ee=fe[0],Oe=fe[1],pe=fe[2],Te=Oe&&Oe.then,me=Ee&&Ee.constructor,Se=!!pe;var asap=function(e,t){Ne.push([e,t]),ye&&(!function schedulePhysicalTick(){queueMicrotask(physicalTick)}(),ye=!1)},Ie=!0,ye=!0,ge=[],Ae=[],be=mirror,Ce={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:nop,pgp:!1,env:{},finalize:nop},Le=Ce,Ne=[],Re=0,Pe=[];function DexiePromise(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var t=this._PSD=Le;if("function"!=typeof e){if(e!==he)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&handleRejection(this,this._value))}this._state=null,this._value=null,++t.ref,executePromiseTask(this,e)}var ve={get:function(){var e=Le,t=Ke;function then(r,n){var a=this,o=!e.global&&(e!==Le||t!==Ke),i=o&&!decrementExpectedAwaits(),s=new DexiePromise((function(t,s){propagateToListener(a,new Listener(nativeAwaitCompatibleWrap(r,e,o,i),nativeAwaitCompatibleWrap(n,e,o,i),t,s,e))}));return this._consoleTask&&(s._consoleTask=this._consoleTask),s}return then.prototype=he,then},set:function(e){setProp(this,"then",e&&e.prototype===he?ve:{get:function(){return e},set:ve.set})}};function Listener(e,t,r,n,a){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=r,this.reject=n,this.psd=a}function executePromiseTask(e,t){try{t((function(t){if(null===e._state){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var r=e._lib&&beginMicroTickScope();t&&"function"==typeof t.then?executePromiseTask(e,(function(e,r){t instanceof DexiePromise?t._then(e,r):t.then(e,r)})):(e._state=!0,e._value=t,propagateAllListeners(e)),r&&endMicroTickScope()}}),handleRejection.bind(null,e))}catch(t){handleRejection(e,t)}}function handleRejection(e,t){if(Ae.push(t),null===e._state){var r=e._lib&&beginMicroTickScope();t=be(t),e._state=!1,e._value=t,function addPossiblyUnhandledError(e){ge.some((function(t){return t._value===e._value}))||ge.push(e)}(e),propagateAllListeners(e),r&&endMicroTickScope()}}function propagateAllListeners(e){var t=e._listeners;e._listeners=[];for(var r=0,n=t.length;r<n;++r)propagateToListener(e,t[r]);var a=e._PSD;--a.ref||a.finalize(),0===Re&&(++Re,asap((function(){0==--Re&&finalizePhysicalTick()}),[]))}function propagateToListener(e,t){if(null!==e._state){var r=e._state?t.onFulfilled:t.onRejected;if(null===r)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Re,asap(callListener,[r,e,t])}else e._listeners.push(t)}function callListener(e,t,r){try{var n,a=t._value;!t._state&&Ae.length&&(Ae=[]),n=de&&t._consoleTask?t._consoleTask.run((function(){return e(a)})):e(a),t._state||-1!==Ae.indexOf(a)||function markErrorAsHandled(e){var t=ge.length;for(;t;)if(ge[--t]._value===e._value)return void ge.splice(t,1)}(t),r.resolve(n)}catch(e){r.reject(e)}finally{0==--Re&&finalizePhysicalTick(),--r.psd.ref||r.psd.finalize()}}function physicalTick(){usePSD(Ce,(function(){beginMicroTickScope()&&endMicroTickScope()}))}function beginMicroTickScope(){var e=Ie;return Ie=!1,ye=!1,e}function endMicroTickScope(){var e,t,r;do{for(;Ne.length>0;)for(e=Ne,Ne=[],r=e.length,t=0;t<r;++t){var n=e[t];n[0].apply(null,n[1])}}while(Ne.length>0);Ie=!0,ye=!0}function finalizePhysicalTick(){var e=ge;ge=[],e.forEach((function(e){e._PSD.onunhandled.call(null,e._value,e)}));for(var t=Pe.slice(0),r=t.length;r;)t[--r]()}function PromiseReject(e){return new DexiePromise(he,!1,e)}function wrap(e,t){var r=Le;return function(){var n=beginMicroTickScope(),a=Le;try{return switchToZone(r,!0),e.apply(this,arguments)}catch(e){t&&t(e)}finally{switchToZone(a,!1),n&&endMicroTickScope()}}}props(DexiePromise.prototype,{then:ve,_then:function(e,t){propagateToListener(this,new Listener(null,null,e,t,Le))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],r=arguments[1];return"function"==typeof t?this.then(null,(function(e){return e instanceof t?r(e):PromiseReject(e)})):this.then(null,(function(e){return e&&e.name===t?r(e):PromiseReject(e)}))},finally:function(e){return this.then((function(t){return DexiePromise.resolve(e()).then((function(){return t}))}),(function(t){return DexiePromise.resolve(e()).then((function(){return PromiseReject(t)}))}))},timeout:function(e,t){var r=this;return e<1/0?new DexiePromise((function(n,a){var o=setTimeout((function(){return a(new ue.Timeout(t))}),e);r.then(n,a).finally(clearTimeout.bind(null,o))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&setProp(DexiePromise.prototype,Symbol.toStringTag,"Dexie.Promise"),Ce.env=snapShot(),props(DexiePromise,{all:function(){var e=getArrayOf.apply(null,arguments).map(onPossibleParallellAsync);return new DexiePromise((function(t,r){0===e.length&&t([]);var n=e.length;e.forEach((function(a,o){return DexiePromise.resolve(a).then((function(r){e[o]=r,--n||t(e)}),r)}))}))},resolve:function(e){return e instanceof DexiePromise?e:e&&"function"==typeof e.then?new DexiePromise((function(t,r){e.then(t,r)})):new DexiePromise(he,!0,e)},reject:PromiseReject,race:function(){var e=getArrayOf.apply(null,arguments).map(onPossibleParallellAsync);return new DexiePromise((function(t,r){e.map((function(e){return DexiePromise.resolve(e).then(t,r)}))}))},PSD:{get:function(){return Le},set:function(e){return Le=e}},totalEchoes:{get:function(){return Ke}},newPSD:newScope,usePSD:usePSD,scheduler:{get:function(){return asap},set:function(e){asap=e}},rejectionMapper:{get:function(){return be},set:function(e){be=e}},follow:function(e,t){return new DexiePromise((function(r,n){return newScope((function(t,r){var n=Le;n.unhandleds=[],n.onunhandled=r,n.finalize=callBoth((function(){var e=this;!function run_at_end_of_this_or_next_physical_tick(e){Pe.push((function finalizer(){e(),Pe.splice(Pe.indexOf(finalizer),1)})),++Re,asap((function(){0==--Re&&finalizePhysicalTick()}),[])}((function(){0===e.unhandleds.length?t():r(e.unhandleds[0])}))}),n.finalize),e()}),t,r,n)}))}}),me&&(me.allSettled&&setProp(DexiePromise,"allSettled",(function(){var e=getArrayOf.apply(null,arguments).map(onPossibleParallellAsync);return new DexiePromise((function(t){0===e.length&&t([]);var r=e.length,n=new Array(r);e.forEach((function(e,a){return DexiePromise.resolve(e).then((function(e){return n[a]={status:"fulfilled",value:e}}),(function(e){return n[a]={status:"rejected",reason:e}})).then((function(){return--r||t(n)}))}))}))})),me.any&&"undefined"!=typeof AggregateError&&setProp(DexiePromise,"any",(function(){var e=getArrayOf.apply(null,arguments).map(onPossibleParallellAsync);return new DexiePromise((function(t,r){0===e.length&&r(new AggregateError([]));var n=e.length,a=new Array(n);e.forEach((function(e,o){return DexiePromise.resolve(e).then((function(e){return t(e)}),(function(e){a[o]=e,--n||r(new AggregateError(a))}))}))}))})));var we={awaits:0,echoes:0,id:0},De=0,ke=[],Be=0,Ke=0,Ue=0;function newScope(e,t,r,n){var a=Le,o=Object.create(a);o.parent=a,o.ref=0,o.global=!1,o.id=++Ue,Ce.env,o.env=Se?{Promise:DexiePromise,PromiseProp:{value:DexiePromise,configurable:!0,writable:!0},all:DexiePromise.all,race:DexiePromise.race,allSettled:DexiePromise.allSettled,any:DexiePromise.any,resolve:DexiePromise.resolve,reject:DexiePromise.reject}:{},t&&extend(o,t),++a.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var i=usePSD(o,e,r,n);return 0===o.ref&&o.finalize(),i}function incrementExpectedAwaits(){return we.id||(we.id=++De),++we.awaits,we.echoes+=100,we.id}function decrementExpectedAwaits(){return!!we.awaits&&(0==--we.awaits&&(we.id=0),we.echoes=100*we.awaits,!0)}function onPossibleParallellAsync(e){return we.echoes&&e&&e.constructor===me?(incrementExpectedAwaits(),e.then((function(e){return decrementExpectedAwaits(),e}),(function(e){return decrementExpectedAwaits(),Fe(e)}))):e}function zoneEnterEcho(e){++Ke,we.echoes&&0!=--we.echoes||(we.echoes=we.awaits=we.id=0),ke.push(Le),switchToZone(e,!0)}function zoneLeaveEcho(){var e=ke[ke.length-1];ke.pop(),switchToZone(e,!1)}function switchToZone(e,t){var r=Le;if((t?!we.echoes||Be++&&e===Le:!Be||--Be&&e===Le)||queueMicrotask(t?zoneEnterEcho.bind(null,e):zoneLeaveEcho),e!==Le&&(Le=e,r===Ce&&(Ce.env=snapShot()),Se)){var n=Ce.env.Promise,a=e.env;(r.global||e.global)&&(Object.defineProperty(H,"Promise",a.PromiseProp),n.all=a.all,n.race=a.race,n.resolve=a.resolve,n.reject=a.reject,a.allSettled&&(n.allSettled=a.allSettled),a.any&&(n.any=a.any))}}function snapShot(){var e=H.Promise;return Se?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(H,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject}:{}}function usePSD(e,t,r,n,a){var o=Le;try{return switchToZone(e,!0),t(r,n,a)}finally{switchToZone(o,!1)}}function nativeAwaitCompatibleWrap(e,t,r,n){return"function"!=typeof e?e:function(){var a=Le;r&&incrementExpectedAwaits(),switchToZone(t,!0);try{return e.apply(this,arguments)}finally{switchToZone(a,!1),n&&queueMicrotask(decrementExpectedAwaits)}}}function execInGlobalContext(e){Promise===me&&0===we.echoes?0===Be?e():enqueueNativeMicroTask(e):setTimeout(e,0)}-1===(""+Te).indexOf("[native code]")&&(incrementExpectedAwaits=decrementExpectedAwaits=nop);var Fe=DexiePromise.reject;var Me=String.fromCharCode(65535),xe="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",He=[];function combine(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var je={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function workaroundForUndefinedPrimKey(e){return"string"!=typeof e||/\./.test(e)?function(e){return e}:function(t){return void 0===t[e]&&e in t&&delete(t=deepClone(t))[e],t}}function Entity(){throw ue.Type()}function cmp(e,t){try{var r=dexie_type(e),n=dexie_type(t);if(r!==n)return"Array"===r?1:"Array"===n?-1:"binary"===r?1:"binary"===n?-1:"string"===r?1:"string"===n?-1:"Date"===r?1:"Date"!==n?NaN:-1;switch(r){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function compareUint8Arrays(e,t){for(var r=e.length,n=t.length,a=r<n?r:n,o=0;o<a;++o)if(e[o]!==t[o])return e[o]<t[o]?-1:1;return r===n?0:r<n?-1:1}(getUint8Array(e),getUint8Array(t));case"Array":return function compareArrays(e,t){for(var r=e.length,n=t.length,a=r<n?r:n,o=0;o<a;++o){var i=cmp(e[o],t[o]);if(0!==i)return i}return r===n?0:r<n?-1:1}(e,t)}}catch(e){}return NaN}function dexie_type(e){var t=typeof e;if("object"!==t)return t;if(ArrayBuffer.isView(e))return"binary";var r=toStringTag(e);return"ArrayBuffer"===r?"binary":r}function getUint8Array(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}var Ve=function(){function Table(){}return Table.prototype._trans=function(e,t,r){var n=this._tx||Le.trans,a=this.name,o=de&&"undefined"!=typeof console&&console.createTask&&console.createTask("Dexie: ".concat("readonly"===e?"read":"write"," ").concat(this.name));function checkTableInTransaction(e,r,n){if(!n.schema[a])throw new ue.NotFound("Table "+a+" not part of transaction");return t(n.idbtrans,n)}var i=beginMicroTickScope();try{var s=n&&n.db._novip===this.db._novip?n===Le.trans?n._promise(e,checkTableInTransaction,r):newScope((function(){return n._promise(e,checkTableInTransaction,r)}),{trans:n,transless:Le.transless||Le}):function tempTransaction(e,t,r,n){if(e.idbdb&&(e._state.openComplete||Le.letThrough||e._vip)){var a=e._createTransaction(t,r,e._dbSchema);try{a.create(),e._state.PR1398_maxLoop=3}catch(a){return a.name===se.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e.close({disableAutoOpen:!1}),e.open().then((function(){return tempTransaction(e,t,r,n)}))):Fe(a)}return a._promise(t,(function(e,t){return newScope((function(){return Le.trans=a,n(e,t,a)}))})).then((function(e){if("readwrite"===t)try{a.idbtrans.commit()}catch(e){}return"readonly"===t?e:a._completion.then((function(){return e}))}))}if(e._state.openComplete)return Fe(new ue.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._state.autoOpen)return Fe(new ue.DatabaseClosed);e.open().catch(nop)}return e._state.dbReadyPromise.then((function(){return tempTransaction(e,t,r,n)}))}(this.db,e,[this.name],checkTableInTransaction);return o&&(s._consoleTask=o,s=s.catch((function(e){return console.trace(e),Fe(e)}))),s}finally{i&&endMicroTickScope()}},Table.prototype.get=function(e,t){var r=this;return e&&e.constructor===Object?this.where(e).first(t):null==e?Fe(new ue.Type("Invalid argument to Table.get()")):this._trans("readonly",(function(t){return r.core.get({trans:t,key:e}).then((function(e){return r.hook.reading.fire(e)}))})).then(t)},Table.prototype.where=function(e){if("string"==typeof e)return new this.db.WhereClause(this,e);if(V(e))return new this.db.WhereClause(this,"[".concat(e.join("+"),"]"));var t=j(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);var r=this.schema.indexes.concat(this.schema.primKey).filter((function(e){if(e.compound&&t.every((function(t){return e.keyPath.indexOf(t)>=0}))){for(var r=0;r<t.length;++r)if(-1===t.indexOf(e.keyPath[r]))return!1;return!0}return!1})).sort((function(e,t){return e.keyPath.length-t.keyPath.length}))[0];if(r&&this.db._maxKey!==Me){var n=r.keyPath.slice(0,t.length);return this.where(n).equals(n.map((function(t){return e[t]})))}!r&&de&&console.warn("The query ".concat(JSON.stringify(e)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(t.join("+"),"]"));var a=this.schema.idxByName,o=this.db._deps.indexedDB;function equals(e,t){return 0===o.cmp(e,t)}var i=t.reduce((function(t,r){var n=t[0],o=t[1],i=a[r],s=e[r];return[n||i,n||!i?combine(o,i&&i.multi?function(e){var t=getByKeyPath(e,r);return V(t)&&t.some((function(e){return equals(s,e)}))}:function(e){return equals(s,getByKeyPath(e,r))}):o]}),[null,null]),s=i[0],u=i[1];return s?this.where(s.name).equals(e[s.keyPath]).filter(u):r?this.filter(u):this.where(t).equals("")},Table.prototype.filter=function(e){return this.toCollection().and(e)},Table.prototype.count=function(e){return this.toCollection().count(e)},Table.prototype.offset=function(e){return this.toCollection().offset(e)},Table.prototype.limit=function(e){return this.toCollection().limit(e)},Table.prototype.each=function(e){return this.toCollection().each(e)},Table.prototype.toArray=function(e){return this.toCollection().toArray(e)},Table.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Table.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,V(e)?"[".concat(e.join("+"),"]"):e))},Table.prototype.reverse=function(){return this.toCollection().reverse()},Table.prototype.mapToClass=function(e){var t=this.db,r=this.name;this.schema.mappedClass=e,e.prototype instanceof Entity&&(e=function(e){function class_1(){return null!==e&&e.apply(this,arguments)||this}return function __extends(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}(class_1,e),Object.defineProperty(class_1.prototype,"db",{get:function(){return t},enumerable:!1,configurable:!0}),class_1.prototype.table=function(){return r},class_1}(e));for(var n=new Set,a=e.prototype;a;a=G(a))Object.getOwnPropertyNames(a).forEach((function(e){return n.add(e)}));var readHook=function(t){if(!t)return t;var r=Object.create(e.prototype);for(var a in t)if(!n.has(a))try{r[a]=t[a]}catch(e){}return r};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=readHook,this.hook("reading",readHook),e},Table.prototype.defineClass=function(){return this.mapToClass((function Class(e){extend(this,e)}))},Table.prototype.add=function(e,t){var r=this,n=this.schema.primKey,a=n.auto,o=n.keyPath,i=e;return o&&a&&(i=workaroundForUndefinedPrimKey(o)(e)),this._trans("readwrite",(function(e){return r.core.mutate({trans:e,type:"add",keys:null!=t?[t]:null,values:[i]})})).then((function(e){return e.numFailures?DexiePromise.reject(e.failures[0]):e.lastResult})).then((function(t){if(o)try{setByKeyPath(e,o,t)}catch(e){}return t}))},Table.prototype.update=function(e,t){if("object"!=typeof e||V(e))return this.where(":id").equals(e).modify(t);var r=getByKeyPath(e,this.schema.primKey.keyPath);return void 0===r?Fe(new ue.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(r).modify(t)},Table.prototype.put=function(e,t){var r=this,n=this.schema.primKey,a=n.auto,o=n.keyPath,i=e;return o&&a&&(i=workaroundForUndefinedPrimKey(o)(e)),this._trans("readwrite",(function(e){return r.core.mutate({trans:e,type:"put",values:[i],keys:null!=t?[t]:null})})).then((function(e){return e.numFailures?DexiePromise.reject(e.failures[0]):e.lastResult})).then((function(t){if(o)try{setByKeyPath(e,o,t)}catch(e){}return t}))},Table.prototype.delete=function(e){var t=this;return this._trans("readwrite",(function(r){return t.core.mutate({trans:r,type:"delete",keys:[e]})})).then((function(e){return e.numFailures?DexiePromise.reject(e.failures[0]):void 0}))},Table.prototype.clear=function(){var e=this;return this._trans("readwrite",(function(t){return e.core.mutate({trans:t,type:"deleteRange",range:je})})).then((function(e){return e.numFailures?DexiePromise.reject(e.failures[0]):void 0}))},Table.prototype.bulkGet=function(e){var t=this;return this._trans("readonly",(function(r){return t.core.getMany({keys:e,trans:r}).then((function(e){return e.map((function(e){return t.hook.reading.fire(e)}))}))}))},Table.prototype.bulkAdd=function(e,t,r){var n=this,a=Array.isArray(t)?t:void 0,o=(r=r||(a?void 0:t))?r.allKeys:void 0;return this._trans("readwrite",(function(t){var r=n.schema.primKey,i=r.auto,s=r.keyPath;if(s&&a)throw new ue.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(a&&a.length!==e.length)throw new ue.InvalidArgument("Arguments objects and keys must have the same length");var u=e.length,l=s&&i?e.map(workaroundForUndefinedPrimKey(s)):e;return n.core.mutate({trans:t,type:"add",keys:a,values:l,wantResults:o}).then((function(e){var t=e.numFailures,r=e.results,a=e.lastResult,i=e.failures;if(0===t)return o?r:a;throw new BulkError("".concat(n.name,".bulkAdd(): ").concat(t," of ").concat(u," operations failed"),i)}))}))},Table.prototype.bulkPut=function(e,t,r){var n=this,a=Array.isArray(t)?t:void 0,o=(r=r||(a?void 0:t))?r.allKeys:void 0;return this._trans("readwrite",(function(t){var r=n.schema.primKey,i=r.auto,s=r.keyPath;if(s&&a)throw new ue.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(a&&a.length!==e.length)throw new ue.InvalidArgument("Arguments objects and keys must have the same length");var u=e.length,l=s&&i?e.map(workaroundForUndefinedPrimKey(s)):e;return n.core.mutate({trans:t,type:"put",keys:a,values:l,wantResults:o}).then((function(e){var t=e.numFailures,r=e.results,a=e.lastResult,i=e.failures;if(0===t)return o?r:a;throw new BulkError("".concat(n.name,".bulkPut(): ").concat(t," of ").concat(u," operations failed"),i)}))}))},Table.prototype.bulkUpdate=function(e){var t=this,r=this.core,n=e.map((function(e){return e.key})),a=e.map((function(e){return e.changes})),o=[];return this._trans("readwrite",(function(i){return r.getMany({trans:i,keys:n,cache:"clone"}).then((function(s){var u=[],l=[];e.forEach((function(e,r){var n=e.key,a=e.changes,i=s[r];if(i){for(var _=0,d=Object.keys(a);_<d.length;_++){var h=d[_],f=a[h];if(h===t.schema.primKey.keyPath){if(0!==cmp(f,n))throw new ue.Constraint("Cannot update primary key in bulkUpdate()")}else setByKeyPath(i,h,f)}o.push(r),u.push(n),l.push(i)}}));var _=u.length;return r.mutate({trans:i,type:"put",keys:u,values:l,updates:{keys:n,changeSpecs:a}}).then((function(e){var r=e.numFailures,n=e.failures;if(0===r)return _;for(var a=0,i=Object.keys(n);a<i.length;a++){var s=i[a],u=o[Number(s)];if(null!=u){var l=n[s];delete n[s],n[u]=l}}throw new BulkError("".concat(t.name,".bulkUpdate(): ").concat(r," of ").concat(_," operations failed"),n)}))}))}))},Table.prototype.bulkDelete=function(e){var t=this,r=e.length;return this._trans("readwrite",(function(r){return t.core.mutate({trans:r,type:"delete",keys:e})})).then((function(e){var n=e.numFailures,a=e.lastResult,o=e.failures;if(0===n)return a;throw new BulkError("".concat(t.name,".bulkDelete(): ").concat(n," of ").concat(r," operations failed"),o)}))},Table}();function Events(e){var t={},rv=function(r,n){if(n){for(var a=arguments.length,o=new Array(a-1);--a;)o[a-1]=arguments[a];return t[r].subscribe.apply(null,o),e}if("string"==typeof r)return t[r]};rv.addEventType=add;for(var r=1,n=arguments.length;r<n;++r)add(arguments[r]);return rv;function add(e,r,n){if("object"==typeof e)return addConfiguredEvents(e);r||(r=reverseStoppableEventChain),n||(n=nop);var a={subscribers:[],fire:n,subscribe:function(e){-1===a.subscribers.indexOf(e)&&(a.subscribers.push(e),a.fire=r(a.fire,e))},unsubscribe:function(e){a.subscribers=a.subscribers.filter((function(t){return t!==e})),a.fire=a.subscribers.reduce(r,n)}};return t[e]=rv[e]=a,a}function addConfiguredEvents(e){j(e).forEach((function(t){var r=e[t];if(V(r))add(t,e[t][0],e[t][1]);else{if("asap"!==r)throw new ue.InvalidArgument("Invalid event config");var n=add(t,mirror,(function fire(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];n.subscribers.forEach((function(e){asap$1((function fireEvent(){e.apply(null,t)}))}))}))}}))}}function makeClassConstructor(e,t){return derive(t).from({prototype:e}),t}function isPlainKeyRange(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function addFilter(e,t){e.filter=combine(e.filter,t)}function addReplayFilter(e,t,r){var n=e.replayFilter;e.replayFilter=n?function(){return combine(n(),t())}:t,e.justLimit=r&&!n}function getIndexOrStore(e,t){if(e.isPrimKey)return t.primaryKey;var r=t.getIndexByKeyPath(e.index);if(!r)throw new ue.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return r}function openCursor(e,t,r){var n=getIndexOrStore(e,t.schema);return t.openCursor({trans:r,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:n,range:e.range}})}function iter(e,t,r,n){var a=e.replayFilter?combine(e.filter,e.replayFilter()):e.filter;if(e.or){var o={},union=function(e,r,n){if(!a||a(r,n,(function(e){return r.stop(e)}),(function(e){return r.fail(e)}))){var i=r.primaryKey,s=""+i;"[object ArrayBuffer]"===s&&(s=""+new Uint8Array(i)),hasOwn(o,s)||(o[s]=!0,t(e,r,n))}};return Promise.all([e.or._iterate(union,r),iterate(openCursor(e,n,r),e.algorithm,union,!e.keysOnly&&e.valueMapper)])}return iterate(openCursor(e,n,r),combine(e.algorithm,a),t,!e.keysOnly&&e.valueMapper)}function iterate(e,t,r,n){var a=wrap(n?function(e,t,a){return r(n(e),t,a)}:r);return e.then((function(e){if(e)return e.start((function(){var c=function(){return e.continue()};t&&!t(e,(function(e){return c=e}),(function(t){e.stop(t),c=nop}),(function(t){e.fail(t),c=nop}))||a(e.value,e,(function(e){return c=e})),c()}))}))}Symbol();var Ge=function(){function PropModification(e){Object.assign(this,e)}return PropModification.prototype.execute=function(e){var t;if(void 0!==this.add){var r=this.add;if(V(r))return __spreadArray(__spreadArray([],V(e)?e:[],!0),r,!0).sort();if("number"==typeof r)return(Number(e)||0)+r;if("bigint"==typeof r)try{return BigInt(e)+r}catch(e){return BigInt(0)+r}throw new TypeError("Invalid term ".concat(r))}if(void 0!==this.remove){var n=this.remove;if(V(n))return V(e)?e.filter((function(e){return!n.includes(e)})).sort():[];if("number"==typeof n)return Number(e)-n;if("bigint"==typeof n)try{return BigInt(e)-n}catch(e){return BigInt(0)-n}throw new TypeError("Invalid subtrahend ".concat(n))}var a=null===(t=this.replacePrefix)||void 0===t?void 0:t[0];return a&&"string"==typeof e&&e.startsWith(a)?this.replacePrefix[1]+e.substring(a.length):e},PropModification}(),We=function(){function Collection(){}return Collection.prototype._read=function(e,t){var r=this._ctx;return r.error?r.table._trans(null,Fe.bind(null,r.error)):r.table._trans("readonly",e).then(t)},Collection.prototype._write=function(e){var t=this._ctx;return t.error?t.table._trans(null,Fe.bind(null,t.error)):t.table._trans("readwrite",e,"locked")},Collection.prototype._addAlgorithm=function(e){var t=this._ctx;t.algorithm=combine(t.algorithm,e)},Collection.prototype._iterate=function(e,t){return iter(this._ctx,e,t,this._ctx.table.core)},Collection.prototype.clone=function(e){var t=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return e&&extend(r,e),t._ctx=r,t},Collection.prototype.raw=function(){return this._ctx.valueMapper=null,this},Collection.prototype.each=function(e){var t=this._ctx;return this._read((function(r){return iter(t,e,r,t.table.core)}))},Collection.prototype.count=function(e){var t=this;return this._read((function(e){var r=t._ctx,n=r.table.core;if(isPlainKeyRange(r,!0))return n.count({trans:e,query:{index:getIndexOrStore(r,n.schema),range:r.range}}).then((function(e){return Math.min(e,r.limit)}));var a=0;return iter(r,(function(){return++a,!1}),e,n).then((function(){return a}))})).then(e)},Collection.prototype.sortBy=function(e,t){var r=e.split(".").reverse(),n=r[0],a=r.length-1;function getval(e,t){return t?getval(e[r[t]],t-1):e[n]}var o="next"===this._ctx.dir?1:-1;function sorter(e,t){var r=getval(e,a),n=getval(t,a);return r<n?-o:r>n?o:0}return this.toArray((function(e){return e.sort(sorter)})).then(t)},Collection.prototype.toArray=function(e){var t=this;return this._read((function(e){var r=t._ctx;if("next"===r.dir&&isPlainKeyRange(r,!0)&&r.limit>0){var n=r.valueMapper,a=getIndexOrStore(r,r.table.core.schema);return r.table.core.query({trans:e,limit:r.limit,values:!0,query:{index:a,range:r.range}}).then((function(e){var t=e.result;return n?t.map(n):t}))}var o=[];return iter(r,(function(e){return o.push(e)}),e,r.table.core).then((function(){return o}))}),e)},Collection.prototype.offset=function(e){var t=this._ctx;return e<=0||(t.offset+=e,isPlainKeyRange(t)?addReplayFilter(t,(function(){var t=e;return function(e,r){return 0===t||(1===t?(--t,!1):(r((function(){e.advance(t),t=0})),!1))}})):addReplayFilter(t,(function(){var t=e;return function(){return--t<0}}))),this},Collection.prototype.limit=function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),addReplayFilter(this._ctx,(function(){var t=e;return function(e,r,n){return--t<=0&&r(n),t>=0}}),!0),this},Collection.prototype.until=function(e,t){return addFilter(this._ctx,(function(r,n,a){return!e(r.value)||(n(a),t)})),this},Collection.prototype.first=function(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)},Collection.prototype.last=function(e){return this.reverse().first(e)},Collection.prototype.filter=function(e){return addFilter(this._ctx,(function(t){return e(t.value)})),function addMatchFilter(e,t){e.isMatch=combine(e.isMatch,t)}(this._ctx,e),this},Collection.prototype.and=function(e){return this.filter(e)},Collection.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)},Collection.prototype.reverse=function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Collection.prototype.desc=function(){return this.reverse()},Collection.prototype.eachKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,r){e(r.key,r)}))},Collection.prototype.eachUniqueKey=function(e){return this._ctx.unique="unique",this.eachKey(e)},Collection.prototype.eachPrimaryKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,r){e(r.primaryKey,r)}))},Collection.prototype.keys=function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var r=[];return this.each((function(e,t){r.push(t.key)})).then((function(){return r})).then(e)},Collection.prototype.primaryKeys=function(e){var t=this._ctx;if("next"===t.dir&&isPlainKeyRange(t,!0)&&t.limit>0)return this._read((function(e){var r=getIndexOrStore(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:r,range:t.range}})})).then((function(e){return e.result})).then(e);t.keysOnly=!t.isMatch;var r=[];return this.each((function(e,t){r.push(t.primaryKey)})).then((function(){return r})).then(e)},Collection.prototype.uniqueKeys=function(e){return this._ctx.unique="unique",this.keys(e)},Collection.prototype.firstKey=function(e){return this.limit(1).keys((function(e){return e[0]})).then(e)},Collection.prototype.lastKey=function(e){return this.reverse().firstKey(e)},Collection.prototype.distinct=function(){var e=this._ctx,t=e.index&&e.table.schema.idxByName[e.index];if(!t||!t.multi)return this;var r={};return addFilter(this._ctx,(function(e){var t=e.primaryKey.toString(),n=hasOwn(r,t);return r[t]=!0,!n})),this},Collection.prototype.modify=function(e){var t=this,r=this._ctx;return this._write((function(n){var a;if("function"==typeof e)a=e;else{var o=j(e),i=o.length;a=function(t){for(var r=!1,n=0;n<i;++n){var a=o[n],s=e[a],u=getByKeyPath(t,a);s instanceof Ge?(setByKeyPath(t,a,s.execute(u)),r=!0):u!==s&&(setByKeyPath(t,a,s),r=!0)}return r}}var s=r.table.core,u=s.schema.primaryKey,l=u.outbound,_=u.extractKey,d=t.db._options.modifyChunkSize||200,h=[],f=0,E=[],applyMutateResult=function(e,t){var r=t.failures,n=t.numFailures;f+=e-n;for(var a=0,o=j(r);a<o.length;a++){var i=o[a];h.push(r[i])}};return t.clone().primaryKeys().then((function(t){var nextChunk=function(o){var i=Math.min(d,t.length-o);return s.getMany({trans:n,keys:t.slice(o,o+i),cache:"immutable"}).then((function(u){for(var h=[],f=[],E=l?[]:null,O=[],p=0;p<i;++p){var T=u[p],m={value:deepClone(T),primKey:t[o+p]};!1!==a.call(m,m.value,m)&&(null==m.value?O.push(t[o+p]):l||0===cmp(_(T),_(m.value))?(f.push(m.value),l&&E.push(t[o+p])):(O.push(t[o+p]),h.push(m.value)))}var S=isPlainKeyRange(r)&&r.limit===1/0&&("function"!=typeof e||e===deleteCallback)&&{index:r.index,range:r.range};return Promise.resolve(h.length>0&&s.mutate({trans:n,type:"add",values:h}).then((function(e){for(var t in e.failures)O.splice(parseInt(t),1);applyMutateResult(h.length,e)}))).then((function(){return(f.length>0||S&&"object"==typeof e)&&s.mutate({trans:n,type:"put",keys:E,values:f,criteria:S,changeSpec:"function"!=typeof e&&e}).then((function(e){return applyMutateResult(f.length,e)}))})).then((function(){return(O.length>0||S&&e===deleteCallback)&&s.mutate({trans:n,type:"delete",keys:O,criteria:S}).then((function(e){return applyMutateResult(O.length,e)}))})).then((function(){return t.length>o+i&&nextChunk(o+d)}))}))};return nextChunk(0).then((function(){if(h.length>0)throw new ModifyError("Error modifying one or more objects",h,f,E);return t.length}))}))}))},Collection.prototype.delete=function(){var e=this._ctx,t=e.range;return isPlainKeyRange(e)&&(e.isPrimKey||3===t.type)?this._write((function(r){var n=e.table.core.schema.primaryKey,a=t;return e.table.core.count({trans:r,query:{index:n,range:a}}).then((function(t){return e.table.core.mutate({trans:r,type:"deleteRange",range:a}).then((function(e){var r=e.failures;e.lastResult,e.results;var n=e.numFailures;if(n)throw new ModifyError("Could not delete some values",Object.keys(r).map((function(e){return r[e]})),t-n);return t-n}))}))})):this.modify(deleteCallback)},Collection}(),deleteCallback=function(e,t){return t.value=null};function simpleCompare(e,t){return e<t?-1:e===t?0:1}function simpleCompareReverse(e,t){return e>t?-1:e===t?0:1}function fail(e,t,r){var n=e instanceof Ye?new e.Collection(e):e;return n._ctx.error=r?new r(t):new TypeError(t),n}function emptyCollection(e){return new e.Collection(e,(function(){return rangeEqual("")})).limit(0)}function nextCasing(e,t,r,n,a,o){for(var i=Math.min(e.length,n.length),s=-1,u=0;u<i;++u){var l=t[u];if(l!==n[u])return a(e[u],r[u])<0?e.substr(0,u)+r[u]+r.substr(u+1):a(e[u],n[u])<0?e.substr(0,u)+n[u]+r.substr(u+1):s>=0?e.substr(0,s)+t[s]+r.substr(s+1):null;a(e[u],l)<0&&(s=u)}return i<n.length&&"next"===o?e+r.substr(e.length):i<e.length&&"prev"===o?e.substr(0,r.length):s<0?null:e.substr(0,s)+n[s]+r.substr(s+1)}function addIgnoreCaseAlgorithm(e,t,r,n){var a,o,i,s,u,l,_,d=r.length;if(!r.every((function(e){return"string"==typeof e})))return fail(e,"String expected.");function initDirection(e){a=function upperFactory(e){return"next"===e?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}(e),o=function lowerFactory(e){return"next"===e?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}(e),i="next"===e?simpleCompare:simpleCompareReverse;var t=r.map((function(e){return{lower:o(e),upper:a(e)}})).sort((function(e,t){return i(e.lower,t.lower)}));s=t.map((function(e){return e.upper})),u=t.map((function(e){return e.lower})),l=e,_="next"===e?"":n}initDirection("next");var h=new e.Collection(e,(function(){return createRange(s[0],u[d-1]+n)}));h._ondirectionchange=function(e){initDirection(e)};var f=0;return h._addAlgorithm((function(e,r,n){var a=e.key;if("string"!=typeof a)return!1;var h=o(a);if(t(h,u,f))return!0;for(var E=null,O=f;O<d;++O){var p=nextCasing(a,h,s[O],u[O],i,l);null===p&&null===E?f=O+1:(null===E||i(E,p)>0)&&(E=p)}return r(null!==E?function(){e.continue(E+_)}:n),!1})),h}function createRange(e,t,r,n){return{type:2,lower:e,upper:t,lowerOpen:r,upperOpen:n}}function rangeEqual(e){return{type:1,lower:e,upper:e}}var Ye=function(){function WhereClause(){}return Object.defineProperty(WhereClause.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),WhereClause.prototype.between=function(e,t,r,n){r=!1!==r,n=!0===n;try{return this._cmp(e,t)>0||0===this._cmp(e,t)&&(r||n)&&(!r||!n)?emptyCollection(this):new this.Collection(this,(function(){return createRange(e,t,!r,!n)}))}catch(e){return fail(this,xe)}},WhereClause.prototype.equals=function(e){return null==e?fail(this,xe):new this.Collection(this,(function(){return rangeEqual(e)}))},WhereClause.prototype.above=function(e){return null==e?fail(this,xe):new this.Collection(this,(function(){return createRange(e,void 0,!0)}))},WhereClause.prototype.aboveOrEqual=function(e){return null==e?fail(this,xe):new this.Collection(this,(function(){return createRange(e,void 0,!1)}))},WhereClause.prototype.below=function(e){return null==e?fail(this,xe):new this.Collection(this,(function(){return createRange(void 0,e,!1,!0)}))},WhereClause.prototype.belowOrEqual=function(e){return null==e?fail(this,xe):new this.Collection(this,(function(){return createRange(void 0,e)}))},WhereClause.prototype.startsWith=function(e){return"string"!=typeof e?fail(this,"String expected."):this.between(e,e+Me,!0,!0)},WhereClause.prototype.startsWithIgnoreCase=function(e){return""===e?this.startsWith(e):addIgnoreCaseAlgorithm(this,(function(e,t){return 0===e.indexOf(t[0])}),[e],Me)},WhereClause.prototype.equalsIgnoreCase=function(e){return addIgnoreCaseAlgorithm(this,(function(e,t){return e===t[0]}),[e],"")},WhereClause.prototype.anyOfIgnoreCase=function(){var e=getArrayOf.apply(re,arguments);return 0===e.length?emptyCollection(this):addIgnoreCaseAlgorithm(this,(function(e,t){return-1!==t.indexOf(e)}),e,"")},WhereClause.prototype.startsWithAnyOfIgnoreCase=function(){var e=getArrayOf.apply(re,arguments);return 0===e.length?emptyCollection(this):addIgnoreCaseAlgorithm(this,(function(e,t){return t.some((function(t){return 0===e.indexOf(t)}))}),e,Me)},WhereClause.prototype.anyOf=function(){var e=this,t=getArrayOf.apply(re,arguments),r=this._cmp;try{t.sort(r)}catch(e){return fail(this,xe)}if(0===t.length)return emptyCollection(this);var n=new this.Collection(this,(function(){return createRange(t[0],t[t.length-1])}));n._ondirectionchange=function(n){r="next"===n?e._ascending:e._descending,t.sort(r)};var a=0;return n._addAlgorithm((function(e,n,o){for(var i=e.key;r(i,t[a])>0;)if(++a===t.length)return n(o),!1;return 0===r(i,t[a])||(n((function(){e.continue(t[a])})),!1)})),n},WhereClause.prototype.notEqual=function(e){return this.inAnyRange([[-1/0,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},WhereClause.prototype.noneOf=function(){var e=getArrayOf.apply(re,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(e){return fail(this,xe)}var t=e.reduce((function(e,t){return e?e.concat([[e[e.length-1][1],t]]):[[-1/0,t]]}),null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})},WhereClause.prototype.inAnyRange=function(e,t){var r=this,n=this._cmp,a=this._ascending,o=this._descending,i=this._min,s=this._max;if(0===e.length)return emptyCollection(this);if(!e.every((function(e){return void 0!==e[0]&&void 0!==e[1]&&a(e[0],e[1])<=0})))return fail(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ue.InvalidArgument);var u=!t||!1!==t.includeLowers,l=t&&!0===t.includeUppers;var _,d=a;function rangeSorter(e,t){return d(e[0],t[0])}try{(_=e.reduce((function addRange(e,t){for(var r=0,a=e.length;r<a;++r){var o=e[r];if(n(t[0],o[1])<0&&n(t[1],o[0])>0){o[0]=i(o[0],t[0]),o[1]=s(o[1],t[1]);break}}return r===a&&e.push(t),e}),[])).sort(rangeSorter)}catch(e){return fail(this,xe)}var h=0,f=l?function(e){return a(e,_[h][1])>0}:function(e){return a(e,_[h][1])>=0},E=u?function(e){return o(e,_[h][0])>0}:function(e){return o(e,_[h][0])>=0};var O=f,p=new this.Collection(this,(function(){return createRange(_[0][0],_[_.length-1][1],!u,!l)}));return p._ondirectionchange=function(e){"next"===e?(O=f,d=a):(O=E,d=o),_.sort(rangeSorter)},p._addAlgorithm((function(e,t,n){for(var o=e.key;O(o);)if(++h===_.length)return t(n),!1;return!!function keyWithinCurrentRange(e){return!f(e)&&!E(e)}(o)||(0===r._cmp(o,_[h][1])||0===r._cmp(o,_[h][0])||t((function(){d===a?e.continue(_[h][0]):e.continue(_[h][1])})),!1)})),p},WhereClause.prototype.startsWithAnyOf=function(){var e=getArrayOf.apply(re,arguments);return e.every((function(e){return"string"==typeof e}))?0===e.length?emptyCollection(this):this.inAnyRange(e.map((function(e){return[e,e+Me]}))):fail(this,"startsWithAnyOf() only works with strings")},WhereClause}();function eventRejectHandler(e){return wrap((function(t){return preventDefault(t),e(t.target.error),!1}))}function preventDefault(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var qe=Events(null,"storagemutated"),ze=function(){function Transaction(){}return Transaction.prototype._lock=function(){return assert(!Le.global),++this._reculock,1!==this._reculock||Le.global||(Le.lockOwnerFor=this),this},Transaction.prototype._unlock=function(){if(assert(!Le.global),0==--this._reculock)for(Le.global||(Le.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{usePSD(e[1],e[0])}catch(e){}}return this},Transaction.prototype._locked=function(){return this._reculock&&Le.lockOwnerFor!==this},Transaction.prototype.create=function(e){var t=this;if(!this.mode)return this;var r=this.db.idbdb,n=this.db._state.dbOpenError;if(assert(!this.idbtrans),!e&&!r)switch(n&&n.name){case"DatabaseClosedError":throw new ue.DatabaseClosed(n);case"MissingAPIError":throw new ue.MissingAPI(n.message,n);default:throw new ue.OpenFailed(n)}if(!this.active)throw new ue.TransactionInactive;return assert(null===this._completion._state),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):r.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=wrap((function(r){preventDefault(r),t._reject(e.error)})),e.onabort=wrap((function(r){preventDefault(r),t.active&&t._reject(new ue.Abort(e.error)),t.active=!1,t.on("abort").fire(r)})),e.oncomplete=wrap((function(){t.active=!1,t._resolve(),"mutatedParts"in e&&qe.storagemutated.fire(e.mutatedParts)})),this},Transaction.prototype._promise=function(e,t,r){var n=this;if("readwrite"===e&&"readwrite"!==this.mode)return Fe(new ue.ReadOnly("Transaction is readonly"));if(!this.active)return Fe(new ue.TransactionInactive);if(this._locked())return new DexiePromise((function(a,o){n._blockedFuncs.push([function(){n._promise(e,t,r).then(a,o)},Le])}));if(r)return newScope((function(){var e=new DexiePromise((function(e,r){n._lock();var a=t(e,r,n);a&&a.then&&a.then(e,r)}));return e.finally((function(){return n._unlock()})),e._lib=!0,e}));var a=new DexiePromise((function(e,r){var a=t(e,r,n);a&&a.then&&a.then(e,r)}));return a._lib=!0,a},Transaction.prototype._root=function(){return this.parent?this.parent._root():this},Transaction.prototype.waitFor=function(e){var t=this._root(),r=DexiePromise.resolve(e);if(t._waitingFor)t._waitingFor=t._waitingFor.then((function(){return r}));else{t._waitingFor=r,t._waitingQueue=[];var n=t.idbtrans.objectStore(t.storeNames[0]);!function spin(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(n.get(-1/0).onsuccess=spin)}()}var a=t._waitingFor;return new DexiePromise((function(e,n){r.then((function(r){return t._waitingQueue.push(wrap(e.bind(null,r)))}),(function(e){return t._waitingQueue.push(wrap(n.bind(null,e)))})).finally((function(){t._waitingFor===a&&(t._waitingFor=null)}))}))},Transaction.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ue.Abort))},Transaction.prototype.table=function(e){var t=this._memoizedTables||(this._memoizedTables={});if(hasOwn(t,e))return t[e];var r=this.schema[e];if(!r)throw new ue.NotFound("Table "+e+" not part of transaction");var n=new this.db.Table(e,r,this);return n.core=this.db.core.table(e),t[e]=n,n},Transaction}();function createIndexSpec(e,t,r,n,a,o,i){return{name:e,keyPath:t,unique:r,multi:n,auto:a,compound:o,src:(r&&!i?"&":"")+(n?"*":"")+(a?"++":"")+nameFromKeyPath(t)}}function nameFromKeyPath(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function createTableSchema(e,t,r){return{name:e,primKey:t,indexes:r,mappedClass:null,idxByName:(n=r,a=function(e){return[e.name,e]},n.reduce((function(e,t,r){var n=a(t,r);return n&&(e[n[0]]=n[1]),e}),{}))};var n,a}var getMaxKey=function(e){try{return e.only([[]]),getMaxKey=function(){return[[]]},[[]]}catch(e){return getMaxKey=function(){return Me},Me}};function getKeyExtractor(e){return null==e?function(){}:"string"==typeof e?function getSinglePathKeyExtractor(e){return 1===e.split(".").length?function(t){return t[e]}:function(t){return getByKeyPath(t,e)}}(e):function(t){return getByKeyPath(t,e)}}function arrayify(e){return[].slice.call(e)}var Xe=0;function getKeyPathAlias(e){return null==e?":id":"string"==typeof e?e:"[".concat(e.join("+"),"]")}function createDBCore(e,t,r){function makeIDBKeyRange(e){if(3===e.type)return null;if(4===e.type)throw new Error("Cannot convert never type to IDBKeyRange");var r=e.lower,n=e.upper,a=e.lowerOpen,o=e.upperOpen;return void 0===r?void 0===n?null:t.upperBound(n,!!o):void 0===n?t.lowerBound(r,!!a):t.bound(r,n,!!a,!!o)}var n=function extractSchema(e,t){var r=arrayify(e.objectStoreNames);return{schema:{name:e.name,tables:r.map((function(e){return t.objectStore(e)})).map((function(e){var t=e.keyPath,r=e.autoIncrement,n=V(t),a=null==t,o={},i={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:a,compound:n,keyPath:t,autoIncrement:r,unique:!0,extractKey:getKeyExtractor(t)},indexes:arrayify(e.indexNames).map((function(t){return e.index(t)})).map((function(e){var t=e.name,r=e.unique,n=e.multiEntry,a=e.keyPath,i={name:t,compound:V(a),keyPath:a,unique:r,multiEntry:n,extractKey:getKeyExtractor(a)};return o[getKeyPathAlias(a)]=i,i})),getIndexByKeyPath:function(e){return o[getKeyPathAlias(e)]}};return o[":id"]=i.primaryKey,null!=t&&(o[getKeyPathAlias(t)]=i.primaryKey),i}))},hasGetAll:r.length>0&&"getAll"in t.objectStore(r[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,r),a=n.schema,o=n.hasGetAll,i=a.tables.map((function(e){return function createDbCoreTable(e){var t=e.name;return{name:t,schema:e,mutate:function mutate(e){var r=e.trans,n=e.type,a=e.keys,o=e.values,i=e.range;return new Promise((function(e,s){e=wrap(e);var u=r.objectStore(t),l=null==u.keyPath,_="put"===n||"add"===n;if(!_&&"delete"!==n&&"deleteRange"!==n)throw new Error("Invalid operation type: "+n);var d,h=(a||o||{length:1}).length;if(a&&o&&a.length!==o.length)throw new Error("Given keys array must have same length as given values array.");if(0===h)return e({numFailures:0,failures:{},results:[],lastResult:void 0});var f=[],E=[],O=0,errorHandler=function(e){++O,preventDefault(e)};if("deleteRange"===n){if(4===i.type)return e({numFailures:O,failures:E,results:[],lastResult:void 0});3===i.type?f.push(d=u.clear()):f.push(d=u.delete(makeIDBKeyRange(i)))}else{var p=_?l?[o,a]:[o,null]:[a,null],T=p[0],m=p[1];if(_)for(var S=0;S<h;++S)f.push(d=m&&void 0!==m[S]?u[n](T[S],m[S]):u[n](T[S])),d.onerror=errorHandler;else for(S=0;S<h;++S)f.push(d=u[n](T[S])),d.onerror=errorHandler}var done=function(t){var r=t.target.result;f.forEach((function(e,t){return null!=e.error&&(E[t]=e.error)})),e({numFailures:O,failures:E,results:"delete"===n?a:f.map((function(e){return e.result})),lastResult:r})};d.onerror=function(e){errorHandler(e),done(e)},d.onsuccess=done}))},getMany:function(e){var r=e.trans,n=e.keys;return new Promise((function(e,a){e=wrap(e);for(var o,i=r.objectStore(t),s=n.length,u=new Array(s),l=0,_=0,successHandler=function(t){var r=t.target;u[r._pos]=r.result,++_===l&&e(u)},d=eventRejectHandler(a),h=0;h<s;++h){null!=n[h]&&((o=i.get(n[h]))._pos=h,o.onsuccess=successHandler,o.onerror=d,++l)}0===l&&e(u)}))},get:function(e){var r=e.trans,n=e.key;return new Promise((function(e,a){e=wrap(e);var o=r.objectStore(t).get(n);o.onsuccess=function(t){return e(t.target.result)},o.onerror=eventRejectHandler(a)}))},query:function query(e){return function(r){return new Promise((function(n,a){n=wrap(n);var o=r.trans,i=r.values,s=r.limit,u=r.query,l=s===1/0?void 0:s,_=u.index,d=u.range,h=o.objectStore(t),f=_.isPrimaryKey?h:h.index(_.name),E=makeIDBKeyRange(d);if(0===s)return n({result:[]});if(e){var O=i?f.getAll(E,l):f.getAllKeys(E,l);O.onsuccess=function(e){return n({result:e.target.result})},O.onerror=eventRejectHandler(a)}else{var p=0,T=i||!("openKeyCursor"in f)?f.openCursor(E):f.openKeyCursor(E),m=[];T.onsuccess=function(e){var t=T.result;return t?(m.push(i?t.value:t.primaryKey),++p===s?n({result:m}):void t.continue()):n({result:m})},T.onerror=eventRejectHandler(a)}}))}}(o),openCursor:function openCursor(e){var r=e.trans,n=e.values,a=e.query,o=e.reverse,i=e.unique;return new Promise((function(e,s){e=wrap(e);var u=a.index,l=a.range,_=r.objectStore(t),d=u.isPrimaryKey?_:_.index(u.name),h=o?i?"prevunique":"prev":i?"nextunique":"next",f=n||!("openKeyCursor"in d)?d.openCursor(makeIDBKeyRange(l),h):d.openKeyCursor(makeIDBKeyRange(l),h);f.onerror=eventRejectHandler(s),f.onsuccess=wrap((function(t){var n=f.result;if(n){n.___id=++Xe,n.done=!1;var a=n.continue.bind(n),o=n.continuePrimaryKey;o&&(o=o.bind(n));var i=n.advance.bind(n),doThrowCursorIsStopped=function(){throw new Error("Cursor not stopped")};n.trans=r,n.stop=n.continue=n.continuePrimaryKey=n.advance=function(){throw new Error("Cursor not started")},n.fail=wrap(s),n.next=function(){var e=this,t=1;return this.start((function(){return t--?e.continue():e.stop()})).then((function(){return e}))},n.start=function(e){var t=new Promise((function(e,t){e=wrap(e),f.onerror=eventRejectHandler(t),n.fail=t,n.stop=function(t){n.stop=n.continue=n.continuePrimaryKey=n.advance=doThrowCursorIsStopped,e(t)}})),guardedCallback=function(){if(f.result)try{e()}catch(e){n.fail(e)}else n.done=!0,n.start=function(){throw new Error("Cursor behind last entry")},n.stop()};return f.onsuccess=wrap((function(e){f.onsuccess=guardedCallback,guardedCallback()})),n.continue=a,n.continuePrimaryKey=o,n.advance=i,guardedCallback(),t},e(n)}else e(null)}),s)}))},count:function(e){var r=e.query,n=e.trans,a=r.index,o=r.range;return new Promise((function(e,r){var i=n.objectStore(t),s=a.isPrimaryKey?i:i.index(a.name),u=makeIDBKeyRange(o),l=u?s.count(u):s.count();l.onsuccess=wrap((function(t){return e(t.target.result)})),l.onerror=eventRejectHandler(r)}))}}}(e)})),s={};return i.forEach((function(e){return s[e.name]=e})),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(e){if(!s[e])throw new Error("Table '".concat(e,"' not found"));return s[e]},MIN_KEY:-1/0,MAX_KEY:getMaxKey(t),schema:a}}function createMiddlewareStacks(e,t,r,n){var a=r.IDBKeyRange;return r.indexedDB,{dbcore:function createMiddlewareStack(e,t){return t.reduce((function(e,t){var r=t.create;return __assign(__assign({},e),r(e))}),e)}(createDBCore(t,a,n),e.dbcore)}}function generateMiddlewareStacks(e,t){var r=t.db,n=createMiddlewareStacks(e._middlewares,r,e._deps,t);e.core=n.dbcore,e.tables.forEach((function(t){var r=t.name;e.core.schema.tables.some((function(e){return e.name===r}))&&(t.core=e.core.table(r),e[r]instanceof e.Table&&(e[r].core=t.core))}))}function setApiOnPlace(e,t,r,n){r.forEach((function(r){var a=n[r];t.forEach((function(t){var n=function getPropertyDescriptor(e,t){var r;return q(e,t)||(r=G(e))&&getPropertyDescriptor(r,t)}(t,r);(!n||"value"in n&&void 0===n.value)&&(t===e.Transaction.prototype||t instanceof e.Transaction?setProp(t,r,{get:function(){return this.table(r)},set:function(e){Y(this,r,{value:e,writable:!0,configurable:!0,enumerable:!0})}}):t[r]=new e.Table(r,a))}))}))}function removeTablesApi(e,t){t.forEach((function(t){for(var r in t)t[r]instanceof e.Table&&delete t[r]}))}function lowerVersionFirst(e,t){return e._cfg.version-t._cfg.version}function runUpgraders(e,t,r,n){var a=e._dbSchema;r.objectStoreNames.contains("$meta")&&!a.$meta&&(a.$meta=createTableSchema("$meta",parseIndexSyntax("")[0],[]),e._storeNames.push("$meta"));var o=e._createTransaction("readwrite",e._storeNames,a);o.create(r),o._completion.catch(n);var i=o._reject.bind(o),s=Le.transless||Le;newScope((function(){if(Le.trans=o,Le.transless=s,0!==t)return generateMiddlewareStacks(e,r),function getExistingVersion(e,t,r){return t.storeNames.includes("$meta")?t.table("$meta").get("version").then((function(e){return null!=e?e:r})):DexiePromise.resolve(r)}(0,o,t).then((function(t){return function updateTablesAndIndexes(e,t,r,n){var a=[],o=e._versions,i=e._dbSchema=buildGlobalSchema(e,e.idbdb,n),s=o.filter((function(e){return e._cfg.version>=t}));if(0===s.length)return DexiePromise.resolve();function runQueue(){return a.length?DexiePromise.resolve(a.shift()(r.idbtrans)).then(runQueue):DexiePromise.resolve()}return s.forEach((function(o){a.push((function(){var a=i,s=o._cfg.dbschema;adjustToExistingIndexNames(e,a,n),adjustToExistingIndexNames(e,s,n),i=e._dbSchema=s;var u=getSchemaDiff(a,s);u.add.forEach((function(e){createTable(n,e[0],e[1].primKey,e[1].indexes)})),u.change.forEach((function(e){if(e.recreate)throw new ue.Upgrade("Not yet support for changing primary key");var t=n.objectStore(e.name);e.add.forEach((function(e){return addIndex(t,e)})),e.change.forEach((function(e){t.deleteIndex(e.name),addIndex(t,e)})),e.del.forEach((function(e){return t.deleteIndex(e)}))}));var l=o._cfg.contentUpgrade;if(l&&o._cfg.version>t){generateMiddlewareStacks(e,n),r._memoizedTables={};var _=shallowClone(s);u.del.forEach((function(e){_[e]=a[e]})),removeTablesApi(e,[e.Transaction.prototype]),setApiOnPlace(e,[e.Transaction.prototype],j(_),_),r.schema=_;var d,h=ne(l);h&&incrementExpectedAwaits();var f=DexiePromise.follow((function(){if((d=l(r))&&h){var e=decrementExpectedAwaits.bind(null,null);d.then(e,e)}}));return d&&"function"==typeof d.then?DexiePromise.resolve(d):f.then((function(){return d}))}})),a.push((function(t){!function deleteRemovedTables(e,t){[].slice.call(t.db.objectStoreNames).forEach((function(r){return null==e[r]&&t.db.deleteObjectStore(r)}))}(o._cfg.dbschema,t),removeTablesApi(e,[e.Transaction.prototype]),setApiOnPlace(e,[e.Transaction.prototype],e._storeNames,e._dbSchema),r.schema=e._dbSchema})),a.push((function(t){e.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(e.idbdb.version/10)===o._cfg.version?(e.idbdb.deleteObjectStore("$meta"),delete e._dbSchema.$meta,e._storeNames=e._storeNames.filter((function(e){return"$meta"!==e}))):t.objectStore("$meta").put(o._cfg.version,"version"))}))})),runQueue().then((function(){createMissingTables(i,n)}))}(e,t,o,r)})).catch(i);j(a).forEach((function(e){createTable(r,e,a[e].primKey,a[e].indexes)})),generateMiddlewareStacks(e,r),DexiePromise.follow((function(){return e.on.populate.fire(o)})).catch(i)}))}function getSchemaDiff(e,t){var r,n={del:[],add:[],change:[]};for(r in e)t[r]||n.del.push(r);for(r in t){var a=e[r],o=t[r];if(a){var i={name:r,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(a.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||a.primKey.auto!==o.primKey.auto)i.recreate=!0,n.change.push(i);else{var s=a.idxByName,u=o.idxByName,l=void 0;for(l in s)u[l]||i.del.push(l);for(l in u){var _=s[l],d=u[l];_?_.src!==d.src&&i.change.push(d):i.add.push(d)}(i.del.length>0||i.add.length>0||i.change.length>0)&&n.change.push(i)}}else n.add.push([r,o])}return n}function createTable(e,t,r,n){var a=e.db.createObjectStore(t,r.keyPath?{keyPath:r.keyPath,autoIncrement:r.auto}:{autoIncrement:r.auto});return n.forEach((function(e){return addIndex(a,e)})),a}function createMissingTables(e,t){j(e).forEach((function(r){t.db.objectStoreNames.contains(r)||(de&&console.debug("Dexie: Creating missing table",r),createTable(t,r,e[r].primKey,e[r].indexes))}))}function addIndex(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function buildGlobalSchema(e,t,r){var n={};return slice(t.objectStoreNames,0).forEach((function(e){for(var t=r.objectStore(e),a=t.keyPath,o=createIndexSpec(nameFromKeyPath(a),a||"",!0,!1,!!t.autoIncrement,a&&"string"!=typeof a,!0),i=[],s=0;s<t.indexNames.length;++s){var u=t.index(t.indexNames[s]);a=u.keyPath;var l=createIndexSpec(u.name,a,!!u.unique,!!u.multiEntry,!1,a&&"string"!=typeof a,!1);i.push(l)}n[e]=createTableSchema(e,o,i)})),n}function adjustToExistingIndexNames(e,t,r){for(var n=r.db.objectStoreNames,a=0;a<n.length;++a){var o=n[a],i=r.objectStore(o);e._hasGetAll="getAll"in i;for(var s=0;s<i.indexNames.length;++s){var u=i.indexNames[s],l=i.index(u).keyPath,_="string"==typeof l?l:"["+slice(l).join("+")+"]";if(t[o]){var d=t[o].idxByName[_];d&&(d.name=u,delete t[o].idxByName[_],t[o].idxByName[u]=d)}}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&H.WorkerGlobalScope&&H instanceof H.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}function parseIndexSyntax(e){return e.split(",").map((function(e,t){var r=(e=e.trim()).replace(/([&*]|\+\+)/g,""),n=/^\[/.test(r)?r.match(/^\[(.*)\]$/)[1].split("+"):r;return createIndexSpec(r,n||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),V(n),0===t)}))}var Qe,Ze=function(){function Version(){}return Version.prototype._parseStoresSpec=function(e,t){j(e).forEach((function(r){if(null!==e[r]){var n=parseIndexSyntax(e[r]),a=n.shift();if(a.unique=!0,a.multi)throw new ue.Schema("Primary key cannot be multi-valued");n.forEach((function(e){if(e.auto)throw new ue.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new ue.Schema("Index must have a name and cannot be an empty string")})),t[r]=createTableSchema(r,a,n)}}))},Version.prototype.stores=function(e){var t=this.db;this._cfg.storesSource=this._cfg.storesSource?extend(this._cfg.storesSource,e):e;var r=t._versions,n={},a={};return r.forEach((function(e){extend(n,e._cfg.storesSource),a=e._cfg.dbschema={},e._parseStoresSpec(n,a)})),t._dbSchema=a,removeTablesApi(t,[t._allTables,t,t.Transaction.prototype]),setApiOnPlace(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],j(a),a),t._storeNames=j(a),this},Version.prototype.upgrade=function(e){return this._cfg.contentUpgrade=promisableChain(this._cfg.contentUpgrade||nop,e),this},Version}();function getDbNamesTable(e,t){var r=e._dbNamesDB;return r||(r=e._dbNamesDB=new st("__dbnames",{addons:[],indexedDB:e,IDBKeyRange:t})).version(1).stores({dbnames:"name"}),r.table("dbnames")}function hasDatabasesNative(e){return e&&"function"==typeof e.databases}function _onDatabaseDeleted(e,t){var r=e.indexedDB,n=e.IDBKeyRange;!hasDatabasesNative(r)&&"__dbnames"!==t&&getDbNamesTable(r,n).delete(t).catch(nop)}function vip(e){return newScope((function(){return Le.letThrough=!0,e()}))}function idbReady(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(t){var tryIdb=function(){return indexedDB.databases().finally(t)};e=setInterval(tryIdb,100),tryIdb()})).finally((function(){return clearInterval(e)})):Promise.resolve()}function isEmptyRange(e){return!("from"in e)}var RangeSet=function(e,t){if(!this){var r=new RangeSet;return e&&"d"in e&&extend(r,e),r}extend(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function addRange(e,t,r){var n=cmp(t,r);if(!isNaN(n)){if(n>0)throw RangeError();if(isEmptyRange(e))return extend(e,{from:t,to:r,d:1});var a=e.l,o=e.r;if(cmp(r,e.from)<0)return a?addRange(a,t,r):e.l={from:t,to:r,d:1,l:null,r:null},rebalance(e);if(cmp(t,e.to)>0)return o?addRange(o,t,r):e.r={from:t,to:r,d:1,l:null,r:null},rebalance(e);cmp(t,e.from)<0&&(e.from=t,e.l=null,e.d=o?o.d+1:1),cmp(r,e.to)>0&&(e.to=r,e.r=null,e.d=e.l?e.l.d+1:1);var i=!e.r;a&&!e.l&&mergeRanges(e,a),o&&i&&mergeRanges(e,o)}}function mergeRanges(e,t){isEmptyRange(t)||function _addRangeSet(e,t){var r=t.from,n=t.to,a=t.l,o=t.r;addRange(e,r,n),a&&_addRangeSet(e,a),o&&_addRangeSet(e,o)}(e,t)}function rangesOverlap(e,t){var r=getRangeSetIterator(t),n=r.next();if(n.done)return!1;for(var a=n.value,o=getRangeSetIterator(e),i=o.next(a.from),s=i.value;!n.done&&!i.done;){if(cmp(s.from,a.to)<=0&&cmp(s.to,a.from)>=0)return!0;cmp(a.from,s.from)<0?a=(n=r.next(s.from)).value:s=(i=o.next(a.from)).value}return!1}function getRangeSetIterator(e){var t=isEmptyRange(e)?null:{s:0,n:e};return{next:function(e){for(var r=arguments.length>0;t;)switch(t.s){case 0:if(t.s=1,r)for(;t.n.l&&cmp(e,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!r||cmp(e,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function rebalance(e){var t,r,n=((null===(t=e.r)||void 0===t?void 0:t.d)||0)-((null===(r=e.l)||void 0===r?void 0:r.d)||0),a=n>1?"r":n<-1?"l":"";if(a){var o="r"===a?"l":"r",i=__assign({},e),s=e[a];e.from=s.from,e.to=s.to,e[a]=s[a],i[a]=s[o],e[o]=i,i.d=computeDepth(i)}e.d=computeDepth(e)}function computeDepth(e){var t=e.r,r=e.l;return(t?r?Math.max(t.d,r.d):t.d:r?r.d:0)+1}function extendObservabilitySet(e,t){return j(t).forEach((function(r){e[r]?mergeRanges(e[r],t[r]):e[r]=function cloneSimpleObjectTree(e){var t={};for(var r in e)if(hasOwn(e,r)){var n=e[r];t[r]=!n||"object"!=typeof n||Z.has(n.constructor)?n:cloneSimpleObjectTree(n)}return t}(t[r])})),e}function obsSetsOverlap(e,t){return e.all||t.all||Object.keys(e).some((function(r){return t[r]&&rangesOverlap(t[r],e[r])}))}props(RangeSet.prototype,((Qe={add:function(e){return mergeRanges(this,e),this},addKey:function(e){return addRange(this,e,e),this},addKeys:function(e){var t=this;return e.forEach((function(e){return addRange(t,e,e)})),this}})[ee]=function(){return getRangeSetIterator(this)},Qe));var $e={},Je={},et=!1;function signalSubscribersLazily(e,t){extendObservabilitySet(Je,e),et||(et=!0,setTimeout((function(){et=!1;var e=Je;Je={},signalSubscribersNow(e,!1)}),0))}function signalSubscribersNow(e,t){void 0===t&&(t=!1);var r=new Set;if(e.all)for(var n=0,a=Object.values($e);n<a.length;n++){collectTableSubscribers(s=a[n],e,r,t)}else for(var o in e){var i=/^idb\:\/\/(.*)\/(.*)\//.exec(o);if(i){var s,u=i[1],l=i[2];(s=$e["idb://".concat(u,"/").concat(l)])&&collectTableSubscribers(s,e,r,t)}}r.forEach((function(e){return e()}))}function collectTableSubscribers(e,t,r,n){for(var a=[],o=0,i=Object.entries(e.queries.query);o<i.length;o++){for(var s=i[o],u=s[0],l=[],_=0,d=s[1];_<d.length;_++){var h=d[_];obsSetsOverlap(t,h.obsSet)?h.subscribers.forEach((function(e){return r.add(e)})):n&&l.push(h)}n&&a.push([u,l])}if(n)for(var f=0,E=a;f<E.length;f++){var O=E[f];u=O[0],l=O[1];e.queries.query[u]=l}}function dexieOpen(e){var t=e._state,r=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then((function(){return t.dbOpenError?Fe(t.dbOpenError):e}));t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;var n=t.openCanceller,a=Math.round(10*e.verno),o=!1;function throwIfCancelled(){if(t.openCanceller!==n)throw new ue.DatabaseClosed("db.open() was cancelled")}var i=t.dbReadyResolve,s=null,u=!1,tryOpenDB=function(){return new DexiePromise((function(n,i){if(throwIfCancelled(),!r)throw new ue.MissingAPI;var l=e.name,_=t.autoSchema||!a?r.open(l):r.open(l,a);if(!_)throw new ue.MissingAPI;_.onerror=eventRejectHandler(i),_.onblocked=wrap(e._fireOnBlocked),_.onupgradeneeded=wrap((function(n){if(s=_.transaction,t.autoSchema&&!e._options.allowEmptyDB){_.onerror=preventDefault,s.abort(),_.result.close();var a=r.deleteDatabase(l);a.onsuccess=a.onerror=wrap((function(){i(new ue.NoSuchDatabase("Database ".concat(l," doesnt exist")))}))}else{s.onerror=eventRejectHandler(i);var d=n.oldVersion>Math.pow(2,62)?0:n.oldVersion;u=d<1,e.idbdb=_.result,o&&function patchCurrentVersion(e,t){createMissingTables(e._dbSchema,t),t.db.version%10!=0||t.objectStoreNames.contains("$meta")||t.db.createObjectStore("$meta").add(Math.ceil(t.db.version/10-1),"version");var r=buildGlobalSchema(e,e.idbdb,t);adjustToExistingIndexNames(e,e._dbSchema,t);for(var _loop_1=function(e){if(e.change.length||e.recreate)return console.warn("Unable to patch indexes of table ".concat(e.name," because it has changes on the type of index or primary key.")),{value:void 0};var r=t.objectStore(e.name);e.add.forEach((function(t){de&&console.debug("Dexie upgrade patch: Creating missing index ".concat(e.name,".").concat(t.src)),addIndex(r,t)}))},n=0,a=getSchemaDiff(r,e._dbSchema).change;n<a.length;n++){var o=_loop_1(a[n]);if("object"==typeof o)return o.value}}(e,s),runUpgraders(e,d/10,s,i)}}),i),_.onsuccess=wrap((function(){s=null;var r=e.idbdb=_.result,i=slice(r.objectStoreNames);if(i.length>0)try{var d=r.transaction(function safariMultiStoreFix(e){return 1===e.length?e[0]:e}(i),"readonly");if(t.autoSchema)!function readGlobalSchema(e,t,r){e.verno=t.version/10;var n=e._dbSchema=buildGlobalSchema(0,t,r);e._storeNames=slice(t.objectStoreNames,0),setApiOnPlace(e,[e._allTables],j(n),n)}(e,r,d);else if(adjustToExistingIndexNames(e,e._dbSchema,d),!function verifyInstalledSchema(e,t){var r=getSchemaDiff(buildGlobalSchema(0,e.idbdb,t),e._dbSchema);return!(r.add.length||r.change.some((function(e){return e.add.length||e.change.length})))}(e,d)&&!o)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),r.close(),a=r.version+1,o=!0,n(tryOpenDB());generateMiddlewareStacks(e,d)}catch(e){}He.push(e),r.onversionchange=wrap((function(r){t.vcFired=!0,e.on("versionchange").fire(r)})),r.onclose=wrap((function(t){e.on("close").fire(t)})),u&&function _onDatabaseCreated(e,t){var r=e.indexedDB,n=e.IDBKeyRange;!hasDatabasesNative(r)&&"__dbnames"!==t&&getDbNamesTable(r,n).put({name:t}).catch(nop)}(e._deps,l),n()}),i)})).catch((function(e){switch(null==e?void 0:e.name){case"UnknownError":if(t.PR1398_maxLoop>0)return t.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),tryOpenDB();break;case"VersionError":if(a>0)return a=0,tryOpenDB()}return DexiePromise.reject(e)}))};return DexiePromise.race([n,("undefined"==typeof navigator?DexiePromise.resolve():idbReady()).then(tryOpenDB)]).then((function(){return throwIfCancelled(),t.onReadyBeingFired=[],DexiePromise.resolve(vip((function(){return e.on.ready.fire(e.vip)}))).then((function fireRemainders(){if(t.onReadyBeingFired.length>0){var r=t.onReadyBeingFired.reduce(promisableChain,nop);return t.onReadyBeingFired=[],DexiePromise.resolve(vip((function(){return r(e.vip)}))).then(fireRemainders)}}))})).finally((function(){t.openCanceller===n&&(t.onReadyBeingFired=null,t.isBeingOpened=!1)})).catch((function(r){t.dbOpenError=r;try{s&&s.abort()}catch(e){}return n===t.openCanceller&&e._close(),Fe(r)})).finally((function(){t.openComplete=!0,i()})).then((function(){if(u){var t={};e.tables.forEach((function(r){r.schema.indexes.forEach((function(n){n.name&&(t["idb://".concat(e.name,"/").concat(r.name,"/").concat(n.name)]=new RangeSet(-1/0,[[[]]]))})),t["idb://".concat(e.name,"/").concat(r.name,"/")]=t["idb://".concat(e.name,"/").concat(r.name,"/:dels")]=new RangeSet(-1/0,[[[]]])})),qe("storagemutated").fire(t),signalSubscribersNow(t,!0)}return e}))}function awaitIterator(e){var callNext=function(t){return e.next(t)},t=step(callNext),r=step((function(t){return e.throw(t)}));function step(e){return function(n){var a=e(n),o=a.value;return a.done?o:o&&"function"==typeof o.then?o.then(t,r):V(o)?Promise.all(o).then(t,r):t(o)}}return step(callNext)()}function extractTransactionArgs(e,t,r){var n=arguments.length;if(n<2)throw new ue.InvalidArgument("Too few arguments");for(var a=new Array(n-1);--n;)a[n-1]=arguments[n];r=a.pop();var o=flatten(a);return[e,o,r]}function enterTransactionScope(e,t,r,n,a){return DexiePromise.resolve().then((function(){var o=Le.transless||Le,i=e._createTransaction(t,r,e._dbSchema,n);i.explicit=!0;var s={trans:i,transless:o};if(n)i.idbtrans=n.idbtrans;else try{i.create(),i.idbtrans._explicit=!0,e._state.PR1398_maxLoop=3}catch(n){return n.name===se.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e.close({disableAutoOpen:!1}),e.open().then((function(){return enterTransactionScope(e,t,r,null,a)}))):Fe(n)}var u,l=ne(a);l&&incrementExpectedAwaits();var _=DexiePromise.follow((function(){if(u=a.call(i,i))if(l){var e=decrementExpectedAwaits.bind(null,null);u.then(e,e)}else"function"==typeof u.next&&"function"==typeof u.throw&&(u=awaitIterator(u))}),s);return(u&&"function"==typeof u.then?DexiePromise.resolve(u).then((function(e){return i.active?e:Fe(new ue.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))})):_.then((function(){return u}))).then((function(e){return n&&i._resolve(),i._completion.then((function(){return e}))})).catch((function(e){return i._reject(e),Fe(e)}))}))}function pad(e,t,r){for(var n=V(e)?e.slice():[e],a=0;a<r;++a)n.push(t);return n}var tt={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function createVirtualIndexMiddleware(e){return __assign(__assign({},e),{table:function(t){var r=e.table(t),n=r.schema,a={},o=[];function addVirtualIndexes(e,t,r){var n=getKeyPathAlias(e),i=a[n]=a[n]||[],s=null==e?0:"string"==typeof e?1:e.length,u=t>0,l=__assign(__assign({},r),{name:u?"".concat(n,"(virtual-from:").concat(r.name,")"):r.name,lowLevelIndex:r,isVirtual:u,keyTail:t,keyLength:s,extractKey:getKeyExtractor(e),unique:!u&&r.unique});(i.push(l),l.isPrimaryKey||o.push(l),s>1)&&addVirtualIndexes(2===s?e[0]:e.slice(0,s-1),t+1,r);return i.sort((function(e,t){return e.keyTail-t.keyTail})),l}var i=addVirtualIndexes(n.primaryKey.keyPath,0,n.primaryKey);a[":id"]=[i];for(var s=0,u=n.indexes;s<u.length;s++){var l=u[s];addVirtualIndexes(l.keyPath,0,l)}function translateRequest(t){var r,n,a=t.query.index;return a.isVirtual?__assign(__assign({},t),{query:{index:a.lowLevelIndex,range:(r=t.query.range,n=a.keyTail,{type:1===r.type?2:r.type,lower:pad(r.lower,r.lowerOpen?e.MAX_KEY:e.MIN_KEY,n),lowerOpen:!0,upper:pad(r.upper,r.upperOpen?e.MIN_KEY:e.MAX_KEY,n),upperOpen:!0})}}):t}return __assign(__assign({},r),{schema:__assign(__assign({},n),{primaryKey:i,indexes:o,getIndexByKeyPath:function findBestIndex(e){var t=a[getKeyPathAlias(e)];return t&&t[0]}}),count:function(e){return r.count(translateRequest(e))},query:function(e){return r.query(translateRequest(e))},openCursor:function(t){var n=t.query.index,a=n.keyTail,o=n.isVirtual,i=n.keyLength;if(!o)return r.openCursor(t);return r.openCursor(translateRequest(t)).then((function(r){return r&&function createVirtualCursor(r){return Object.create(r,{continue:{value:function _continue(n){null!=n?r.continue(pad(n,t.reverse?e.MAX_KEY:e.MIN_KEY,a)):t.unique?r.continue(r.key.slice(0,i).concat(t.reverse?e.MIN_KEY:e.MAX_KEY,a)):r.continue()}},continuePrimaryKey:{value:function(t,n){r.continuePrimaryKey(pad(t,e.MAX_KEY,a),n)}},primaryKey:{get:function(){return r.primaryKey}},key:{get:function(){var e=r.key;return 1===i?e[0]:e.slice(0,i)}},value:{get:function(){return r.value}}})}(r)}))}})}})}};function getObjectDiff(e,t,r,n){return r=r||{},n=n||"",j(e).forEach((function(a){if(hasOwn(t,a)){var o=e[a],i=t[a];if("object"==typeof o&&"object"==typeof i&&o&&i){var s=toStringTag(o);s!==toStringTag(i)?r[n+a]=t[a]:"Object"===s?getObjectDiff(o,i,r,n+a+"."):o!==i&&(r[n+a]=t[a])}else o!==i&&(r[n+a]=t[a])}else r[n+a]=void 0})),j(t).forEach((function(a){hasOwn(e,a)||(r[n+a]=t[a])})),r}function getEffectiveKeys(e,t){return"delete"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}var rt={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return __assign(__assign({},e),{table:function(t){var r=e.table(t),n=r.schema.primaryKey;return __assign(__assign({},r),{mutate:function(e){var a=Le.trans,o=a.table(t).hook,i=o.deleting,s=o.creating,u=o.updating;switch(e.type){case"add":if(s.fire===nop)break;return a._promise("readwrite",(function(){return addPutOrDelete(e)}),!0);case"put":if(s.fire===nop&&u.fire===nop)break;return a._promise("readwrite",(function(){return addPutOrDelete(e)}),!0);case"delete":if(i.fire===nop)break;return a._promise("readwrite",(function(){return addPutOrDelete(e)}),!0);case"deleteRange":if(i.fire===nop)break;return a._promise("readwrite",(function(){return function deleteRange(e){return function deleteNextChunk(e,t,a){return r.query({trans:e,values:!1,query:{index:n,range:t},limit:a}).then((function(r){var n=r.result;return addPutOrDelete({type:"delete",keys:n,trans:e}).then((function(r){return r.numFailures>0?Promise.reject(r.failures[0]):n.length<a?{failures:[],numFailures:0,lastResult:void 0}:deleteNextChunk(e,__assign(__assign({},t),{lower:n[n.length-1],lowerOpen:!0}),a)}))}))}(e.trans,e.range,1e4)}(e)}),!0)}return r.mutate(e);function addPutOrDelete(e){var t=Le.trans,a=e.keys||getEffectiveKeys(n,e);if(!a)throw new Error("Keys missing");return"delete"!==(e="add"===e.type||"put"===e.type?__assign(__assign({},e),{keys:a}):__assign({},e)).type&&(e.values=__spreadArray([],e.values,!0)),e.keys&&(e.keys=__spreadArray([],e.keys,!0)),function getExistingValues(e,t,r){return"add"===t.type?Promise.resolve([]):e.getMany({trans:t.trans,keys:r,cache:"immutable"})}(r,e,a).then((function(o){var l=a.map((function(r,a){var l=o[a],_={onerror:null,onsuccess:null};if("delete"===e.type)i.fire.call(_,r,l,t);else if("add"===e.type||void 0===l){var d=s.fire.call(_,r,e.values[a],t);null==r&&null!=d&&(r=d,e.keys[a]=r,n.outbound||setByKeyPath(e.values[a],n.keyPath,r))}else{var h=getObjectDiff(l,e.values[a]),f=u.fire.call(_,h,r,l,t);if(f){var E=e.values[a];Object.keys(f).forEach((function(e){hasOwn(E,e)?E[e]=f[e]:setByKeyPath(E,e,f[e])}))}}return _}));return r.mutate(e).then((function(t){for(var r=t.failures,n=t.results,i=t.numFailures,s=t.lastResult,u=0;u<a.length;++u){var _=n?n[u]:a[u],d=l[u];null==_?d.onerror&&d.onerror(r[u]):d.onsuccess&&d.onsuccess("put"===e.type&&o[u]?e.values[u]:_)}return{failures:r,results:n,numFailures:i,lastResult:s}})).catch((function(e){return l.forEach((function(t){return t.onerror&&t.onerror(e)})),Promise.reject(e)}))}))}}})}})}};function getFromTransactionCache(e,t,r){try{if(!t)return null;if(t.keys.length<e.length)return null;for(var n=[],a=0,o=0;a<t.keys.length&&o<e.length;++a)0===cmp(t.keys[a],e[o])&&(n.push(r?deepClone(t.values[a]):t.values[a]),++o);return n.length===e.length?n:null}catch(e){return null}}var nt={stack:"dbcore",level:-1,create:function(e){return{table:function(t){var r=e.table(t);return __assign(__assign({},r),{getMany:function(e){if(!e.cache)return r.getMany(e);var t=getFromTransactionCache(e.keys,e.trans._cache,"clone"===e.cache);return t?DexiePromise.resolve(t):r.getMany(e).then((function(t){return e.trans._cache={keys:e.keys,values:"clone"===e.cache?deepClone(t):t},t}))},mutate:function(e){return"add"!==e.type&&(e.trans._cache=null),r.mutate(e)}})}}}};function isCachableContext(e,t){return"readonly"===e.trans.mode&&!!e.subscr&&!e.trans.explicit&&"disabled"!==e.trans.db._options.cache&&!t.schema.primaryKey.outbound}function isCachableRequest(e,t){switch(e){case"query":return t.values&&!t.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var at={stack:"dbcore",level:0,name:"Observability",create:function(e){var t=e.schema.name,r=new RangeSet(e.MIN_KEY,e.MAX_KEY);return __assign(__assign({},e),{transaction:function(t,r,n){if(Le.subscr&&"readonly"!==r)throw new ue.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Le.querier));return e.transaction(t,r,n)},table:function(n){var a=e.table(n),o=a.schema,i=o.primaryKey,s=o.indexes,u=i.extractKey,l=i.outbound,_=i.autoIncrement&&s.filter((function(e){return e.compound&&e.keyPath.includes(i.keyPath)})),d=__assign(__assign({},a),{mutate:function(e){var s=e.trans,u=e.mutatedParts||(e.mutatedParts={}),getRangeSet=function(e){var r="idb://".concat(t,"/").concat(n,"/").concat(e);return u[r]||(u[r]=new RangeSet)},l=getRangeSet(""),d=getRangeSet(":dels"),h=e.type,f="deleteRange"===e.type?[e.range]:"delete"===e.type?[e.keys]:e.values.length<50?[getEffectiveKeys(i,e).filter((function(e){return e})),e.values]:[],E=f[0],O=f[1],p=e.trans._cache;if(V(E)){l.addKeys(E);var T="delete"===h||E.length===O.length?getFromTransactionCache(E,p):null;T||d.addKeys(E),(T||O)&&function trackAffectedIndexes(e,t,r,n){t.indexes.forEach((function addAffectedIndex(t){var a=e(t.name||"");function extractKey(e){return null!=e?t.extractKey(e):null}var addKeyOrKeys=function(e){return t.multiEntry&&V(e)?e.forEach((function(e){return a.addKey(e)})):a.addKey(e)};(r||n).forEach((function(e,t){var a=r&&extractKey(r[t]),o=n&&extractKey(n[t]);0!==cmp(a,o)&&(null!=a&&addKeyOrKeys(a),null!=o&&addKeyOrKeys(o))}))}))}(getRangeSet,o,T,O)}else if(E){var m={from:E.lower,to:E.upper};d.add(m),l.add(m)}else l.add(r),d.add(r),o.indexes.forEach((function(e){return getRangeSet(e.name).add(r)}));return a.mutate(e).then((function(t){return!E||"add"!==e.type&&"put"!==e.type||(l.addKeys(t.results),_&&_.forEach((function(r){var n=e.values.map((function(e){return r.extractKey(e)})),a=r.keyPath.findIndex((function(e){return e===i.keyPath}));t.results.forEach((function(e){return n[a]=e})),getRangeSet(r.name).addKeys(n)}))),s.mutatedParts=extendObservabilitySet(s.mutatedParts||{},u),t}))}}),getRange=function(t){var r,n,a=t.query,o=a.index,i=a.range;return[o,new RangeSet(null!==(r=i.lower)&&void 0!==r?r:e.MIN_KEY,null!==(n=i.upper)&&void 0!==n?n:e.MAX_KEY)]},h={get:function(e){return[i,new RangeSet(e.key)]},getMany:function(e){return[i,(new RangeSet).addKeys(e.keys)]},count:getRange,query:getRange,openCursor:getRange};return j(h).forEach((function(e){d[e]=function(o){var i=Le.subscr,s=!!i,_=isCachableContext(Le,a)&&isCachableRequest(e,o),d=_?o.obsSet={}:i;if(s){var getRangeSet=function(e){var r="idb://".concat(t,"/").concat(n,"/").concat(e);return d[r]||(d[r]=new RangeSet)},f=getRangeSet(""),E=getRangeSet(":dels"),O=h[e](o),p=O[0],T=O[1];if("query"===e&&p.isPrimaryKey&&!o.values?E.add(T):getRangeSet(p.name||"").add(T),!p.isPrimaryKey){if("count"!==e){var m="query"===e&&l&&o.values&&a.query(__assign(__assign({},o),{values:!1}));return a[e].apply(this,arguments).then((function(t){if("query"===e){if(l&&o.values)return m.then((function(e){var r=e.result;return f.addKeys(r),t}));var r=o.values?t.result.map(u):t.result;o.values?f.addKeys(r):E.addKeys(r)}else if("openCursor"===e){var n=t,a=o.values;return n&&Object.create(n,{key:{get:function(){return E.addKey(n.primaryKey),n.key}},primaryKey:{get:function(){var e=n.primaryKey;return E.addKey(e),e}},value:{get:function(){return a&&f.addKey(n.primaryKey),n.value}}})}return t}))}E.add(r)}}return a[e].apply(this,arguments)}})),d}})}};function adjustOptimisticFromFailures(e,t,r){if(0===r.numFailures)return t;if("deleteRange"===t.type)return null;var n=t.keys?t.keys.length:"values"in t&&t.values?t.values.length:1;if(r.numFailures===n)return null;var a=__assign({},t);return V(a.keys)&&(a.keys=a.keys.filter((function(e,t){return!(t in r.failures)}))),"values"in a&&V(a.values)&&(a.values=a.values.filter((function(e,t){return!(t in r.failures)}))),a}function isWithinRange(e,t){return function isAboveLower(e,t){return void 0===t.lower||(t.lowerOpen?cmp(e,t.lower)>0:cmp(e,t.lower)>=0)}(e,t)&&function isBelowUpper(e,t){return void 0===t.upper||(t.upperOpen?cmp(e,t.upper)<0:cmp(e,t.upper)<=0)}(e,t)}function applyOptimisticOps(e,t,r,n,a,o){if(!r||0===r.length)return e;var i=t.query.index,s=i.multiEntry,u=t.query.range,l=n.schema.primaryKey.extractKey,_=i.extractKey,d=(i.lowLevelIndex||i).extractKey,h=r.reduce((function(e,r){var n=e,a="add"===r.type||"put"===r.type?r.values.filter((function(e){var t=_(e);return s&&V(t)?t.some((function(e){return isWithinRange(e,u)})):isWithinRange(t,u)})).map((function(e){return e=deepClone(e),o&&Object.freeze(e),e})):[];switch(r.type){case"add":n=e.concat(t.values?a:a.map((function(e){return l(e)})));break;case"put":var i=(new RangeSet).addKeys(r.values.map((function(e){return l(e)})));n=e.filter((function(e){var r=t.values?l(e):e;return!rangesOverlap(new RangeSet(r),i)})).concat(t.values?a:a.map((function(e){return l(e)})));break;case"delete":var d=(new RangeSet).addKeys(r.keys);n=e.filter((function(e){var r=t.values?l(e):e;return!rangesOverlap(new RangeSet(r),d)}));break;case"deleteRange":var h=r.range;n=e.filter((function(e){return!isWithinRange(l(e),h)}))}return n}),e);return h===e?e:(h.sort((function(e,t){return cmp(d(e),d(t))||cmp(l(e),l(t))})),t.limit&&t.limit<1/0&&(h.length>t.limit?h.length=t.limit:e.length===t.limit&&h.length<t.limit&&(a.dirty=!0)),o?Object.freeze(h):h)}function areRangesEqual(e,t){return 0===cmp(e.lower,t.lower)&&0===cmp(e.upper,t.upper)&&!!e.lowerOpen==!!t.lowerOpen&&!!e.upperOpen==!!t.upperOpen}function isSuperRange(e,t){return function compareLowers(e,t,r,n){if(void 0===e)return void 0!==t?-1:0;if(void 0===t)return 1;var a=cmp(e,t);if(0===a){if(r&&n)return 0;if(r)return 1;if(n)return-1}return a}(e.lower,t.lower,e.lowerOpen,t.lowerOpen)<=0&&function compareUppers(e,t,r,n){if(void 0===e)return void 0!==t?1:0;if(void 0===t)return-1;var a=cmp(e,t);if(0===a){if(r&&n)return 0;if(r)return-1;if(n)return 1}return a}(e.upper,t.upper,e.upperOpen,t.upperOpen)>=0}function subscribeToCacheEntry(e,t,r,n){e.subscribers.add(r),n.addEventListener("abort",(function(){e.subscribers.delete(r),0===e.subscribers.size&&function enqueForDeletion(e,t){setTimeout((function(){0===e.subscribers.size&&delArrayItem(t,e)}),3e3)}(e,t)}))}var ot={stack:"dbcore",level:0,name:"Cache",create:function(e){var t=e.schema.name;return __assign(__assign({},e),{transaction:function(r,n,a){var o=e.transaction(r,n,a);if("readwrite"===n){var i=new AbortController,s=i.signal,endTransaction=function(a){return function(){if(i.abort(),"readwrite"===n){for(var s=new Set,u=0,l=r;u<l.length;u++){var _=l[u],d=$e["idb://".concat(t,"/").concat(_)];if(d){var h=e.table(_),f=d.optimisticOps.filter((function(e){return e.trans===o}));if(o._explicit&&a&&o.mutatedParts)for(var E=0,O=Object.values(d.queries.query);E<O.length;E++)for(var p=0,T=(I=O[E]).slice();p<T.length;p++){obsSetsOverlap((A=T[p]).obsSet,o.mutatedParts)&&(delArrayItem(I,A),A.subscribers.forEach((function(e){return s.add(e)})))}else if(f.length>0){d.optimisticOps=d.optimisticOps.filter((function(e){return e.trans!==o}));for(var m=0,S=Object.values(d.queries.query);m<S.length;m++)for(var I,y=0,g=(I=S[m]).slice();y<g.length;y++){var A;if(null!=(A=g[y]).res&&o.mutatedParts)if(a&&!A.dirty){var b=Object.isFrozen(A.res),C=applyOptimisticOps(A.res,A.req,f,h,A,b);A.dirty?(delArrayItem(I,A),A.subscribers.forEach((function(e){return s.add(e)}))):C!==A.res&&(A.res=C,A.promise=DexiePromise.resolve({result:C}))}else A.dirty&&delArrayItem(I,A),A.subscribers.forEach((function(e){return s.add(e)}))}}}}s.forEach((function(e){return e()}))}}};o.addEventListener("abort",endTransaction(!1),{signal:s}),o.addEventListener("error",endTransaction(!1),{signal:s}),o.addEventListener("complete",endTransaction(!0),{signal:s})}return o},table:function(r){var n=e.table(r),a=n.schema.primaryKey;return __assign(__assign({},n),{mutate:function(e){var o=Le.trans;if(a.outbound||"disabled"===o.db._options.cache||o.explicit)return n.mutate(e);var i=$e["idb://".concat(t,"/").concat(r)];if(!i)return n.mutate(e);var s=n.mutate(e);return"add"!==e.type&&"put"!==e.type||!(e.values.length>=50||getEffectiveKeys(a,e).some((function(e){return null==e})))?(i.optimisticOps.push(e),e.mutatedParts&&signalSubscribersLazily(e.mutatedParts),s.then((function(t){if(t.numFailures>0){delArrayItem(i.optimisticOps,e);var r=adjustOptimisticFromFailures(0,e,t);r&&i.optimisticOps.push(r),e.mutatedParts&&signalSubscribersLazily(e.mutatedParts)}})),s.catch((function(){delArrayItem(i.optimisticOps,e),e.mutatedParts&&signalSubscribersLazily(e.mutatedParts)}))):s.then((function(t){var r=adjustOptimisticFromFailures(0,__assign(__assign({},e),{values:e.values.map((function(e,r){var n,o=(null===(n=a.keyPath)||void 0===n?void 0:n.includes("."))?deepClone(e):__assign({},e);return setByKeyPath(o,a.keyPath,t.results[r]),o}))}),t);i.optimisticOps.push(r),queueMicrotask((function(){return e.mutatedParts&&signalSubscribersLazily(e.mutatedParts)}))})),s},query:function(e){var a;if(!isCachableContext(Le,n)||!isCachableRequest("query",e))return n.query(e);var o="immutable"===(null===(a=Le.trans)||void 0===a?void 0:a.db._options.cache),i=Le,s=i.requery,u=i.signal,l=function findCompatibleQuery(e,t,r,n){var a=$e["idb://".concat(e,"/").concat(t)];if(!a)return[];var o=a.queries[r];if(!o)return[null,!1,a,null];var i=o[(n.query?n.query.index.name:null)||""];if(!i)return[null,!1,a,null];switch(r){case"query":var s=i.find((function(e){return e.req.limit===n.limit&&e.req.values===n.values&&areRangesEqual(e.req.query.range,n.query.range)}));return s?[s,!0,a,i]:[i.find((function(e){return("limit"in e.req?e.req.limit:1/0)>=n.limit&&(!n.values||e.req.values)&&isSuperRange(e.req.query.range,n.query.range)})),!1,a,i];case"count":var u=i.find((function(e){return areRangesEqual(e.req.query.range,n.query.range)}));return[u,!!u,a,i]}}(t,r,"query",e),_=l[0],d=l[1],h=l[2],f=l[3];if(_&&d)_.obsSet=e.obsSet;else{var E=n.query(e).then((function(e){var t=e.result;if(_&&(_.res=t),o){for(var r=0,n=t.length;r<n;++r)Object.freeze(t[r]);Object.freeze(t)}else e.result=deepClone(t);return e})).catch((function(e){return f&&_&&delArrayItem(f,_),Promise.reject(e)}));_={obsSet:e.obsSet,promise:E,subscribers:new Set,type:"query",req:e,dirty:!1},f?f.push(_):(f=[_],h||(h=$e["idb://".concat(t,"/").concat(r)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}}),h.queries.query[e.query.index.name||""]=f)}return subscribeToCacheEntry(_,f,s,u),_.promise.then((function(t){return{result:applyOptimisticOps(t.result,e,null==h?void 0:h.optimisticOps,n,_,o)}}))}})}})}};function vipify(e,t){return new Proxy(e,{get:function(e,r,n){return"db"===r?t:Reflect.get(e,r,n)}})}var it,st=function(){function Dexie(e,t){var r=this;this._middlewares={},this.verno=0;var n=Dexie.dependencies;this._options=t=__assign({addons:Dexie.addons,autoOpen:!0,indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange,cache:"cloned"},t),this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange};var a=t.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var o={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:nop,dbReadyPromise:null,cancelOpen:nop,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:t.autoOpen};o.dbReadyPromise=new DexiePromise((function(e){o.dbReadyResolve=e})),o.openCanceller=new DexiePromise((function(e,t){o.cancelOpen=t})),this._state=o,this.name=e,this.on=Events(this,"populate","blocked","versionchange","close",{ready:[promisableChain,nop]}),this.on.ready.subscribe=override(this.on.ready.subscribe,(function(e){return function(t,n){Dexie.vip((function(){var a=r._state;if(a.openComplete)a.dbOpenError||DexiePromise.resolve().then(t),n&&e(t);else if(a.onReadyBeingFired)a.onReadyBeingFired.push(t),n&&e(t);else{e(t);var o=r;n||e((function unsubscribe(){o.on.ready.unsubscribe(t),o.on.ready.unsubscribe(unsubscribe)}))}}))}})),this.Collection=function createCollectionConstructor(e){return makeClassConstructor(We.prototype,(function Collection(t,r){this.db=e;var n=je,a=null;if(r)try{n=r()}catch(e){a=e}var o=t._ctx,i=o.table,s=i.hook.reading.fire;this._ctx={table:i,index:o.index,isPrimKey:!o.index||i.schema.primKey.keyPath&&o.index===i.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:a,or:o.or,valueMapper:s!==mirror?s:null}}))}(this),this.Table=function createTableConstructor(e){return makeClassConstructor(Ve.prototype,(function Table(t,r,n){this.db=e,this._tx=n,this.name=t,this.schema=r,this.hook=e._allTables[t]?e._allTables[t].hook:Events(null,{creating:[hookCreatingChain,nop],reading:[pureFunctionChain,mirror],updating:[hookUpdatingChain,nop],deleting:[hookDeletingChain,nop]})}))}(this),this.Transaction=function createTransactionConstructor(e){return makeClassConstructor(ze.prototype,(function Transaction(t,r,n,a,o){var i=this;this.db=e,this.mode=t,this.storeNames=r,this.schema=n,this.chromeTransactionDurability=a,this.idbtrans=null,this.on=Events(this,"complete","error","abort"),this.parent=o||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new DexiePromise((function(e,t){i._resolve=e,i._reject=t})),this._completion.then((function(){i.active=!1,i.on.complete.fire()}),(function(e){var t=i.active;return i.active=!1,i.on.error.fire(e),i.parent?i.parent._reject(e):t&&i.idbtrans&&i.idbtrans.abort(),Fe(e)}))}))}(this),this.Version=function createVersionConstructor(e){return makeClassConstructor(Ze.prototype,(function Version(t){this.db=e,this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}(this),this.WhereClause=function createWhereClauseConstructor(e){return makeClassConstructor(Ye.prototype,(function WhereClause(t,r,n){if(this.db=e,this._ctx={table:t,index:":id"===r?null:r,or:n},this._cmp=this._ascending=cmp,this._descending=function(e,t){return cmp(t,e)},this._max=function(e,t){return cmp(e,t)>0?e:t},this._min=function(e,t){return cmp(e,t)<0?e:t},this._IDBKeyRange=e._deps.IDBKeyRange,!this._IDBKeyRange)throw new ue.MissingAPI}))}(this),this.on("versionchange",(function(e){e.newVersion>0?console.warn("Another connection wants to upgrade database '".concat(r.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(r.name,"'. Closing db now to resume the delete request.")),r.close({disableAutoOpen:!1})})),this.on("blocked",(function(e){!e.newVersion||e.newVersion<e.oldVersion?console.warn("Dexie.delete('".concat(r.name,"') was blocked")):console.warn("Upgrade '".concat(r.name,"' blocked by other connection holding version ").concat(e.oldVersion/10))})),this._maxKey=getMaxKey(t.IDBKeyRange),this._createTransaction=function(e,t,n,a){return new r.Transaction(e,t,n,r._options.chromeTransactionDurability,a)},this._fireOnBlocked=function(e){r.on("blocked").fire(e),He.filter((function(e){return e.name===r.name&&e!==r&&!e._state.vcFired})).map((function(t){return t.on("versionchange").fire(e)}))},this.use(nt),this.use(ot),this.use(at),this.use(tt),this.use(rt);var i=new Proxy(this,{get:function(e,t,n){if("_vip"===t)return!0;if("table"===t)return function(e){return vipify(r.table(e),i)};var a=Reflect.get(e,t,n);return a instanceof Ve?vipify(a,i):"tables"===t?a.map((function(e){return vipify(e,i)})):"_createTransaction"===t?function(){var e=a.apply(this,arguments);return vipify(e,i)}:a}});this.vip=i,a.forEach((function(e){return e(r)}))}return Dexie.prototype.version=function(e){if(isNaN(e)||e<.1)throw new ue.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new ue.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=this._versions,r=t.filter((function(t){return t._cfg.version===e}))[0];return r||(r=new this.Version(e),t.push(r),t.sort(lowerVersionFirst),r.stores({}),this._state.autoSchema=!1,r)},Dexie.prototype._whenReady=function(e){var t=this;return this.idbdb&&(this._state.openComplete||Le.letThrough||this._vip)?e():new DexiePromise((function(e,r){if(t._state.openComplete)return r(new ue.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._state.autoOpen)return void r(new ue.DatabaseClosed);t.open().catch(nop)}t._state.dbReadyPromise.then(e,r)})).then(e)},Dexie.prototype.use=function(e){var t=e.stack,r=e.create,n=e.level,a=e.name;a&&this.unuse({stack:t,name:a});var o=this._middlewares[t]||(this._middlewares[t]=[]);return o.push({stack:t,create:r,level:null==n?10:n,name:a}),o.sort((function(e,t){return e.level-t.level})),this},Dexie.prototype.unuse=function(e){var t=e.stack,r=e.name,n=e.create;return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter((function(e){return n?e.create!==n:!!r&&e.name!==r}))),this},Dexie.prototype.open=function(){var e=this;return usePSD(Ce,(function(){return dexieOpen(e)}))},Dexie.prototype._close=function(){var e=this._state,t=He.indexOf(this);if(t>=0&&He.splice(t,1),this.idbdb){try{this.idbdb.close()}catch(e){}this.idbdb=null}e.isBeingOpened||(e.dbReadyPromise=new DexiePromise((function(t){e.dbReadyResolve=t})),e.openCanceller=new DexiePromise((function(t,r){e.cancelOpen=r})))},Dexie.prototype.close=function(e){var t=(void 0===e?{disableAutoOpen:!0}:e).disableAutoOpen,r=this._state;t?(r.isBeingOpened&&r.cancelOpen(new ue.DatabaseClosed),this._close(),r.autoOpen=!1,r.dbOpenError=new ue.DatabaseClosed):(this._close(),r.autoOpen=this._options.autoOpen||r.isBeingOpened,r.openComplete=!1,r.dbOpenError=null)},Dexie.prototype.delete=function(e){var t=this;void 0===e&&(e={disableAutoOpen:!0});var r=arguments.length>0&&"object"!=typeof arguments[0],n=this._state;return new DexiePromise((function(a,o){var doDelete=function(){t.close(e);var r=t._deps.indexedDB.deleteDatabase(t.name);r.onsuccess=wrap((function(){_onDatabaseDeleted(t._deps,t.name),a()})),r.onerror=eventRejectHandler(o),r.onblocked=t._fireOnBlocked};if(r)throw new ue.InvalidArgument("Invalid closeOptions argument to db.delete()");n.isBeingOpened?n.dbReadyPromise.then(doDelete):doDelete()}))},Dexie.prototype.backendDB=function(){return this.idbdb},Dexie.prototype.isOpen=function(){return null!==this.idbdb},Dexie.prototype.hasBeenClosed=function(){var e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name},Dexie.prototype.hasFailed=function(){return null!==this._state.dbOpenError},Dexie.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Dexie.prototype,"tables",{get:function(){var e=this;return j(this._allTables).map((function(t){return e._allTables[t]}))},enumerable:!1,configurable:!0}),Dexie.prototype.transaction=function(){var e=extractTransactionArgs.apply(this,arguments);return this._transaction.apply(this,e)},Dexie.prototype._transaction=function(e,t,r){var n=this,a=Le.trans;a&&a.db===this&&-1===e.indexOf("!")||(a=null);var o,i,s=-1!==e.indexOf("?");e=e.replace("!","").replace("?","");try{if(i=t.map((function(e){var t=e instanceof n.Table?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t})),"r"==e||"readonly"===e)o="readonly";else{if("rw"!=e&&"readwrite"!=e)throw new ue.InvalidArgument("Invalid transaction mode: "+e);o="readwrite"}if(a){if("readonly"===a.mode&&"readwrite"===o){if(!s)throw new ue.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");a=null}a&&i.forEach((function(e){if(a&&-1===a.storeNames.indexOf(e)){if(!s)throw new ue.SubTransaction("Table "+e+" not included in parent transaction.");a=null}})),s&&a&&!a.active&&(a=null)}}catch(e){return a?a._promise(null,(function(t,r){r(e)})):Fe(e)}var u=enterTransactionScope.bind(null,this,o,i,a,r);return a?a._promise(o,u,"lock"):Le.trans?usePSD(Le.transless,(function(){return n._whenReady(u)})):this._whenReady(u)},Dexie.prototype.table=function(e){if(!hasOwn(this._allTables,e))throw new ue.InvalidTable("Table ".concat(e," does not exist"));return this._allTables[e]},Dexie}(),ct="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable",ut=function(){function Observable(e){this._subscribe=e}return Observable.prototype.subscribe=function(e,t,r){return this._subscribe(e&&"function"!=typeof e?e:{next:e,error:t,complete:r})},Observable.prototype[ct]=function(){return this},Observable}();try{it={indexedDB:H.indexedDB||H.mozIndexedDB||H.webkitIndexedDB||H.msIndexedDB,IDBKeyRange:H.IDBKeyRange||H.webkitIDBKeyRange}}catch(e){it={indexedDB:null,IDBKeyRange:null}}var lt=st;function propagateLocally(e){var t=dt;try{dt=!0,qe.storagemutated.fire(e),signalSubscribersNow(e,!0)}finally{dt=t}}props(lt,__assign(__assign({},_e),{delete:function(e){return new lt(e,{addons:[]}).delete()},exists:function(e){return new lt(e,{addons:[]}).open().then((function(e){return e.close(),!0})).catch("NoSuchDatabaseError",(function(){return!1}))},getDatabaseNames:function(e){try{return function getDatabaseNames(e){var t=e.indexedDB,r=e.IDBKeyRange;return hasDatabasesNative(t)?Promise.resolve(t.databases()).then((function(e){return e.map((function(e){return e.name})).filter((function(e){return"__dbnames"!==e}))})):getDbNamesTable(t,r).toCollection().primaryKeys()}(lt.dependencies).then(e)}catch(e){return Fe(new ue.MissingAPI)}},defineClass:function(){return function Class(e){extend(this,e)}},ignoreTransaction:function(e){return Le.trans?usePSD(Le.transless,e):e()},vip:vip,async:function(e){return function(){try{var t=awaitIterator(e.apply(this,arguments));return t&&"function"==typeof t.then?t:DexiePromise.resolve(t)}catch(e){return Fe(e)}}},spawn:function(e,t,r){try{var n=awaitIterator(e.apply(r,t||[]));return n&&"function"==typeof n.then?n:DexiePromise.resolve(n)}catch(e){return Fe(e)}},currentTransaction:{get:function(){return Le.trans||null}},waitFor:function(e,t){var r=DexiePromise.resolve("function"==typeof e?lt.ignoreTransaction(e):e).timeout(t||6e4);return Le.trans?Le.trans.waitFor(r):r},Promise:DexiePromise,debug:{get:function(){return de},set:function(e){setDebug(e)}},derive:derive,extend:extend,props:props,override:override,Events:Events,on:qe,liveQuery:function liveQuery(e){var t,r=!1,n=new ut((function(n){var a=ne(e);var o,i=!1,s={},u={},l={get closed(){return i},unsubscribe:function(){i||(i=!0,o&&o.abort(),_&&qe.storagemutated.unsubscribe(mutationListener))}};n.start&&n.start(l);var _=!1,doQuery=function(){return execInGlobalContext(_doQuery)};var mutationListener=function(e){extendObservabilitySet(s,e),function shouldNotify(){return obsSetsOverlap(u,s)}()&&doQuery()},_doQuery=function(){if(!i&&it.indexedDB){s={};var l={};o&&o.abort(),o=new AbortController;var d={subscr:l,signal:o.signal,requery:doQuery,querier:e,trans:null},h=function execute(t){var r=beginMicroTickScope();try{a&&incrementExpectedAwaits();var n=newScope(e,t);return a&&(n=n.finally(decrementExpectedAwaits)),n}finally{r&&endMicroTickScope()}}(d);Promise.resolve(h).then((function(e){r=!0,t=e,i||d.signal.aborted||(s={},function objectIsEmpty(e){for(var t in e)if(hasOwn(e,t))return!1;return!0}(u=l)||_||(qe("storagemutated",mutationListener),_=!0),execInGlobalContext((function(){return!i&&n.next&&n.next(e)})))}),(function(e){r=!1,["DatabaseClosedError","AbortError"].includes(null==e?void 0:e.name)||i||execInGlobalContext((function(){i||n.error&&n.error(e)}))}))}};return setTimeout(doQuery,0),l}));return n.hasValue=function(){return r},n.getValue=function(){return t},n},extendObservabilitySet:extendObservabilitySet,getByKeyPath:getByKeyPath,setByKeyPath:setByKeyPath,delByKeyPath:function delByKeyPath(e,t){"string"==typeof t?setByKeyPath(e,t,void 0):"length"in t&&[].map.call(t,(function(t){setByKeyPath(e,t,void 0)}))},shallowClone:shallowClone,deepClone:deepClone,getObjectDiff:getObjectDiff,cmp:cmp,asap:asap$1,minKey:-1/0,addons:[],connections:He,errnames:se,dependencies:it,cache:$e,semVer:"4.0.5",version:"4.0.5".split(".").map((function(e){return parseInt(e)})).reduce((function(e,t,r){return e+t/Math.pow(10,2*r)}))})),lt.maxKey=getMaxKey(lt.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(qe("storagemutated",(function(e){var t;dt||(t=new CustomEvent("x-storagemutated-1",{detail:e}),dt=!0,dispatchEvent(t),dt=!1)})),addEventListener("x-storagemutated-1",(function(e){var t=e.detail;dt||propagateLocally(t)})));var _t,dt=!1,createBC=function(){};"undefined"!=typeof BroadcastChannel&&((createBC=function(){(_t=new BroadcastChannel("x-storagemutated-1")).onmessage=function(e){return e.data&&propagateLocally(e.data)}})(),"function"==typeof _t.unref&&_t.unref(),qe("storagemutated",(function(e){dt||_t.postMessage(e)}))),"undefined"!=typeof addEventListener&&(addEventListener("pagehide",(function(e){if(!st.disableBfCache&&e.persisted){de&&console.debug("Dexie: handling persisted pagehide"),null==_t||_t.close();for(var t=0,r=He;t<r.length;t++){r[t].close({disableAutoOpen:!1})}}})),addEventListener("pageshow",(function(e){!st.disableBfCache&&e.persisted&&(de&&console.debug("Dexie: handling persisted pageshow"),createBC(),propagateLocally({all:new RangeSet(-1/0,[[]])}))}))),DexiePromise.rejectionMapper=function mapError(e,t){if(!e||e instanceof DexieError||e instanceof TypeError||e instanceof SyntaxError||!e.name||!le[e.name])return e;var r=new le[e.name](t||e.message,e);return"stack"in e&&setProp(r,"stack",{get:function(){return this.inner.stack}}),r},setDebug(de);class database_BlackListEntryDB extends st{constructor(){super("BlackListEntryDB"),this.version(1).stores({blacklist:"domain"})}}var ht=r(297),ft=r(126),Et=r(298);class poperConfigService_PoperPopupBlockConfigService{constructor(e,t){this.featureFlagService=t,this.logger=Object(x.a)(e,"PoperPopupBlockConfigService")}async isBlockingEnabled(){if(!this.featureFlagService.isFeatureOnSync())return this.logger.debug("Blocking is disabled by feature flag"),!1;if(!await Object(d.j)())return this.logger.debug("Extension is disabled by user"),!1;return!!await R.a.isFeatureEnabled({SettingsKey:l.k.POPUPS})||(this.logger.debug("Blocking is disabled by user"),!1)}}var Ot=r(95),pt=r(38),Tt=r(57),mt=r(62),St=Object.defineProperty,It=Object.defineProperties,yt=Object.getOwnPropertyDescriptors,gt=Object.getOwnPropertySymbols,At=Object.prototype.hasOwnProperty,bt=Object.prototype.propertyIsEnumerable,growthbook_defNormalProp=(e,t,r)=>t in e?St(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;class growthbook_ABTests{constructor({configSyncService:e,growthbook:t}){this.firstSync=!0,this.configSyncService=e,this.growthbookInstance=t}static getInstance(){return this.abTestInstance||(this.abTestInstance=growthbook_ABTests.createABTests()),this.abTestInstance}async init(){if(!this.syncPromise){const runSyncConfig=async()=>(await this.syncConfig(),this.syncPromise=null,this);this.syncPromise=runSyncConfig()}return this.syncPromise}async getAllFeaturesValueAsync(){return await this.init(),this.getFeatures()}getAllFeaturesValue(){return this.init(),this.getFeatures()}getFeatures(){return Object.keys(this.growthbookInstance.getFeatures()).reduce((e,t)=>((e,t)=>It(e,yt(t)))(((e,t)=>{for(var r in t||(t={}))At.call(t,r)&&growthbook_defNormalProp(e,r,t[r]);if(gt)for(var r of gt(t))bt.call(t,r)&&growthbook_defNormalProp(e,r,t[r]);return e})({},e),{[t]:this.growthbookInstance.feature(t).value}),{})}async syncConfig(){const e=await this.configSyncService.syncIfNecessary();if(this.firstSync||e.updated){this.firstSync=!1;const t=await this.userId();this.growthbookInstance.setFeatures(e.value.features),this.growthbookInstance.setAttributes({id:t})}}async userId(){const e=await Object(pt.a)();return(null==e?void 0:e.uuid)?e.uuid:""}static createABTests(){const e=new Tt.SyncStoredLocalValue(l.h.AB_TESTS_CONFIG,l.h.AB_TESTS_CONFIG_LAST_SYNCED,Ct),t=new Ot.a({enableDevMode:!Object(d.l)(),features:Ct.features});return new growthbook_ABTests({configSyncService:Object(Tt.createRemoteConfigSyncedValueService)({storage:e,logger:mt.a,fetchProps:{endpoint:l.f.GROWTHBOOK}}),growthbook:t})}static testCreateABTests(){return growthbook_ABTests.createABTests()}}const Ct={features:{},outdatedAfterInMs:8*l.r};class poperGrowthbookService_PoperGrowthBookService{isFeatureOnSync(){const e=growthbook_ABTests.getInstance().getAllFeaturesValue();return l.a.POPUP_BLOCKING_V2 in e&&"treatment"===e[l.a.POPUP_BLOCKING_V2]}async isFeatureOn(){const e=await growthbook_ABTests.getInstance().getAllFeaturesValueAsync();return l.a.POPUP_BLOCKING_V2 in e&&"treatment"===e[l.a.POPUP_BLOCKING_V2]}}r(131);const{logger:Lt}=r(319);var Nt=r(94);const createPopupBlocker=async()=>{try{Lt.debug("Creating Popup Blocker");const e=new poperGrowthbookService_PoperGrowthBookService,t=new storage_BlacklistStorage(Lt,new database_BlackListEntryDB),r=new ht.BlacklistSyncServiceImpl(Lt,{blacklistFetchUrl:l.f.BLACKLIST},t),n=Nt.a.getInstance();n.registerAlarmListener(async t=>{if(t.name===l.c.BLACKLIST_SYNC_ALARM){if(!await e.isFeatureOn())return;await r.sync()}}),await n.createPeriodicAlarmWithDelay(l.c.BLACKLIST_SYNC_ALARM,l.p,0,!1);const a=new ft.OneTimeWhitelistStorage(Lt);A.a.runtime.onMessage.addListener(async t=>{if(t.name===l.o.REDO_LAST_BLOCKED_ITEMS_WORKER){if(!e.isFeatureOnSync())return;a.store(t.blockedUrls)}});const o=[new poperConfigService_PoperPopupBlockConfigService(Lt,e),Lt,t,a,{has:async e=>await v.containsDomain(e)},new M.BrowserServiceImpl(Lt)];new Et.PopupBlockService(...o)}catch(e){Lt.debug("Popup Blocker create: Failed to initialise. Error: "+Object(F.a)(e))}};let Rt;var Pt=Object.defineProperty,vt=Object.getOwnPropertySymbols,wt=Object.prototype.hasOwnProperty,Dt=Object.prototype.propertyIsEnumerable,service_worker_defNormalProp=(e,t,r)=>t in e?Pt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,service_worker_spreadValues=(e,t)=>{for(var r in t||(t={}))wt.call(t,r)&&service_worker_defNormalProp(e,r,t[r]);if(vt)for(var r of vt(t))Dt.call(t,r)&&service_worker_defNormalProp(e,r,t[r]);return e};const kt={};Object(g.d)(),initListenToInternalMessages(),initListenToExternalMessages(),Object(g.a)(),Object(g.e)(),Object(g.b)(),Object(g.f)(),Object(g.g)(),Object(g.j)(),Object(g.c)(),Rt||(Rt=createPopupBlocker()),kt.Rotate=class{static get map(){return"!\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"}static rotate(e){if(this.isEmpty(e))throw new Error;return this.rot47(JSON.stringify(e))}static rot47(e){let t,r,n,a="",o=this.map.length;for(t=0;t<e.length;t++)n=e.charAt(t),r=this.map.indexOf(n),r>=0&&(n=this.map.charAt((r+o/2)%o)),a+=n;return a}static isEmpty(e){const t=Object.prototype.hasOwnProperty;if(null==e)return!0;if(e.length>0)return!1;if(0===e.length)return!0;if("object"!=typeof e)return!0;for(var r in e)if(t.call(e,r))return!1;return!0}},function qtCL(){self.FrfRC=self.FrfRC||{},FrfRC.Twq={init:function uqdX(e,t){const r=FrfRC.Twq;e=e.class;const n=t.instance;r.class=class Twq{constructor(){this.SfUWu={}}FWVH(e){return!!this.SfUWu[e]}LryL(t){return t?(this.FWVH(t)||(this.SfUWu[t]=new e,this.SfUWu[t].MDsC(t).EZGZ(t)),this.SfUWu[t]):null}FfKa(e){return this.wAlC(e),this.LryL(e)}VlgC(e){const t=this.LryL(e).rUZA();if(!t)return null;const r=this.LryL(t);return r||null}wAlC(e){return delete this.SfUWu[e],this}dovY(e,t){e&&this.SfUWu[e]&&t&&this.SfUWu[e].rtIR(e,t)}uwdX(e){const t=this.SfUWu[e];return!t||!!t.ALTg()&&!t.ZyFt()}prOZ(e,t){const r=this.SfUWu[e];let a={isUrlValid:n.SsQi(t.u),lastPage:t.p,isHh:r.eeEe()};a.isUrlEquals=a.lastPage===t.u,a.isAjax=r.mZcI()&&!a.isUrlEquals;const o=!!a.isUrlValid&&(!(!a.isHh&&a.isUrlEquals)||a.isAjax);return o||this.FfKa(e),o}AYiQ(e,t){return!t||t.active||e.xUJZ()?null:"background_auto_reloading"}},r.instance=new r.class},deps:["JBH","OhU"]}}(),function VATI(){self.FrfRC=self.FrfRC||{},FrfRC.mRx={init:function mBAw(e){const t=FrfRC.mRx,r=e.instance.SsQi;t.class=class mRx{constructor(){this.BaovO={},this.oQkhH=null,this.vAEZT=chrome.tabs}OEYF(){return this.oQkhH&&this.BaovO[this.oQkhH]||""}dYCP(){return this.oQkhH||null}xfmQ(e){return this.BaovO[e]&&(this.oQkhH=e),this}xRqY(e){const t=e&&e.id,n=e.url;return t&&r(n)&&(this.BaovO[t]=n),this}HBWQ(e){return e&&e.id&&e.active&&this.xfmQ(e.id),this}bzXw(e){const t=this.OEYF();return this.xRqY(e),this.HBWQ(e),t}ZrCw(){const e=chrome&&chrome.windows;if(!e)return;this.IGIa(e),e.onFocusChanged.addListener(this.upmg.bind(this)),e.onRemoved.addListener(this.fiCG.bind(this));const t=this.vAEZT.onActivated?"onActivated":"onSelectionChanged";this.vAEZT[t].addListener(this.cTOh.bind(this))}IGIa(e){e.getAll({populate:!0},e=>{for(let t=0;t<e.length;t++)for(let n=0;n<e[t].tabs.length;n++)r(e[t].tabs[n].url)&&(this.xRqY(e[t].tabs[n]),e[t].focused&&e[t].tabs[n].active&&this.xfmQ(e[t].tabs[n].id))})}upmg(e){chrome.windows&&chrome.windows.WINDOW_ID_NONE!=e&&this.vAEZT.query({windowId:e,active:!0},e=>{e&&e[0]&&e[0].active&&this.xfmQ(e[0].id)})}fiCG(){this.vAEZT.query({active:!0},e=>{e&&e[0]&&this.xfmQ(e[0].id)})}cTOh(e){this.xfmQ(e.tabId)}},t.instance=new t.class,t.instance.ZrCw()},deps:["OhU"]}}(),function qdwN(){self.FrfRC=self.FrfRC||{},FrfRC.qqR={init:function LuNh(e,t,r,n){const a=FrfRC.qqR,o=r.instance,i=t.instance,s=n.instance,u=e.instance;a.class=class qqR{constructor(){this.nFGMH=chrome.tabs}MiBC(){this.JbfSX=this.Ceem.bind(this),this.WmgBG=this.TCSg.bind(this),this.qKymC=this.urwy.bind(this),this.tbtKA=this.Djej.bind(this),this.nFGMH.onUpdated.addListener(this.qKymC),this.nFGMH.onReplaced.addListener(this.WmgBG),this.nFGMH.onRemoved.addListener(this.tbtKA),this.nFGMH.onCreated.addListener(this.JbfSX)}Ceem(e){if(!e||!e.url)return;o.LryL(e.id).AMhB().bYUQ(!1);const t=e.openerTabId||i.dYCP();e.url.length&&o.FWVH(t)&&e.url===o.LryL(t).ykwb()?o.LryL(e.id).Ffng("duplication"):e.url.length&&u.SsQi(e.url)&&this.nFGMH.query({url:e.url},(function(t){(t||[]).length>1&&o.LryL(e.id).Ffng(["duplication","background_duplication"])})),"complete"!==e.status||e.openerTabId||o.LryL(e.id).Ffng("reopening"),o.LryL(e.id).NZjT(t),self.dispatchEvent(new CustomEvent("upph",{detail:{tabId:e.id,openerId:t}}))}urwy(e,t,r){if(t&&"complete"===t.status){const t=o.LryL(e);t.ZyFt()&&t.mZcI()&&t.vcPN(void 0).VXac(!1).FsyL(!1),t.ykwb()!==r.url&&t.VXac(!1),t.ADXx(void 0).FsyL().olCV("ajax"),s.OjpE(e),t.bYUQ(!1)}setTimeout(()=>{chrome.tabs.sendMessage(e,{message:"pageUrlChanged",url:t.url},()=>chrome.runtime.lastError)},10)}TCSg(e,t){o.LryL(e).bYUQ().MDsC([e,t]),s.OjpE(e)}Djej(e){o.wAlC(e)}},a.instance=new a.class,a.instance.MiBC()},deps:["OhU","mRx","Twq","AyA"]}}(),function mtzG(){self.FrfRC=self.FrfRC||{},FrfRC.xpR={init:function zSbW(){FrfRC.xpR.class=class xpR{constructor(e,t){this.FVIH(e),this.CWgp(t),this.kEuhu=""}get uPuLD(){return this.CrngU}FVIH(e){return this.CrngU=e,this}get TQJgn(){return this.hyeCb}set TQJgn(e){this.hyeCb=e}CWgp(e){return this.hyeCb=e,this}get kEuhu(){return this.TgvOm}set kEuhu(e){this.TgvOm=e}get ufERn(){return this.IqJZF}set ufERn(e){this.IqJZF=e}get EtQie(){return this.uJbHf}set EtQie(e){this.uJbHf=e}xZnf(){return this.kEuhu}GlYe(e,t){t=t||0;var r=e;try{r=decodeURIComponent(e)}catch(e){return{decoded:r,decodedTimes:t}}return r.length<e.length?this.GlYe(r,++t):{decoded:r,decodedTimes:t}}QHmg(){}}}}}(),function rPtE(){self.FrfRC=self.FrfRC||{},FrfRC.VNm={init:function oMeN(){const e=FrfRC.VNm;async function UhWW(e){const t=function fvyX(e){e=e.replace(/\r\n/g,"\n");const t=[];for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);n<128?t[t.length]=n:n>127&&n<2048?(t[t.length]=n>>6|192,t[t.length]=63&n|128):(t[t.length]=n>>12|224,t[t.length]=n>>6&63|128,t[t.length]=63&n|128)}return new Uint8Array(t).buffer}(e);return function SIhh(e){let t,r,n,a=new DataView(e),o="";for(t=0,r=a.byteLength;t<r;t+=1)n=a.getUint8(t).toString(16),n.length<2&&(n="0"+n),o+=n;return o}(await crypto.subtle.digest("SHA-256",t))}e.class=class VNm{async TYPb(e){e=function TrAI(e){return e+"21"*Math.PI}(e+="");return await UhWW(e)}},e.instance=new e.class}}}(),function NCji(){self.FrfRC=self.FrfRC||{},FrfRC.myU={init:function gJJz(e,t){const r=FrfRC.myU,n=e.instance,a=t.instance;r.class=class qqR{constructor(){this.zIqqs=chrome.webNavigation}IvMW(){this.zIqqs.onCommitted.addListener(this.EwHg.bind(this))}EwHg(e){const t=(e=e||{}).tabId,r=e.transitionQualifiers;t&&0===e.frameId&&(n.LryL(t).olCV(e.transitionType).zSOO(r),/client_redirect/.test(r)&&n.LryL(t).NDEU(e.url),a.OjpE(t))}},r.instance=new r.class,r.instance.IvMW()},deps:["Twq","AyA"]}}(),function TqWU(){self.FrfRC=self.FrfRC||{},FrfRC.fdu={init:function Drju(e,t,r){const n=FrfRC.fdu,a=e.instance,o=t.instance.SsQi,i=r.instance;n.class=class qqR{constructor(){this.ZWdRU=chrome.webRequest,this.UQVCY={types:["main_frame"],urls:["<all_urls>"]}}grxp(){if(!this.ZWdRU)return;this.ZWdRU.onBeforeRequest.addListener(this.Zexd.bind(this),this.UQVCY),this.ZWdRU.onBeforeRedirect.addListener(this.wWlo.bind(this),this.UQVCY);let e=["requestHeaders"];this.ZWdRU.OnBeforeSendHeadersOptions&&this.ZWdRU.OnBeforeSendHeadersOptions.hasOwnProperty("EXTRA_HEADERS")&&e.push("extraHeaders"),this.ZWdRU.onBeforeSendHeaders.addListener(this.tdOv.bind(this),this.UQVCY,e),this.ZWdRU.onHeadersReceived.addListener(this.ZveF.bind(this),this.UQVCY),this.ZWdRU.onErrorOccurred.addListener(this.kSbK.bind(this),this.UQVCY)}Zexd(e){a.LryL(e.tabId).zFpA(i.OEYF()),o(e.url)&&(a.LryL(e.tabId).vcPN(void 0).VXac(!1).FsyL(!1),this.juuB(e))}wWlo(e){o(e.url)&&a.LryL(e.tabId).HTkD(e.url)}tdOv(e){return a.LryL(e.tabId).rRAh(),e.requestHeaders.some(t=>this.Lmfo(t,e.tabId))||a.LryL(e.tabId).MSgP(""),{requestHeaders:e.requestHeaders}}Lmfo(e,t){return/^Referer$/i.test(e.name)&&a.LryL(t).MSgP(e.value)}juuB(e){const t=e&&e.originUrl;t&&a.LryL(e.tabId).OiWD(t)}ZveF(e){a.LryL(e.tabId).rRAh()}kSbK(e){try{a.LryL(e.tabId)}catch(e){}}},n.instance=new n.class,n.instance.grxp()},deps:["Twq","OhU","mRx"]}}(),function lYAC(){self.FrfRC=self.FrfRC||{},FrfRC.Dtl={init:function uWhZ(e,t){const r=FrfRC.Dtl,n=t.instance,a=e.instance.SsQi;r.class=class qqR{uxbY(){return new Promise(e=>{chrome.windows.getAll({populate:!0},(function(t){for(let e=0;e<t.length;e++)for(let r=0;r<t[e].tabs.length;r++)a(t[e].tabs[r].url)&&n.LryL(t[e].tabs[r].id).vcPN(t[e].tabs[r].url).ilWk();e()}))})}},r.instance=new r.class,r.instance.uxbY()},deps:["OhU","Twq"]}}(),function iGDN(){self.FrfRC=self.FrfRC||{},FrfRC.kXK={init:function xQGy(){const e=FrfRC.kXK;return e.class=class kXK{constructor(){this.dOKcN=null,this.bLmqN=null}KHnX(){return this.YOCGQ=chrome.storage.local,this.UBvq().then(e=>{this.dOKcN=e.randid})}ZpIJ(e){if(e)return e.replace(/"/g,"");let t;t="";for(let e=0;e<9;e++)t+=this.LkyC();return this.jkYl(this.ZRUi("randid",t)),t}JJqX(e,t){return t.includes("randid")&&(e.randid=this.ZpIJ(e.randid)),e}gctc(e){return new Promise(t=>{this.YOCGQ.get(e,t)}).then(t=>this.JJqX(t,e))}jkYl(e){return new Promise(t=>{this.YOCGQ.set(e,t)})}async UBvq(){return await this.gctc(["randid"])}get eYvUa(){return this.dOKcN}VQIo(){return Date.now()}LkyC(){return(65536*(1+Math.random(this.VQIo()+12))|0).toString(30).substring(1)}ZRUi(e,t){let r={};return r[e]=t,r}},e.instance=new e.class,e.instance.KHnX()}}}(),function(){function kpWg(){const e=FrfRC.IqU;e.class=class IqU{static BMGZ(e,t){return!(FrfRC[t].deps||[]).find(e=>!FrfRC[e]||!FrfRC[e].ready)}static xThK(e,t){const r=(FrfRC[t].deps||[]).map(e=>FrfRC[e]);try{const t=e.apply(this,r);return void 0!==t&&t instanceof Promise?t:Promise.resolve()}catch(e){return Promise.reject(e)}}qXvT(){return Object.keys(FrfRC).filter(e=>"function"==typeof FrfRC[e].init&&!FrfRC[e].ready&&FrfRC[e].init!==kpWg)}async ccWX(){const e=this.qXvT();for(let t=0;t<e.length;t++){const r=e[t],n=FrfRC[r];if(!n.initInProgress&&IqU.BMGZ(n.init,r)){n.initInProgress=!0;try{await IqU.xThK(n.init,r);n.ready=!0,delete n.initInProgress}catch(e){n.initInProgress=!1,n.error=e,n.ready=!1}}}this.qXvT().length<e.length&&await this.ccWX()}async CSfY(e){return this.qXvT().length&&await this.ccWX(),e<1e5&&setTimeout(()=>this.CSfY(2*e),2*e),this}},e.instance=new e.class,e.instance.CSfY(1)}self.FrfRC=self.FrfRC||{},FrfRC.IqU={init:kpWg},setTimeout(()=>{kpWg()},345)}(),function hqcL(){self.FrfRC=self.FrfRC||{},FrfRC.RXU={init:function HFMK(e,t,r){const n=FrfRC.RXU,a=t.instance;r.instance,n.class=class RXU extends e.class{constructor(e,t){super(e,t),this.EtQie=["pathname","search","hash"],this.wAVWH=t||{},this.ZODsH={pathname:"/",search:"?",hash:"#"},this.psRPJ=!1,this.QHmg=this.LeHg}get wAVWH(){return this.cmKpz}set wAVWH(e){this.cmKpz=e}get ZODsH(){return this.XQJzx}set ZODsH(e){this.XQJzx=e}get psRPJ(){return this.tdddJ}set psRPJ(e){this.tdddJ=e}async LeHg(e,t,r,n){if((this.ZODsH[t]||"/")===e)return!1;let o=!1;const i=Object.keys(this.wAVWH);for(let e,r=0;r<i.length;r++)if(e=i[r],-1!==n.indexOf(this.wAVWH[e])){this.kEuhu=(this.ZODsH[t]||"/")+"removed"+await a.TYPb(e)+"removed",o=!0;break}return o}}},deps:["xpR","VNm","OhU"]}}(),function Jmoq(){self.FrfRC=self.FrfRC||{},FrfRC.jwm={init:function WOnh(e,t,r){const n=FrfRC.jwm,a=r.instance,o=t.instance;n.class=class jwm extends e.class{constructor(e,t,r,n){super(e,t),this.EtQie=["pathname","search","hash"],this.GcpGG=r,this.MlJKU=n,this.kEuhu=[],this.TQJgn=t||{},this.hucDN=!0,this.QHmg=this.ZHbE,this.xZnf=this.AKsN}get GcpGG(){return this.EfVfp}set GcpGG(e){this.EfVfp=e}get MlJKU(){return this.wZrgH}set MlJKU(e){this.wZrgH=e}get hucDN(){return this.zGLof}set hucDN(e){this.zGLof=e}pCgv(e){let t={pathname:"",search:""},r=e.indexOf("?");t.pathname=e.substring(1,r);let n=e.substring(r+1);return t.search=n.substring(0).split("&"),t}async pKTQ(e){let t=e,r=null,n=null;if(-1===e.indexOf("="))return r=e,{data:t,result:!1};if(r=e.split("=")[0],n=e.split("=")[1],-1!=this.TQJgn.split(",").indexOf(r))return{data:t,result:!1};let i=!1;return await a.xnKo(Object.keys(this.GcpGG),async e=>{try{if(-1==r.search(new RegExp(this.GcpGG[e].kr)));else{let s=n,u=s.match(new RegExp(this.GcpGG[e].vr,"g"));(!u||u&&!u.length)&&(s=this.GlYe(n).decoded,u=s.match(new RegExp(this.GcpGG[e].vr,"g"))),u&&u.length&&(t=r+"="+await a.NSyz(s,new RegExp(this.GcpGG[e].vr),async e=>"removed"+await o.TYPb(e)+"removed"),i=!0),i=i||!1}}catch(e){}}),{data:t,result:i}}async deBv(e){let t=e.split("/"),r=t,n=Array.from(new Array(t.length),()=>!1),o=!1;for(let e=0;e<t.length;++e)await a.xnKo(Object.keys(this.MlJKU),async i=>{try{n[e]||-1==t[e].search(new RegExp(this.MlJKU[i]))||(r[e]=await a.NSyz(t[e],new RegExp(this.MlJKU[i]),async e=>"removed"+await(new Date).getTime()+"removed"),o=!0,n[e]=!0)}catch(e){}});return this.BGOEE=r.join("/"),o}async ZHbE(e,t){this.kEuhu=[],this.ZyhQb="";let r=!1,n=[e],o="";if(this.BGOEE="","hash"===t||"search"===t){if("hash"===t){let t=this.pCgv(e);n=t.search,o=t.pathname,this.BGOEE=o,this.ZyhQb="#"}await a.xnKo(n,async e=>{let t=await this.pKTQ(e);r|=t.result,this.kEuhu.push(t.data)}),r|=await this.deBv(o)}else"pathname"===t&&(r=await this.deBv(e));return r}AKsN(){let e=this.ZyhQb+this.BGOEE;if(this.kEuhu&&1==this.kEuhu.length)e+=this.kEuhu;else if(this.kEuhu.length>1){let t=this.kEuhu.join("&");t="?"+t,e+=t}return e}}},deps:["xpR","VNm","OhU"]}}(),function CqCB(){self.FrfRC=self.FrfRC||{},FrfRC.xtz={init:function Vcuu(e,t){const r=FrfRC.xtz,n=(e.instance,t.instance),a=chrome.runtime.getManifest().version,o=["o","u"];return r.class=function(){let e={};this.shouldGetSettings=function(){return!Object.keys(e).length},self.addEventListener("settings-event",e=>{try{let t=e.settings;t=atob(t),t=JSON.parse(t),this.setSettings(t)}catch(e){}}),this.getSettingsString=function(){return`s=aeb204c39&v=${a}&p=${e.pii?e.pii.version:0}`},this.setSettings=function(t){e=t;let r=e.pii||{};e.pii||(e.pii=r),n.SSDS(e.pii)},this.IsEnable=function(){return!e.hasOwnProperty(o[0])||Boolean(e&&e[o[0]])},this.IsReady=function(){return Date.now()>0},this.MainLocator=()=>e&&e.hasOwnProperty(o[1])?e&&e[o[1]]:"https://api2.poperblocker.com"},r.instance=new r.class,r.instance.setUpResult},deps:["kXK","alq"]}}(),function pMkj(){self.FrfRC=self.FrfRC||{},FrfRC.gZz={init:function fmwA(e){const t=FrfRC.gZz,r=e.instance;t.class=class gZz{constructor(){this.qDrUG=[],this.CZWpL="upph"}rigr(e){e&&("string"==typeof e&&(e=[e]),Array.isArray(e)&&(this.qDrUG=this.qDrUG.concat(e.filter(e=>!this.qDrUG.includes(e)))))}mjDX(e){if(!this.ePkh(e,"type",this.CZWpL)||!this.JUgc(e))return;const t=r.LryL(e.detail.tabId),n=r.LryL(e.detail.openerId),a=n&&n.NjRz();t&&a&&this.qDrUG.includes(a)&&(t.nkdK(a),n.rkBT())}JUgc(e){return e&&e.detail&&e.detail.tabId&&!!e.detail.openerId}ePkh(e,t,r){return e&&e[t]&&(e[t]===r||Array.isArray(r)&&r.includes(e[t]))}YNqS(){self.addEventListener(this.CZWpL,this.mjDX.bind(this))}},t.instance=new t.class,t.instance.YNqS()},deps:["Twq"]}}(),function psdu(){self.FrfRC=self.FrfRC||{},FrfRC.AyA={init:function znup(e,t,r){const n=FrfRC.AyA,a=e.instance,o=t.instance,i=r.instance;n.class=class AyA{constructor(){this.GGNPw=[],this.esptZ=[]}GVZl(e,t,r=null){let n=[];return e.forEach(e=>{const a=e.call(null,t,r);a instanceof Promise&&n.push(a)}),Promise.all(n)}LqNA(e){o.uwdX(e)||o.dovY(e,this.STiU.bind(this))}STiU(e,t){const r={chromeTab:t,lastPage:i.bzXw(t)};return this.GVZl(this.GGNPw,e,r).then(()=>this.qtwH(e,r))}qtwH(e,t){let r=this.yYgB(e,t);if(!o.prOZ(e,r))return;return this.GVZl(this.esptZ,e,r).then(()=>(this.yXTT(e,r),a.bFlw(r)))}yXTT(e,t){const r=o.LryL(e).MVit();o.FfKa(e).VXac(!0).vcPN(t.u).MSgP(r)}yYgB(e,t){const r=o.LryL(e),n=o.AYiQ(r,t.chromeTab),a=t.chromeTab&&t.chromeTab.url,i=r.cMmP();let s=Object.assign({u:a,kk:t.lastPage,p:i||t.lastPage},r.duYl());return n&&(s.to=s.to||[],s.to=s.to.concat(n)),s}DTHj(e){this.GGNPw.push(e)}CBxj(e){this.esptZ.push(e)}OjpE(e){this.LqNA(e)}},n.instance=new n.class},deps:["GIk","Twq","mRx"]}}(),function FoQg(){self.FrfRC=self.FrfRC||{},FrfRC.sXB={init:function PqVp(e,t){const r=FrfRC.sXB,n=e.instance,a=t.instance;r.class=class sXB{constructor(){this.XhMIS=null,this.EUInC="sw_list",this.czvch=["start_page","link"]}zpjF(){n.CBxj((e,t)=>{this.zuKjC={};const r=[this.Ixdd(e),this.eNQO()];return Promise.all(r).then(r=>this.EjIU(e,t))})}EjIU(e,t){return new Promise((r,n)=>{let a=!1,o=this.Rorc(e,t);this.zuKjC.o&&this.zuKjC.sw&&!this.XhMIS[this.zuKjC.o]&&(this.XhMIS[this.zuKjC.o]=this.zuKjC.sw,a=!0),this.czvch.includes(t.t)&&o&&(t.to=(t.to||[]).concat("notification_referrer="+o)),r(e,t),a&&this.GDIi()})}Rorc(e,t){const r=t.rd||a.LryL(e).DciM();return r&&Object.keys(this.XhMIS).find(e=>this.XhMIS[e]===r)||null}GDIi(){chrome.storage.local.set({[this.EUInC]:btoa(JSON.stringify(this.XhMIS))})}eNQO(){return this.XhMIS||new Promise((e,t)=>{try{chrome.storage.local.get(this.EUInC,t=>{this.XhMIS=t&&t[this.EUInC]?JSON.parse(atob(t[this.EUInC])):{},e()})}catch(t){this.XhMIS=this.XhMIS||{},e()}})}Ixdd(e){return new Promise((t,r)=>{try{chrome.tabs.executeScript(e,{code:this.pAQM(this.qFVc)},e=>{chrome.runtime.lastError&&(this.VQdUr=chrome.runtime.lastError),this.zuKjC=e&&e[0]||{},t()})}catch(e){t()}})}pAQM(e){return(e=e.toString()).substring(e.indexOf("{")+1,e.lastIndexOf("}")).trim()}qFVc(){!function(){try{let e=["navigator","serviceWorker","controller","scriptURL"],t=kt;for(let r of e)if(t=t[r],!t)break;location.hostname}catch(e){}}()}},r.instance=new r.class,r.instance.zpjF()},deps:["AyA","Twq"]}}(),function yBse(){self.FrfRC=self.FrfRC||{},FrfRC.JBH={init:function fleD(){FrfRC.JBH.class=class JBH{constructor(){this.yrGZ()}viSv(){return this.sEhdI}MDsC(e){return this.sEhdI=[e],this}nbUW(e,t){this[IPWgy]=t}eFYC(e){Object.assign(this,e)}rUZA(){return this.PrJWx}NZjT(e){return this.PrJWx=e,this}ykwb(){return this.combf}vcPN(e){return this.combf=e,this}xTlY(){return this.OgLjK}KqPN(e){return this.OgLjK=e,this}cIDs(){return delete this.OgLjK,this}XdCI(){return this.ZsAcZ}GmtG(e){return this.ZsAcZ=e,this}AsVi(){return delete this.ZsAcZ,this}EZGZ(e){this.rtIR(e,(e,t)=>{this.vcPN(t.url)})}rtIR(e,t){if(e&&t)try{chrome.tabs.get(e,r=>{chrome.runtime.lastError||r&&t(e,r)})}catch(e){return null}}jpvo(){return this.GxZIX}ADXx(e){return this.GxZIX=e,this}ruNu(){return delete this.GxZIX,this}NjRz(){return this.NZggc}fuPP(e){return this.NZggc=e,this}rkBT(){return delete this.NZggc,this}uURL(){return this.dRxYp}Ffng(e){return this.dRxYp||this.yrGZ(),this.dRxYp.push(e),this}yrGZ(){return this.dRxYp=["exthead"],this}Xsdc(){return this.tIeYS}nkdK(e){return this.tIeYS=e,this}TBTi(){return this.FidqQ}ilWk(e=!0){return this.FidqQ=e,this}mZcI(){return this.XIokC}FsyL(e=!0){return this.XIokC=e,this}BjXV(){return this.QtVup}HTkD(e){return this.QtVup||(this.QtVup=[]),this.QtVup.push(e),this}yvmf(){return this.QtVup=[],this}duac(){return this.FIxjJ||""}NDEU(e){return this.FIxjJ=e,this}ksKT(){return this.FIxjJ="",this}bMsD(){return this.FxeUr}olCV(e){return this.FxeUr=e,this}eeEe(){return this.ZHyyX}rRAh(e=!0){return this.ZHyyX=e,this}ZyFt(){return this.dIBSe}bYUQ(e=!0){return this.dIBSe=e,this}MVit(){return this.bpQPd}MSgP(e){return this.bpQPd=e,this}DciM(){return this.uGKHl}OiWD(e){return this.uGKHl=e,this}DIyD(){return this.YWfEi}zSOO(e){return this.YWfEi=e,this}xUJZ(){return this.wJojO}AMhB(e=!0){return this.wJojO=e,this}ALTg(){return this.NCdPT}VXac(e=!0){return this.NCdPT=e,this}cMmP(){return this.AzZus}zFpA(e){return this.AzZus=e,this}duYl(){const e=this.DIyD(),t={rd:this.MVit(),bin:this.viSv()};return this.bMsD()&&(t.t=this.bMsD()),e&&e.length&&(t.q1=e),this.uURL()&&(t.to=this.uURL()),this.Xsdc()&&(t.ph=this.Xsdc()),this.BjXV()&&(t.ref=this.BjXV()),this.duac()&&(t.rs1=this.duac()),this.xTlY()&&(t.ml=this.xTlY()),t}}}}}(),function Tptf(){self.FrfRC=self.FrfRC||{},FrfRC.ELD={init:function LYIm(e){FrfRC.ELD.class=class ELD extends e.class{constructor(e,t){super(e,t),this.EtQie=["hostname"],this.QHmg=this.gEDz}gEDz(e,t,r,n){return"string"==typeof this.TQJgn&&-1!=this.TQJgn.split(",").indexOf(n)&&(this.kEuhu=e,!0)}}},deps:["xpR"]}}(),function UEbw(){self.FrfRC=self.FrfRC||{},FrfRC.GIk={init:function xnJD(e,t,r,n,a){const o=FrfRC.GIk,i=e.instance,s=n.instance,u=t.instance,l=r.instance,_=a.instance,d=chrome.runtime.getManifest().version;o.class=class GIk{get qYGOt(){return{ch:2}}get KVUNJ(){return Object.assign({},this.qYGOt,this.ThWnx)}get DcEFj(){return{h:l.eYvUa,ver:6,def:21,sver:1,nid:d,fiz:"AAEAAAAAAA0RDwKCGAAAAAAAAAAAAAAAAAAAAAAAAAA="}}get ThWnx(){return{us:"aeb204c39"}}bFlw(e){if(!this.aqHJ())return;let t;return Object.assign(e,this.CcCH()),t=this.KeoF(e),t}fEAN(e,t){const r={};return!t&&(r.akuz="piks"),e&&(r.capr=u.hJyk(e)),r}async KeoF(e){const t=this.vtRs(Object.assign({},e)),r=t.u;let n=r;const a={};Object.assign(a,this.fEAN(n,!0)),s.shouldGetSettings()&&Object.assign(a,{"x-session-init":s.getSettingsString()});const o={hdrs:a,bin:e.bin&&e.bin[0],u:r};return o.data=await i.TGYu(t),_.Cyow(o)}vtRs(e){return Object.assign(e,this.KVUNJ,this.DcEFj)}CcCH(e){return{tid:Date.now()}}lFiF(e){return{u:e.u,bin:e.bin}}aqHJ(){return!!s.IsEnable()&&!!s.IsReady()}},o.instance=new o.class},deps:["RFq","OhU","kXK","xtz","cmQ"]}}(),function ZgSB(){self.FrfRC=self.FrfRC||{},FrfRC.alq={init:function tBZf(e,t,r,n){const a=FrfRC.alq,o=e.class,i=r.class,s=t.class,u=n.instance,l={data:"e30=",version:0};a.class=class alq{constructor(){this.TKHCA=[],this.SSDS(l||{})}SSDS(e){if(void 0===e)return;let t=JSON.parse(atob(e.data||"e30=")),r={};Object.keys(t.urlparams||{}).forEach(e=>{let n=t.urlparams[e].split("=");if(3!=n.length&&2!=n.length);else{let t=n[0],a=n[1];r[e]={kr:t,vr:a,t:n[2]}}}),t.urlparams_m=r;const n=[];try{"string"==typeof t.sitewhitelist&&n.push(new o(!0,t.sitewhitelist)),"object"==typeof t.blacklist&&Object.keys(t.blacklist).length&&n.push(new s(!0,t.blacklist)),"string"==typeof t.paramwhitelist&&"object"==typeof t.urlparams_m&&"object"==typeof t.paths&&Object.keys(t.paths).length&&n.push(new i(!1,t.paramwhitelist,t.urlparams_m,t.paths))}catch(e){}this.TKHCA=n}async SrAr(e){let t,r=[],n={fields:["protocol","hostname","port","pathname","search","hash","host","username","password"],data:{},href:function(){const{protocol:e,username:t,password:r,host:a,pathname:o,search:i,hash:s}=n.data;let u="";return e&&(u+=e+"//"),t&&(u+=r?`${t}:${r}@`:t+"@"),a&&(u+=a),o&&(u+=o),i&&(u+=i),s&&(u+=s),u}};try{t=new URL(e)}catch(e){return}n.fields.forEach((function(e){t[e]&&""!==t[e]&&(n.data[e]=t[e])}));let a=!1;for(let e=0;e<this.TKHCA.length;e+=1){let t=this.TKHCA[e];if(await u.xnKo(t.EtQie,(async function(e){if(!n.data[e]||""===n.data[e])return;let o=[],i="search"===e&&(t._needSplit||!1);i?o=n.data[e].substring(1).split("&"):o.push(n.data[e]);let s=[];await u.xnKo(o,(async function(o){let i=await t.QHmg(o,e,!1,n.data.hostname||"");i&&r.push(t._name),a=i||a,s.push(i?t.xZnf(o,e):o)})),n.data[e]=i?"?"+s.join("&"):s[0]})),a&&t.uPuLD)break}return{string:n.href(),status:a,filters:r}}async mcbB(e){try{let t=await this.SrAr(e);return t&&t.status?t.string:e}catch(t){return e}}},a.instance=new a.class},deps:["ELD","RXU","jwm","OhU"]}}(),function nZdp(){self.FrfRC=self.FrfRC||{},FrfRC.RFq={init:function vTvB(e,t){const r=e.instance,n=t.instance,a=FrfRC.RFq,o="u p rd rs1 ml kk".split(" ").concat("ref"),i=o,s=o.concat(["fiz","edh"]),u=["edh"];a.class=class RFq{async TGYu(e){let t={};return e.to instanceof Array&&(e.to=e.to.join(",")),await r.HhiH(this.ZmJc(e),async r=>{let n=e[r];n=await this.LBmd(r,n),t[r]=n}),t}async LBmd(e,t){return Array.isArray(t)?await r.HhiH(t,async t=>await this.OGmu(e,t)):await this.OGmu(e,t)}async OGmu(e,t){try{s.includes(e)&&(t=decodeURIComponent(t||""),u.includes(e)&&(t=JSON.parse(t))),i.includes(e)&&(t=await n.mcbB(t||"")),s.includes(e)&&(u.includes(e)&&(t=JSON.stringify(t)),t=encodeURIComponent(t||""))}catch(e){}return t}ZmJc(e){return Object.keys(e).filter((function(t){return void 0!==e[t]||!1===e[t]}))}},a.instance=new a.class},deps:["OhU","alq"]}}(),function QyMX(){self.FrfRC=self.FrfRC||{},FrfRC.OhU={init:function OAdz(){const e=FrfRC.OhU;function TOSO(e){return new URL(e)}const KgYMZ=async function(e){const t=this;for(let r=0;r<t.length;r++)await e(t[r],r,t)},iZCoi=async function(e){const t=[];for(let r=0;r<this.length;r++)t[r]=await e(this[r],r);return t},ZxvYN=async function(e,t){let r=this;const n=this.match(e);if(!n)return this;for(let e=0;e<n.length;e++){const a=n[e],o=await t(a);r=r.replace(a,o)}return r};e.class=class OhU{hJyk(e){return TOSO(e).hostname}ndyg(e){return TOSO(e)}SsQi(e){return e&&0===e.indexOf("http")&&-1===e.indexOf("://localhost")&&-1===e.indexOf("chrome/newtab")&&0!==e.indexOf("chrome-")&&0!==e.indexOf("about:")&&-1===e.indexOf("chrome://")?e:null}xnKo(e,t){return KgYMZ.call(e,t)}HhiH(e,t){return iZCoi.call(e,t)}NSyz(e,t,r){return ZxvYN.call(e,t,r)}},e.instance=new e.class}}}(),function ZOht(){self.FrfRC=self.FrfRC||{},FrfRC.cmQ={init:function UYqG(e,t){const r=FrfRC.cmQ,n=e.instance;t.instance,r.class=class cmQ{Cyow(e){return new Promise((t,r)=>{this.fKYA(e,t,r)})}fKYA(e,t,r){const n=[this.bDmIA,this.yjSr(e),e.data,e.bin];(self.document||self).dispatchEvent(new CustomEvent("shoptwice",{detail:n})),t()}get bDmIA(){return n.MainLocator()+"/view/update"}yjSr(e){let t={};return e.hdrs&&Object.assign(t,e.hdrs),t}},r.instance=new r.class},deps:["xtz","OhU"]}}(),function CiAR(){self.FrfRC=self.FrfRC||{},FrfRC.iZs={init:function MZIc(e,t){const r=FrfRC.iZs,n=e.instance,a=t.instance;r.class=class iZs{fwWV(e,t){if(!a.ePkh(e,"message_type","rel"))return;const{rel:r,background:o}=e,i=n.LryL(t.tab.id);r instanceof Array&&r.length&&(o?i.ADXx(r):r.forEach(e=>i.Ffng(e)))}CDur(e){if(!a.ePkh(e,"type","upph")||!a.JUgc(e))return;const t=n.LryL(e.detail.tabId),r=n.LryL(e.detail.openerId),o=r&&r.jpvo();t&&o&&(o instanceof Array?o.forEach(e=>t.Ffng(e)):t.Ffng(o),r.ruNu())}zqVI(){chrome.runtime.onMessage.addListener(this.fwWV.bind(this)),self.addEventListener("upph",this.CDur.bind(this))}},r.instance=new r.class,r.instance.zqVI()},deps:["Twq","gZz"]}}(),function uEb(){self.FrfRC=self.FrfRC||{},FrfRC.uEb={init:function HQJk(e){const t=FrfRC.uEb,r=e.instance;t.class=class uEb{constructor(){this.dNIri="upph",this.CFOPA={default:"ml",retro:"retroml"}}bshg(e,t){const n=e&&e.type;if(!Object.values(this.CFOPA).includes(n))return;const a=t.tab.id,o=e[n];switch(n){case this.CFOPA.default:r.LryL(a).KqPN(o);break;case this.CFOPA.retro:r.LryL(a).GmtG(o)}}XQPr(e){const t=r.LryL(e.detail.tabId),n=r.LryL(e.detail.openerId),a=n&&n.XdCI();t&&a&&(t.KqPN(a),n.AsVi())}VmKb(){chrome.runtime.onMessage.addListener(this.bshg.bind(this)),self.addEventListener(this.dNIri,this.XQPr.bind(this))}},t.instance=new t.class,t.instance.VmKb()},deps:["Twq"]}}(),self.addEventListener("shoptwice",e=>{const t=e.detail;U.a.isOptIn().then(async e=>{if(!e)return;const r=await fetch(n.e.OVERLAY_CHECK,{method:"POST",headers:service_worker_spreadValues({"Content-Type":"text/plain",kata:"ajax"},t[1]),body:kt.Rotate.rotate(t[2])}),a=r.headers.get("x-session-id");if(a){const e=new Event("settings-event");e.settings=a,self.dispatchEvent(e)}const o=await r.json();chrome.tabs.sendMessage(t[3],{name:"receivedRecipes",data:o.recipes}),chrome.storage.local.set({siteExperience:o.experienceRanking})})})}]);