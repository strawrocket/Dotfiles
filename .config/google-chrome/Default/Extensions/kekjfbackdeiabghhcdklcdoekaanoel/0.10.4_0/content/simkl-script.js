/*! For license information please see simkl-script.js.LICENSE.txt */
(()=>{var e={50953:(e,t,n)=>{"use strict";n.d(t,{C4:()=>g,EW:()=>xe,Gc:()=>me,IG:()=>_e,KR:()=>Ce,Kh:()=>he,Pr:()=>$e,X2:()=>l,bl:()=>y,fE:()=>ye,g8:()=>fe,hZ:()=>C,i9:()=>Ae,ju:()=>ve,o5:()=>o,u4:()=>A,ux:()=>be,yC:()=>r});var s=n(90033);let i,a;class r{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=i,!e&&i&&(this.index=(i.scopes||(i.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const t=i;try{return i=this,e()}finally{i=t}}}on(){i=this}off(){i=this.parent}stop(e){if(this._active){let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0,this._active=!1}}}function o(){return i}class l{constructor(e,t,n,s){this.fn=e,this.trigger=t,this.scheduler=n,this.active=!0,this.deps=[],this._dirtyLevel=5,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,function(e,t=i){t&&t.active&&t.effects.push(e)}(this,s)}get dirty(){if(2===this._dirtyLevel)return!1;if(3===this._dirtyLevel||4===this._dirtyLevel){this._dirtyLevel=1,g();for(let e=0;e<this._depsLength;e++){const t=this.deps[e];if(t.computed){if(2===t.computed.effect._dirtyLevel)return y(),!0;if(c(t.computed),this._dirtyLevel>=5)break}}1===this._dirtyLevel&&(this._dirtyLevel=0),y()}return this._dirtyLevel>=5}set dirty(e){this._dirtyLevel=e?5:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=d,t=a;try{return d=!0,a=this,this._runnings++,u(this),this.fn()}finally{h(this),this._runnings--,a=t,d=e}}stop(){this.active&&(u(this),h(this),this.onStop&&this.onStop(),this.active=!1)}}function c(e){return e.value}function u(e){e._trackId++,e._depsLength=0}function h(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)m(e.deps[t],e);e.deps.length=e._depsLength}}function m(e,t){const n=e.get(t);void 0!==n&&t._trackId!==n&&(e.delete(t),0===e.size&&e.cleanup())}let d=!0,p=0;const f=[];function g(){f.push(d),d=!1}function y(){const e=f.pop();d=void 0===e||e}function v(){p++}function b(){for(p--;!p&&w.length;)w.shift()()}function _(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const n=e.deps[e._depsLength];n!==t?(n&&m(n,e),e.deps[e._depsLength++]=t):e._depsLength++}}const w=[];function k(e,t,n){v();for(const n of e.keys()){let s;!e.computed&&n.computed&&n._runnings>0&&(null!=s?s:s=e.get(n)===n._trackId)?n._dirtyLevel=2:(n._dirtyLevel<t&&(null!=s?s:s=e.get(n)===n._trackId)&&(n._shouldSchedule||(n._shouldSchedule=0===n._dirtyLevel),n.computed&&2===n._dirtyLevel&&(n._shouldSchedule=!0),n._dirtyLevel=t),n._shouldSchedule&&(null!=s?s:s=e.get(n)===n._trackId)&&(n.trigger(),n._runnings&&!n.allowRecurse||3===n._dirtyLevel||(n._shouldSchedule=!1,n.scheduler&&w.push(n.scheduler))))}b()}const S=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},x=new WeakMap,T=Symbol(""),E=Symbol("");function A(e,t,n){if(d&&a){let t=x.get(e);t||x.set(e,t=new Map);let s=t.get(n);s||t.set(n,s=S((()=>t.delete(n)))),_(a,s)}}function C(e,t,n,i,a,r){const o=x.get(e);if(!o)return;let l=[];if("clear"===t)l=[...o.values()];else if("length"===n&&(0,s.cy)(e)){const e=Number(i);o.forEach(((t,n)=>{("length"===n||!(0,s.Bm)(n)&&n>=e)&&l.push(t)}))}else switch(void 0!==n&&l.push(o.get(n)),t){case"add":(0,s.cy)(e)?(0,s.yI)(n)&&l.push(o.get("length")):(l.push(o.get(T)),(0,s.CE)(e)&&l.push(o.get(E)));break;case"delete":(0,s.cy)(e)||(l.push(o.get(T)),(0,s.CE)(e)&&l.push(o.get(E)));break;case"set":(0,s.CE)(e)&&l.push(o.get(T))}v();for(const e of l)e&&k(e,5);b()}const L=(0,s.pD)("__proto__,__v_isRef,__isVue"),M=new Set(Object.getOwnPropertyNames(Symbol).filter((e=>"arguments"!==e&&"caller"!==e)).map((e=>Symbol[e])).filter(s.Bm)),$=P();function P(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const n=be(this);for(let e=0,t=this.length;e<t;e++)A(n,0,e+"");const s=n[t](...e);return-1===s||!1===s?n[t](...e.map(be)):s}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){g(),v();const n=be(this)[t].apply(this,e);return b(),y(),n}})),e}function I(e){(0,s.Bm)(e)||(e=String(e));const t=be(this);return A(t,0,e),t.hasOwnProperty(e)}class N{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,n){const i=this._isReadonly,a=this._isShallow;if("__v_isReactive"===t)return!i;if("__v_isReadonly"===t)return i;if("__v_isShallow"===t)return a;if("__v_raw"===t)return n===(i?a?ue:ce:a?le:oe).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const r=(0,s.cy)(e);if(!i){if(r&&(0,s.$3)($,t))return Reflect.get($,t,n);if("hasOwnProperty"===t)return I}const o=Reflect.get(e,t,n);return((0,s.Bm)(t)?M.has(t):L(t))?o:(i||A(e,0,t),a?o:Ae(o)?r&&(0,s.yI)(t)?o:o.value:(0,s.Gv)(o)?i?de(o):he(o):o)}}class O extends N{constructor(e=!1){super(!1,e)}set(e,t,n,i){let a=e[t];if(!this._isShallow){const t=ge(a);if(ye(n)||ge(n)||(a=be(a),n=be(n)),!(0,s.cy)(e)&&Ae(a)&&!Ae(n))return!t&&(a.value=n,!0)}const r=(0,s.cy)(e)&&(0,s.yI)(t)?Number(t)<e.length:(0,s.$3)(e,t),o=Reflect.set(e,t,n,i);return e===be(i)&&(r?(0,s.$H)(n,a)&&C(e,"set",t,n):C(e,"add",t,n)),o}deleteProperty(e,t){const n=(0,s.$3)(e,t),i=(e[t],Reflect.deleteProperty(e,t));return i&&n&&C(e,"delete",t,void 0),i}has(e,t){const n=Reflect.has(e,t);return(0,s.Bm)(t)&&M.has(t)||A(e,0,t),n}ownKeys(e){return A(e,0,(0,s.cy)(e)?"length":T),Reflect.ownKeys(e)}}class R extends N{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const U=new O,D=new R,F=new O(!0),j=e=>e,W=e=>Reflect.getPrototypeOf(e);function H(e,t,n=!1,i=!1){const a=be(e=e.__v_raw),r=be(t);n||((0,s.$H)(t,r)&&A(a,0,t),A(a,0,r));const{has:o}=W(a),l=i?j:n?ke:we;return o.call(a,t)?l(e.get(t)):o.call(a,r)?l(e.get(r)):void(e!==a&&e.get(t))}function B(e,t=!1){const n=this.__v_raw,i=be(n),a=be(e);return t||((0,s.$H)(e,a)&&A(i,0,e),A(i,0,a)),e===a?n.has(e):n.has(e)||n.has(a)}function z(e,t=!1){return e=e.__v_raw,!t&&A(be(e),0,T),Reflect.get(e,"size",e)}function K(e){e=be(e);const t=be(this);return W(t).has.call(t,e)||(t.add(e),C(t,"add",e,e)),this}function V(e,t){t=be(t);const n=be(this),{has:i,get:a}=W(n);let r=i.call(n,e);r||(e=be(e),r=i.call(n,e));const o=a.call(n,e);return n.set(e,t),r?(0,s.$H)(t,o)&&C(n,"set",e,t):C(n,"add",e,t),this}function G(e){const t=be(this),{has:n,get:s}=W(t);let i=n.call(t,e);i||(e=be(e),i=n.call(t,e)),s&&s.call(t,e);const a=t.delete(e);return i&&C(t,"delete",e,void 0),a}function q(){const e=be(this),t=0!==e.size,n=e.clear();return t&&C(e,"clear",void 0,void 0),n}function Y(e,t){return function(n,s){const i=this,a=i.__v_raw,r=be(a),o=t?j:e?ke:we;return!e&&A(r,0,T),a.forEach(((e,t)=>n.call(s,o(e),o(t),i)))}}function Z(e,t,n){return function(...i){const a=this.__v_raw,r=be(a),o=(0,s.CE)(r),l="entries"===e||e===Symbol.iterator&&o,c="keys"===e&&o,u=a[e](...i),h=n?j:t?ke:we;return!t&&A(r,0,c?E:T),{next(){const{value:e,done:t}=u.next();return t?{value:e,done:t}:{value:l?[h(e[0]),h(e[1])]:h(e),done:t}},[Symbol.iterator](){return this}}}}function X(e){return function(...t){return"delete"!==e&&("clear"===e?void 0:this)}}function J(){const e={get(e){return H(this,e)},get size(){return z(this)},has:B,add:K,set:V,delete:G,clear:q,forEach:Y(!1,!1)},t={get(e){return H(this,e,!1,!0)},get size(){return z(this)},has:B,add:K,set:V,delete:G,clear:q,forEach:Y(!1,!0)},n={get(e){return H(this,e,!0)},get size(){return z(this,!0)},has(e){return B.call(this,e,!0)},add:X("add"),set:X("set"),delete:X("delete"),clear:X("clear"),forEach:Y(!0,!1)},s={get(e){return H(this,e,!0,!0)},get size(){return z(this,!0)},has(e){return B.call(this,e,!0)},add:X("add"),set:X("set"),delete:X("delete"),clear:X("clear"),forEach:Y(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((i=>{e[i]=Z(i,!1,!1),n[i]=Z(i,!0,!1),t[i]=Z(i,!1,!0),s[i]=Z(i,!0,!0)})),[e,n,t,s]}const[Q,ee,te,ne]=J();function se(e,t){const n=t?e?ne:te:e?ee:Q;return(t,i,a)=>"__v_isReactive"===i?!e:"__v_isReadonly"===i?e:"__v_raw"===i?t:Reflect.get((0,s.$3)(n,i)&&i in t?n:t,i,a)}const ie={get:se(!1,!1)},ae={get:se(!1,!0)},re={get:se(!0,!1)},oe=new WeakMap,le=new WeakMap,ce=new WeakMap,ue=new WeakMap;function he(e){return ge(e)?e:pe(e,!1,U,ie,oe)}function me(e){return pe(e,!1,F,ae,le)}function de(e){return pe(e,!0,D,re,ce)}function pe(e,t,n,i,a){if(!(0,s.Gv)(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const r=a.get(e);if(r)return r;const o=function(e){return e.__v_skip||!Object.isExtensible(e)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((0,s.Zf)(e))}(e);if(0===o)return e;const l=new Proxy(e,2===o?i:n);return a.set(e,l),l}function fe(e){return ge(e)?fe(e.__v_raw):!(!e||!e.__v_isReactive)}function ge(e){return!(!e||!e.__v_isReadonly)}function ye(e){return!(!e||!e.__v_isShallow)}function ve(e){return!!e&&!!e.__v_raw}function be(e){const t=e&&e.__v_raw;return t?be(t):e}function _e(e){return Object.isExtensible(e)&&(0,s.yQ)(e,"__v_skip",!0),e}const we=e=>(0,s.Gv)(e)?he(e):e,ke=e=>(0,s.Gv)(e)?de(e):e;class Se{constructor(e,t,n,s){this.getter=e,this._setter=t,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new l((()=>e(this._value)),(()=>Ee(this,3===this.effect._dirtyLevel?3:4))),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=n}get value(){const e=be(this),t=e.effect._dirtyLevel;return e._cacheable&&!e.effect.dirty||!(0,s.$H)(e._value,e._value=e.effect.run())||3!==t&&Ee(e,5),Te(e),e.effect._dirtyLevel>=2&&Ee(e,3),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function xe(e,t,n=!1){let i,a;const r=(0,s.Tn)(e);return r?(i=e,a=s.tE):(i=e.get,a=e.set),new Se(i,a,r||!a,n)}function Te(e){var t;d&&a&&(e=be(e),_(a,null!=(t=e.dep)?t:e.dep=S((()=>e.dep=void 0),e instanceof Se?e:void 0)))}function Ee(e,t=5,n,s){const i=(e=be(e)).dep;i&&k(i,t)}function Ae(e){return!(!e||!0!==e.__v_isRef)}function Ce(e){return n=!1,Ae(t=e)?t:new Le(t,n);var t,n}class Le{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:be(e),this._value=t?e:we(e)}get value(){return Te(this),this._value}set value(e){const t=this.__v_isShallow||ye(e)||ge(e);e=t?e:be(e),(0,s.$H)(e,this._rawValue)&&(this._rawValue,this._rawValue=e,this._value=t?e:we(e),Ee(this,5))}}const Me={get:(e,t,n)=>{return Ae(s=Reflect.get(e,t,n))?s.value:s;var s},set:(e,t,n,s)=>{const i=e[t];return Ae(i)&&!Ae(n)?(i.value=n,!0):Reflect.set(e,t,n,s)}};function $e(e){return fe(e)?e:new Proxy(e,Me)}},90033:(e,t,n)=>{"use strict";function s(e,t){const n=new Set(e.split(","));return t?e=>n.has(e.toLowerCase()):e=>n.has(e)}n.d(t,{$3:()=>d,$H:()=>U,BH:()=>z,BX:()=>Q,Bm:()=>w,C4:()=>Z,CE:()=>f,CP:()=>c,DY:()=>D,Gv:()=>k,J$:()=>X,Kg:()=>_,MZ:()=>i,Mp:()=>l,NO:()=>o,Oj:()=>a,PT:()=>P,Qd:()=>A,Ro:()=>W,SU:()=>L,TF:()=>h,Tg:()=>N,Tn:()=>b,Tr:()=>K,We:()=>B,X$:()=>u,Y2:()=>J,ZH:()=>O,Zf:()=>E,bB:()=>j,cy:()=>p,gd:()=>v,pD:()=>s,rU:()=>R,tE:()=>r,u3:()=>ee,vM:()=>g,v_:()=>te,yI:()=>C,yL:()=>S,yQ:()=>F});const i={},a=[],r=()=>{},o=()=>!1,l=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),c=e=>e.startsWith("onUpdate:"),u=Object.assign,h=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},m=Object.prototype.hasOwnProperty,d=(e,t)=>m.call(e,t),p=Array.isArray,f=e=>"[object Map]"===T(e),g=e=>"[object Set]"===T(e),y=e=>"[object Date]"===T(e),v=e=>"[object RegExp]"===T(e),b=e=>"function"==typeof e,_=e=>"string"==typeof e,w=e=>"symbol"==typeof e,k=e=>null!==e&&"object"==typeof e,S=e=>(k(e)||b(e))&&b(e.then)&&b(e.catch),x=Object.prototype.toString,T=e=>x.call(e),E=e=>T(e).slice(8,-1),A=e=>"[object Object]"===T(e),C=e=>_(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,L=s(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),M=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},$=/-(\w)/g,P=M((e=>e.replace($,((e,t)=>t?t.toUpperCase():"")))),I=/\B([A-Z])/g,N=M((e=>e.replace(I,"-$1").toLowerCase())),O=M((e=>e.charAt(0).toUpperCase()+e.slice(1))),R=M((e=>e?`on${O(e)}`:"")),U=(e,t)=>!Object.is(e,t),D=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},F=(e,t,n,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:n})},j=e=>{const t=parseFloat(e);return isNaN(t)?e:t},W=e=>{const t=_(e)?Number(e):NaN;return isNaN(t)?e:t};let H;const B=()=>H||(H="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:{}),z=s("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error");function K(e){if(p(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],i=_(s)?Y(s):K(s);if(i)for(const e in i)t[e]=i[e]}return t}if(_(e)||k(e))return e}const V=/;(?![^(]*\))/g,G=/:([^]+)/,q=/\/\*[^]*?\*\//g;function Y(e){const t={};return e.replace(q,"").split(V).forEach((e=>{if(e){const n=e.split(G);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function Z(e){let t="";if(_(e))t=e;else if(p(e))for(let n=0;n<e.length;n++){const s=Z(e[n]);s&&(t+=s+" ")}else if(k(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const X=s("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function J(e){return!!e||""===e}function Q(e,t){if(e===t)return!0;let n=y(e),s=y(t);if(n||s)return!(!n||!s)&&e.getTime()===t.getTime();if(n=w(e),s=w(t),n||s)return e===t;if(n=p(e),s=p(t),n||s)return!(!n||!s)&&function(e,t){if(e.length!==t.length)return!1;let n=!0;for(let s=0;n&&s<e.length;s++)n=Q(e[s],t[s]);return n}(e,t);if(n=k(e),s=k(t),n||s){if(!n||!s)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e){const s=e.hasOwnProperty(n),i=t.hasOwnProperty(n);if(s&&!i||!s&&i||!Q(e[n],t[n]))return!1}}return String(e)===String(t)}function ee(e,t){return e.findIndex((e=>Q(e,t)))}const te=e=>_(e)?e:null==e?"":p(e)||k(e)&&(e.toString===x||!b(e.toString))?JSON.stringify(e,ne,2):String(e),ne=(e,t)=>t&&t.__v_isRef?ne(e,t.value):f(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n],s)=>(e[se(t,s)+" =>"]=n,e)),{})}:g(t)?{[`Set(${t.size})`]:[...t.values()].map((e=>se(e)))}:w(t)?se(t):!k(t)||p(t)||A(t)?t:String(t),se=(e,t="")=>{var n;return w(e)?`Symbol(${null!=(n=e.description)?n:t})`:e}},114:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var s=n(71354),i=n.n(s),a=n(76314),r=n.n(a)()(i());r.push([e.id,".nextStream img,\n.resumeStream img {\n  filter: invert(100%);\n}\n","",{version:3,sources:["webpack://./src/simkl/style.less"],names:[],mappings:"AAAA;;EAEE,oBAAA;AACF",sourcesContent:[".nextStream img,\n.resumeStream img {\n  filter: invert(100%);\n}\n"],sourceRoot:""}]);const o=r},76314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",s=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),s&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),s&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,s,i,a){"string"==typeof e&&(e=[[null,e,void 0]]);var r={};if(s)for(var o=0;o<this.length;o++){var l=this[o][0];null!=l&&(r[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);s&&r[u[0]]||(void 0!==a&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=a),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),i&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=i):u[4]="".concat(i)),t.push(u))}},t}},71354:e=>{"use strict";e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var s=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),a="/*# ".concat(i," */");return[t].concat([a]).join("\n")}return[t].join("\n")}},42838:function(e){e.exports=function(){"use strict";const{entries:e,setPrototypeOf:t,isFrozen:n,getPrototypeOf:s,getOwnPropertyDescriptor:i}=Object;let{freeze:a,seal:r,create:o}=Object,{apply:l,construct:c}="undefined"!=typeof Reflect&&Reflect;a||(a=function(e){return e}),r||(r=function(e){return e}),l||(l=function(e,t,n){return e.apply(t,n)}),c||(c=function(e,t){return new e(...t)});const u=S(Array.prototype.forEach),h=S(Array.prototype.pop),m=S(Array.prototype.push),d=S(String.prototype.toLowerCase),p=S(String.prototype.toString),f=S(String.prototype.match),g=S(String.prototype.replace),y=S(String.prototype.indexOf),v=S(String.prototype.trim),b=S(Object.prototype.hasOwnProperty),_=S(RegExp.prototype.test),w=(k=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c(k,t)});var k;function S(e){return function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),i=1;i<n;i++)s[i-1]=arguments[i];return l(e,t,s)}}function x(e,s){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d;t&&t(e,null);let a=s.length;for(;a--;){let t=s[a];if("string"==typeof t){const e=i(t);e!==t&&(n(s)||(s[a]=e),t=e)}e[t]=!0}return e}function T(e){for(let t=0;t<e.length;t++)b(e,t)||(e[t]=null);return e}function E(t){const n=o(null);for(const[s,i]of e(t))b(t,s)&&(Array.isArray(i)?n[s]=T(i):i&&"object"==typeof i&&i.constructor===Object?n[s]=E(i):n[s]=i);return n}function A(e,t){for(;null!==e;){const n=i(e,t);if(n){if(n.get)return S(n.get);if("function"==typeof n.value)return S(n.value)}e=s(e)}return function(){return null}}const C=a(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),L=a(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),M=a(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),$=a(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),P=a(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),I=a(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),N=a(["#text"]),O=a(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),R=a(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),U=a(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),D=a(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),F=r(/\{\{[\w\W]*|[\w\W]*\}\}/gm),j=r(/<%[\w\W]*|[\w\W]*%>/gm),W=r(/\${[\w\W]*}/gm),H=r(/^data-[\-\w.\u00B7-\uFFFF]/),B=r(/^aria-[\-\w]+$/),z=r(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),K=r(/^(?:\w+script|data):/i),V=r(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),G=r(/^html$/i),q=r(/^[a-z][.\w]*(-[.\w]+)+$/i);var Y=Object.freeze({__proto__:null,MUSTACHE_EXPR:F,ERB_EXPR:j,TMPLIT_EXPR:W,DATA_ATTR:H,ARIA_ATTR:B,IS_ALLOWED_URI:z,IS_SCRIPT_OR_DATA:K,ATTR_WHITESPACE:V,DOCTYPE_NAME:G,CUSTOM_ELEMENT:q});const Z=1,X=3,J=7,Q=8,ee=9,te=function(){return"undefined"==typeof window?null:window};return function t(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te();const s=e=>t(e);if(s.version="3.1.6",s.removed=[],!n||!n.document||n.document.nodeType!==ee)return s.isSupported=!1,s;let{document:i}=n;const r=i,l=r.currentScript,{DocumentFragment:c,HTMLTemplateElement:k,Node:S,Element:T,NodeFilter:F,NamedNodeMap:j=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:W,DOMParser:H,trustedTypes:B}=n,K=T.prototype,V=A(K,"cloneNode"),q=A(K,"remove"),ne=A(K,"nextSibling"),se=A(K,"childNodes"),ie=A(K,"parentNode");if("function"==typeof k){const e=i.createElement("template");e.content&&e.content.ownerDocument&&(i=e.content.ownerDocument)}let ae,re="";const{implementation:oe,createNodeIterator:le,createDocumentFragment:ce,getElementsByTagName:ue}=i,{importNode:he}=r;let me={};s.isSupported="function"==typeof e&&"function"==typeof ie&&oe&&void 0!==oe.createHTMLDocument;const{MUSTACHE_EXPR:de,ERB_EXPR:pe,TMPLIT_EXPR:fe,DATA_ATTR:ge,ARIA_ATTR:ye,IS_SCRIPT_OR_DATA:ve,ATTR_WHITESPACE:be,CUSTOM_ELEMENT:_e}=Y;let{IS_ALLOWED_URI:we}=Y,ke=null;const Se=x({},[...C,...L,...M,...P,...N]);let xe=null;const Te=x({},[...O,...R,...U,...D]);let Ee=Object.seal(o(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ae=null,Ce=null,Le=!0,Me=!0,$e=!1,Pe=!0,Ie=!1,Ne=!0,Oe=!1,Re=!1,Ue=!1,De=!1,Fe=!1,je=!1,We=!0,He=!1,Be=!0,ze=!1,Ke={},Ve=null;const Ge=x({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let qe=null;const Ye=x({},["audio","video","img","source","image","track"]);let Ze=null;const Xe=x({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Je="http://www.w3.org/1998/Math/MathML",Qe="http://www.w3.org/2000/svg",et="http://www.w3.org/1999/xhtml";let tt=et,nt=!1,st=null;const it=x({},[Je,Qe,et],p);let at=null;const rt=["application/xhtml+xml","text/html"];let ot=null,lt=null;const ct=i.createElement("form"),ut=function(e){return e instanceof RegExp||e instanceof Function},ht=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!lt||lt!==e){if(e&&"object"==typeof e||(e={}),e=E(e),at=-1===rt.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,ot="application/xhtml+xml"===at?p:d,ke=b(e,"ALLOWED_TAGS")?x({},e.ALLOWED_TAGS,ot):Se,xe=b(e,"ALLOWED_ATTR")?x({},e.ALLOWED_ATTR,ot):Te,st=b(e,"ALLOWED_NAMESPACES")?x({},e.ALLOWED_NAMESPACES,p):it,Ze=b(e,"ADD_URI_SAFE_ATTR")?x(E(Xe),e.ADD_URI_SAFE_ATTR,ot):Xe,qe=b(e,"ADD_DATA_URI_TAGS")?x(E(Ye),e.ADD_DATA_URI_TAGS,ot):Ye,Ve=b(e,"FORBID_CONTENTS")?x({},e.FORBID_CONTENTS,ot):Ge,Ae=b(e,"FORBID_TAGS")?x({},e.FORBID_TAGS,ot):{},Ce=b(e,"FORBID_ATTR")?x({},e.FORBID_ATTR,ot):{},Ke=!!b(e,"USE_PROFILES")&&e.USE_PROFILES,Le=!1!==e.ALLOW_ARIA_ATTR,Me=!1!==e.ALLOW_DATA_ATTR,$e=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Pe=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Ie=e.SAFE_FOR_TEMPLATES||!1,Ne=!1!==e.SAFE_FOR_XML,Oe=e.WHOLE_DOCUMENT||!1,De=e.RETURN_DOM||!1,Fe=e.RETURN_DOM_FRAGMENT||!1,je=e.RETURN_TRUSTED_TYPE||!1,Ue=e.FORCE_BODY||!1,We=!1!==e.SANITIZE_DOM,He=e.SANITIZE_NAMED_PROPS||!1,Be=!1!==e.KEEP_CONTENT,ze=e.IN_PLACE||!1,we=e.ALLOWED_URI_REGEXP||z,tt=e.NAMESPACE||et,Ee=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&ut(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ee.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&ut(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ee.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Ee.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ie&&(Me=!1),Fe&&(De=!0),Ke&&(ke=x({},N),xe=[],!0===Ke.html&&(x(ke,C),x(xe,O)),!0===Ke.svg&&(x(ke,L),x(xe,R),x(xe,D)),!0===Ke.svgFilters&&(x(ke,M),x(xe,R),x(xe,D)),!0===Ke.mathMl&&(x(ke,P),x(xe,U),x(xe,D))),e.ADD_TAGS&&(ke===Se&&(ke=E(ke)),x(ke,e.ADD_TAGS,ot)),e.ADD_ATTR&&(xe===Te&&(xe=E(xe)),x(xe,e.ADD_ATTR,ot)),e.ADD_URI_SAFE_ATTR&&x(Ze,e.ADD_URI_SAFE_ATTR,ot),e.FORBID_CONTENTS&&(Ve===Ge&&(Ve=E(Ve)),x(Ve,e.FORBID_CONTENTS,ot)),Be&&(ke["#text"]=!0),Oe&&x(ke,["html","head","body"]),ke.table&&(x(ke,["tbody"]),delete Ae.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw w('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw w('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ae=e.TRUSTED_TYPES_POLICY,re=ae.createHTML("")}else void 0===ae&&(ae=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const s="data-tt-policy-suffix";t&&t.hasAttribute(s)&&(n=t.getAttribute(s));const i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+i+" could not be created."),null}}(B,l)),null!==ae&&"string"==typeof re&&(re=ae.createHTML(""));a&&a(e),lt=e}},mt=x({},["mi","mo","mn","ms","mtext"]),dt=x({},["foreignobject","annotation-xml"]),pt=x({},["title","style","font","a","script"]),ft=x({},[...L,...M,...$]),gt=x({},[...P,...I]),yt=function(e){m(s.removed,{element:e});try{ie(e).removeChild(e)}catch(t){q(e)}},vt=function(e,t){try{m(s.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){m(s.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!xe[e])if(De||Fe)try{yt(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},bt=function(e){let t=null,n=null;if(Ue)e="<remove></remove>"+e;else{const t=f(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===at&&tt===et&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const s=ae?ae.createHTML(e):e;if(tt===et)try{t=(new H).parseFromString(s,at)}catch(e){}if(!t||!t.documentElement){t=oe.createDocument(tt,"template",null);try{t.documentElement.innerHTML=nt?re:s}catch(e){}}const a=t.body||t.documentElement;return e&&n&&a.insertBefore(i.createTextNode(n),a.childNodes[0]||null),tt===et?ue.call(t,Oe?"html":"body")[0]:Oe?t.documentElement:a},_t=function(e){return le.call(e.ownerDocument||e,e,F.SHOW_ELEMENT|F.SHOW_COMMENT|F.SHOW_TEXT|F.SHOW_PROCESSING_INSTRUCTION|F.SHOW_CDATA_SECTION,null)},wt=function(e){return e instanceof W&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof j)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},kt=function(e){return"function"==typeof S&&e instanceof S},St=function(e,t,n){me[e]&&u(me[e],(e=>{e.call(s,t,n,lt)}))},xt=function(e){let t=null;if(St("beforeSanitizeElements",e,null),wt(e))return yt(e),!0;const n=ot(e.nodeName);if(St("uponSanitizeElement",e,{tagName:n,allowedTags:ke}),e.hasChildNodes()&&!kt(e.firstElementChild)&&_(/<[/\w]/g,e.innerHTML)&&_(/<[/\w]/g,e.textContent))return yt(e),!0;if(e.nodeType===J)return yt(e),!0;if(Ne&&e.nodeType===Q&&_(/<[/\w]/g,e.data))return yt(e),!0;if(!ke[n]||Ae[n]){if(!Ae[n]&&Et(n)){if(Ee.tagNameCheck instanceof RegExp&&_(Ee.tagNameCheck,n))return!1;if(Ee.tagNameCheck instanceof Function&&Ee.tagNameCheck(n))return!1}if(Be&&!Ve[n]){const t=ie(e)||e.parentNode,n=se(e)||e.childNodes;if(n&&t)for(let s=n.length-1;s>=0;--s){const i=V(n[s],!0);i.__removalCount=(e.__removalCount||0)+1,t.insertBefore(i,ne(e))}}return yt(e),!0}return e instanceof T&&!function(e){let t=ie(e);t&&t.tagName||(t={namespaceURI:tt,tagName:"template"});const n=d(e.tagName),s=d(t.tagName);return!!st[e.namespaceURI]&&(e.namespaceURI===Qe?t.namespaceURI===et?"svg"===n:t.namespaceURI===Je?"svg"===n&&("annotation-xml"===s||mt[s]):Boolean(ft[n]):e.namespaceURI===Je?t.namespaceURI===et?"math"===n:t.namespaceURI===Qe?"math"===n&&dt[s]:Boolean(gt[n]):e.namespaceURI===et?!(t.namespaceURI===Qe&&!dt[s])&&!(t.namespaceURI===Je&&!mt[s])&&!gt[n]&&(pt[n]||!ft[n]):!("application/xhtml+xml"!==at||!st[e.namespaceURI]))}(e)?(yt(e),!0):"noscript"!==n&&"noembed"!==n&&"noframes"!==n||!_(/<\/no(script|embed|frames)/i,e.innerHTML)?(Ie&&e.nodeType===X&&(t=e.textContent,u([de,pe,fe],(e=>{t=g(t,e," ")})),e.textContent!==t&&(m(s.removed,{element:e.cloneNode()}),e.textContent=t)),St("afterSanitizeElements",e,null),!1):(yt(e),!0)},Tt=function(e,t,n){if(We&&("id"===t||"name"===t)&&(n in i||n in ct))return!1;if(Me&&!Ce[t]&&_(ge,t));else if(Le&&_(ye,t));else if(!xe[t]||Ce[t]){if(!(Et(e)&&(Ee.tagNameCheck instanceof RegExp&&_(Ee.tagNameCheck,e)||Ee.tagNameCheck instanceof Function&&Ee.tagNameCheck(e))&&(Ee.attributeNameCheck instanceof RegExp&&_(Ee.attributeNameCheck,t)||Ee.attributeNameCheck instanceof Function&&Ee.attributeNameCheck(t))||"is"===t&&Ee.allowCustomizedBuiltInElements&&(Ee.tagNameCheck instanceof RegExp&&_(Ee.tagNameCheck,n)||Ee.tagNameCheck instanceof Function&&Ee.tagNameCheck(n))))return!1}else if(Ze[t]);else if(_(we,g(n,be,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==y(n,"data:")||!qe[e])if($e&&!_(ve,g(n,be,"")));else if(n)return!1;return!0},Et=function(e){return"annotation-xml"!==e&&f(e,_e)},At=function(e){St("beforeSanitizeAttributes",e,null);const{attributes:t}=e;if(!t)return;const n={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:xe};let i=t.length;for(;i--;){const a=t[i],{name:r,namespaceURI:o,value:l}=a,c=ot(r);let m="value"===r?l:v(l);if(n.attrName=c,n.attrValue=m,n.keepAttr=!0,n.forceKeepAttr=void 0,St("uponSanitizeAttribute",e,n),m=n.attrValue,Ne&&_(/((--!?|])>)|<\/(style|title)/i,m)){vt(r,e);continue}if(n.forceKeepAttr)continue;if(vt(r,e),!n.keepAttr)continue;if(!Pe&&_(/\/>/i,m)){vt(r,e);continue}Ie&&u([de,pe,fe],(e=>{m=g(m,e," ")}));const d=ot(e.nodeName);if(Tt(d,c,m)){if(!He||"id"!==c&&"name"!==c||(vt(r,e),m="user-content-"+m),ae&&"object"==typeof B&&"function"==typeof B.getAttributeType)if(o);else switch(B.getAttributeType(d,c)){case"TrustedHTML":m=ae.createHTML(m);break;case"TrustedScriptURL":m=ae.createScriptURL(m)}try{o?e.setAttributeNS(o,r,m):e.setAttribute(r,m),wt(e)?yt(e):h(s.removed)}catch(e){}}}St("afterSanitizeAttributes",e,null)},Ct=function e(t){let n=null;const s=_t(t);for(St("beforeSanitizeShadowDOM",t,null);n=s.nextNode();)St("uponSanitizeShadowNode",n,null),xt(n)||(n.content instanceof c&&e(n.content),At(n));St("afterSanitizeShadowDOM",t,null)};return s.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,i=null,a=null,o=null;if(nt=!e,nt&&(e="\x3c!--\x3e"),"string"!=typeof e&&!kt(e)){if("function"!=typeof e.toString)throw w("toString is not a function");if("string"!=typeof(e=e.toString()))throw w("dirty is not a string, aborting")}if(!s.isSupported)return e;if(Re||ht(t),s.removed=[],"string"==typeof e&&(ze=!1),ze){if(e.nodeName){const t=ot(e.nodeName);if(!ke[t]||Ae[t])throw w("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof S)n=bt("\x3c!----\x3e"),i=n.ownerDocument.importNode(e,!0),i.nodeType===Z&&"BODY"===i.nodeName||"HTML"===i.nodeName?n=i:n.appendChild(i);else{if(!De&&!Ie&&!Oe&&-1===e.indexOf("<"))return ae&&je?ae.createHTML(e):e;if(n=bt(e),!n)return De?null:je?re:""}n&&Ue&&yt(n.firstChild);const l=_t(ze?e:n);for(;a=l.nextNode();)xt(a)||(a.content instanceof c&&Ct(a.content),At(a));if(ze)return e;if(De){if(Fe)for(o=ce.call(n.ownerDocument);n.firstChild;)o.appendChild(n.firstChild);else o=n;return(xe.shadowroot||xe.shadowrootmode)&&(o=he.call(r,o,!0)),o}let h=Oe?n.outerHTML:n.innerHTML;return Oe&&ke["!doctype"]&&n.ownerDocument&&n.ownerDocument.doctype&&n.ownerDocument.doctype.name&&_(G,n.ownerDocument.doctype.name)&&(h="<!DOCTYPE "+n.ownerDocument.doctype.name+">\n"+h),Ie&&u([de,pe,fe],(e=>{h=g(h,e," ")})),ae&&je?ae.createHTML(h):h},s.setConfig=function(){ht(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Re=!0},s.clearConfig=function(){lt=null,Re=!1},s.isValidAttribute=function(e,t,n){lt||ht({});const s=ot(e),i=ot(t);return Tt(s,i,n)},s.addHook=function(e,t){"function"==typeof t&&(me[e]=me[e]||[],m(me[e],t))},s.removeHook=function(e){if(me[e])return h(me[e])},s.removeHooks=function(e){me[e]&&(me[e]=[])},s.removeAllHooks=function(){me={}},s}()}()},53011:(e,t,n)=>{var s;!function(i){var a=Object.hasOwnProperty,r=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},o="object"==typeof process&&"function"==typeof process.nextTick,l="function"==typeof Symbol,c="object"==typeof Reflect,u="function"==typeof setImmediate?setImmediate:setTimeout,h=l?c&&"function"==typeof Reflect.ownKeys?Reflect.ownKeys:function(e){var t=Object.getOwnPropertyNames(e);return t.push.apply(t,Object.getOwnPropertySymbols(e)),t}:Object.keys;function m(){this._events={},this._conf&&d.call(this,this._conf)}function d(e){e&&(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),e.maxListeners!==i&&(this._maxListeners=e.maxListeners),e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this._newListener=e.newListener),e.removeListener&&(this._removeListener=e.removeListener),e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak),e.ignoreErrors&&(this.ignoreErrors=e.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function p(e,t){var n="(node) warning: possible EventEmitter memory leak detected. "+e+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(n+=" Event name: "+t+"."),"undefined"!=typeof process&&process.emitWarning){var s=new Error(n);s.name="MaxListenersExceededWarning",s.emitter=this,s.count=e,process.emitWarning(s)}else console.error(n),console.trace&&console.trace()}var f=function(e,t,n){var s=arguments.length;switch(s){case 0:return[];case 1:return[e];case 2:return[e,t];case 3:return[e,t,n];default:for(var i=new Array(s);s--;)i[s]=arguments[s];return i}};function g(e,t){for(var n={},s=e.length,a=t?value.length:0,r=0;r<s;r++)n[e[r]]=r<a?t[r]:i;return n}function y(e,t,n){var s,i;if(this._emitter=e,this._target=t,this._listeners={},this._listenersCount=0,(n.on||n.off)&&(s=n.on,i=n.off),t.addEventListener?(s=t.addEventListener,i=t.removeEventListener):t.addListener?(s=t.addListener,i=t.removeListener):t.on&&(s=t.on,i=t.off),!s&&!i)throw Error("target does not implement any known event API");if("function"!=typeof s)throw TypeError("on method must be a function");if("function"!=typeof i)throw TypeError("off method must be a function");this._on=s,this._off=i;var a=e._observers;a?a.push(this):e._observers=[this]}function v(e,t,n,s){var r=Object.assign({},t);if(!e)return r;if("object"!=typeof e)throw TypeError("options must be an object");var o,l,c,u=Object.keys(e),h=u.length;function m(e){throw Error('Invalid "'+o+'" option value'+(e?". Reason: "+e:""))}for(var d=0;d<h;d++){if(o=u[d],!s&&!a.call(t,o))throw Error('Unknown "'+o+'" option');(l=e[o])!==i&&(c=n[o],r[o]=c?c(l,m):l)}return r}function b(e,t){return"function"==typeof e&&e.hasOwnProperty("prototype")||t("value must be a constructor"),e}function _(e){var t="value must be type of "+e.join("|"),n=e.length,s=e[0],i=e[1];return 1===n?function(e,n){if(typeof e===s)return e;n(t)}:2===n?function(e,n){var a=typeof e;if(a===s||a===i)return e;n(t)}:function(s,i){for(var a=typeof s,r=n;r-- >0;)if(a===e[r])return s;i(t)}}Object.assign(y.prototype,{subscribe:function(e,t,n){var s=this,i=this._target,a=this._emitter,r=this._listeners,o=function(){var s=f.apply(null,arguments),r={data:s,name:t,original:e};n?!1!==n.call(i,r)&&a.emit.apply(a,[r.name].concat(s)):a.emit.apply(a,[t].concat(s))};if(r[e])throw Error("Event '"+e+"' is already listening");this._listenersCount++,a._newListener&&a._removeListener&&!s._onNewListener?(this._onNewListener=function(n){n===t&&null===r[e]&&(r[e]=o,s._on.call(i,e,o))},a.on("newListener",this._onNewListener),this._onRemoveListener=function(n){n===t&&!a.hasListeners(n)&&r[e]&&(r[e]=null,s._off.call(i,e,o))},r[e]=null,a.on("removeListener",this._onRemoveListener)):(r[e]=o,s._on.call(i,e,o))},unsubscribe:function(e){var t,n,s,i=this,a=this._listeners,r=this._emitter,o=this._off,l=this._target;if(e&&"string"!=typeof e)throw TypeError("event must be a string");function c(){i._onNewListener&&(r.off("newListener",i._onNewListener),r.off("removeListener",i._onRemoveListener),i._onNewListener=null,i._onRemoveListener=null);var e=x.call(r,i);r._observers.splice(e,1)}if(e){if(!(t=a[e]))return;o.call(l,e,t),delete a[e],--this._listenersCount||c()}else{for(s=(n=h(a)).length;s-- >0;)e=n[s],o.call(l,e,a[e]);this._listeners={},this._listenersCount=0,c()}}});var w=_(["function"]),k=_(["object","function"]);function S(e,t,n){var s,i,a,r=0,o=new e((function(l,c,u){function h(){i&&(i=null),r&&(clearTimeout(r),r=0)}n=v(n,{timeout:0,overload:!1},{timeout:function(e,t){return("number"!=typeof(e*=1)||e<0||!Number.isFinite(e))&&t("timeout must be a positive number"),e}}),s=!n.overload&&"function"==typeof e.prototype.cancel&&"function"==typeof u;var m=function(e){h(),l(e)},d=function(e){h(),c(e)};s?t(m,d,u):(i=[function(e){d(e||Error("canceled"))}],t(m,d,(function(e){if(a)throw Error("Unable to subscribe on cancel event asynchronously");if("function"!=typeof e)throw TypeError("onCancel callback must be a function");i.push(e)})),a=!0),n.timeout>0&&(r=setTimeout((function(){var e=Error("timeout");e.code="ETIMEDOUT",r=0,o.cancel(e),c(e)}),n.timeout))}));return s||(o.cancel=function(e){if(i){for(var t=i.length,n=1;n<t;n++)i[n](e);i[0](e),i=null}}),o}function x(e){var t=this._observers;if(!t)return-1;for(var n=t.length,s=0;s<n;s++)if(t[s]._target===e)return s;return-1}function T(e,t,n,s,i){if(!n)return null;if(0===s){var a=typeof t;if("string"===a){var r,o,l=0,c=0,u=this.delimiter,m=u.length;if(-1!==(o=t.indexOf(u))){r=new Array(5);do{r[l++]=t.slice(c,o),c=o+m}while(-1!==(o=t.indexOf(u,c)));r[l++]=t.slice(c),t=r,i=l}else t=[t],i=1}else"object"===a?i=t.length:(t=[t],i=1)}var d,p,f,g,y,v,b,_=null,w=t[s],k=t[s+1];if(s===i)n._listeners&&("function"==typeof n._listeners?(e&&e.push(n._listeners),_=[n]):(e&&e.push.apply(e,n._listeners),_=[n]));else{if("*"===w){for(o=(v=h(n)).length;o-- >0;)"_listeners"!==(d=v[o])&&(b=T(e,t,n[d],s+1,i))&&(_?_.push.apply(_,b):_=b);return _}if("**"===w){for((y=s+1===i||s+2===i&&"*"===k)&&n._listeners&&(_=T(e,t,n,i,i)),o=(v=h(n)).length;o-- >0;)"_listeners"!==(d=v[o])&&("*"===d||"**"===d?(n[d]._listeners&&!y&&(b=T(e,t,n[d],i,i))&&(_?_.push.apply(_,b):_=b),b=T(e,t,n[d],s,i)):b=T(e,t,n[d],d===k?s+2:s,i),b&&(_?_.push.apply(_,b):_=b));return _}n[w]&&(_=T(e,t,n[w],s+1,i))}if((p=n["*"])&&T(e,t,p,s+1,i),f=n["**"])if(s<i)for(f._listeners&&T(e,t,f,i,i),o=(v=h(f)).length;o-- >0;)"_listeners"!==(d=v[o])&&(d===k?T(e,t,f[d],s+2,i):d===w?T(e,t,f[d],s+1,i):((g={})[d]=f[d],T(e,t,{"**":g},s+1,i)));else f._listeners?T(e,t,f,i,i):f["*"]&&f["*"]._listeners&&T(e,t,f["*"],i,i);return _}function E(e,t,n){var s,i,a=0,r=0,o=this.delimiter,l=o.length;if("string"==typeof e)if(-1!==(s=e.indexOf(o))){i=new Array(5);do{i[a++]=e.slice(r,s),r=s+l}while(-1!==(s=e.indexOf(o,r)));i[a++]=e.slice(r)}else i=[e],a=1;else i=e,a=e.length;if(a>1)for(s=0;s+1<a;s++)if("**"===i[s]&&"**"===i[s+1])return;var c,u=this.listenerTree;for(s=0;s<a;s++)if(u=u[c=i[s]]||(u[c]={}),s===a-1)return u._listeners?("function"==typeof u._listeners&&(u._listeners=[u._listeners]),n?u._listeners.unshift(t):u._listeners.push(t),!u._listeners.warned&&this._maxListeners>0&&u._listeners.length>this._maxListeners&&(u._listeners.warned=!0,p.call(this,u._listeners.length,c))):u._listeners=t,!0;return!0}function A(e,t,n,s){for(var i,a,r,o,l=h(e),c=l.length,u=e._listeners;c-- >0;)i=e[a=l[c]],r="_listeners"===a?n:n?n.concat(a):[a],o=s||"symbol"==typeof a,u&&t.push(o?r:r.join(this.delimiter)),"object"==typeof i&&A.call(this,i,t,r,o);return t}function C(e){for(var t,n,s,i=h(e),a=i.length;a-- >0;)(t=e[n=i[a]])&&(s=!0,"_listeners"===n||C(t)||delete e[n]);return s}function L(e,t,n){this.emitter=e,this.event=t,this.listener=n}function M(e,t,n){if(!0===n)a=!0;else if(!1===n)s=!0;else{if(!n||"object"!=typeof n)throw TypeError("options should be an object or true");var s=n.async,a=n.promisify,r=n.nextTick,l=n.objectify}if(s||r||a){var c=t,h=t._origin||t;if(r&&!o)throw Error("process.nextTick is not supported");a===i&&(a="AsyncFunction"===t.constructor.name),t=function(){var e=arguments,t=this,n=this.event;return a?r?Promise.resolve():new Promise((function(e){u(e)})).then((function(){return t.event=n,c.apply(t,e)})):(r?process.nextTick:u)((function(){t.event=n,c.apply(t,e)}))},t._async=!0,t._origin=h}return[t,l?new L(this,e,t):this]}function $(e){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,d.call(this,e)}L.prototype.off=function(){return this.emitter.off(this.event,this.listener),this},$.EventEmitter2=$,$.prototype.listenTo=function(e,t,n){if("object"!=typeof e)throw TypeError("target musts be an object");var s=this;function a(t){if("object"!=typeof t)throw TypeError("events must be an object");var i,a=n.reducers,r=x.call(s,e);i=-1===r?new y(s,e,n):s._observers[r];for(var o,l=h(t),c=l.length,u="function"==typeof a,m=0;m<c;m++)o=l[m],i.subscribe(o,t[o]||o,u?a:a&&a[o])}return n=v(n,{on:i,off:i,reducers:i},{on:w,off:w,reducers:k}),r(t)?a(g(t)):a("string"==typeof t?g(t.split(/\s+/)):t),this},$.prototype.stopListeningTo=function(e,t){var n=this._observers;if(!n)return!1;var s,i=n.length,a=!1;if(e&&"object"!=typeof e)throw TypeError("target should be an object");for(;i-- >0;)s=n[i],e&&s._target!==e||(s.unsubscribe(t),a=!0);return a},$.prototype.delimiter=".",$.prototype.setMaxListeners=function(e){e!==i&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},$.prototype.getMaxListeners=function(){return this._maxListeners},$.prototype.event="",$.prototype.once=function(e,t,n){return this._once(e,t,!1,n)},$.prototype.prependOnceListener=function(e,t,n){return this._once(e,t,!0,n)},$.prototype._once=function(e,t,n,s){return this._many(e,1,t,n,s)},$.prototype.many=function(e,t,n,s){return this._many(e,t,n,!1,s)},$.prototype.prependMany=function(e,t,n,s){return this._many(e,t,n,!0,s)},$.prototype._many=function(e,t,n,s,i){var a=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");function r(){return 0==--t&&a.off(e,r),n.apply(this,arguments)}return r._origin=n,this._on(e,r,s,i)},$.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||m.call(this);var e,t,n,s,i,a,r=arguments[0],o=this.wildcard;if("newListener"===r&&!this._newListener&&!this._events.newListener)return!1;if(o&&(e=r,"newListener"!==r&&"removeListener"!==r&&"object"==typeof r)){if(n=r.length,l)for(s=0;s<n;s++)if("symbol"==typeof r[s]){a=!0;break}a||(r=r.join(this.delimiter))}var c,u=arguments.length;if(this._all&&this._all.length)for(s=0,n=(c=this._all.slice()).length;s<n;s++)switch(this.event=r,u){case 1:c[s].call(this,r);break;case 2:c[s].call(this,r,arguments[1]);break;case 3:c[s].call(this,r,arguments[1],arguments[2]);break;default:c[s].apply(this,arguments)}if(o)c=[],T.call(this,c,e,this.listenerTree,0,n);else{if("function"==typeof(c=this._events[r])){switch(this.event=r,u){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(u-1),i=1;i<u;i++)t[i-1]=arguments[i];c.apply(this,t)}return!0}c&&(c=c.slice())}if(c&&c.length){if(u>3)for(t=new Array(u-1),i=1;i<u;i++)t[i-1]=arguments[i];for(s=0,n=c.length;s<n;s++)switch(this.event=r,u){case 1:c[s].call(this);break;case 2:c[s].call(this,arguments[1]);break;case 3:c[s].call(this,arguments[1],arguments[2]);break;default:c[s].apply(this,t)}return!0}if(!this.ignoreErrors&&!this._all&&"error"===r)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},$.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||m.call(this);var e,t,n,s,i,a,r=arguments[0],o=this.wildcard;if("newListener"===r&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(o&&(e=r,"newListener"!==r&&"removeListener"!==r&&"object"==typeof r)){if(s=r.length,l)for(i=0;i<s;i++)if("symbol"==typeof r[i]){t=!0;break}t||(r=r.join(this.delimiter))}var c,u=[],h=arguments.length;if(this._all)for(i=0,s=this._all.length;i<s;i++)switch(this.event=r,h){case 1:u.push(this._all[i].call(this,r));break;case 2:u.push(this._all[i].call(this,r,arguments[1]));break;case 3:u.push(this._all[i].call(this,r,arguments[1],arguments[2]));break;default:u.push(this._all[i].apply(this,arguments))}if(o?(c=[],T.call(this,c,e,this.listenerTree,0)):c=this._events[r],"function"==typeof c)switch(this.event=r,h){case 1:u.push(c.call(this));break;case 2:u.push(c.call(this,arguments[1]));break;case 3:u.push(c.call(this,arguments[1],arguments[2]));break;default:for(n=new Array(h-1),a=1;a<h;a++)n[a-1]=arguments[a];u.push(c.apply(this,n))}else if(c&&c.length){if(c=c.slice(),h>3)for(n=new Array(h-1),a=1;a<h;a++)n[a-1]=arguments[a];for(i=0,s=c.length;i<s;i++)switch(this.event=r,h){case 1:u.push(c[i].call(this));break;case 2:u.push(c[i].call(this,arguments[1]));break;case 3:u.push(c[i].call(this,arguments[1],arguments[2]));break;default:u.push(c[i].apply(this,n))}}else if(!this.ignoreErrors&&!this._all&&"error"===r)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(u)},$.prototype.on=function(e,t,n){return this._on(e,t,!1,n)},$.prototype.prependListener=function(e,t,n){return this._on(e,t,!0,n)},$.prototype.onAny=function(e){return this._onAny(e,!1)},$.prototype.prependAny=function(e){return this._onAny(e,!0)},$.prototype.addListener=$.prototype.on,$.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},$.prototype._on=function(e,t,n,s){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");this._events||m.call(this);var a,r=this;return s!==i&&(t=(a=M.call(this,e,t,s))[0],r=a[1]),this._newListener&&this.emit("newListener",e,t),this.wildcard?(E.call(this,e,t,n),r):(this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),n?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,p.call(this,this._events[e].length,e))):this._events[e]=t,r)},$.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var n,s=[];if(this.wildcard){var i="string"==typeof e?e.split(this.delimiter):e.slice();if(!(s=T.call(this,null,i,this.listenerTree,0)))return this}else{if(!this._events[e])return this;n=this._events[e],s.push({_listeners:n})}for(var a=0;a<s.length;a++){var o=s[a];if(n=o._listeners,r(n)){for(var l=-1,c=0,u=n.length;c<u;c++)if(n[c]===t||n[c].listener&&n[c].listener===t||n[c]._origin&&n[c]._origin===t){l=c;break}if(l<0)continue;return this.wildcard?o._listeners.splice(l,1):this._events[e].splice(l,1),0===n.length&&(this.wildcard?delete o._listeners:delete this._events[e]),this._removeListener&&this.emit("removeListener",e,t),this}(n===t||n.listener&&n.listener===t||n._origin&&n._origin===t)&&(this.wildcard?delete o._listeners:delete this._events[e],this._removeListener&&this.emit("removeListener",e,t))}return this.listenerTree&&C(this.listenerTree),this},$.prototype.offAny=function(e){var t,n=0,s=0;if(e&&this._all&&this._all.length>0){for(n=0,s=(t=this._all).length;n<s;n++)if(e===t[n])return t.splice(n,1),this._removeListener&&this.emit("removeListenerAny",e),this}else{if(t=this._all,this._removeListener)for(n=0,s=t.length;n<s;n++)this.emit("removeListenerAny",t[n]);this._all=[]}return this},$.prototype.removeListener=$.prototype.off,$.prototype.removeAllListeners=function(e){if(e===i)return!this._events||m.call(this),this;if(this.wildcard){var t,n=T.call(this,null,e,this.listenerTree,0);if(!n)return this;for(t=0;t<n.length;t++)n[t]._listeners=null;this.listenerTree&&C(this.listenerTree)}else this._events&&(this._events[e]=null);return this},$.prototype.listeners=function(e){var t,n,s,a,r,o=this._events;if(e===i){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!o)return[];for(a=(t=h(o)).length,s=[];a-- >0;)"function"==typeof(n=o[t[a]])?s.push(n):s.push.apply(s,n);return s}if(this.wildcard){if(!(r=this.listenerTree))return[];var l=[],c="string"==typeof e?e.split(this.delimiter):e.slice();return T.call(this,l,c,r,0),l}return o&&(n=o[e])?"function"==typeof n?[n]:n:[]},$.prototype.eventNames=function(e){var t=this._events;return this.wildcard?A.call(this,this.listenerTree,[],null,e):t?h(t):[]},$.prototype.listenerCount=function(e){return this.listeners(e).length},$.prototype.hasListeners=function(e){if(this.wildcard){var t=[],n="string"==typeof e?e.split(this.delimiter):e.slice();return T.call(this,t,n,this.listenerTree,0),t.length>0}var s=this._events,a=this._all;return!!(a&&a.length||s&&(e===i?h(s).length:s[e]))},$.prototype.listenersAny=function(){return this._all?this._all:[]},$.prototype.waitFor=function(e,t){var n=this,s=typeof t;return"number"===s?t={timeout:t}:"function"===s&&(t={filter:t}),S((t=v(t,{timeout:0,filter:i,handleError:!1,Promise,overload:!1},{filter:w,Promise:b})).Promise,(function(s,i,a){function r(){var a=t.filter;if(!a||a.apply(n,arguments))if(n.off(e,r),t.handleError){var o=arguments[0];o?i(o):s(f.apply(null,arguments).slice(1))}else s(f.apply(null,arguments))}a((function(){n.off(e,r)})),n._on(e,r,!1)}),{timeout:t.timeout,overload:t.overload})};var P=$.prototype;Object.defineProperties($,{defaultMaxListeners:{get:function(){return P._maxListeners},set:function(e){if("number"!=typeof e||e<0||Number.isNaN(e))throw TypeError("n must be a non-negative number");P._maxListeners=e},enumerable:!0},once:{value:function(e,t,n){return S((n=v(n,{Promise,timeout:0,overload:!1},{Promise:b})).Promise,(function(n,s,i){var a;if("function"==typeof e.addEventListener)return a=function(){n(f.apply(null,arguments))},i((function(){e.removeEventListener(t,a)})),void e.addEventListener(t,a,{once:!0});var r,o=function(){r&&e.removeListener("error",r),n(f.apply(null,arguments))};"error"!==t&&(r=function(n){e.removeListener(t,o),s(n)},e.once("error",r)),i((function(){r&&e.removeListener("error",r),e.removeListener(t,o)})),e.once(t,o)}),{timeout:n.timeout,overload:n.overload})},writable:!0,configurable:!0}}),Object.defineProperties(P,{_maxListeners:{value:10,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),(s=function(){return $}.call(t,n,t,e))===i||(e.exports=s)}()},18822:(e,t,n)=>{var s=n(114);s&&s.__esModule&&(s=s.default),e.exports="string"==typeof s?s:s.toString()},13647:(e,t,n)=>{"use strict";n.r(t),n.d(t,{request:()=>f,settings:()=>g,storage:()=>p,type:()=>y});var s=n(13647),i=n(78584),a=n(26017);const r={async set(e,t){const n={};return n[e]=t,new Promise(((t,s)=>{o(e).set(n,(function(){chrome.runtime.lastError?s(chrome.runtime.lastError):t()}))}))},get:async e=>new Promise(((t,n)=>{o(e).get(e,(function(s){chrome.runtime.lastError?n(chrome.runtime.lastError):t(s[e])}))})),remove:async e=>new Promise(((t,n)=>{o(e).remove(e,(function(){chrome.runtime.lastError?n(chrome.runtime.lastError):t()}))})),list:async(e="local")=>new Promise(((t,n)=>{"local"===e?chrome.storage.local.get(null,(function(e){t(e)})):chrome.storage.sync.get(null,(function(e){t(e)}))})),async addStyle(e){try{const t=document.createElement("style");t.textContent=e,(document.head||document.body||document.documentElement||document).appendChild(t)}catch(e){console.log(`Could not add css:${e}`)}},version:()=>chrome.runtime.getManifest().version,lang(e,t){if(s.settings.get("forceEn")&&"undefined"!=typeof i18n){let n=i18n[e];if(void 0!==t)for(let e=0;e<t.length;e++)n=n.replace(`$${e+1}`,t[e]);return n}return chrome.i18n.getMessage(e,t)},langDirection(){try{const e=chrome.i18n.getUILanguage();if(/^(ar)(-|$)/i.test(e)&&!s.settings.get("forceEn"))return"rtl"}catch(e){i.error(e)}return"ltr"},assetUrl:e=>chrome.runtime.getURL(`assets/${e}`),injectCssResource(e,t){alert("injectCssResource not supported in webextension")},injectjsResource(e,t){const n=document.createElement("script");n.src=chrome.runtime.getURL(`vendor/${e}`),n.onload=function(){this.remove()},t.get(0).appendChild(n)},addProxyScriptToTag:(e,t)=>(e.src=chrome.runtime.getURL(`/content/proxy/proxy_${t}.js`),e),updateDom(e){const t=document.createElement("script");t.text="\n        document.getElementsByTagName('head')[0].onclick = function(e){\n          try{\n            componentHandler.upgradeDom();\n          }catch(e){\n            console.log(e);\n            setTimeout(function(){\n              componentHandler.upgradeDom();\n            },500);\n          }\n        }",t.onload=function(){this.remove()},e.get(0).appendChild(t)},storageOnChanged(e){chrome.storage.onChanged.addListener(e)}};function o(e){return a.syncRegex.test(e)?chrome.storage.sync:chrome.storage.local}const l={async xhr(e,t){if(void 0!==l.sendMessage)return l.sendMessage({name:"xhr",method:e,url:t}).then((e=>{if(429===e.status)throw"Rate limit Timeout";if(0===e.status)throw e.responseText;return e}));throw"Could not send xhr"},sendMessage:async e=>new Promise(((t,n)=>{chrome.runtime.sendMessage(e,(function(e){t(e)}))})),notification(e){this.sendMessage({name:"notification",options:e})},database(e,t){return this.sendMessage({name:"database",options:{call:e,param:t}})}};var c=n(50953),u=n(13647),h=n(78584),m=n(26017);const d={options:(0,c.Kh)({autoTrackingModeanime:"video",readerTracking:!0,askBefore:!0,autoTrackingModemanga:"instant",enablePages:{},forceEn:!1,rpc:!0,presenceLargeImage:"cover",presenceShowButtons:!0,presenceShowMalsync:!1,userscriptModeButton:!1,syncMode:"MAL",syncModeSimkl:"MAL",localSync:!0,delay:0,videoDuration:85,malTags:!1,malContinue:!0,malResume:!0,usedPage:!0,epPredictions:!0,theme:"auto",themeSidebars:!0,themeColor:"#000000",themeOpacity:100,themeImage:"",minimalWindow:!1,posLeft:"left",miniMALonMal:!1,floatButtonStealth:!1,minimizeBigPopup:!1,floatButtonCorrection:!0,floatButtonHide:!1,autoCloseMinimal:!1,outWay:!0,miniMalWidth:"550px",miniMalHeight:"90%",malThumbnail:100,friendScore:!0,loadPTWForProgress:!1,quicklinks:["Aniwave","Crunchyroll","Gogoanime","Mangadex","MangaNato","MangaFox","MangaSee","MangaFire","YugenAnime","HiAnime","Hulu","Netflix","Hidive","VIZ","MangaPlus","MangaReader","ComicK"],quicklinksPosition:"default",autofull:!1,autoresume:!1,autoNextEp:!1,highlightAllEp:!1,checkForFiller:!0,crashReport:!0,introSkip:85,introSkipFwd:[17,39],introSkipBwd:[17,37],nextEpShort:[],correctionShort:[67],syncShort:[],progressInterval:120,progressIntervalDefaultAnime:"en/sub",progressIntervalDefaultManga:"en/sub",progressNotificationsAnime:!0,progressNotificationsManga:!0,notificationsSticky:!0,bookMarksList:!1,customDomains:[],anilistUpdateUi:!0,anilistToken:"",anilistOptions:{displayAdultContent:!0,scoreFormat:"POINT_10"},kitsuToken:"",kitsuOptions:{titleLanguagePreference:"canonical",sfwFilter:!1,ratingSystem:"regular"},simklToken:"",malToken:"",malRefresh:"",shikiToken:"",shikiOptions:{locale:"ru"}}),debounceArray:{},isInit:(0,c.KR)(!1),async init(){const e=[];for(const t in this.options){const n=await u.storage.get(`settings/${t}`);void 0!==n&&(this.options[t]=n,e[t]=/(token|refresh)/i.test(t)&&n?"********":n)}let t;return h.log("Settings",e),u.storage.storageOnChanged(((e,n)=>{if("sync"===n)for(const t in e){const n=e[t];/^settings\//i.test(t)&&(this.options[t.replace("settings/","")]=n.newValue,h.info(`Update ${t} option to ${JSON.stringify(n.newValue,null,2)}`))}if("local"===n&&e.rateLimit)try{clearTimeout(t),e.rateLimit.newValue?(h.log("Rate limited"),$(".type-rate").length||m.flashm("Rate limited. Retrying in a moment",{error:!0,type:"rate",permanent:!0})):t=setTimeout((()=>{h.log("No Rate limited"),$(".type-rate").remove()}),5e3)}catch(e){h.error(e)}})),this.isInit.value=!0,this},get(e){if(!this.isInit.value)throw"Settings not initialized";return this.options[e]},set(e,t){if(!Object.prototype.hasOwnProperty.call(this.options,e)){const t=Error(`${e} is not a defined option`);throw h.error(t),t}return this.options[e]=t,u.storage.set(`settings/${e}`,t)},setDebounce(e,t){this.options[e]=t,clearTimeout(this.debounceArray[e]),this.debounceArray[e]=setTimeout((()=>{this.set(e,t),delete this.debounceArray[e]}),1e3)},async getAsync(e){const t=await u.storage.get(`settings/${e}`);return void 0===t&&void 0!==this.options[e]?this.options[e]:t}},p=r,f=l,g=d,y="webextension"},78584:(e,t,n)=>{"use strict";n.r(t),n.d(t,{debug:()=>r,error:()=>i,info:()=>a,log:()=>s,m:()=>o});const s=Function.prototype.bind.call(console.log,console,"%cMAL-Sync","background-color: #2e51a2; color: white; padding: 2px 10px; border-radius: 3px;"),i=Function.prototype.bind.call(console.error,console,"%cMAL-Sync","background-color: #8f0000; color: white; padding: 2px 10px; border-radius: 3px;"),a=Function.prototype.bind.call(console.info,console,"%cMAL-Sync","background-color: wheat; color: black; padding: 2px 10px; border-radius: 3px;"),r=Function.prototype.bind.call(console.debug,console,"%cMAL-Sync","background-color: steelblue; color: black; padding: 2px 10px; border-radius: 3px;"),o=(e,t="",n=[])=>{let s="white";t||(t=function(e){if(!e)return"#ffffff";e=String(e);let t=0;for(let n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t);let n="#";for(let e=0;e<3;e++)n+=`00${(t>>8*e&255).toString(16)}`.substr(-2);return n}(e)),"#"===t[0]&&(s=parseInt(t.replace("#",""),16)>8388607.5?"#000":"#fff");const i=`background-color: ${t}; color: ${s}; padding: 2px 10px; border-radius: 3px; margin-left: -5px; border-left: 1px solid white;`;n.push({name:e,style:i});const a={m:(e,t="")=>o(e,t,[...n])},r=n.reduce(((e,t)=>`${e}%c${t.name}`),""),l=n.map((e=>e.style));return a.log=Function.prototype.bind.call(console.log,console,`%cM ${r}`,"background-color: #2e51a2; color: white; padding: 2px 10px; border-radius: 3px;",...l),a.error=Function.prototype.bind.call(console.error,console,`%cM ${r}`,"background-color: #8f0000; color: white; padding: 2px 10px; border-radius: 3px;",...l),a.info=Function.prototype.bind.call(console.info,console,`%cM ${r}`,"background-color: wheat; color: black; padding: 2px 10px; border-radius: 3px;",...l),a.debug=Function.prototype.bind.call(console.debug,console,`%cM ${r}`,"background-color: steelblue; color: black; padding: 2px 10px; border-radius: 3px;",...l),a}},26017:(e,t,n)=>{"use strict";n.r(t),n.d(t,{absoluteLink:()=>b,canHideTabs:()=>j,changeDetect:()=>S,checkDoubleExecution:()=>A,clearCache:()=>se,elementInViewport:()=>Z,episode:()=>p,favicon:()=>h,flashConfirm:()=>V,flashm:()=>K,fullUrlChangeDetect:()=>k,getAsyncWaitUntilTrue:()=>T,getBaseText:()=>u,getContinueWaching:()=>N,getEntrySettings:()=>R,getResumeWaching:()=>P,getStatusText:()=>H,getTooltip:()=>D,getUrlFromTags:()=>C,getselect:()=>v,handleMalImages:()=>U,htmlDecode:()=>ee,isDomainMatching:()=>ae,isFirefox:()=>te,lazyload:()=>Y,notifications:()=>B,pageUrl:()=>J,parseHtml:()=>_,planTo:()=>d,rateLimitExclude:()=>g,returnYYYYMMDD:()=>Q,setContinueWaching:()=>I,setEntrySettings:()=>O,setResumeWaching:()=>M,setUrlInTags:()=>L,sortAlphabetically:()=>ie,status:()=>y,statusTag:()=>W,syncRegex:()=>f,timeCache:()=>z,timeDiffToText:()=>F,upperCaseFirstLetter:()=>re,urlChangeDetect:()=>w,urlParam:()=>c,urlPart:()=>o,urlStrip:()=>l,wait:()=>X,waitForPageToBeVisible:()=>ne,waitUntilTrue:()=>x,watching:()=>m});var s=n(7263),i=n(13647),a=n(78584),r=n(26017);function o(e,t){if(!e)return"";const n=e.split("/");return n[t]?n[t].replace(/[#?].*/,""):""}function l(e){return e.replace(/[#?].*/,"")}function c(e,t){const n=new RegExp(`[?&]${t}=([^&#]*)`).exec(e);return null===n?null:decodeURI(n[1])||0}function u(e){let t=e.text();return e.children().each((function(){t=t.replace(s.$(this).text(),"")})),t}function h(e){if(!e)return"";const t=e.match(/^(https?:\/\/)?[^/]+/);return t&&(e=t[0]),`https://favicon.malsync.moe/?domain=${e}`}function m(e){return"manga"===e?"Reading":"Watching"}function d(e){return"manga"===e?"Plan to Read":"Plan to Watch"}function p(e){return"manga"===e?i.storage.lang("UI_Chapter"):i.storage.lang("UI_Episode")}const f=/(^settings\/.*|^updateCheckTime$|^tempVersion$|^local:\/\/|^list-tagSettings$)/,g=/^https:\/\/api.malsync.moe\/(shark|mal\/|nc\/mal\/.*\/progress$)/i;var y;function v(e,t){let n=e.split(`name="${t}"`)[1].split("</select>")[0];if(n.indexOf('selected="selected"')>-1){n=n.split("<option");for(let e=0;e<n.length;++e)if(n[e].indexOf('selected="selected"')>-1)return n[e].split('value="')[1].split('"')[0]}return""}function b(e,t){return void 0===e||e.startsWith("http")||("/"!==e.charAt(0)&&(e=`/${e}`),e=t+e),e}function _(e){return(new DOMParser).parseFromString(`<!doctype html><body>${e}`,"text/html").body.textContent}function w(e){let t=window.location.href;return setInterval((function(){t!==window.location.href&&(t=window.location.href,e())}),100)}function k(e,t=!1){let n="";const s=setInterval((function(){const s=t?l(window.location.href):window.location.href;n!==s&&(n=s,e())}),100);return Number(s)}function S(e,t,n=!1){let s=t();const i=setInterval((function(){const n=t();void 0!==n&&s!==n&&(s=t(),e())}),500);return n&&e(),Number(i)}function x(e,t,n=100){const s=setInterval((function(){e()&&(clearInterval(s),t())}),n);return s}function T(e,t=100){let n,s;const i=()=>{clearTimeout(n),s&&s("AsyncWait stopped")};return{asyncWaitUntilTrue:()=>(i(),new Promise(((i,a)=>{s=a,n=x(e,(()=>i()),t)}))),reset:i}}!function(e){e[e.watching=1]="watching",e[e.completed=2]="completed",e[e.onhold=3]="onhold",e[e.dropped=4]="dropped",e[e.planToWatch=6]="planToWatch"}(y||(y={}));const E=Math.random();function A(){$(".mal-sync-double-detect").length&&$(".mal-sync-double-detect").each((function(e){$(this).text()!==E.toString()&&alert("Double execution detected! Please run MAL-Sync once only.")})),$("body").after(s.html(`<div class="mal-sync-double-detect" style="display: none;">${E.toString()}</div>`))}function C(e){return/malSync::[\d\D]+::/.test(e)?t(e.split("malSync::")[1].split("::")[0]):/last::[\d\D]+::/.test(e)?t(e.split("last::")[1].split("::")[0]):void 0;function t(e){try{return atob(e)}catch(t){return e}}}function L(e,t){if(""===e)return t.replace(/,?(malSync|last)::[^ \n]+?::/,"");if(!i.settings.get("malTags"))return t;const n=`malSync::${btoa(e)}::`;return/(last|malSync)::[\d\D]+::/.test(t)?t.replace(/(last|malSync)::[^^]*?::/,n):`${t},${n}`}async function M(e,t,n,s){return i.storage.set(`resume/${n}/${s}`,{url:e,ep:t})}async function P(e,t){if(i.settings.get("malResume"))return i.storage.get(`resume/${e}/${t}`)}async function I(e,t,n,s){return i.storage.set(`continue/${n}/${s}`,{url:e,ep:t})}async function N(e,t){if(i.settings.get("malContinue"))return i.storage.get(`continue/${e}/${t}`)}async function O(e,t,n,s=""){const a={};if(n){for(const e in n)switch(e){case"u":case"p":a[e]=n[e]}i.settings.get("malTags")?s=L(JSON.stringify(a),s):await i.storage.set(`tagSettings/${e}/${t}`,JSON.stringify(a))}return Object.values(a).find((e=>Boolean(e)))||(s=L("",s),i.settings.get("malTags")||await i.storage.remove(`tagSettings/${e}/${t}`)),s}async function R(e,t,n=""){const s={u:null,c:null,r:null,p:""};if(i.settings.get("malTags")){const e=C(n);if(e)if("{"===e[0])try{const t=JSON.parse(e);for(const e in s)t[e]&&(s[e]=t[e])}catch(e){a.error(e)}else s.u=e}else{let n=await i.storage.get(`tagSettings/${e}/${t}`);if(n){n=JSON.parse(n);for(const e in s)n[e]&&(s[e]=n[e])}}const r=await N(e,t);r&&(s.c=r);const o=await P(e,t);return o&&(s.r=o),i.settings.get("usedPage")||(s.u=null),s}function U(e){return-1!==e.indexOf("questionmark")?i.storage.assetUrl("questionmark.gif"):e}function D(e,t="",n="top"){const s=Math.floor(1e3*Math.random()+1);return`<div id="tt${s}" class="icon material-icons" style="font-size:16px; line-height: 0; color: #7f7f7f; padding-bottom: 20px; padding-left: 3px; ${t}">contact_support</div>  <div class="mdl-tooltip mdl-tooltip--${n} mdl-tooltip--large" for="tt${s}">${e}</div>`}function F(e){let t="";e/=1e3;const n=Math.floor(e/31536e3);e-=31536e3*n,n&&(t+=`${n}y `);const s=Math.floor(e/86400);e-=86400*s,s&&(t+=`${s}d `);const i=Math.floor(e/3600)%24;e-=3600*i,i&&s<2&&(t+=`${i}h `);const a=Math.floor(e/60)%60;return e-=60*a,a&&!s&&i<3&&(t+=`${a}min `),t}function j(){return"undefined"!=typeof browser&&void 0!==browser.tabs.hide}function W(e,t,n){const s={anime:{1:{class:"watching",text:"CW",title:i.storage.lang(`UI_Status_watching_${t}`)},2:{class:"completed",text:"CMPL",title:i.storage.lang("UI_Status_Completed")},3:{class:"on-hold",text:"HOLD",title:i.storage.lang("UI_Status_OnHold")},4:{class:"dropped",text:"DROP",title:i.storage.lang("UI_Status_Dropped")},6:{class:"plantowatch",text:"PTW",title:i.storage.lang(`UI_Status_planTo_${t}`)},23:{class:"rewatching",text:"RE",title:i.storage.lang(`UI_Status_Rewatching_${t}`)}},manga:{1:{class:"reading",text:"CR",title:i.storage.lang(`UI_Status_watching_${t}`)},2:{class:"completed",text:"CMPL",title:i.storage.lang("UI_Status_Completed")},3:{class:"on-hold",text:"HOLD",title:i.storage.lang("UI_Status_OnHold")},4:{class:"dropped",text:"DROP",title:i.storage.lang("UI_Status_Dropped")},6:{class:"plantoread",text:"PTR",title:i.storage.lang(`UI_Status_planTo_${t}`)},23:{class:"rewatching",text:"RE",title:i.storage.lang(`UI_Status_Rewatching_${t}`)}}};if($.each([1,2,3,4,6,23],(function(e,t){s.anime[s.anime[t].title]=s.anime[t],s.manga[s.manga[t].title]=s.manga[t]})),e&&s[t][e]){const i=s[t][e];return` <a href="https://myanimelist.net/ownlist/${t}/${n}/edit?hideLayout=1" title="${i.title}" class="Lightbox_AddEdit button_edit ${i.class}">${i.text}</a>`}return!1}function H(e,t){switch(t){case 1:return i.storage.lang(`UI_Status_watching_${e}`);case 2:return i.storage.lang("UI_Status_Completed");case 3:return i.storage.lang("UI_Status_OnHold");case 4:return i.storage.lang("UI_Status_Dropped");case 6:return i.storage.lang(`UI_Status_planTo_${e}`);case 7:return i.storage.lang("UI_Status_All");case 23:return i.storage.lang(`UI_Status_Rewatching_${e}`);default:return""}}function B(e,t,n,s=""){const r={type:"basic",title:t,message:n,iconUrl:s};a.log("Notification",e,r),i.storage.get("notificationHistory").then((t=>{void 0===t&&(t=[]),"object"==typeof t&&(t.length>=10&&t.shift(),t.push({url:e,title:r.title,message:r.message,iconUrl:r.iconUrl,timestamp:Date.now()}),i.storage.set("notificationHistory",t))}));try{return chrome.notifications.create(e,r)}catch(e){a.error(e)}}async function z(e,t,n){const s=await i.storage.get(e);if("object"==typeof s&&(new Date).getTime()<s.timestamp)return s.data;const a=await t();return i.storage.set(e,{data:a,timestamp:(new Date).getTime()+n}).then((()=>a))}function K(e,t){s.$("#flash-div-top").length||function(){i.storage.addStyle('.flashinfo{\n                    transition: max-height 2s, opacity 2s 2s;\n                 }\n                 .mini-stealth .flashinfo{\n                    opacity: 0;\n                 }\n                  #flashinfo-div.hover.mini-stealth .flashinfo.type-update{\n                    opacity: 0.7;\n                 }\n                 #flashinfo-div.hover .flashinfo{\n                    opacity: 1;\n                 }\n                 .flashinfo:hover{\n                    max-height:5000px !important;\n                    z-index: 2147483647;\n                    opacity: 1;\n                    transition: max-height 2s;\n                 }\n                 .flashinfo .synopsis{\n                    transition: max-height 2s, max-width 2s ease 2s;\n                 }\n                 .flashinfo:hover .synopsis{\n                    max-height:9999px !important;\n                    max-width: 500px !important;\n                    transition: max-height 2s;\n                 }\n                 #flashinfo-div{\n                  z-index: 2;\n                  transition: 2s;\n                 }\n                 #flashinfo-div:hover, #flashinfo-div.hover{\n                  z-index: 2147483647;\n                 }\n                 #flashinfo-div.player-error {\n                   z-index: 2147483647;\n                 }\n                 #flashinfo-div.player-error .type-update{\n                  overflow: visible !important;\n                  opacity: 1 !important;\n                 }\n                 #flashinfo-div.player-error .player-error{\n                  display: block !important\n                 }\n                 #flashinfo-div.player-error-missing-permissions .player-error-missing-permissions{\n                  display: block !important\n                 }\n                 #flashinfo-div.player-error-missing-permissions .player-error-default{\n                  display: none !important\n                 }\n\n                 #flash-div-top, #flash-div-bottom, #flashinfo-div{\n                    font-family: "Helvetica","Arial",sans-serif;\n                    color: white;\n                    font-size: 14px;\n                    font-weight: 400;\n                    line-height: 17px;\n                 }\n                 #flash-div-top h2, #flash-div-bottom h2, #flashinfo-div h2{\n                    font-family: "Helvetica","Arial",sans-serif;\n                    color: white;\n                    font-size: 14px;\n                    font-weight: 700;\n                    line-height: 17px;\n                    padding: 0;\n                    margin: 0;\n                 }\n                 #flash-div-top a, #flash-div-bottom a, #flashinfo-div a{\n                    color: #DF6300;\n                 }');let e="";i.settings.get("floatButtonStealth")&&(e="mini-stealth"),s.$("body").after(s.html(`<div id="flash-div-top" dir="${i.storage.langDirection()}" style="text-align: center;pointer-events: none;position: fixed;top:-5px;width:100%;z-index: 2147483647;left: 0;"></div>        <div id="flash-div-bottom" dir="${i.storage.langDirection()}" style="text-align: center;pointer-events: none;position: fixed;bottom:0px;width:100%;z-index: 2147483647;left: 0;"><div id="flash" style="display:none;  background-color: red;padding: 20px; margin: 0 auto;max-width: 60%;          -webkit-border-radius: 20px;-moz-border-radius: 20px;border-radius: 20px;background:rgba(227,0,0,0.6);"></div></div>        <div id="flashinfo-div" dir="${i.storage.langDirection()}" class="${e}" style="text-align: center;pointer-events: none;position: fixed;bottom:0px;width:100%;left: 0;">`))}(),a.log("[Flash] Message:",e);let n="#323232";void 0!==t&&void 0!==t.error&&t.error&&(n="#3e0808");let r="#flash-div-bottom";void 0!==t&&void 0!==t.position&&t.position&&(r=`#flash-div-${t.position}`);let o="flash";if(void 0!==t&&void 0!==t.type&&t.type){const e=`type-${t.type}`;s.$(`${r} .${e}, #flashinfo-div .${e}`).removeClass(e).fadeOut({duration:1e3,queue:!1,complete(){s.$(this).remove()}}),o+=` ${e}`}let l,c=`<div class="${o}" style="display:none;">        <div style="display:table; pointer-events: all; padding: 14px 24px 14px 24px; margin: 0 auto; margin-top: 5px; max-width: 60%; -webkit-border-radius: 20px;-moz-border-radius: 20px;border-radius: 2px;color: white;background:${n}; ">          ${e}        </div>      </div>`;return void 0!==t&&void 0!==t.hoverInfo&&t.hoverInfo?(o+=" flashinfo",c=`<div class="${o}" style="display:none; max-height: 5000px; overflow: hidden;"><div style="display:table; pointer-events: all; margin: 0 auto; margin-top: -2px; max-width: 60%; -webkit-border-radius: 20px;-moz-border-radius: 20px;border-radius: 2px;color: white;background:${n}; position: relative;"><div style="max-height: 60vh; overflow-y: auto; padding: 14px 24px 14px 24px;">${e}</div></div></div>`,s.$("#flashinfo-div").addClass("hover"),l=s.$(s.html(c)).appendTo("#flashinfo-div"),void 0!==t&&void 0!==t.minimized&&t.minimized&&l.css("max-height","8px")):l=s.$(s.html(c)).appendTo(r),void 0!==t&&void 0!==t.permanent&&t.permanent?l.slideDown(800):void 0!==t&&void 0!==t.hoverInfo&&t.hoverInfo?l.slideDown(800).delay(4e3).queue((function(){s.$("#flashinfo-div").removeClass("hover"),l.css("max-height","8px")})):l.slideDown(800).delay(4e3).slideUp(800,(()=>{s.$(this).remove()})),l}async function V(e,t,n=(()=>{}),a=(()=>{}),r=!1){return new Promise((function(o,l){let c=i.storage.lang("Ok"),u=i.storage.lang("Cancel");r&&(c=i.storage.lang("Yes"),u=i.storage.lang("No"));const h=K(e=`<div style="text-align: center;">${e}</div><div style="display: flex; justify-content: space-around;"><button class="Yes" style="background-color: transparent; border: none; color: rgb(255,64,129);margin-top: 10px; cursor:pointer;">${c}</button><button class="Cancel" style="background-color: transparent; border: none; color: rgb(255,64,129);margin-top: 10px; cursor:pointer;">${u}</button></div>`,{permanent:!0,position:"top",type:t});h.find(".Yes").click((function(e){o(!0),s.$(e.target).parentsUntil(".flash").fadeOut(300,(function(){s.$(this).remove()})),n()})),h.find(".Cancel").click((function(e){o(!1),s.$(e.target).parentsUntil(".flash").fadeOut(300,(function(){s.$(this).remove()})),a()}))}))}let G=!1,q=[];function Y(e,t=".mdl-layout__content"){function n(e,t){if(!s.$(e).is(":visible"))return!1;if(s.$(e).hasClass("lazyBack"))s.$(e).css("background-image",`url(${e.getAttribute("data-src")})`).removeClass("lazyBack");else{const n=new Image,s=e.getAttribute("data-src");n.onload=function(){e.parent?e.parent.replaceChild(n,e):e.src=s,t&&t()},n.src=s}}for(let e=0;e<q.length;e++)$(q[e]).addClass("init");q=[];const i=e.find("img.lazy.init, .lazyBack.init"),a=function(){for(let e=0;e<q.length;e++)r.elementInViewport(q[e],600)&&n(q[e],(function(){q.splice(e,e)})),$(q[e]).length||q.splice(e,e)};for(let e=0;e<i.length;e++)q.push(i[e]),$(i[e]).removeClass("init");a(),G||(G=!0,e.find(t).scroll((function(){a()})))}function Z(e,t=0){const n=e.getBoundingClientRect();return n.top>=0&&n.left>=0&&n.top-t<=(window.innerHeight||document.documentElement.clientHeight)}function X(e){return new Promise((t=>{setTimeout(t,e)}))}function J(e,t,n){switch(e){case"mal":return`https://myanimelist.net/${t}/${n}`;case"anilist":return`https://anilist.co/${t}/${n}`;case"kitsu":return`https://kitsu.app/${t}/${n}`;case"simkl":return`https://simkl.com/${t}/${n}`;default:throw`${e} not a valid page`}}function Q(e=0){const t=new Date;t.setDate(t.getDate()+e);const n=t.getMonth()<9?`0${t.getMonth()+1}`:t.getMonth()+1,s=t.getDate()<10?`0${t.getDate()}`:t.getDate();return`${t.getFullYear()}-${n}-${s}`}function ee(e){return $("<textarea/>").html(s.html(e)).text()}function te(){return Boolean("undefined"!=typeof browser&&"undefined"!=typeof chrome)}function ne(){const e=()=>Boolean(!document.visibilityState||"visible"===document.visibilityState);if(e())return Promise.resolve();a.log("Page in background");const{asyncWaitUntilTrue:t}=T((()=>e()));return t().then((()=>{a.log("Page is visible")}))}async function se(){const e=await i.storage.list();let t=0;s.$.each(e,(function(e,n){r.syncRegex.test(String(e))||/(^tagSettings\/.*)/.test(String(e))||(i.storage.remove(String(e)),t++)})),r.flashm(`Cache Cleared [${t}]`)}function ie(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0}function ae(e,t){const n=new URL(e),{host:s}=n;return s===t||s.endsWith(`.${t}`)}function re(e){return!e||e.length<2?e:e.charAt(0).toUpperCase()+e.slice(1)}},7263:(e,t,n)=>{"use strict";n.r(t),n.d(t,{$:()=>i,html:()=>a});var s=n(42838);const i=jQuery;function a(e){return s.sanitize(e,{SAFE_FOR_JQUERY:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ADD_ATTR:["target"]})}},66262:(e,t)=>{"use strict";t.A=(e,t)=>{const n=e.__vccOpts||e;for(const[e,s]of t)n[e]=s;return n}},52163:e=>{"use strict";e.exports=JSON.parse('[{"key":"nineAnime","name":"Aniwave","domain":"https://aniwave.to","database":"9anime","search":{"anime":"https://aniwave.to/filter?keyword={searchtermPlus}","manga":null}},{"key":"Crunchyroll","name":"Crunchyroll","domain":"https://www.crunchyroll.com","database":"Crunchyroll","search":{"anime":"https://www.crunchyroll.com/search?q={searchtermPlus}","manga":null}},{"key":"Mangadex","name":"Mangadex","domain":"https://www.mangadex.org","database":"Mangadex","search":{"anime":null,"manga":"https://mangadex.org/titles?q={searchterm}"}},{"key":"Gogoanime","name":"Gogoanime","domain":"https://gogoanime.tv","database":"Gogoanime","search":{"anime":"https://anitaku.pe/search.html?keyword={searchterm}","manga":null}},{"key":"TurkAnime","name":"TurkAnime","domain":"https://www.turkanime.co","database":null,"search":{"anime":"home","manga":null}},{"key":"animepahe","name":"animepahe","domain":"https://animepahe.com","database":"animepahe","search":{"anime":"home","manga":null}},{"key":"Netflix","name":"Netflix","domain":"https://www.netflix.com","database":"Netflix","search":{"anime":"https://www.netflix.com/search?q={searchterm}","manga":null}},{"key":"Animeflv","name":"Animeflv","domain":"https://animeflv.net","database":null,"search":{"anime":"https://www3.animeflv.net/browse?q={searchtermPlus}","manga":null}},{"key":"Jkanime","name":"Jkanime","domain":"https://jkanime.net","database":null,"search":{"anime":"https://jkanime.net/buscar/{searchterm}","manga":null}},{"key":"Proxer","name":"Proxer","domain":"https://proxer.me","database":null,"search":{"anime":"https://proxer.me/search?s=search&name={searchterm}&typ=all-anime&tags=&notags=#top","manga":"https://proxer.me/search?s=search&name={searchterm}&typ=all-manga&tags=&notags=#top"}},{"key":"Emby","name":"Emby","domain":"http://app.emby.media","database":null,"search":{"anime":"home","manga":null}},{"key":"Plex","name":"Plex","domain":"http://app.plex.tv","database":null,"search":{"anime":"home","manga":null}},{"key":"Aniflix","name":"Aniflix","domain":"https://aniflix.cc","database":null,"search":{"anime":"home","manga":null}},{"key":"KickAssAnime","name":"KickAssAnime","domain":"https://kickassanime.am","database":null,"search":{"anime":"home","manga":null}},{"key":"Shinden","name":"Shinden","domain":"https://shinden.pl","database":null,"search":{"anime":"https://shinden.pl/series?search={searchtermPlus}","manga":null}},{"key":"Voiranime","name":"Voiranime","domain":"https://voiranime.com","database":null,"search":{"anime":"https://voiranime.com/?s={searchtermPlus}","manga":null}},{"key":"MangaNato","name":"MangaNato","domain":"https://chapmanganato.com","database":"MangaNato","search":{"anime":null,"manga":"https://manganato.com/search/story/{searchterm(_)[noSpecial]}"}},{"key":"VIZ","name":"VIZ","domain":"https://www.viz.com","database":"VIZ","search":{"anime":null,"manga":"https://www.viz.com/search?search={searchtermPlus}"}},{"key":"NekoSama","name":"NekoSama","domain":"https://animecat.net","database":null,"search":{"anime":"home","manga":null}},{"key":"AnimeOdcinki","name":"AnimeOdcinki","domain":"https://anime-odcinki.pl","database":null,"search":{"anime":"https://anime-odcinki.pl/szukaj/{searchtermPlus}","manga":null}},{"key":"AnimeZone","name":"AnimeZone","domain":"https://www.animezone.pl","database":null,"search":{"anime":"home","manga":null}},{"key":"serimanga","name":"serimanga","domain":"https://serimanga.com","database":null,"search":{"anime":null,"manga":"https://serimanga.com/mangalar?search={searchtermPlus}"}},{"key":"mangadenizi","name":"mangadenizi","domain":"https://www.mangadenizi.net","database":null,"search":{"anime":null,"manga":"home"}},{"key":"moeclip","name":"moeclip","domain":"https://moeclip.com","database":null,"search":{"anime":"https://moeclip.com/search/{searchtermPlus}","manga":null}},{"key":"mangalivre","name":"Mang Livre","domain":"https://mangalivre.net","database":null,"search":{"anime":null,"manga":"home"}},{"key":"tmofans","name":"tmofans","domain":"https://visortmo.com","database":null,"search":{"anime":null,"manga":"https://lectortmo.com/library?_pg=1&title={searchtermPlus}"}},{"key":"MangaPlus","name":"MangaPlus","domain":"https://mangaplus.shueisha.co.jp","database":"MangaPlus","search":{"anime":null,"manga":"https://mangaplus.shueisha.co.jp/search_result?keyword={searchterm}"}},{"key":"JapScan","name":"JapScan","domain":"https://www.japscan.ws","database":null,"search":{"anime":null,"manga":"home"}},{"key":"AnimesVision","name":"AnimesVision","domain":"https://animes.vision","database":null,"search":{"anime":"home","manga":null}},{"key":"Hulu","name":"Hulu","domain":"https://www.hulu.com","database":"Hulu","search":{"anime":"home","manga":null}},{"key":"Hidive","name":"Hidive","domain":"https://www.hidive.com","database":"Hidive","search":{"anime":"https://www.hidive.com/search?q={searchtermPlus}","manga":null}},{"key":"PrimeVideo","name":"Amazon Prime Video","domain":"https://www.primevideo.com","database":null,"search":{"anime":"home","manga":null}},{"key":"MangaKatana","name":"MangaKatana","domain":"http://mangakatana.com","database":null,"search":{"anime":null,"manga":"http://mangakatana.com/?search={searchtermPlus}&search_by=book_name"}},{"key":"manga4life","name":"manga4life","domain":"https://manga4life.com","database":null,"search":{"anime":null,"manga":"https://manga4life.com/search/?name={searchterm}"}},{"key":"bato","name":"bato","domain":"https://bato.to","database":null,"search":{"anime":null,"manga":"https://bato.to/search?word={searchtermPlus}"}},{"key":"MangaPark","name":"MangaPark","domain":"https://mangapark.net","database":null,"search":{"anime":null,"manga":"https://mangapark.net/search?word={searchterm}"}},{"key":"AnimesHouse","name":"AnimesHouse","domain":"https://animeshouse.net","database":null,"search":{"anime":"home","manga":null}},{"key":"AnimeXin","name":"AnimeXin","domain":"https://animexin.vip","database":null,"search":{"anime":"https://animexin.vip/?s={searchtermPlus}","manga":null}},{"key":"MonosChinos","name":"MonosChinos","domain":"https://monoschinos2.com","database":null,"search":{"anime":"https://monoschinos2.com/buscar?q={searchtermPlus}","manga":null}},{"key":"Anime365","name":"Anime365","domain":"https://smotret-anime.net","database":null,"search":{"anime":"https://smotret-anime.net/catalog/search?q={searchtermPlus}","manga":null}},{"key":"AnimeFire","name":"AnimeFire","domain":"https://animefire.net","database":null,"search":{"anime":"home","manga":null}},{"key":"OtakuFR","name":"OtakuFR","domain":"https://otakufr.cc","database":null,"search":{"anime":"https://otakufr.cc/toute-la-liste-affiches/?q={searchtermPlus}","manga":null}},{"key":"mangatx","name":"mangatx","domain":"https://mangatx.com","database":null,"search":{"anime":null,"manga":"https://mangatx.com/?s={searchtermPlus}&post_type=wp-manga&post_type=wp-manga"}},{"key":"manhuafast","name":"manhuafast","domain":"https://manhuafast.com","database":null,"search":{"anime":null,"manga":"https://manhuafast.com/?s={searchtermPlus}&post_type=wp-manga&post_type=wp-manga"}},{"key":"TRanimeizle","name":"TRanimeizle","domain":"https://www.tranimeizle.net/","database":null,"search":{"anime":"home","manga":null}},{"key":"AnimeStreamingFR","name":"AnimeStreamingFR","domain":"https://beta.animestreamingfr.fr","database":null,"search":{"anime":"https://beta.animestreamingfr.fr/catalogue/search?query={searchtermPlus}","manga":null}},{"key":"Furyosociety","name":"Furyosociety","domain":"https://furyosociety.com/","database":null,"search":{"anime":null,"manga":"home"}},{"key":"AnimeId","name":"AnimeId","domain":"https://www.animeid.tv","database":null,"search":{"anime":"home","manga":null}},{"key":"MyAnimeListVideo","name":"MyAnimeList","domain":"https://myanimelist.net","database":null,"search":{"anime":"https://myanimelist.net/anime.php?q={searchterm}","manga":"https://myanimelist.net/manga.php?q={searchterm}"}},{"key":"AnimeUnity","name":"AnimeUnity","domain":"https://animeunity.it","database":null,"search":{"anime":"home","manga":null}},{"key":"MangaHere","name":"MangaHere","domain":"http://www.mangahere.cc","database":null,"search":{"anime":null,"manga":"http://www.mangahere.cc/search?title={searchtermPlus}"}},{"key":"MangaFox","name":"MangaFox","domain":"https://fanfox.net","database":"MangaFox","search":{"anime":null,"manga":"http://fanfox.net/search?title={searchtermPlus}"}},{"key":"DesuOnline","name":"DesuOnline","domain":"https://desu-online.pl","database":null,"search":{"anime":"https://desu-online.pl/?s={searchtermPlus}","manga":null}},{"key":"WuxiaWorld","name":"WuxiaWorld","domain":"https://wuxiaworld.site","database":null,"search":{"anime":null,"manga":"https://wuxiaworld.site/?s={searchtermPlus}&post_type=wp-manga"}},{"key":"LeviatanScans","name":"LeviatanScans","domain":"https://lscomic.com","database":null,"search":{"anime":null,"manga":"https://lscomic.com/?s={searchtermPlus}"}},{"key":"ReaperScans","name":"ReaperScans","domain":"https://reaperscans.com","database":null,"search":{"anime":null,"manga":"home"}},{"key":"LynxScans","name":"LynxScans","domain":"https://lynxscans.com","database":null,"search":{"anime":null,"manga":"https://lynxscans.com/comics?query={searchtermPlus}"}},{"key":"ZeroScans","name":"ZeroScans","domain":"https://zeroscans.com","database":null,"search":{"anime":null,"manga":"home"}},{"key":"DeathTollScans","name":"DeathTollScans","domain":"https://reader.deathtollscans.net","database":null,"search":{"anime":null,"manga":"home"}},{"key":"ManhuaPlus","name":"ManhuaPlus","domain":"https://manhuaplus.com","database":null,"search":{"anime":null,"manga":"https://manhuaplus.com/?s={searchtermPlus}&post_type=wp-manga"}},{"key":"Readm","name":"Readm","domain":"https://readm.today","database":null,"search":{"anime":null,"manga":"home"}},{"key":"tioanime","name":"tioanime","domain":"https://tioanime.com","database":null,"search":{"anime":"https://tioanime.com/directorio?q={searchtermPlus}","manga":null}},{"key":"YugenAnime","name":"YugenAnime","domain":"https://yugenanime.tv","database":"YugenAnime","search":{"anime":"https://yugenanime.tv/discover/?q={searchtermPlus}","manga":null}},{"key":"MangaSee","name":"MangaSee","domain":"https://mangasee123.com","database":"MangaSee","search":{"anime":null,"manga":"https://mangasee123.com/search/?name={searchterm}"}},{"key":"Okanime","name":"Okanime","domain":"https://okanime.tv","database":null,"search":{"anime":"https://okanime.tv/search?search={searchtermPlus}","manga":null}},{"key":"BSTO","name":"bs.to","domain":"https://bs.to","database":null,"search":{"anime":"home","manga":null}},{"key":"AsuraScans","name":"AsuraScans","domain":"https://asuratoon.com","database":null,"search":{"anime":null,"manga":"https://asuracomics.com/?s={searchtermPlus}"}},{"key":"Jellyfin","name":"Jellyfin","domain":"https://jellyfin.org/","database":null,"search":{"anime":"home","manga":null}},{"key":"An1me","name":"An1me","domain":"https://an1me.to","database":null,"search":{"anime":"https://an1me.to/?s={searchtermPlus}&post_type=wp-manga","manga":null}},{"key":"MangaJar","name":"MangaJar","domain":"https://mangajar.pro","database":null,"search":{"anime":null,"manga":"https://mangajar.pro/search?q={searchtermPlus}"}},{"key":"Otakustv","name":"Otakustv","domain":"https://www.otakustv.com","database":null,"search":{"anime":"https://www.otakustv.com/buscador.php?buscador={searchterm}","manga":null}},{"key":"Komga","name":"Komga","domain":"https://komga.org","database":null,"search":{"anime":null,"manga":"home"}},{"key":"AnimeWho","name":"AnimeWho","domain":"https://animewho.com","database":null,"search":{"anime":"home","manga":null}},{"key":"AnimeSuge","name":"AnimeSuge","domain":"https://animesuge.to","database":null,"search":{"anime":"home","manga":null}},{"key":"Toonily","name":"Toonily","domain":"https://toonily.com","database":null,"search":{"anime":null,"manga":"https://toonily.com/?s={searchtermPlus}&post_type=wp-manga"}},{"key":"Fumetsu","name":"Fumetsu","domain":"https://fumetsu.pl","database":null,"search":{"anime":"home","manga":null}},{"key":"FrixySubs","name":"FrixySubs","domain":"https://frixysubs.pl","database":null,"search":{"anime":"https://frixysubs.pl/anime-list?search={searchtermPlus}","manga":null}},{"key":"Guya","name":"Guya & Cubari","domain":"https://guya.moe","database":null,"search":{"anime":null,"manga":"home"}},{"key":"MangaHub","name":"MangaHub","domain":"https://mangahub.io","database":null,"search":{"anime":null,"manga":"https://mangahub.io/search?q={searchterm}"}},{"key":"ComicK","name":"ComicK","domain":"https://comick.io","database":"Comick","search":{"anime":null,"manga":"https://comick.io/search?q={searchterm}"}},{"key":"Bentomanga","name":"Bentomanga","domain":"https://bentomanga.com","database":null,"search":{"anime":null,"manga":"https://www.bentomanga.com/manga_list?search={searchterm}"}},{"key":"MangaSushi","name":"MangaSushi","domain":"https://mangasushi.net","database":null,"search":{"anime":null,"manga":"https://mangasushi.net/?s={searchtermPlus}&post_type=wp-manga"}},{"key":"TritiniaScans","name":"TritiniaScans","domain":"https://tritinia.com","database":null,"search":{"anime":null,"manga":"https://tritinia.com/?s={searchtermPlus}&post_type=wp-manga"}},{"key":"ReadManhua","name":"ReadManhua","domain":"https://readmanhua.net","database":null,"search":{"anime":null,"manga":"https://readmanhua.net/?s={searchtermPlus}&post_type=wp-manga"}},{"key":"FlameScans","name":"FlameScans","domain":"https://flamecomics.com","database":null,"search":{"anime":null,"manga":"https://flamecomics.com/?s={searchtermPlus}"}},{"key":"ImmortalUpdates","name":"ImmortalUpdates","domain":"https://immortalupdates.com","database":null,"search":{"anime":null,"manga":"https://immortalupdates.com/?s={searchtermPlus}&post_type=wp-manga"}},{"key":"Zoro","name":"HiAnime","domain":"https://hianime.to","database":"Zoro","search":{"anime":"https://hianime.to/search?keyword={searchtermPlus}","manga":null}},{"key":"Kitsune","name":"Kitsune","domain":"https://beta.kitsune.tv","database":null,"search":{"anime":"https://kitsune.tv/shows?q={searchterm}","manga":null}},{"key":"LHTranslation","name":"LHTranslation","domain":"https://lhtranslation.net","database":null,"search":{"anime":null,"manga":"https://lhtranslation.net/?s={searchtermPlus}&post_type=wp-manga"}},{"key":"MangasOrigines","name":"MangasOrigines","domain":"https://mangas-origines.fr/","database":null,"search":{"anime":null,"manga":"https://mangas-origines.fr/?s={searchtermPlus}&post_type=wp-manga"}},{"key":"BlueSolo","name":"BlueSolo","domain":"https://www.bluesolo.org","database":null,"search":{"anime":null,"manga":"home"}},{"key":"DisasterScans","name":"DisasterScans","domain":"https://disasterscans.com","database":null,"search":{"anime":null,"manga":"https://disasterscans.com/?s={searchtermPlus}&post_type=wp-manga"}},{"key":"DynastyScans","name":"DynastyScans","domain":"https://dynasty-scans.com","database":null,"search":{"anime":null,"manga":"https://dynasty-scans.com/search?q={searchtermPlus}"}},{"key":"Aniworld","name":"Aniworld","domain":"https://aniworld.to","database":null,"search":{"anime":"https://aniworld.to/search?q={searchterm}","manga":null}},{"key":"BetterAnime","name":"BetterAnime","domain":"https://betteranime.net","database":null,"search":{"anime":"https://betteranime.net/pesquisa?titulo={searchtermPlus}","manga":null}},{"key":"BilibiliComics","name":"BilibiliComics","domain":"https://manga.bilibili.com","database":null,"search":{"anime":null,"manga":"https://manga.bilibili.com/search?keyword={searchterm( )[noLowercase]}"}},{"key":"MangaReader","name":"MangaReader","domain":"https://mangareader.to","database":"MangaReader","search":{"anime":null,"manga":"https://mangareader.to/search?keyword={searchtermPlus}"}},{"key":"AnimeOnsen","name":"AnimeOnsen","domain":"https://animeonsen.xyz","database":null,"search":{"anime":"https://www.animeonsen.xyz/search/{searchterm}","manga":null}},{"key":"Animetoast","name":"Animetoast","domain":"https://www.animetoast.cc","database":null,"search":{"anime":"https://www.animetoast.cc/?s={searchterm}","manga":null}},{"key":"LuminousScans","name":"LuminousScans","domain":"https://luminous-scans.com","database":null,"search":{"anime":null,"manga":"https://luminous-scans.com/?s={searchtermPlus}"}},{"key":"Animeworld","name":"Animeworld","domain":"https://www.animeworld.tv","database":null,"search":{"anime":"home","manga":null}},{"key":"MangaBuddy","name":"MangaBuddy","domain":"https://mangabuddy.com","database":null,"search":{"anime":null,"manga":"https://mangabuddy.com/search?q={searchtermPlus}"}},{"key":"VoidScans","name":"VoidScans","domain":"https://hivetoon.com/","database":null,"search":{"anime":null,"manga":"https://hivetoon.com/?s={searchtermPlus}"}},{"key":"ToonAnime","name":"ToonAnime","domain":"https://vvww.toonanime.cc","database":null,"search":{"anime":"https://vvww.toonanime.cc/?story={searchtermPlus}&do=search&subaction=search","manga":null}},{"key":"ADKami","name":"ADKami","domain":"https://www.adkami.com/","database":null,"search":{"anime":"https://www.adkami.com/video?search={searchtermPlus}","manga":null}},{"key":"Kaguya","name":"Kaguya","domain":"https://kaguya.app","database":null,"search":{"anime":"https://kaguya.app/browse?keyword={searchtermPlus}","manga":null}},{"key":"Hdrezka","name":"Hdrezka","domain":"https://hdrezka.ag","database":null,"search":{"anime":"https://hdrezka.ag/search/?do=search&subaction=search&q={searchterm}","manga":null}},{"key":"SovetRomantica","name":"SovetRomantica","domain":"https://sovetromantica.com","database":null,"search":{"anime":"https://sovetromantica.com/anime?query={searchterm}","manga":null}},{"key":"ADN","name":"ADN","domain":"https://animationdigitalnetwork.com","database":null,"search":{"anime":"https://animationdigitalnetwork.fr/video?search={searchterm}","manga":null}},{"key":"Aniyan","name":"Aniyan","domain":"https://aniyan.net","database":"Aniyan","search":{"anime":"https://aniyan.net/?s={searchtermPlus}","manga":null}},{"key":"Docchi","name":"Docchi","domain":"https://docchi.pl","database":null,"search":{"anime":"home","manga":null}},{"key":"FRAnime","name":"FRAnime","domain":"https://franime.fr","database":null,"search":{"anime":"https://franime.fr/recherche?search={searchtermPlus}","manga":null}},{"key":"FMTeam","name":"FMTeam","domain":"https://fmteam.fr","database":null,"search":{"anime":null,"manga":"home"}},{"key":"Animelon","name":"Animelon","domain":"https://www.animelon.com","database":null,"search":{"anime":"https://www.animelon.com/search?searchTerm={searchTerm}","manga":null}},{"key":"AnimeSama","name":"AnimeSama","domain":"https://anime-sama.fr","database":null,"search":{"anime":"https://anime-sama.fr/catalogue/","manga":null}},{"key":"MangaFire","name":"MangaFire","domain":"https://mangafire.to","database":"MangaFire","search":{"anime":null,"manga":"https://mangafire.to/filter?keyword={searchtermPlus}"}},{"key":"projectsuki","name":"projectsuki","domain":"https://projectsuki.com","database":null,"search":{"anime":null,"manga":"https://projectsuki.com/search?q={searchtermPlus}"}},{"key":"AnimeBuff","name":"AnimeBuff","domain":"https://animebuff.ru","database":null,"search":{"anime":"https://animebuff.ru/search?q={searchtermPlus}","manga":null}},{"key":"AnimeOnegai","name":"AnimeOnegai","domain":"https://www.animeonegai.com","database":null,"search":{"anime":"https://www.animeonegai.com/es/search?q={searchterm}","manga":null}},{"key":"AnimeKO","name":"AnimeKO","domain":"https://animeko.co","database":null,"search":{"anime":"https://animeko.co/anime?search={searchtermPlus}","manga":null}},{"key":"AnimeGO","name":"AnimeGO","domain":"https://animego.org","database":null,"search":{"anime":"https://animego.org/search/all?q={searchterm}","manga":null}},{"key":"Animeflix","name":"Animeflix","domain":"https://animeflix.gg","database":null,"search":{"anime":"https://animeflix.gg/search/{searchterm}","manga":null}},{"key":"LuciferDonghua","name":"Lucifer Donghua","domain":"https://luciferdonghua.in","database":null,"search":{"anime":"https://luciferdonghua.in/?s={searchterm}","manga":null}},{"key":"NeoxScans","name":"NeoxScans","domain":"https://neoxscans.com/","database":null,"search":{"anime":null,"manga":"https://neoxscans.com/?post_type=wp-manga&s={searchtermPlus}"}},{"key":"Anix","name":"Anix","domain":"https://anix.to","database":null,"search":{"anime":"https://anix.to/filter?keyword={searchtermPlus}","manga":null}},{"key":"HinataSoul","name":"HinataSoul","domain":"https://hinatasoul.com","database":null,"search":{"anime":"https://www.hinatasoul.com/busca?busca={searchtermPlus}","manga":null}},{"key":"OgladajAnime","name":"OgladajAnime","domain":"https://ogladajanime.pl","database":null,"search":{"anime":"https://ogladajanime.pl/search/name/{searchtermPlus}","manga":null}},{"key":"hachi","name":"hachi","domain":"https://hachi.moe","database":null,"search":{"anime":null,"manga":"https://hachi.moe/search?query={searchterm}"}},{"key":"WitAnime","name":"WitAnime","domain":"https://witanime.pics","database":null,"search":{"anime":"https://witanime.pics/?search_param=animes&s={searchtermPlus}","manga":null}},{"key":"Suwayomi","name":"Suwayomi","domain":"https://suwayomi-webui-preview.github.io/","database":null,"search":{"anime":null,"manga":"https://suwayomi-webui-preview.github.io/sources/all/search/?query={searchtermPlus}"}},{"key":"ManhuaUS","name":"ManhuaUS","domain":"https://manhuaus.com","database":null,"search":{"anime":null,"manga":"https://manhuaus.com/?s={searchterm}&post_type=wp-manga&op=&author=&artist=&release=&adult="}},{"key":"Taiyo","name":"Taiyo","domain":"https://taiyo.moe","database":null,"search":{"anime":null,"manga":"home"}},{"key":"AnimesOnline","name":"Animes Online","domain":"https://animesonline.in","database":null,"search":{"anime":"https://www.animesonline.in/busca?s={searchtermPlus}","manga":null}},{"key":"Miruro","name":"Miruro","domain":"https://www.miruro.tv","database":null,"search":{"anime":"https://www.miruro.tv/search?query={searchterm}&sort=POPULARITY_DESC","manga":null}},{"key":"Latanime","name":"Latanime","domain":"https://latanime.org","database":null,"search":{"anime":"https://latanime.org/buscar?q={searchtermPlus}","manga":null}},{"key":"MangaRead","name":"MangaRead","domain":"https://www.mangaread.org","database":null,"search":{"anime":null,"manga":"https://www.mangaread.org/?s={searchtermPlus}&post_type=wp-manga"}},{"key":"Bakashi","name":"Bakashi","domain":"https://bakashi.tv","database":null,"search":{"anime":"https://bakashi.tv/?s={searchtermPlus}","manga":null}},{"key":"TempleScan","name":"TempleScan","domain":"https://templescan.net","database":null,"search":{"anime":null,"manga":"home"}}]')}},t={};function n(s){var i=t[s];if(void 0!==i)return i.exports;var a=t[s]={id:s,exports:{}};return e[s].call(a.exports,a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e=n(50953),t=n(90033);function s(e,t,n,s){try{return s?e(...s):e()}catch(e){a(e,t,n)}}function i(e,n,r,o){if((0,t.Tn)(e)){const i=s(e,n,r,o);return i&&(0,t.yL)(i)&&i.catch((e=>{a(e,n,r)})),i}if((0,t.cy)(e)){const t=[];for(let s=0;s<e.length;s++)t.push(i(e[s],n,r,o));return t}}function a(t,n,i,a=!0){if(n&&n.vnode,n){let a=n.parent;const r=n.proxy,o=`https://vuejs.org/error-reference/#runtime-${i}`;for(;a;){const e=a.ec;if(e)for(let n=0;n<e.length;n++)if(!1===e[n](t,r,o))return;a=a.parent}const l=n.appContext.config.errorHandler;if(l)return(0,e.C4)(),s(l,null,10,[t,r,o]),void(0,e.bl)()}!function(e,t,n,s=!0){console.error(e)}(t,0,0,a)}let r=!1,o=!1;const l=[];let c=0;const u=[];let h=null,m=0;const d=Promise.resolve();let p=null;function f(e){const t=p||d;return e?t.then(this?e.bind(this):e):t}function g(e){l.length&&l.includes(e,r&&e.allowRecurse?c+1:c)||(null==e.id?l.push(e):l.splice(function(e){let t=c+1,n=l.length;for(;t<n;){const s=t+n>>>1,i=l[s],a=_(i);a<e||a===e&&i.pre?t=s+1:n=s}return t}(e.id),0,e),y())}function y(){r||o||(o=!0,p=d.then(k))}function v(e,t,n=(r?c+1:0)){for(;n<l.length;n++){const t=l[n];if(t&&t.pre){if(e&&t.id!==e.uid)continue;l.splice(n,1),n--,t()}}}function b(e){if(u.length){const e=[...new Set(u)].sort(((e,t)=>_(e)-_(t)));if(u.length=0,h)return void h.push(...e);for(h=e,m=0;m<h.length;m++){const e=h[m];!1!==e.active&&e()}h=null,m=0}}const _=e=>null==e.id?1/0:e.id,w=(e,t)=>{const n=_(e)-_(t);if(0===n){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function k(e){o=!1,r=!0,l.sort(w),t.tE;try{for(c=0;c<l.length;c++){const e=l[c];e&&!1!==e.active&&s(e,null,14)}}finally{c=0,l.length=0,b(),r=!1,p=null,(l.length||u.length)&&k(e)}}function S(e,n,...s){if(e.isUnmounted)return;const a=e.vnode.props||t.MZ;let r=s;const o=n.startsWith("update:"),l=o&&n.slice(7);if(l&&l in a){const e=`${"modelValue"===l?"model":l}Modifiers`,{number:n,trim:i}=a[e]||t.MZ;i&&(r=s.map((e=>(0,t.Kg)(e)?e.trim():e))),n&&(r=s.map(t.bB))}let c,u=a[c=(0,t.rU)(n)]||a[c=(0,t.rU)((0,t.PT)(n))];!u&&o&&(u=a[c=(0,t.rU)((0,t.Tg)(n))]),u&&i(u,e,6,r);const h=a[c+"Once"];if(h){if(e.emitted){if(e.emitted[c])return}else e.emitted={};e.emitted[c]=!0,i(h,e,6,r)}}function x(e,n,s=!1){const i=n.emitsCache,a=i.get(e);if(void 0!==a)return a;const r=e.emits;let o={},l=!1;if(!(0,t.Tn)(e)){const i=e=>{const s=x(e,n,!0);s&&(l=!0,(0,t.X$)(o,s))};!s&&n.mixins.length&&n.mixins.forEach(i),e.extends&&i(e.extends),e.mixins&&e.mixins.forEach(i)}return r||l?((0,t.cy)(r)?r.forEach((e=>o[e]=null)):(0,t.X$)(o,r),(0,t.Gv)(e)&&i.set(e,o),o):((0,t.Gv)(e)&&i.set(e,null),null)}function T(e,n){return!(!e||!(0,t.Mp)(n))&&(n=n.slice(2).replace(/Once$/,""),(0,t.$3)(e,n[0].toLowerCase()+n.slice(1))||(0,t.$3)(e,(0,t.Tg)(n))||(0,t.$3)(e,n))}let E=null,A=null;function C(e){const t=E;return E=e,A=e&&e.type.__scopeId||null,t}function L(e){const{type:n,vnode:s,proxy:i,withProxy:r,propsOptions:[o],slots:l,attrs:c,emit:u,render:h,renderCache:m,props:d,data:p,setupState:f,ctx:g,inheritAttrs:y}=e,v=C(e);let b,_;try{if(4&s.shapeFlag){const e=r||i,t=e;b=Nt(h.call(t,e,m,d,f,p,g)),_=c}else{const e=n;b=Nt(e.length>1?e(d,{attrs:c,slots:l,emit:u}):e(d,null)),_=n.props?c:M(c)}}catch(t){vt.length=0,a(t,e,1),b=Mt(gt)}let w=b;if(_&&!1!==y){const e=Object.keys(_),{shapeFlag:n}=w;e.length&&7&n&&(o&&e.some(t.CP)&&(_=P(_,o)),w=$t(w,_,!1,!0))}return s.dirs&&(w=$t(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(s.dirs):s.dirs),s.transition&&(w.transition=s.transition),b=w,C(v),b}const M=e=>{let n;for(const s in e)("class"===s||"style"===s||(0,t.Mp)(s))&&((n||(n={}))[s]=e[s]);return n},P=(e,n)=>{const s={};for(const i in e)(0,t.CP)(i)&&i.slice(9)in n||(s[i]=e[i]);return s};function I(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let i=0;i<s.length;i++){const a=s[i];if(t[a]!==e[a]&&!T(n,a))return!0}return!1}const N=Symbol.for("v-ndc");function O(t,n,s=jt,a=!1){if(s){const r=s[t]||(s[t]=[]),o=n.__weh||(n.__weh=(...a)=>{(0,e.C4)();const r=zt(s),o=i(n,s,t,a);return r(),(0,e.bl)(),o});return a?r.unshift(o):r.push(o),o}}const R=e=>(t,n=jt)=>{Yt&&"sp"!==e||O(e,((...e)=>t(...e)),n)},U=R("bm"),D=R("m"),F=R("bu"),j=R("u"),W=R("bum"),H=R("um"),B=R("sp"),z=R("rtg"),K=R("rtc");function V(e,t=jt){O("ec",e,t)}function G(t,n,s,a){const r=t.dirs,o=n&&n.dirs;for(let l=0;l<r.length;l++){const c=r[l];o&&(c.oldValue=o[l].value);let u=c.dir[a];u&&((0,e.C4)(),i(u,s,8,[t.el,c,t,n]),(0,e.bl)())}}function q(e,n,s,i){let a;const r=s&&s[i];if((0,t.cy)(e)||(0,t.Kg)(e)){a=new Array(e.length);for(let t=0,s=e.length;t<s;t++)a[t]=n(e[t],t,void 0,r&&r[t])}else if("number"==typeof e){a=new Array(e);for(let t=0;t<e;t++)a[t]=n(t+1,t,void 0,r&&r[t])}else if((0,t.Gv)(e))if(e[Symbol.iterator])a=Array.from(e,((e,t)=>n(e,t,void 0,r&&r[t])));else{const t=Object.keys(e);a=new Array(t.length);for(let s=0,i=t.length;s<i;s++){const i=t[s];a[s]=n(e[i],i,s,r&&r[s])}}else a=[];return s&&(s[i]=a),a}const Y=e=>!!e.type.__asyncLoader,Z=e=>e?Vt(e)?Qt(e):Z(e.parent):null,X=(0,t.X$)(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Z(e.parent),$root:e=>Z(e.root),$emit:e=>e.emit,$options:e=>ie(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,g(e.update)}),$nextTick:e=>e.n||(e.n=f.bind(e.proxy)),$watch:e=>Ge.bind(e)}),J=(e,n)=>e!==t.MZ&&!e.__isScriptSetup&&(0,t.$3)(e,n),Q={get({_:n},s){if("__v_skip"===s)return!0;const{ctx:i,setupState:a,data:r,props:o,accessCache:l,type:c,appContext:u}=n;let h;if("$"!==s[0]){const e=l[s];if(void 0!==e)switch(e){case 1:return a[s];case 2:return r[s];case 4:return i[s];case 3:return o[s]}else{if(J(a,s))return l[s]=1,a[s];if(r!==t.MZ&&(0,t.$3)(r,s))return l[s]=2,r[s];if((h=n.propsOptions[0])&&(0,t.$3)(h,s))return l[s]=3,o[s];if(i!==t.MZ&&(0,t.$3)(i,s))return l[s]=4,i[s];te&&(l[s]=0)}}const m=X[s];let d,p;return m?("$attrs"===s&&(0,e.u4)(n.attrs,"get",""),m(n)):(d=c.__cssModules)&&(d=d[s])?d:i!==t.MZ&&(0,t.$3)(i,s)?(l[s]=4,i[s]):(p=u.config.globalProperties,(0,t.$3)(p,s)?p[s]:void 0)},set({_:e},n,s){const{data:i,setupState:a,ctx:r}=e;return J(a,n)?(a[n]=s,!0):i!==t.MZ&&(0,t.$3)(i,n)?(i[n]=s,!0):!((0,t.$3)(e.props,n)||"$"===n[0]&&n.slice(1)in e||(r[n]=s,0))},has({_:{data:e,setupState:n,accessCache:s,ctx:i,appContext:a,propsOptions:r}},o){let l;return!!s[o]||e!==t.MZ&&(0,t.$3)(e,o)||J(n,o)||(l=r[0])&&(0,t.$3)(l,o)||(0,t.$3)(i,o)||(0,t.$3)(X,o)||(0,t.$3)(a.config.globalProperties,o)},defineProperty(e,n,s){return null!=s.get?e._.accessCache[n]=0:(0,t.$3)(s,"value")&&this.set(e,n,s.value,null),Reflect.defineProperty(e,n,s)}};function ee(e){return(0,t.cy)(e)?e.reduce(((e,t)=>(e[t]=null,e)),{}):e}let te=!0;function ne(e,n,s){i((0,t.cy)(e)?e.map((e=>e.bind(n.proxy))):e.bind(n.proxy),n,s)}function se(e,n,s,i){const a=i.includes(".")?qe(s,i):()=>s[i];if((0,t.Kg)(e)){const s=n[e];(0,t.Tn)(s)&&Ke(a,s)}else if((0,t.Tn)(e))Ke(a,e.bind(s));else if((0,t.Gv)(e))if((0,t.cy)(e))e.forEach((e=>se(e,n,s,i)));else{const i=(0,t.Tn)(e.handler)?e.handler.bind(s):n[e.handler];(0,t.Tn)(i)&&Ke(a,i,e)}}function ie(e){const n=e.type,{mixins:s,extends:i}=n,{mixins:a,optionsCache:r,config:{optionMergeStrategies:o}}=e.appContext,l=r.get(n);let c;return l?c=l:a.length||s||i?(c={},a.length&&a.forEach((e=>ae(c,e,o,!0))),ae(c,n,o)):c=n,(0,t.Gv)(n)&&r.set(n,c),c}function ae(e,t,n,s=!1){const{mixins:i,extends:a}=t;a&&ae(e,a,n,!0),i&&i.forEach((t=>ae(e,t,n,!0)));for(const i in t)if(s&&"expose"===i);else{const s=re[i]||n&&n[i];e[i]=s?s(e[i],t[i]):t[i]}return e}const re={data:oe,props:he,emits:he,methods:ue,computed:ue,beforeCreate:ce,created:ce,beforeMount:ce,mounted:ce,beforeUpdate:ce,updated:ce,beforeDestroy:ce,beforeUnmount:ce,destroyed:ce,unmounted:ce,activated:ce,deactivated:ce,errorCaptured:ce,serverPrefetch:ce,components:ue,directives:ue,watch:function(e,n){if(!e)return n;if(!n)return e;const s=(0,t.X$)(Object.create(null),e);for(const t in n)s[t]=ce(e[t],n[t]);return s},provide:oe,inject:function(e,t){return ue(le(e),le(t))}};function oe(e,n){return n?e?function(){return(0,t.X$)((0,t.Tn)(e)?e.call(this,this):e,(0,t.Tn)(n)?n.call(this,this):n)}:n:e}function le(e){if((0,t.cy)(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function ce(e,t){return e?[...new Set([].concat(e,t))]:t}function ue(e,n){return e?(0,t.X$)(Object.create(null),e,n):n}function he(e,n){return e?(0,t.cy)(e)&&(0,t.cy)(n)?[...new Set([...e,...n])]:(0,t.X$)(Object.create(null),ee(e),ee(null!=n?n:{})):n}function me(){return{app:null,config:{isNativeTag:t.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let de=0;function pe(e,n){return function(s,i=null){(0,t.Tn)(s)||(s=(0,t.X$)({},s)),null==i||(0,t.Gv)(i)||(i=null);const a=me(),r=new WeakSet;let o=!1;const l=a.app={_uid:de++,_component:s,_props:i,_container:null,_context:a,_instance:null,version:tn,get config(){return a.config},set config(e){},use:(e,...n)=>(r.has(e)||(e&&(0,t.Tn)(e.install)?(r.add(e),e.install(l,...n)):(0,t.Tn)(e)&&(r.add(e),e(l,...n))),l),mixin:e=>(a.mixins.includes(e)||a.mixins.push(e),l),component:(e,t)=>t?(a.components[e]=t,l):a.components[e],directive:(e,t)=>t?(a.directives[e]=t,l):a.directives[e],mount(t,r,c){if(!o){const u=Mt(s,i);return u.appContext=a,!0===c?c="svg":!1===c&&(c=void 0),r&&n?n(u,t):e(u,t,c),o=!0,l._container=t,t.__vue_app__=l,Qt(u.component)}},unmount(){o&&(e(null,l._container),delete l._container.__vue_app__)},provide:(e,t)=>(a.provides[e]=t,l),runWithContext(e){const t=fe;fe=l;try{return e()}finally{fe=t}}};return l}}let fe=null;function ge(e,n,s=!1){const i=jt||E;if(i||fe){const a=i?null==i.parent?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:fe._context.provides;if(a&&e in a)return a[e];if(arguments.length>1)return s&&(0,t.Tn)(n)?n.call(i&&i.proxy):n}}const ye={},ve=()=>Object.create(ye),be=e=>Object.getPrototypeOf(e)===ye;function _e(n,s,i,a){const[r,o]=n.propsOptions;let l,c=!1;if(s)for(let e in s){if((0,t.SU)(e))continue;const u=s[e];let h;r&&(0,t.$3)(r,h=(0,t.PT)(e))?o&&o.includes(h)?(l||(l={}))[h]=u:i[h]=u:T(n.emitsOptions,e)||e in a&&u===a[e]||(a[e]=u,c=!0)}if(o){const s=(0,e.ux)(i),a=l||t.MZ;for(let e=0;e<o.length;e++){const l=o[e];i[l]=we(r,s,l,a[l],n,!(0,t.$3)(a,l))}}return c}function we(e,n,s,i,a,r){const o=e[s];if(null!=o){const e=(0,t.$3)(o,"default");if(e&&void 0===i){const e=o.default;if(o.type!==Function&&!o.skipFactory&&(0,t.Tn)(e)){const{propsDefaults:t}=a;if(s in t)i=t[s];else{const r=zt(a);i=t[s]=e.call(null,n),r()}}else i=e}o[0]&&(r&&!e?i=!1:!o[1]||""!==i&&i!==(0,t.Tg)(s)||(i=!0))}return i}function ke(e,n,s=!1){const i=n.propsCache,a=i.get(e);if(a)return a;const r=e.props,o={},l=[];let c=!1;if(!(0,t.Tn)(e)){const i=e=>{c=!0;const[s,i]=ke(e,n,!0);(0,t.X$)(o,s),i&&l.push(...i)};!s&&n.mixins.length&&n.mixins.forEach(i),e.extends&&i(e.extends),e.mixins&&e.mixins.forEach(i)}if(!r&&!c)return(0,t.Gv)(e)&&i.set(e,t.Oj),t.Oj;if((0,t.cy)(r))for(let e=0;e<r.length;e++){const n=(0,t.PT)(r[e]);Se(n)&&(o[n]=t.MZ)}else if(r)for(const e in r){const n=(0,t.PT)(e);if(Se(n)){const s=r[e],i=o[n]=(0,t.cy)(s)||(0,t.Tn)(s)?{type:s}:(0,t.X$)({},s);if(i){const e=Ee(Boolean,i.type),s=Ee(String,i.type);i[0]=e>-1,i[1]=s<0||e<s,(e>-1||(0,t.$3)(i,"default"))&&l.push(n)}}}const u=[o,l];return(0,t.Gv)(e)&&i.set(e,u),u}function Se(e){return"$"!==e[0]&&!(0,t.SU)(e)}function xe(e){return null===e?"null":"function"==typeof e?e.name||"":"object"==typeof e&&e.constructor&&e.constructor.name||""}function Te(e,t){return xe(e)===xe(t)}function Ee(e,n){return(0,t.cy)(n)?n.findIndex((t=>Te(t,e))):(0,t.Tn)(n)&&Te(n,e)?0:-1}const Ae=e=>"_"===e[0]||"$stable"===e,Ce=e=>(0,t.cy)(e)?e.map(Nt):[Nt(e)],Le=(e,t,n)=>{if(t._n)return t;const s=function(e,t=E,n){if(!t)return e;if(e._n)return e;const s=(...n)=>{s._d&&kt(-1);const i=C(t);let a;try{a=e(...n)}finally{C(i),s._d&&kt(1)}return a};return s._n=!0,s._c=!0,s._d=!0,s}(((...e)=>Ce(t(...e))),n);return s._c=!1,s},Me=(e,n,s)=>{const i=e._ctx;for(const s in e){if(Ae(s))continue;const a=e[s];if((0,t.Tn)(a))n[s]=Le(0,a,i);else if(null!=a){const e=Ce(a);n[s]=()=>e}}},$e=(e,t)=>{const n=Ce(t);e.slots.default=()=>n},Pe=(e,n)=>{const s=e.slots=ve();if(32&e.vnode.shapeFlag){const e=n._;e?((0,t.X$)(s,n),(0,t.yQ)(s,"_",e,!0)):Me(n,s)}else n&&$e(e,n)},Ie=(e,n,s)=>{const{vnode:i,slots:a}=e;let r=!0,o=t.MZ;if(32&i.shapeFlag){const e=n._;e?s&&1===e?r=!1:((0,t.X$)(a,n),s||1!==e||delete a._):(r=!n.$stable,Me(n,a)),o=n}else n&&($e(e,n),o={default:1});if(r)for(const e in a)Ae(e)||null!=o[e]||delete a[e]};function Ne(n,i,a,r,o=!1){if((0,t.cy)(n))return void n.forEach(((e,n)=>Ne(e,i&&((0,t.cy)(i)?i[n]:i),a,r,o)));if(Y(r)&&!o)return;const l=4&r.shapeFlag?Qt(r.component):r.el,c=o?null:l,{i:u,r:h}=n,m=i&&i.r,d=u.refs===t.MZ?u.refs={}:u.refs,p=u.setupState;if(null!=m&&m!==h&&((0,t.Kg)(m)?(d[m]=null,(0,t.$3)(p,m)&&(p[m]=null)):(0,e.i9)(m)&&(m.value=null)),(0,t.Tn)(h))s(h,u,12,[c,d]);else{const s=(0,t.Kg)(h),i=(0,e.i9)(h);if(s||i){const e=()=>{if(n.f){const e=s?(0,t.$3)(p,h)?p[h]:d[h]:h.value;o?(0,t.cy)(e)&&(0,t.TF)(e,l):(0,t.cy)(e)?e.includes(l)||e.push(l):s?(d[h]=[l],(0,t.$3)(p,h)&&(p[h]=d[h])):(h.value=[l],n.k&&(d[n.k]=h.value))}else s?(d[h]=c,(0,t.$3)(p,h)&&(p[h]=c)):i&&(h.value=c,n.k&&(d[n.k]=c))};c?(e.id=-1,Oe(e,a)):e()}}}const Oe=function(e,n){var s;n&&n.pendingBranch?(0,t.cy)(e)?n.effects.push(...e):n.effects.push(e):(s=e,(0,t.cy)(s)?u.push(...s):h&&h.includes(s,s.allowRecurse?m+1:m)||u.push(s),y())};function Re(n,i){"boolean"!=typeof __VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&((0,t.We)().__VUE_PROD_HYDRATION_MISMATCH_DETAILS__=!1),(0,t.We)().__VUE__=!0;const{insert:r,remove:o,patchProp:u,createElement:h,createText:m,createComment:d,setText:p,setElementText:f,parentNode:y,nextSibling:_,setScopeId:w=t.tE,insertStaticContent:k}=n,E=(e,t,n,s=null,i=null,a=null,r=void 0,o=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!Et(e,t)&&(s=se(e),X(e,i,a,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:c,ref:u,shapeFlag:h}=t;switch(c){case ft:A(e,t,n,s);break;case gt:C(e,t,n,s);break;case yt:null==e&&M(t,n,s,r);break;case pt:F(e,t,n,s,i,a,r,o,l);break;default:1&h?$(e,t,n,s,i,a,r,o,l):6&h?j(e,t,n,s,i,a,r,o,l):(64&h||128&h)&&c.process(e,t,n,s,i,a,r,o,l,re)}null!=u&&i&&Ne(u,e&&e.ref,a,t||e,!t)},A=(e,t,n,s)=>{if(null==e)r(t.el=m(t.children),n,s);else{const n=t.el=e.el;t.children!==e.children&&p(n,t.children)}},C=(e,t,n,s)=>{null==e?r(t.el=d(t.children||""),n,s):t.el=e.el},M=(e,t,n,s)=>{[e.el,e.anchor]=k(e.children,t,n,s,e.el,e.anchor)},$=(e,t,n,s,i,a,r,o,l)=>{"svg"===t.type?r="svg":"math"===t.type&&(r="mathml"),null==e?P(t,n,s,i,a,r,o,l):R(e,t,i,a,r,o,l)},P=(e,n,s,i,a,o,l,c)=>{let m,d;const{props:p,shapeFlag:g,transition:y,dirs:v}=e;if(m=e.el=h(e.type,o,p&&p.is,p),8&g?f(m,e.children):16&g&&O(e.children,m,null,i,a,Ue(e,o),l,c),v&&G(e,null,i,"created"),N(m,e,e.scopeId,l,i),p){for(const n in p)"value"===n||(0,t.SU)(n)||u(m,n,null,p[n],o,e.children,i,a,ne);"value"in p&&u(m,"value",null,p.value,o),(d=p.onVnodeBeforeMount)&&Ut(d,i,e)}v&&G(e,null,i,"beforeMount");const b=function(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}(a,y);b&&y.beforeEnter(m),r(m,n,s),((d=p&&p.onVnodeMounted)||b||v)&&Oe((()=>{d&&Ut(d,i,e),b&&y.enter(m),v&&G(e,null,i,"mounted")}),a)},N=(e,t,n,s,i)=>{if(n&&w(e,n),s)for(let t=0;t<s.length;t++)w(e,s[t]);if(i&&t===i.subTree){const t=i.vnode;N(e,t,t.scopeId,t.slotScopeIds,i.parent)}},O=(e,t,n,s,i,a,r,o,l=0)=>{for(let c=l;c<e.length;c++){const l=e[c]=o?Ot(e[c]):Nt(e[c]);E(null,l,t,n,s,i,a,r,o)}},R=(e,n,s,i,a,r,o)=>{const l=n.el=e.el;let{patchFlag:c,dynamicChildren:h,dirs:m}=n;c|=16&e.patchFlag;const d=e.props||t.MZ,p=n.props||t.MZ;let g;if(s&&De(s,!1),(g=p.onVnodeBeforeUpdate)&&Ut(g,s,n,e),m&&G(n,e,s,"beforeUpdate"),s&&De(s,!0),h?U(e.dynamicChildren,h,l,s,i,Ue(n,a),r):o||K(e,n,l,null,s,i,Ue(n,a),r,!1),c>0){if(16&c)D(l,n,d,p,s,i,a);else if(2&c&&d.class!==p.class&&u(l,"class",null,p.class,a),4&c&&u(l,"style",d.style,p.style,a),8&c){const t=n.dynamicProps;for(let n=0;n<t.length;n++){const r=t[n],o=d[r],c=p[r];c===o&&"value"!==r||u(l,r,o,c,a,e.children,s,i,ne)}}1&c&&e.children!==n.children&&f(l,n.children)}else o||null!=h||D(l,n,d,p,s,i,a);((g=p.onVnodeUpdated)||m)&&Oe((()=>{g&&Ut(g,s,n,e),m&&G(n,e,s,"updated")}),i)},U=(e,t,n,s,i,a,r)=>{for(let o=0;o<t.length;o++){const l=e[o],c=t[o],u=l.el&&(l.type===pt||!Et(l,c)||70&l.shapeFlag)?y(l.el):n;E(l,c,u,null,s,i,a,r,!0)}},D=(e,n,s,i,a,r,o)=>{if(s!==i){if(s!==t.MZ)for(const l in s)(0,t.SU)(l)||l in i||u(e,l,s[l],null,o,n.children,a,r,ne);for(const l in i){if((0,t.SU)(l))continue;const c=i[l],h=s[l];c!==h&&"value"!==l&&u(e,l,h,c,o,n.children,a,r,ne)}"value"in i&&u(e,"value",s.value,i.value,o)}},F=(e,t,n,s,i,a,o,l,c)=>{const u=t.el=e?e.el:m(""),h=t.anchor=e?e.anchor:m("");let{patchFlag:d,dynamicChildren:p,slotScopeIds:f}=t;f&&(l=l?l.concat(f):f),null==e?(r(u,n,s),r(h,n,s),O(t.children||[],n,h,i,a,o,l,c)):d>0&&64&d&&p&&e.dynamicChildren?(U(e.dynamicChildren,p,n,i,a,o,l),(null!=t.key||i&&t===i.subTree)&&Fe(e,t,!0)):K(e,t,n,h,i,a,o,l,c)},j=(e,t,n,s,i,a,r,o,l)=>{t.slotScopeIds=o,null==e?512&t.shapeFlag?i.ctx.activate(t,n,s,r,l):W(t,n,s,i,a,r,l):H(e,t,l)},W=(n,i,r,o,l,c,u)=>{const h=n.component=function(n,s,i){const a=n.type,r=(s?s.appContext:n.appContext)||Dt,o={uid:Ft++,vnode:n,type:a,parent:s,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new e.yC(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:s?s.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ke(a,r),emitsOptions:x(a,r),emit:null,emitted:null,propsDefaults:t.MZ,inheritAttrs:a.inheritAttrs,ctx:t.MZ,data:t.MZ,props:t.MZ,attrs:t.MZ,slots:t.MZ,refs:t.MZ,setupState:t.MZ,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=s?s.root:o,o.emit=S.bind(null,o),n.ce&&n.ce(o),o}(n,o,l);if(Ze(n)&&(h.ctx.renderer=re),function(n,i=!1){i&&Bt(i);const{props:r,children:o}=n.vnode,l=Vt(n);!function(t,n,s,i=!1){const a={},r=ve();t.propsDefaults=Object.create(null),_e(t,n,a,r);for(const e in t.propsOptions[0])e in a||(a[e]=void 0);s?t.props=i?a:(0,e.Gc)(a):t.type.props?t.props=a:t.props=r,t.attrs=r}(n,r,l,i),Pe(n,o);const c=l?function(n,i){const r=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,Q);const{setup:o}=r;if(o){const r=n.setupContext=o.length>1?function(e){const t=t=>{e.exposed=t||{}};return{attrs:new Proxy(e.attrs,Jt),slots:e.slots,emit:e.emit,expose:t}}(n):null,l=zt(n);(0,e.C4)();const c=s(o,n,0,[n.props,r]);if((0,e.bl)(),l(),(0,t.yL)(c)){if(c.then(Kt,Kt),i)return c.then((e=>{Zt(n,e,i)})).catch((e=>{a(e,n,0)}));n.asyncDep=c}else Zt(n,c,i)}else Xt(n,i)}(n,i):void 0;i&&Bt(!1)}(h),h.asyncDep){if(l&&l.registerDep(h,B,u),!n.el){const e=h.subTree=Mt(gt);C(null,e,i,r)}}else B(h,n,i,r,l,c,u)},H=(e,t,n)=>{const s=t.component=e.component;if(function(e,t,n){const{props:s,children:i,component:a}=e,{props:r,children:o,patchFlag:l}=t,c=a.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&l>=0))return!(!i&&!o||o&&o.$stable)||s!==r&&(s?!r||I(s,r,c):!!r);if(1024&l)return!0;if(16&l)return s?I(s,r,c):!!r;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(r[n]!==s[n]&&!T(c,n))return!0}}return!1}(e,t,n)){if(s.asyncDep&&!s.asyncResolved)return void z(s,t,n);s.next=t,function(e){const t=l.indexOf(e);t>c&&l.splice(t,1)}(s.update),s.effect.dirty=!0,s.update()}else t.el=e.el,s.vnode=t},B=(n,s,i,a,r,o,l)=>{const c=()=>{if(n.isMounted){let{next:e,bu:s,u:i,parent:a,vnode:u}=n;{const t=je(n);if(t)return e&&(e.el=u.el,z(n,e,l)),void t.asyncDep.then((()=>{n.isUnmounted||c()}))}let h,m=e;De(n,!1),e?(e.el=u.el,z(n,e,l)):e=u,s&&(0,t.DY)(s),(h=e.props&&e.props.onVnodeBeforeUpdate)&&Ut(h,a,e,u),De(n,!0);const d=L(n),p=n.subTree;n.subTree=d,E(p,d,y(p.el),se(p),n,r,o),e.el=d.el,null===m&&function({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s!==e)break;(e=t.vnode).el=n,t=t.parent}}(n,d.el),i&&Oe(i,r),(h=e.props&&e.props.onVnodeUpdated)&&Oe((()=>Ut(h,a,e,u)),r)}else{let e;const{el:l,props:c}=s,{bm:u,m:h,parent:m}=n,d=Y(s);if(De(n,!1),u&&(0,t.DY)(u),!d&&(e=c&&c.onVnodeBeforeMount)&&Ut(e,m,s),De(n,!0),l&&le){const e=()=>{n.subTree=L(n),le(l,n.subTree,n,r,null)};d?s.type.__asyncLoader().then((()=>!n.isUnmounted&&e())):e()}else{const e=n.subTree=L(n);E(null,e,i,a,n,r,o),s.el=e.el}if(h&&Oe(h,r),!d&&(e=c&&c.onVnodeMounted)){const t=s;Oe((()=>Ut(e,m,t)),r)}(256&s.shapeFlag||m&&Y(m.vnode)&&256&m.vnode.shapeFlag)&&n.a&&Oe(n.a,r),n.isMounted=!0,s=i=a=null}},u=n.effect=new e.X2(c,t.tE,(()=>g(h)),n.scope),h=n.update=()=>{u.dirty&&u.run()};h.id=n.uid,De(n,!0),h()},z=(n,s,i)=>{s.component=n;const a=n.vnode.props;n.vnode=s,n.next=null,function(n,s,i,a){const{props:r,attrs:o,vnode:{patchFlag:l}}=n,c=(0,e.ux)(r),[u]=n.propsOptions;let h=!1;if(!(a||l>0)||16&l){let e;_e(n,s,r,o)&&(h=!0);for(const a in c)s&&((0,t.$3)(s,a)||(e=(0,t.Tg)(a))!==a&&(0,t.$3)(s,e))||(u?!i||void 0===i[a]&&void 0===i[e]||(r[a]=we(u,c,a,void 0,n,!0)):delete r[a]);if(o!==c)for(const e in o)s&&(0,t.$3)(s,e)||(delete o[e],h=!0)}else if(8&l){const e=n.vnode.dynamicProps;for(let i=0;i<e.length;i++){let a=e[i];if(T(n.emitsOptions,a))continue;const l=s[a];if(u)if((0,t.$3)(o,a))l!==o[a]&&(o[a]=l,h=!0);else{const e=(0,t.PT)(a);r[e]=we(u,c,e,l,n,!1)}else l!==o[a]&&(o[a]=l,h=!0)}}h&&(0,e.hZ)(n.attrs,"set","")}(n,s.props,a,i),Ie(n,s.children,i),(0,e.C4)(),v(n),(0,e.bl)()},K=(e,t,n,s,i,a,r,o,l=!1)=>{const c=e&&e.children,u=e?e.shapeFlag:0,h=t.children,{patchFlag:m,shapeFlag:d}=t;if(m>0){if(128&m)return void q(c,h,n,s,i,a,r,o,l);if(256&m)return void V(c,h,n,s,i,a,r,o,l)}8&d?(16&u&&ne(c,i,a),h!==c&&f(n,h)):16&u?16&d?q(c,h,n,s,i,a,r,o,l):ne(c,i,a,!0):(8&u&&f(n,""),16&d&&O(h,n,s,i,a,r,o,l))},V=(e,n,s,i,a,r,o,l,c)=>{e=e||t.Oj,n=n||t.Oj;const u=e.length,h=n.length,m=Math.min(u,h);let d;for(d=0;d<m;d++){const t=n[d]=c?Ot(n[d]):Nt(n[d]);E(e[d],t,s,null,a,r,o,l,c)}u>h?ne(e,a,r,!0,!1,m):O(n,s,i,a,r,o,l,c,m)},q=(e,n,s,i,a,r,o,l,c)=>{let u=0;const h=n.length;let m=e.length-1,d=h-1;for(;u<=m&&u<=d;){const t=e[u],i=n[u]=c?Ot(n[u]):Nt(n[u]);if(!Et(t,i))break;E(t,i,s,null,a,r,o,l,c),u++}for(;u<=m&&u<=d;){const t=e[m],i=n[d]=c?Ot(n[d]):Nt(n[d]);if(!Et(t,i))break;E(t,i,s,null,a,r,o,l,c),m--,d--}if(u>m){if(u<=d){const e=d+1,t=e<h?n[e].el:i;for(;u<=d;)E(null,n[u]=c?Ot(n[u]):Nt(n[u]),s,t,a,r,o,l,c),u++}}else if(u>d)for(;u<=m;)X(e[u],a,r,!0),u++;else{const p=u,f=u,g=new Map;for(u=f;u<=d;u++){const e=n[u]=c?Ot(n[u]):Nt(n[u]);null!=e.key&&g.set(e.key,u)}let y,v=0;const b=d-f+1;let _=!1,w=0;const k=new Array(b);for(u=0;u<b;u++)k[u]=0;for(u=p;u<=m;u++){const t=e[u];if(v>=b){X(t,a,r,!0);continue}let i;if(null!=t.key)i=g.get(t.key);else for(y=f;y<=d;y++)if(0===k[y-f]&&Et(t,n[y])){i=y;break}void 0===i?X(t,a,r,!0):(k[i-f]=u+1,i>=w?w=i:_=!0,E(t,n[i],s,null,a,r,o,l,c),v++)}const S=_?function(e){const t=e.slice(),n=[0];let s,i,a,r,o;const l=e.length;for(s=0;s<l;s++){const l=e[s];if(0!==l){if(i=n[n.length-1],e[i]<l){t[s]=i,n.push(s);continue}for(a=0,r=n.length-1;a<r;)o=a+r>>1,e[n[o]]<l?a=o+1:r=o;l<e[n[a]]&&(a>0&&(t[s]=n[a-1]),n[a]=s)}}for(a=n.length,r=n[a-1];a-- >0;)n[a]=r,r=t[r];return n}(k):t.Oj;for(y=S.length-1,u=b-1;u>=0;u--){const e=f+u,t=n[e],m=e+1<h?n[e+1].el:i;0===k[u]?E(null,t,s,m,a,r,o,l,c):_&&(y<0||u!==S[y]?Z(t,s,m,2):y--)}}},Z=(e,t,n,s,i=null)=>{const{el:a,type:o,transition:l,children:c,shapeFlag:u}=e;if(6&u)Z(e.component.subTree,t,n,s);else if(128&u)e.suspense.move(t,n,s);else if(64&u)o.move(e,t,n,re);else if(o!==pt)if(o!==yt)if(2!==s&&1&u&&l)if(0===s)l.beforeEnter(a),r(a,t,n),Oe((()=>l.enter(a)),i);else{const{leave:e,delayLeave:s,afterLeave:i}=l,o=()=>r(a,t,n),c=()=>{e(a,(()=>{o(),i&&i()}))};s?s(a,o,c):c()}else r(a,t,n);else(({el:e,anchor:t},n,s)=>{let i;for(;e&&e!==t;)i=_(e),r(e,n,s),e=i;r(t,n,s)})(e,t,n);else{r(a,t,n);for(let e=0;e<c.length;e++)Z(c[e],t,n,s);r(e.anchor,t,n)}},X=(e,t,n,s=!1,i=!1)=>{const{type:a,props:r,ref:o,children:l,dynamicChildren:c,shapeFlag:u,patchFlag:h,dirs:m,memoIndex:d}=e;if(-2===h&&(i=!1),null!=o&&Ne(o,null,n,e,!0),null!=d&&(t.renderCache[d]=void 0),256&u)return void t.ctx.deactivate(e);const p=1&u&&m,f=!Y(e);let g;if(f&&(g=r&&r.onVnodeBeforeUnmount)&&Ut(g,t,e),6&u)te(e.component,n,s);else{if(128&u)return void e.suspense.unmount(n,s);p&&G(e,null,t,"beforeUnmount"),64&u?e.type.remove(e,t,n,re,s):c&&(a!==pt||h>0&&64&h)?ne(c,t,n,!1,!0):(a===pt&&384&h||!i&&16&u)&&ne(l,t,n),s&&J(e)}(f&&(g=r&&r.onVnodeUnmounted)||p)&&Oe((()=>{g&&Ut(g,t,e),p&&G(e,null,t,"unmounted")}),n)},J=e=>{const{type:t,el:n,anchor:s,transition:i}=e;if(t===pt)return void ee(n,s);if(t===yt)return void(({el:e,anchor:t})=>{let n;for(;e&&e!==t;)n=_(e),o(e),e=n;o(t)})(e);const a=()=>{o(n),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(1&e.shapeFlag&&i&&!i.persisted){const{leave:t,delayLeave:s}=i,r=()=>t(n,a);s?s(e.el,a,r):r()}else a()},ee=(e,t)=>{let n;for(;e!==t;)n=_(e),o(e),e=n;o(t)},te=(e,n,s)=>{const{bum:i,scope:a,update:r,subTree:o,um:l,m:c,a:u}=e;We(c),We(u),i&&(0,t.DY)(i),a.stop(),r&&(r.active=!1,X(o,e,n,s)),l&&Oe(l,n),Oe((()=>{e.isUnmounted=!0}),n),n&&n.pendingBranch&&!n.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===n.pendingId&&(n.deps--,0===n.deps&&n.resolve())},ne=(e,t,n,s=!1,i=!1,a=0)=>{for(let r=a;r<e.length;r++)X(e[r],t,n,s,i)},se=e=>6&e.shapeFlag?se(e.component.subTree):128&e.shapeFlag?e.suspense.next():_(e.anchor||e.el);let ie=!1;const ae=(e,t,n)=>{null==e?t._vnode&&X(t._vnode,null,null,!0):E(t._vnode||null,e,t,null,null,null,n),ie||(ie=!0,v(),b(),ie=!1),t._vnode=e},re={p:E,um:X,m:Z,r:J,mt:W,mc:O,pc:K,pbc:U,n:se,o:n};let oe,le;return i&&([oe,le]=i(re)),{render:ae,hydrate:oe,createApp:pe(ae,oe)}}function Ue({type:e,props:t},n){return"svg"===n&&"foreignObject"===e||"mathml"===n&&"annotation-xml"===e&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function De({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Fe(e,n,s=!1){const i=e.children,a=n.children;if((0,t.cy)(i)&&(0,t.cy)(a))for(let e=0;e<i.length;e++){const t=i[e];let n=a[e];1&n.shapeFlag&&!n.dynamicChildren&&((n.patchFlag<=0||32===n.patchFlag)&&(n=a[e]=Ot(a[e]),n.el=t.el),s||-2===n.patchFlag||Fe(t,n)),n.type===ft&&(n.el=t.el)}}function je(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:je(t)}function We(e){if(e)for(let t=0;t<e.length;t++)e[t].active=!1}const He=Symbol.for("v-scx"),Be=()=>ge(He),ze={};function Ke(e,t,n){return Ve(e,t,n)}function Ve(n,a,{immediate:r,deep:o,flush:l,once:c,onTrack:u,onTrigger:h}=t.MZ){if(a&&c){const e=a;a=(...t)=>{e(...t),E()}}const m=jt,d=e=>!0===o?e:Ye(e,!1===o?1:void 0);let p,f,y=!1,v=!1;if((0,e.i9)(n)?(p=()=>n.value,y=(0,e.fE)(n)):(0,e.g8)(n)?(p=()=>d(n),y=!0):(0,t.cy)(n)?(v=!0,y=n.some((t=>(0,e.g8)(t)||(0,e.fE)(t))),p=()=>n.map((n=>(0,e.i9)(n)?n.value:(0,e.g8)(n)?d(n):(0,t.Tn)(n)?s(n,m,2):void 0))):p=(0,t.Tn)(n)?a?()=>s(n,m,2):()=>(f&&f(),i(n,m,3,[_])):t.tE,a&&o){const e=p;p=()=>Ye(e())}let b,_=e=>{f=x.onStop=()=>{s(e,m,4),f=x.onStop=void 0}};if(Yt){if(_=t.tE,a?r&&i(a,m,3,[p(),v?[]:void 0,_]):p(),"sync"!==l)return t.tE;{const e=Be();b=e.__watcherHandles||(e.__watcherHandles=[])}}let w=v?new Array(n.length).fill(ze):ze;const k=()=>{if(x.active&&x.dirty)if(a){const e=x.run();(o||y||(v?e.some(((e,n)=>(0,t.$H)(e,w[n]))):(0,t.$H)(e,w)))&&(f&&f(),i(a,m,3,[e,w===ze?void 0:v&&w[0]===ze?[]:w,_]),w=e)}else x.run()};let S;k.allowRecurse=!!a,"sync"===l?S=k:"post"===l?S=()=>Oe(k,m&&m.suspense):(k.pre=!0,m&&(k.id=m.uid),S=()=>g(k));const x=new e.X2(p,t.tE,S),T=(0,e.o5)(),E=()=>{x.stop(),T&&(0,t.TF)(T.effects,x)};return a?r?k():w=x.run():"post"===l?Oe(x.run.bind(x),m&&m.suspense):x.run(),b&&b.push(E),E}function Ge(e,n,s){const i=this.proxy,a=(0,t.Kg)(e)?e.includes(".")?qe(i,e):()=>i[e]:e.bind(i,i);let r;(0,t.Tn)(n)?r=n:(r=n.handler,s=n);const o=zt(this),l=Ve(a,r.bind(i),s);return o(),l}function qe(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function Ye(n,s=1/0,i){if(s<=0||!(0,t.Gv)(n)||n.__v_skip)return n;if((i=i||new Set).has(n))return n;if(i.add(n),s--,(0,e.i9)(n))Ye(n.value,s,i);else if((0,t.cy)(n))for(let e=0;e<n.length;e++)Ye(n[e],s,i);else if((0,t.vM)(n)||(0,t.CE)(n))n.forEach((e=>{Ye(e,s,i)}));else if((0,t.Qd)(n)){for(const e in n)Ye(n[e],s,i);for(const e of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,e)&&Ye(n[e],s,i)}return n}const Ze=e=>e.type.__isKeepAlive;function Xe(e,t){Qe(e,"a",t)}function Je(e,t){Qe(e,"da",t)}function Qe(e,t,n=jt){const s=e.__wdc||(e.__wdc=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}return e()});if(O(t,s,n),n){let e=n.parent;for(;e&&e.parent;)Ze(e.parent.vnode)&&et(s,t,n,e),e=e.parent}}function et(e,n,s,i){const a=O(n,e,i,!0);H((()=>{(0,t.TF)(i[n],a)}),s)}RegExp,RegExp;const tt=Symbol("_leaveCb"),nt=Symbol("_enterCb");const st=[Function,Array],it={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:st,onEnter:st,onAfterEnter:st,onEnterCancelled:st,onBeforeLeave:st,onLeave:st,onAfterLeave:st,onLeaveCancelled:st,onBeforeAppear:st,onAppear:st,onAfterAppear:st,onAppearCancelled:st},at=e=>{const t=e.subTree;return t.component?at(t.component):t},rt={name:"BaseTransition",props:it,setup(t,{slots:n}){const s=Wt(),i=function(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return D((()=>{e.isMounted=!0})),W((()=>{e.isUnmounting=!0})),e}();return()=>{const a=n.default&&dt(n.default(),!0);if(!a||!a.length)return;let r=a[0];if(a.length>1){let e=!1;for(const t of a)if(t.type!==gt){r=t,e=!0;break}}const o=(0,e.ux)(t),{mode:l}=o;if(i.isLeaving)return ut(r);const c=ht(r);if(!c)return ut(r);let u=ct(c,o,i,s,(e=>u=e));mt(c,u);const h=s.subTree,m=h&&ht(h);if(m&&m.type!==gt&&!Et(c,m)&&at(s).type!==gt){const e=ct(m,o,i,s);if(mt(m,e),"out-in"===l&&c.type!==gt)return i.isLeaving=!0,e.afterLeave=()=>{i.isLeaving=!1,!1!==s.update.active&&(s.effect.dirty=!0,s.update())},ut(r);"in-out"===l&&c.type!==gt&&(e.delayLeave=(e,t,n)=>{lt(i,m)[String(m.key)]=m,e[tt]=()=>{t(),e[tt]=void 0,delete u.delayedLeave},u.delayedLeave=n})}return r}}},ot=rt;function lt(e,t){const{leavingVNodes:n}=e;let s=n.get(t.type);return s||(s=Object.create(null),n.set(t.type,s)),s}function ct(e,n,s,a,r){const{appear:o,mode:l,persisted:c=!1,onBeforeEnter:u,onEnter:h,onAfterEnter:m,onEnterCancelled:d,onBeforeLeave:p,onLeave:f,onAfterLeave:g,onLeaveCancelled:y,onBeforeAppear:v,onAppear:b,onAfterAppear:_,onAppearCancelled:w}=n,k=String(e.key),S=lt(s,e),x=(e,t)=>{e&&i(e,a,9,t)},T=(e,n)=>{const s=n[1];x(e,n),(0,t.cy)(e)?e.every((e=>e.length<=1))&&s():e.length<=1&&s()},E={mode:l,persisted:c,beforeEnter(t){let n=u;if(!s.isMounted){if(!o)return;n=v||u}t[tt]&&t[tt](!0);const i=S[k];i&&Et(e,i)&&i.el[tt]&&i.el[tt](),x(n,[t])},enter(e){let t=h,n=m,i=d;if(!s.isMounted){if(!o)return;t=b||h,n=_||m,i=w||d}let a=!1;const r=e[nt]=t=>{a||(a=!0,x(t?i:n,[e]),E.delayedLeave&&E.delayedLeave(),e[nt]=void 0)};t?T(t,[e,r]):r()},leave(t,n){const i=String(e.key);if(t[nt]&&t[nt](!0),s.isUnmounting)return n();x(p,[t]);let a=!1;const r=t[tt]=s=>{a||(a=!0,n(),x(s?y:g,[t]),t[tt]=void 0,S[i]===e&&delete S[i])};S[i]=e,f?T(f,[t,r]):r()},clone(e){const t=ct(e,n,s,a,r);return r&&r(t),t}};return E}function ut(e){if(Ze(e))return(e=$t(e)).children=null,e}function ht(e){if(!Ze(e))return e;const{shapeFlag:n,children:s}=e;if(s){if(16&n)return s[0];if(32&n&&(0,t.Tn)(s.default))return s.default()}}function mt(e,t){6&e.shapeFlag&&e.component?mt(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function dt(e,t=!1,n){let s=[],i=0;for(let a=0;a<e.length;a++){let r=e[a];const o=null==n?r.key:String(n)+String(null!=r.key?r.key:a);r.type===pt?(128&r.patchFlag&&i++,s=s.concat(dt(r.children,t,o))):(t||r.type!==gt)&&s.push(null!=o?$t(r,{key:o}):r)}if(i>1)for(let e=0;e<s.length;e++)s[e].patchFlag=-2;return s}const pt=Symbol.for("v-fgt"),ft=Symbol.for("v-txt"),gt=Symbol.for("v-cmt"),yt=Symbol.for("v-stc"),vt=[];let bt=null;function _t(e=!1){vt.push(bt=e?null:[])}let wt=1;function kt(e){wt+=e}function St(e){return e.dynamicChildren=wt>0?bt||t.Oj:null,vt.pop(),bt=vt[vt.length-1]||null,wt>0&&bt&&bt.push(e),e}function xt(e,t,n,s,i,a){return St(Lt(e,t,n,s,i,a,!0))}function Tt(e){return!!e&&!0===e.__v_isVNode}function Et(e,t){return e.type===t.type&&e.key===t.key}const At=({key:e})=>null!=e?e:null,Ct=({ref:n,ref_key:s,ref_for:i})=>("number"==typeof n&&(n=""+n),null!=n?(0,t.Kg)(n)||(0,e.i9)(n)||(0,t.Tn)(n)?{i:E,r:n,k:s,f:!!i}:n:null);function Lt(e,n=null,s=null,i=0,a=null,r=(e===pt?0:1),o=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:n,key:n&&At(n),ref:n&&Ct(n),scopeId:A,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:E};return l?(Rt(c,s),128&r&&e.normalize(c)):s&&(c.shapeFlag|=(0,t.Kg)(s)?8:16),wt>0&&!o&&bt&&(c.patchFlag>0||6&r)&&32!==c.patchFlag&&bt.push(c),c}const Mt=function(n,s=null,i=null,a=0,r=null,o=!1){if(n&&n!==N||(n=gt),Tt(n)){const e=$t(n,s,!0);return i&&Rt(e,i),wt>0&&!o&&bt&&(6&e.shapeFlag?bt[bt.indexOf(n)]=e:bt.push(e)),e.patchFlag=-2,e}if(function(e){return(0,t.Tn)(e)&&"__vccOpts"in e}(n)&&(n=n.__vccOpts),s){s=function(n){return n?(0,e.ju)(n)||be(n)?(0,t.X$)({},n):n:null}(s);let{class:n,style:i}=s;n&&!(0,t.Kg)(n)&&(s.class=(0,t.C4)(n)),(0,t.Gv)(i)&&((0,e.ju)(i)&&!(0,t.cy)(i)&&(i=(0,t.X$)({},i)),s.style=(0,t.Tr)(i))}return Lt(n,s,i,a,r,(0,t.Kg)(n)?1:(e=>e.__isSuspense)(n)?128:(e=>e.__isTeleport)(n)?64:(0,t.Gv)(n)?4:(0,t.Tn)(n)?2:0,o,!0)};function $t(e,n,s=!1,i=!1){const{props:a,ref:r,patchFlag:o,children:l,transition:c}=e,u=n?function(...e){const n={};for(let s=0;s<e.length;s++){const i=e[s];for(const e in i)if("class"===e)n.class!==i.class&&(n.class=(0,t.C4)([n.class,i.class]));else if("style"===e)n.style=(0,t.Tr)([n.style,i.style]);else if((0,t.Mp)(e)){const s=n[e],a=i[e];!a||s===a||(0,t.cy)(s)&&s.includes(a)||(n[e]=s?[].concat(s,a):a)}else""!==e&&(n[e]=i[e])}return n}(a||{},n):a,h={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&At(u),ref:n&&n.ref?s&&r?(0,t.cy)(r)?r.concat(Ct(n)):[r,Ct(n)]:Ct(n):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:n&&e.type!==pt?-1===o?16:16|o:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&$t(e.ssContent),ssFallback:e.ssFallback&&$t(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&i&&mt(h,c.clone(h)),h}function Pt(e=" ",t=0){return Mt(ft,null,e,t)}function It(e="",t=!1){return t?(_t(),St(Mt(gt,null,e,n,s,!0))):Mt(gt,null,e);var n,s}function Nt(e){return null==e||"boolean"==typeof e?Mt(gt):(0,t.cy)(e)?Mt(pt,null,e.slice()):"object"==typeof e?Ot(e):Mt(ft,null,String(e))}function Ot(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:$t(e)}function Rt(e,n){let s=0;const{shapeFlag:i}=e;if(null==n)n=null;else if((0,t.cy)(n))s=16;else if("object"==typeof n){if(65&i){const t=n.default;return void(t&&(t._c&&(t._d=!1),Rt(e,t()),t._c&&(t._d=!0)))}{s=32;const t=n._;t||be(n)?3===t&&E&&(1===E.slots._?n._=1:(n._=2,e.patchFlag|=1024)):n._ctx=E}}else(0,t.Tn)(n)?(n={default:n,_ctx:E},s=32):(n=String(n),64&i?(s=16,n=[Pt(n)]):s=8);e.children=n,e.shapeFlag|=s}function Ut(e,t,n,s=null){i(e,t,7,[n,s])}const Dt=me();let Ft=0;let jt=null;const Wt=()=>jt||E;let Ht,Bt;{const e=(0,t.We)(),n=(t,n)=>{let s;return(s=e[t])||(s=e[t]=[]),s.push(n),e=>{s.length>1?s.forEach((t=>t(e))):s[0](e)}};Ht=n("__VUE_INSTANCE_SETTERS__",(e=>jt=e)),Bt=n("__VUE_SSR_SETTERS__",(e=>Yt=e))}const zt=e=>{const t=jt;return Ht(e),e.scope.on(),()=>{e.scope.off(),Ht(t)}},Kt=()=>{jt&&jt.scope.off(),Ht(null)};function Vt(e){return 4&e.vnode.shapeFlag}let Gt,qt,Yt=!1;function Zt(n,s,i){(0,t.Tn)(s)?n.type.__ssrInlineRender?n.ssrRender=s:n.render=s:(0,t.Gv)(s)&&(n.setupState=(0,e.Pr)(s)),Xt(n,i)}function Xt(n,s,i){const a=n.type;if(!n.render){if(!s&&Gt&&!a.render){const e=a.template||ie(n).template;if(e){const{isCustomElement:s,compilerOptions:i}=n.appContext.config,{delimiters:r,compilerOptions:o}=a,l=(0,t.X$)((0,t.X$)({isCustomElement:s,delimiters:r},i),o);a.render=Gt(e,l)}}n.render=a.render||t.tE,qt&&qt(n)}{const s=zt(n);(0,e.C4)();try{!function(n){const s=ie(n),i=n.proxy,a=n.ctx;te=!1,s.beforeCreate&&ne(s.beforeCreate,n,"bc");const{data:r,computed:o,methods:l,watch:c,provide:u,inject:h,created:m,beforeMount:d,mounted:p,beforeUpdate:f,updated:g,activated:y,deactivated:v,beforeDestroy:b,beforeUnmount:_,destroyed:w,unmounted:k,render:S,renderTracked:x,renderTriggered:T,errorCaptured:E,serverPrefetch:A,expose:C,inheritAttrs:L,components:M,directives:$,filters:P}=s;if(h&&function(n,s,i=t.tE){(0,t.cy)(n)&&(n=le(n));for(const i in n){const a=n[i];let r;r=(0,t.Gv)(a)?"default"in a?ge(a.from||i,a.default,!0):ge(a.from||i):ge(a),(0,e.i9)(r)?Object.defineProperty(s,i,{enumerable:!0,configurable:!0,get:()=>r.value,set:e=>r.value=e}):s[i]=r}}(h,a,null),l)for(const e in l){const n=l[e];(0,t.Tn)(n)&&(a[e]=n.bind(i))}if(r){const s=r.call(i,i);(0,t.Gv)(s)&&(n.data=(0,e.Kh)(s))}if(te=!0,o)for(const e in o){const n=o[e],s=(0,t.Tn)(n)?n.bind(i,i):(0,t.Tn)(n.get)?n.get.bind(i,i):t.tE,r=!(0,t.Tn)(n)&&(0,t.Tn)(n.set)?n.set.bind(i):t.tE,l=en({get:s,set:r});Object.defineProperty(a,e,{enumerable:!0,configurable:!0,get:()=>l.value,set:e=>l.value=e})}if(c)for(const e in c)se(c[e],a,i,e);if(u){const e=(0,t.Tn)(u)?u.call(i):u;Reflect.ownKeys(e).forEach((t=>{!function(e,t){if(jt){let n=jt.provides;const s=jt.parent&&jt.parent.provides;s===n&&(n=jt.provides=Object.create(s)),n[e]=t}}(t,e[t])}))}function I(e,n){(0,t.cy)(n)?n.forEach((t=>e(t.bind(i)))):n&&e(n.bind(i))}if(m&&ne(m,n,"c"),I(U,d),I(D,p),I(F,f),I(j,g),I(Xe,y),I(Je,v),I(V,E),I(K,x),I(z,T),I(W,_),I(H,k),I(B,A),(0,t.cy)(C))if(C.length){const e=n.exposed||(n.exposed={});C.forEach((t=>{Object.defineProperty(e,t,{get:()=>i[t],set:e=>i[t]=e})}))}else n.exposed||(n.exposed={});S&&n.render===t.tE&&(n.render=S),null!=L&&(n.inheritAttrs=L),M&&(n.components=M),$&&(n.directives=$)}(n)}finally{(0,e.bl)(),s()}}}const Jt={get:(t,n)=>((0,e.u4)(t,"get",""),t[n])};function Qt(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy((0,e.Pr)((0,e.IG)(t.exposed)),{get:(e,n)=>n in e?e[n]:n in X?X[n](t):void 0,has:(e,t)=>t in e||t in X})):t.proxy}const en=(t,n)=>(0,e.EW)(t,n,Yt),tn="3.4.30",nn="undefined"!=typeof document?document:null,sn=nn&&nn.createElement("template"),an={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const i="svg"===t?nn.createElementNS("http://www.w3.org/2000/svg",e):"mathml"===t?nn.createElementNS("http://www.w3.org/1998/Math/MathML",e):n?nn.createElement(e,{is:n}):nn.createElement(e);return"select"===e&&s&&null!=s.multiple&&i.setAttribute("multiple",s.multiple),i},createText:e=>nn.createTextNode(e),createComment:e=>nn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>nn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,i,a){const r=n?n.previousSibling:t.lastChild;if(i&&(i===a||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),i!==a&&(i=i.nextSibling););else{sn.innerHTML="svg"===s?`<svg>${e}</svg>`:"mathml"===s?`<math>${e}</math>`:e;const i=sn.content;if("svg"===s||"mathml"===s){const e=i.firstChild;for(;e.firstChild;)i.appendChild(e.firstChild);i.removeChild(e)}t.insertBefore(i,n)}return[r?r.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},rn="transition",on="animation",ln=Symbol("_vtc"),cn=(e,{slots:n})=>function(e,n,s){const i=arguments.length;return 2===i?(0,t.Gv)(n)&&!(0,t.cy)(n)?Tt(n)?Mt(e,null,[n]):Mt(e,n):Mt(e,null,n):(i>3?s=Array.prototype.slice.call(arguments,2):3===i&&Tt(s)&&(s=[s]),Mt(e,n,s))}(ot,function(e){const n={};for(const t in e)t in un||(n[t]=e[t]);if(!1===e.css)return n;const{name:s="v",type:i,duration:a,enterFromClass:r=`${s}-enter-from`,enterActiveClass:o=`${s}-enter-active`,enterToClass:l=`${s}-enter-to`,appearFromClass:c=r,appearActiveClass:u=o,appearToClass:h=l,leaveFromClass:m=`${s}-leave-from`,leaveActiveClass:d=`${s}-leave-active`,leaveToClass:p=`${s}-leave-to`}=e,f=function(e){if(null==e)return null;if((0,t.Gv)(e))return[dn(e.enter),dn(e.leave)];{const t=dn(e);return[t,t]}}(a),g=f&&f[0],y=f&&f[1],{onBeforeEnter:v,onEnter:b,onEnterCancelled:_,onLeave:w,onLeaveCancelled:k,onBeforeAppear:S=v,onAppear:x=b,onAppearCancelled:T=_}=n,E=(e,t,n)=>{fn(e,t?h:l),fn(e,t?u:o),n&&n()},A=(e,t)=>{e._isLeaving=!1,fn(e,m),fn(e,p),fn(e,d),t&&t()},C=e=>(t,n)=>{const s=e?x:b,a=()=>E(t,e,n);hn(s,[t,a]),gn((()=>{fn(t,e?c:r),pn(t,e?h:l),mn(s)||vn(t,i,g,a)}))};return(0,t.X$)(n,{onBeforeEnter(e){hn(v,[e]),pn(e,r),pn(e,o)},onBeforeAppear(e){hn(S,[e]),pn(e,c),pn(e,u)},onEnter:C(!1),onAppear:C(!0),onLeave(e,t){e._isLeaving=!0;const n=()=>A(e,t);pn(e,m),pn(e,d),document.body.offsetHeight,gn((()=>{e._isLeaving&&(fn(e,m),pn(e,p),mn(w)||vn(e,i,y,n))})),hn(w,[e,n])},onEnterCancelled(e){E(e,!1),hn(_,[e])},onAppearCancelled(e){E(e,!0),hn(T,[e])},onLeaveCancelled(e){A(e),hn(k,[e])}})}(e),n);cn.displayName="Transition";const un={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},hn=(cn.props=(0,t.X$)({},it,un),(e,n=[])=>{(0,t.cy)(e)?e.forEach((e=>e(...n))):e&&e(...n)}),mn=e=>!!e&&((0,t.cy)(e)?e.some((e=>e.length>1)):e.length>1);function dn(e){return(0,t.Ro)(e)}function pn(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e[ln]||(e[ln]=new Set)).add(t)}function fn(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const n=e[ln];n&&(n.delete(t),n.size||(e[ln]=void 0))}function gn(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let yn=0;function vn(e,t,n,s){const i=e._endId=++yn,a=()=>{i===e._endId&&s()};if(n)return setTimeout(a,n);const{type:r,timeout:o,propCount:l}=function(e,t){const n=window.getComputedStyle(e),s=e=>(n[e]||"").split(", "),i=s(`${rn}Delay`),a=s(`${rn}Duration`),r=bn(i,a),o=s(`${on}Delay`),l=s(`${on}Duration`),c=bn(o,l);let u=null,h=0,m=0;return t===rn?r>0&&(u=rn,h=r,m=a.length):t===on?c>0&&(u=on,h=c,m=l.length):(h=Math.max(r,c),u=h>0?r>c?rn:on:null,m=u?u===rn?a.length:l.length:0),{type:u,timeout:h,propCount:m,hasTransform:u===rn&&/\b(transform|all)(,|$)/.test(s(`${rn}Property`).toString())}}(e,t);if(!r)return s();const c=r+"end";let u=0;const h=()=>{e.removeEventListener(c,m),a()},m=t=>{t.target===e&&++u>=l&&h()};setTimeout((()=>{u<l&&h()}),o+1),e.addEventListener(c,m)}function bn(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map(((t,n)=>_n(t)+_n(e[n]))))}function _n(e){return"auto"===e?0:1e3*Number(e.slice(0,-1).replace(",","."))}const wn=Symbol("_vod"),kn=Symbol("_vsh"),Sn=Symbol(""),xn=/(^|;)\s*display\s*:/,Tn=/\s*!important$/;function En(e,n,s){if((0,t.cy)(s))s.forEach((t=>En(e,n,t)));else if(null==s&&(s=""),n.startsWith("--"))e.setProperty(n,s);else{const i=function(e,n){const s=Cn[n];if(s)return s;let i=(0,t.PT)(n);if("filter"!==i&&i in e)return Cn[n]=i;i=(0,t.ZH)(i);for(let t=0;t<An.length;t++){const s=An[t]+i;if(s in e)return Cn[n]=s}return n}(e,n);Tn.test(s)?e.setProperty((0,t.Tg)(i),s.replace(Tn,""),"important"):e[i]=s}}const An=["Webkit","Moz","ms"],Cn={},Ln="http://www.w3.org/1999/xlink";function Mn(e,n,s,i,a,r=(0,t.J$)(n)){i&&n.startsWith("xlink:")?null==s?e.removeAttributeNS(Ln,n.slice(6,n.length)):e.setAttributeNS(Ln,n,s):null==s||r&&!(0,t.Y2)(s)?e.removeAttribute(n):e.setAttribute(n,r?"":(0,t.Bm)(s)?String(s):s)}const $n=Symbol("_vei");const Pn=/(?:Once|Passive|Capture)$/;let In=0;const Nn=Promise.resolve(),On=()=>In||(Nn.then((()=>In=0)),In=Date.now()),Rn=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123;"undefined"!=typeof HTMLElement&&HTMLElement,Symbol("_moveCb"),Symbol("_enterCb"),Symbol("_assign");const Un=(0,t.X$)({patchProp:(e,n,s,a,r,o,l,c,u)=>{const h="svg"===r;"class"===n?function(e,t,n){const s=e[ln];s&&(t=(t?[t,...s]:[...s]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}(e,a,h):"style"===n?function(e,n,s){const i=e.style,a=(0,t.Kg)(s);let r=!1;if(s&&!a){if(n)if((0,t.Kg)(n))for(const e of n.split(";")){const t=e.slice(0,e.indexOf(":")).trim();null==s[t]&&En(i,t,"")}else for(const e in n)null==s[e]&&En(i,e,"");for(const e in s)"display"===e&&(r=!0),En(i,e,s[e])}else if(a){if(n!==s){const e=i[Sn];e&&(s+=";"+e),i.cssText=s,r=xn.test(s)}}else n&&e.removeAttribute("style");wn in e&&(e[wn]=r?i.display:"",e[kn]&&(i.display="none"))}(e,s,a):(0,t.Mp)(n)?(0,t.CP)(n)||function(e,n,s,a,r=null){const o=e[$n]||(e[$n]={}),l=o[n];if(a&&l)l.value=a;else{const[s,c]=function(e){let n;if(Pn.test(e)){let t;for(n={};t=e.match(Pn);)e=e.slice(0,e.length-t[0].length),n[t[0].toLowerCase()]=!0}return[":"===e[2]?e.slice(3):(0,t.Tg)(e.slice(2)),n]}(n);if(a){const l=o[n]=function(e,n){const s=e=>{if(e._vts){if(e._vts<=s.attached)return}else e._vts=Date.now();i(function(e,n){if((0,t.cy)(n)){const t=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{t.call(e),e._stopped=!0},n.map((e=>t=>!t._stopped&&e&&e(t)))}return n}(e,s.value),n,5,[e])};return s.value=e,s.attached=On(),s}(a,r);!function(e,t,n,s){e.addEventListener(t,n,s)}(e,s,l,c)}else l&&(function(e,t,n,s){e.removeEventListener(t,n,s)}(e,s,l,c),o[n]=void 0)}}(e,n,0,a,l):("."===n[0]?(n=n.slice(1),1):"^"===n[0]?(n=n.slice(1),0):function(e,n,s,i){if(i)return"innerHTML"===n||"textContent"===n||!!(n in e&&Rn(n)&&(0,t.Tn)(s));if("spellcheck"===n||"draggable"===n||"translate"===n)return!1;if("form"===n)return!1;if("list"===n&&"INPUT"===e.tagName)return!1;if("type"===n&&"TEXTAREA"===e.tagName)return!1;if("width"===n||"height"===n){const t=e.tagName;if("IMG"===t||"VIDEO"===t||"CANVAS"===t||"SOURCE"===t)return!1}return(!Rn(n)||!(0,t.Kg)(s))&&n in e}(e,n,a,h))?(function(e,n,s,i,a,r,o){if("innerHTML"===n||"textContent"===n)return i&&o(i,a,r),void(e[n]=null==s?"":s);const l=e.tagName;if("value"===n&&"PROGRESS"!==l&&!l.includes("-")){const t="OPTION"===l?e.getAttribute("value")||"":e.value,i=null==s?"":String(s);return t===i&&"_value"in e||(e.value=i),null==s&&e.removeAttribute(n),void(e._value=s)}let c=!1;if(""===s||null==s){const i=typeof e[n];"boolean"===i?s=(0,t.Y2)(s):null==s&&"string"===i?(s="",c=!0):"number"===i&&(s=0,c=!0)}try{e[n]=s}catch(e){}c&&e.removeAttribute(n)}(e,n,a,o,l,c,u),e.tagName.includes("-")||"value"!==n&&"checked"!==n&&"selected"!==n||Mn(e,n,a,h,0,"value"!==n)):("true-value"===n?e._trueValue=a:"false-value"===n&&(e._falseValue=a),Mn(e,n,a,h))}},an);let Dn;var Fn=n(42838);function jn(){return Fn()}const Wn={install(e,t={},n=jn){e.directive("dompurify-html",function(e={},t=jn){const n=t();!function(e,t){const n=e.hooks??{};let s;for(s in n){const e=n[s];void 0!==e&&t.addHook(s,e)}}(e,n);const s=function(t,s){const i=s.value;if(s.oldValue===i)return;const a=`${i}`,r=s.arg,o=e.namedConfigurations,l=e.default??{};t.innerHTML=o&&void 0!==r?n.sanitize(a,o[r]??l):n.sanitize(a,l)};return{mounted:s,updated:s}}(t,n))}};var Hn,Bn,zn,Kn=n(13647);function Vn(e,n,s){const i=((...e)=>{const n=(Dn||(Dn=Re(Un))).createApp(...e),{mount:s}=n;return n.mount=e=>{const i=function(e){return(0,t.Kg)(e)?document.querySelector(e):e}(e);if(!i)return;const a=n._component;(0,t.Tn)(a)||a.render||a.template||(a.template=i.innerHTML),i.innerHTML="";const r=s(i,!1,function(e){return e instanceof SVGElement?"svg":"function"==typeof MathMLElement&&e instanceof MathMLElement?"mathml":void 0}(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),r},n})(e);i.use(Wn,{default:{ADD_ATTR:["target"]},namedConfigurations:{noMedia:{FORBID_TAGS:["img","svg","picture","video","audio"]}}}),s&&s.use&&s.use(i);let a="string"==typeof n?document.querySelector(n):n;if(!a)throw new Error("Can't find root element");if(s&&s.shadowDom){let e;a.shadowRoot?(e=a.shadowRoot,e.innerHTML=""):e=a.attachShadow({mode:"open"}),a=e.appendChild(document.createElement("div"))}const r={};return i.mixin({beforeCreate(){this.$options.styles&&!r[this.$options.__file]&&(a.appendChild(function(e,t=""){const n=document.createElement("style");n.type="text/css",n.setAttribute("data-name",t);const s=document.createTextNode(e);return n.appendChild(s),n}(this.$options.styles.join("\n"),this.$options.__file)),r[this.$options.__file]=!0)},methods:{lang:Kn.storage.lang,getOption:e=>Kn.settings.get(e)}}),i.directive("visible",((e,t)=>{e.style.visibility=t.value?"visible":"hidden"})),i.mount(a)}(Bn=Hn||(Hn={}))[Bn.NoState=0]="NoState",Bn[Bn.Watching=1]="Watching",Bn[Bn.Completed=2]="Completed",Bn[Bn.Onhold=3]="Onhold",Bn[Bn.Dropped=4]="Dropped",Bn[Bn.PlanToWatch=6]="PlanToWatch",Bn[Bn.All=7]="All",Bn[Bn.Rewatching=23]="Rewatching",function(e){e[e.NoScore=0]="NoScore",e[e.R1=1]="R1",e[e.R2=2]="R2",e[e.R3=3]="R3",e[e.R4=4]="R4",e[e.R5=5]="R5",e[e.R6=6]="R6",e[e.R7=7]="R7",e[e.R8=8]="R8",e[e.R9=9]="R9",e[e.R10=10]="R10"}(zn||(zn={}));var Gn=n(78584);let qn;if(function(){try{return localStorage.getItem("x"),!0}catch(e){return Gn.info("Local storage is not available",e),!1}}())qn=localStorage;else{let e={};qn={getItem:t=>t in e?e[t]:null,setItem(t,n){e[t]=n},removeItem(t){t in e&&delete e[t]},clear(){e={}}}}const Yn=qn;n(13647);var Zn=n(13647),Xn=n(26017),Jn=n(78584);async function Qn(e,t){if(!t)return{};const n=await Zn.request.xhr("GET",`https://api.malsync.moe/nc/mal/${e}/${t}/pr`);return JSON.parse(n.responseText)}var es=n(13647);function ts(e,t=!0){if(!e)return"";const n=Date.now();let s,i;if(n>e?(i=!1,s=n-e):(i=!0,s=e-n),s<3e4)return es.storage.lang("bookmarksItem_now");let a=function(e){let t="";return 1===e.y?t+=` ${e.y} ${es.storage.lang("bookmarksItem_Year")}`:e.y>1&&(t+=` ${e.y} ${es.storage.lang("bookmarksItem_Years")}`),1===e.d?t+=` ${e.d} ${es.storage.lang("bookmarksItem_Day")}`:e.d>1&&(t+=` ${e.d} ${es.storage.lang("bookmarksItem_Days")}`),1===e.h?t+=` ${e.h} ${es.storage.lang("bookmarksItem_Hour")}`:e.h>1&&(t+=` ${e.h} ${es.storage.lang("bookmarksItem_Hours")}`),1===e.m?t+=` ${e.m} ${es.storage.lang("bookmarksItem_min")}`:e.m>1&&(t+=` ${e.m} ${es.storage.lang("bookmarksItem_mins")}`),1===e.s?t+=` ${e.s} ${es.storage.lang("bookmarksItem_sec")}`:e.s>1&&(t+=` ${e.s} ${es.storage.lang("bookmarksItem_secs")}`),t.trim()}((r=function(e){let t,n,s,i;i=Math.floor(e/1e3),s=Math.floor(i/60),i%=60,n=Math.floor(s/60),s%=60,t=Math.floor(n/24),n%=24;const a=Math.floor(t/365);return t%=365,{y:a,d:t,h:n,m:s,s:i}}(s)).y>1?r.d>182?{y:r.y+1,d:0,h:0,m:0,s:0}:{y:r.y,d:0,h:0,m:0,s:0}:r.y?{y:r.y,d:r.d,h:0,m:0,s:0}:r.d>3?r.h>11?{y:0,d:r.d+1,h:0,m:0,s:0}:{y:0,d:r.d,h:0,m:0,s:0}:r.d?{y:0,d:r.d,h:r.h,m:0,s:0}:r.h>5?r.m>29?{y:0,d:0,h:r.h+1,m:0,s:0}:{y:0,d:0,h:r.h,m:0,s:0}:r.h?{y:0,d:0,h:r.h,m:r.m,s:0}:r.m>14?{y:0,d:0,h:0,m:r.m,s:0}:{y:0,d:0,h:0,m:r.m,s:r.s});var r;return!i&&t&&(a=es.storage.lang("bookmarksItem_ago",[a])),a}var ns=n(78584),ss=n(13647);class is{constructor(e,t){return this.cacheKey=e,this.type=t,this.releaseItem=void 0,this.logger=ns.m("progress").m(e.toString()),this}async initReleaseProgress(e){e&&await async function(e,t,n="default",s=Jn.m("release")){if(n||(n="default"),(s=s.m(e.uid.toString())).log(e.title,e.cacheKey,e.apiCacheKey,`Mode: ${n}`),!e.apiCacheKey)return void s.log("No Api Cache Id");if(!Zn.settings.get("epPredictions"))return void s.log("epPredictions disabled");const i=await Zn.storage.get(`release/${t}/${e.cacheKey}`);s.m("Load").log(i);let a,r=!1;if(i&&i.mode&&i.mode!==n&&(r=!0),i&&i.timestamp&&Date.now()-i.timestamp<12e4&&!r)return void s.log("Up to date");if(i&&i.finished&&i.timestamp&&Date.now()-i.timestamp<6048e5&&!r)return void s.log("Fininshed");if(i&&!i.value&&i.timestamp&&Date.now()-i.timestamp<864e5&&!r)return void s.log("Nulled");r&&s.log("Update forced"),"off"===n&&(s.log("Disabled"),e.xhr=[]),void 0!==e.xhr?a=e.xhr:(a=await Qn(t,e.apiCacheKey),await Xn.wait(500)),s.log(a);const o=function(e,t,n){const s={};if(!e.length)return null;let i;if("default"===t?(s.mainId="anime"===n?Zn.settings.get("progressIntervalDefaultAnime"):Zn.settings.get("progressIntervalDefaultManga"),s.fallback="en/sub"):s.mainId=t,s.fallbackPrediction="jp/dub",s.mainId){const t=e.find((e=>e.id===s.mainId));t&&(i=t)}if(s.fallback&&!i){const t=e.find((e=>e.id===s.fallback));t&&(i=t)}if(s.fallbackPrediction&&i&&!i.predicition&&i.lastEp&&i.lastEp.timestamp){const t=e.find((e=>e.id===s.fallbackPrediction)),n=i.lastEp.timestamp+6048e5;n&&t&&t.predicition&&(i.lastEp.total===t.lastEp.total?Math.abs(n-t.predicition.timestamp)<108e6&&(i.predicition={timestamp:n,probability:"medium"}):t.lastEp.total&&i.lastEp.total===t.lastEp.total-1&&Math.abs(n-(t.predicition.timestamp-6048e5))<108e6&&(i.predicition={timestamp:n,probability:"medium"}))}if(s.fallbackPrediction&&!i){const t=e.find((e=>e.id===s.fallbackPrediction));t&&t.lastEp&&t.predicition&&0===t.lastEp.total&&(i=t,i.predicition.probability="medium")}return i||null}(a,n,t);o||s.log("No value for the selected mode");let l=!1;o&&o.state&&"complete"===o.state&&(l=!0),s.m("Save").log(o),i&&i.value&&async function(e,t,n,s){try{if("anime"===s&&!Zn.settings.get("progressNotificationsAnime")||"manga"===s&&!Zn.settings.get("progressNotificationsManga"))return;if(e&&n&&n&&t.lastEp&&void 0!==t.lastEp.total&&n.lastEp&&n.lastEp.total&&t.lang===n.lang&&t.type===n.type&&t.lastEp.total<n.lastEp.total&&e.watchedEp+1===n.lastEp.total){let t;t=e.single?{title:e.title,text:Zn.storage.lang(`syncPage_malObj_nextEp_${s}`,[n.lastEp.total]),sticky:Zn.settings.get("notificationsSticky"),image:await e.single.getImage(),url:e.single.getStreamingUrl()?e.single.getStreamingUrl():e.single.getUrl()}:{title:e.title,text:Zn.storage.lang(`syncPage_malObj_nextEp_${s}`,[n.lastEp.total]),sticky:Zn.settings.get("notificationsSticky"),image:e.image,url:e.options&&e.options.u?e.options.u:e.url},Zn.request.notification(t)}}catch(e){Jn.error("Could not check notification Progress",e)}}(e,i.value,o,t),await Zn.storage.set(`release/${t}/${e.cacheKey}`,{timestamp:Date.now(),value:o,mode:n,finished:l})}(e,this.type,e.progressMode);const t=await ss.storage.get(`release/${this.type}/${this.cacheKey}`);this.logger.m("Init Release").log(t),t&&(function(e){if(e&&e.timestamp){const t=(new Date).getTime()-e.timestamp;if(e.finished&&t<6048e5)return!1;if(!e.value&&t<864e5)return!1;if(t<864e5)return!1}return!0}(t)?this.logger.log("Too old"):this.releaseItem=t)}getProgressCurrentEpisode(){const e=this.releaseItem;return e&&e.value&&e.value.lastEp&&e.value.lastEp.total?e.value.lastEp.total:null}isProgressFinished(){const e=this.releaseItem;return!(!e||!e.finished)}getProgressPrediction(){const e=this.releaseItem;return e&&e.value&&e.value.predicition&&e.value.predicition.timestamp?e.value.predicition.timestamp:null}getProgressLastTimestamp(){const e=this.releaseItem;return e&&e.value&&e.value.lastEp&&e.value.lastEp.timestamp?e.value.lastEp.timestamp:null}async init(e=!1){return await Promise.all([this.initReleaseProgress(e)]),this}getCurrentEpisode(){return ss.settings.get("epPredictions")?this.getProgressCurrentEpisode():null}isFinished(){return this.isProgressFinished()}isAiring(){return!this.isFinished()}getPredictionTimestamp(){return!this.getProgressPrediction()||(new Date).getTime()>this.getProgressPrediction()?NaN:this.getProgressPrediction()}getPrediction(){return ts(this.getPredictionTimestamp())}getPredictionText(){const e=this.getPrediction();return e?ss.storage.lang(`prediction_Episode_${this.type}`,[e]):""}getLastTimestamp(){return this.getProgressLastTimestamp()}getLast(e=!0){return ts(this.getLastTimestamp(),e)}getLastText(){const e=this.getLast(!1);return e?ss.storage.lang(`prediction_Last_${this.type}`,[e]):""}getAuto(){const e=this.getPrediction();if(e)return e;return this.getLast()||""}getAutoText(){const e=this.getPredictionText();if(e)return e;return this.getLastText()||""}getColor(){return"#f57c00"}getBars(e,t){const n=this.getCurrentEpisode(),s={totalWidth:100,epWidth:0,predWidth:0};if(!t)if(s.totalWidth=0,e&&(!n||e>=n))t=Math.ceil(1.2*e);else{if(!n||e&&!(e<n))return s;t=Math.ceil(1.2*n)}return e&&(s.epWidth=e/t*100,s.epWidth>100&&(s.epWidth=100)),n&&(s.predWidth=n/t*100,s.predWidth>100&&(s.predWidth=100)),s}}var as=n(53011),rs=n(78584),os=n(13647);const ls=Math.floor(1e9*Math.random()),cs=new as.EventEmitter2({wildcard:!0});function us(e,...t){rs.m("Global").m("Emit").debug(e,...t),cs.emit(`${e}`,...t),void 0!==os&&os&&"webextension"===os.type&&chrome.runtime.sendMessage({name:"emitter",item:{event:e,params:t,id:ls}})}void 0!==os&&os&&"webextension"===os.type&&chrome.runtime.onMessage.addListener(((e,t,n)=>{e.name&&"emitter"===e.name&&(rs.m("Global").m("Event").debug(e.item.id,e.item.event,e.item.params),e.item.id!==ls&&cs.emit(e.item.event,...e.item.params))})),Error;class hs extends Error{constructor(e){super(e),this.name="SafeError"}}Error,Error;var ms=n(13647);class ds extends Error{constructor(e){super(e),this.name="NotAutenticatedError"}}class ps extends Error{constructor(e){super(e),this.name="UrlNotSupportedError"}}class fs extends Error{constructor(e){super(e),this.name="ServerOfflineError"}}class gs extends Error{constructor(e){super(e),this.name="NotFoundError"}}class ys extends Error{constructor(e){super(e),this.name="UnexpectedResponseError"}}var vs=n(13647);const bs={ui:{module:"dropdown"},getOptions:()=>[{value:0,label:vs.storage.lang("UI_Score_Not_Rated")},{value:100,label:vs.storage.lang("UI_Score_Masterpiece")},{value:90,label:vs.storage.lang("UI_Score_Great")},{value:80,label:vs.storage.lang("UI_Score_VeryGood")},{value:70,label:vs.storage.lang("UI_Score_Good")},{value:60,label:vs.storage.lang("UI_Score_Fine")},{value:50,label:vs.storage.lang("UI_Score_Average")},{value:40,label:vs.storage.lang("UI_Score_Bad")},{value:30,label:vs.storage.lang("UI_Score_VeryBad")},{value:20,label:vs.storage.lang("UI_Score_Horrible")},{value:10,label:vs.storage.lang("UI_Score_Appalling")}],valueToOptionValue:e=>e?e<10?10:10*Math.round(e/10):0,optionValueToValue:e=>e?Number(e):0};var _s=n(78584),ws=n(13647),ks=n(26017),Ss=n(7263);Object.seal(cs);class xs{constructor(e){return this.url=e,this.type=null,this.askCompleted=!1,this.rewatchingSupport=!0,this.ids={mal:NaN,ani:NaN,kitsu:{id:NaN,slug:""},simkl:NaN},this.options=null,this.progress=!1,this.updateProgress=!1,this._onList=!1,this._authenticated=!1,this.handleUrl(e),this.logger=_s.m("[S]","#348fff"),this}getType(){return this.type}getUrl(){return this.url}supportsRewatching(){return this.rewatchingSupport}getApiCacheKey(){return this.getKey(["ANILIST"])}getRulesCacheKey(){return this.getKey(["ANILIST","KITSU"],!1)}setStatus(e){return e=Number(e),this._setStatus(e),this}getStatus(){return this.isOnList()?this._getStatus():Hn.NoState}getScoreMode(){return bs}setScore(e){return(e=parseInt(`${e}`))||(e=0),this._setScore(e),this}getScore(){return this._getScore()||0}setAbsoluteScore(e){return e=parseInt(`${e}`),this._setAbsoluteScore(e),this}getAbsoluteScore(){return this._getAbsoluteScore()||0}setEpisode(e){return e=parseInt(`${e}`),this.getTotalEpisodes()&&e>this.getTotalEpisodes()&&(e=this.getTotalEpisodes()),this._setEpisode(e),this}getEpisode(){return this._getEpisode()}setVolume(e){return this._setVolume(e),this}getVolume(){return this._getVolume()}setStreamingUrl(e){return this.options&&(this.options.u=e),this}getStreamingUrl(){if(this.options&&this.options.u)return this.options.u}cleanTags(){this.options=null}async initProgress(){const e=await Qn(this.getType(),this.getApiCacheKey());return new is(this.getCacheKey(),this.getType()).init({uid:this.getCacheKey(),apiCacheKey:this.getApiCacheKey(),title:this.getTitle(),cacheKey:this.getCacheKey(),progressMode:this.getProgressMode(),watchedEp:this.getEpisode(),single:this,xhr:e}).then((t=>{this.updateProgress=!1,this.progress=t,this.progressXhr=e}))}getProgress(){return!!this.progress&&this.progress}getProgressFormated(){const e=[],t=new Intl.DisplayNames("en",{type:"language"});return _s.log(this.progressXhr),this.progressXhr&&Object.keys(this.progressXhr).length&&this.progressXhr.forEach((n=>{e.push({type:n.type,key:n.id,state:n.state,label:t.of(n.lang.replace(/^jp$/,"ja"))||n.lang,dropped:"dropped"===n.state||"discontinued"===n.state,episode:n.lastEp&&n.lastEp.total?n.lastEp.total:0,lastEp:n.lastEp,predicition:n.prediction})})),e}getProgressOptions(){return this.getProgressFormated().filter((e=>"complete"!==e.state))}getProgressCompleted(){return this.getProgressFormated().filter((e=>"complete"===e.state))}getProgressMode(){return this.options&&this.options.p?this.options.p:""}setProgressMode(e){this.options&&(this.options.p=e,this.updateProgress=!0),ws.settings.get("malTags")||ks.setEntrySettings(this.type,this.getCacheKey(),this.options,this._getTags()).then((()=>this.initProgress()))}getProgressKey(){let e=this.getProgressMode();if(e||(e="anime"===this.getType()?ws.settings.get("progressIntervalDefaultAnime"):ws.settings.get("progressIntervalDefaultManga")),!e)return null;const t=/^([^/]*)\/(.*)$/.exec(e);return t?{key:e,lang:t[1],type:t[2]}:null}getPageRelations(){const e=this.shortName,t=[];return this.ids.mal&&"MAL"!==e&&t.push({name:"MAL",icon:"https://cdn.myanimelist.net/images/favicon.ico",link:`https://myanimelist.net/${this.type}/${this.ids.mal}`}),this.ids.ani&&"AniList"!==e&&t.push({name:"AniList",icon:"https://anilist.co/img/icons/favicon-32x32.png",link:`https://anilist.co/${this.type}/${this.ids.ani}`}),this.ids.kitsu.id&&"Kitsu"!==e&&t.push({name:"Kitsu",icon:"https://kitsu.app/favicon-32x32-3e0ecb6fc5a6ae681e65dcbc2bdf1f17.png",link:`https://kitsu.app/${this.type}/${this.ids.kitsu.id}`}),this.ids.simkl&&"Simkl"!==e&&t.push({name:"Simkl",icon:"https://eu.simkl.in/img_favicon/v2/favicon-32x32.png",link:`https://simkl.com/${this.type}/${this.ids.simkl}`}),t}fillRelations(){return Promise.resolve()}update(){return this.logger.log("[SINGLE]","Update info",this.ids),this.lastError=null,this._update().catch((e=>{throw this.lastError=e,e})).then((()=>(this.persistanceState=this.getStateEl(),ks.getEntrySettings(this.type,this.getCacheKey(),this._getTags())))).then((e=>{this.options=e,this.registerEvent(),this.emitUpdate("state")}))}async sync(){return this.logger.log("[SINGLE]","Sync",this.ids),this.lastError=null,this._setTags(await ks.setEntrySettings(this.type,this.getCacheKey(),this.options,this._getTags())),this._sync().catch((e=>{throw this.lastError=e,e})).then((()=>{this.undoState=this.persistanceState,this.updateProgress&&this.initProgress(),this._onList=!0,this.emitUpdate()}))}emitUpdate(e="update"){us(`${e}.${this.getCacheKey()}`,{id:this.getPageId(),type:this.getType(),cacheKey:this.getCacheKey(),state:this.getStateEl(),meta:{title:this.getTitle(),image:this.getImage(),malId:this.getMalId(),totalEp:this.getTotalEpisodes(),url:this.getUrl()}})}async delete(){return this._delete().then((()=>{this._onList=!1,us(`delete.${this.getCacheKey()}`,{id:this.getPageId(),type:this.getType(),cacheKey:this.getCacheKey()})}))}registerEvent(){this.globalUpdateEvent||(this.globalUpdateEvent=cs.on(`update.${this.getCacheKey()}`,(e=>this.updateEvent(e))))}updateEvent(e){this.isDirty()?this.logger.log("Ignore event"):e&&e.state&&(this.setStateEl(e.state),this.persistanceState=this.getStateEl(),cs.emit("syncPage_fillUi"))}isDirty(){return JSON.stringify(this.persistanceState)!==JSON.stringify(this.getStateEl())||this.updateProgress}undo(){if(this.logger.log("[SINGLE]","Undo",this.undoState),!this.undoState)throw new hs("No undo state found");if(!this.undoState.onList){if(void 0===this.delete)throw new Error("Deleting an entry is not supported");return this.delete().then((()=>{this.setStateEl(this.undoState),this.undoState=null}))}return this.setStateEl(this.undoState),this.sync().then((()=>{this.undoState=null}))}getTitle(e=!1){return this._getTitle(e)}getTotalEpisodes(){let e=this._getTotalEpisodes();return e||(e=0),e}getTotalVolumes(){return this._getTotalVolumes()}isOnList(){return this._onList}isAuthenticated(){return this._authenticated}getDisplayUrl(){return this._getDisplayUrl()}getMalUrl(){return Number.isNaN(this.ids.mal)?null:`https://myanimelist.net/${this.getType()}/${this.ids.mal}`}getMalId(){return Number.isNaN(this.ids.mal)?null:this.ids.mal}getIds(){return this.ids}getImage(){return this._getImage()}getRating(){return this._getRating().then((e=>e||"N/A"))}setResumeWatching(e,t){return ks.setResumeWaching(e,t,this.type,this.getCacheKey())}getResumeWatching(){return this.options&&this.options.r?this.options.r:null}setContinueWatching(e,t){return ks.setContinueWaching(e,t,this.type,this.getCacheKey())}getContinueWatching(){return this.options&&this.options.c?this.options.c:null}increaseRewatchCount(){}getStateEl(){return{onList:this.isOnList(),episode:this.getEpisode(),volume:this.getVolume(),status:this.getStatus(),score:this.getScore(),absoluteScore:this.getAbsoluteScore()}}setStateEl(e){this._onList=e.onList,this.setEpisode(e.episode),this.setVolume(e.volume),this.setStatus(e.status),this.setScore(e.score),e.absoluteScore&&this.setAbsoluteScore(e.absoluteScore)}getStateDiff(){const e=this.getStateEl();if(e&&this.undoState){const t={};for(const n in e)e[n]!==this.undoState[n]&&(t[n]=e[n]);return t}}async lifeCycleHook(e){this.askCompleted&&("afterCheckSync"===e&&ws.settings.get("askBefore")||"beforeSync"===e&&!ws.settings.get("askBefore"))&&(this.askCompleted=!1,this.getStatus()===Hn.Rewatching?await this.finishRewatchingMessage():await this.finishWatchingMessage())}async checkSync(e,t){const n=this.getEpisode(),s=this.getStatus(),i=this.getVolume();return s===Hn.Completed?1===e&&this.startRewatchingMessage():!(n>=e&&!(void 0!==t&&(i||t>1||!e)&&t>i))&&(e&&e===this.getTotalEpisodes()?(this.askCompleted=!0,!0):s===Hn.Watching||s===Hn.Rewatching||this.startWatchingMessage())}async startWatchingMessage(){return ks.flashConfirm(ws.storage.lang(`syncPage_flashConfirm_start_${this.getType()}`),"add").then((e=>(e&&this.setStatus(Hn.Watching),e)))}async finishWatchingMessage(){const e=this.getScoreCheckboxValue();let t='<div><select id="finish_score" style="margin-top:5px; color:white; background-color:#4e4e4e; border: none;">';return this.getScoreCheckbox().forEach((n=>{t+=`<option value="${n.value}" ${e===n.value?"selected":""}>${n.label}</option>`})),t+="</select></div>",ks.flashConfirm(ws.storage.lang("syncPage_flashConfirm_complete")+t,"complete").then((e=>(e&&(this.setStatus(Hn.Completed),Number(Ss.$("#finish_score").val())>0&&(this.logger.log(`finish_score: ${Ss.$("#finish_score :selected").val()}`),this.handleScoreCheckbox(Ss.$("#finish_score :selected").val()))),e)))}async startRewatchingMessage(){return ks.flashConfirm(ws.storage.lang(`syncPage_flashConfirm_rewatch_start_${this.getType()}`),"add").then((e=>(e&&this.setStatus(Hn.Rewatching),e)))}async finishRewatchingMessage(){return ks.flashConfirm(ws.storage.lang(`syncPage_flashConfirm_rewatch_finish_${this.getType()}`),"complete").then((e=>(e&&(this.setStatus(Hn.Completed),this.increaseRewatchCount()),e)))}getScoreCheckbox(){return this.getScoreMode().getOptions()}getScoreCheckboxValue(){return this.getScoreMode().valueToOptionValue(this.getAbsoluteScore())}handleScoreCheckbox(e){this.setAbsoluteScore(this.getScoreMode().optionValueToValue(e))}getDisplayScoreCheckbox(){const e=this.getScoreCheckboxValue(),t=this.getScoreCheckbox().filter((t=>t.value===e));return t.length?t[0].label:""}getStatusCheckbox(){const e=[{value:"1",label:ws.storage.lang(`UI_Status_watching_${this.getType()}`)},{value:"2",label:ws.storage.lang("UI_Status_Completed")},{value:"3",label:ws.storage.lang("UI_Status_OnHold")},{value:"4",label:ws.storage.lang("UI_Status_Dropped")},{value:"6",label:ws.storage.lang(`UI_Status_planTo_${this.getType()}`)}];return this.rewatchingSupport&&e.push({value:"23",label:ws.storage.lang(`UI_Status_Rewatching_${this.getType()}`)}),e}handleStatusCheckbox(e){this.setStatus(e)}getStatusCheckboxValue(){return this.getStatus()}getKey(e,t=!0){return t&&this.ids.mal?this.ids.mal:this.ids.ani&&e.includes("ANILIST")?`anilist:${this.ids.ani}`:this.ids.kitsu.id&&e.includes("KITSU")?`kitsu:${this.ids.kitsu.id}`:this.ids.simkl&&e.includes("SIMKL")?`simkl:${this.ids.simkl}`:this.ids.mal}getLastError(){return this.lastError}getLastErrorMessage(){return this.errorMessage(this.getLastError())}flashmError(e){ks.flashm(this.errorMessage(e),{error:!0,type:"error"})}errorMessage(e){return function(e,t){return e instanceof ds?ms.storage.lang("Error_Authenticate",[t]):e instanceof fs?"Server Offline":e instanceof ps?`Incorrect url provided [${e.message}]`:e instanceof gs?"Could not find this entry":e.message}(e,this.authenticationUrl)}}var Ts=n(78584),Es=n(13647);const As="39e8640b6f1a60aaf60f3f3313475e830517badab8048a4e52ff2d10deb2b9b0";function Cs(e,t=null){const n={watching:1,plantowatch:6,completed:2,notinteresting:4,hold:3};return null!==t?Object.keys(n).find((e=>n[e]===t)):n[e]}function Ls(e){return this.call(`https://api.simkl.com/anime/${e}`,{extended:"full"},!0).then((e=>void 0===e.ids.mal?null:e.ids.mal))}function Ms(e){if("number"==typeof e)return e;if(e){const t=e.match(/e\d+/i);if(null!==t){const e=parseInt(t[0].replace(/\D/,""));return Number.isNaN(e)?0:e}}return 0}let $s;async function Ps(e=!1){const t=Ts.m("Simkl","#9b7400").m("list");if(void 0===$s)$s=await Es.storage.get("simklList");else if(e)return $s;const n=await Es.storage.get("simklLastCheck"),s=await this.call("https://api.simkl.com/sync/activities");if(t.log("Activity",n,s.anime),n&&n.removed_from_list!==s.anime.removed_from_list){const e=await this.call("https://api.simkl.com/sync/all-items/anime"),n={};if(e)for(let t=0;t<e.anime.length;t++){const s=e.anime[t];void 0!==$s[s.show.ids.simkl]&&(n[s.show.ids.simkl]=$s[s.show.ids.simkl])}$s=n,t.log("remove",$s)}let i="";if(n&&$s&&(i=`date_from=${n.all}`,n.all===s.anime.all))return t.log("Up to date"),$s;if($s||($s={}),n&&n.rated_at!==s.anime.rated_at){const e=await this.call(`https://api.simkl.com/sync/ratings/anime?${i}`);if(t.log("ratedUpdate",e),e)for(let t=0;t<e.anime.length;t++){const n=e.anime[t];$s[n.show.ids.simkl]=n}}const a=await this.call(`https://api.simkl.com/sync/all-items/anime?${i}`);if(t.log("listUpdate",a),a)for(let e=0;e<a.anime.length;e++){const t=a.anime[e];$s[t.show.ids.simkl]=t}return t.log("totalList",$s),await Es.storage.set("simklList",$s),await Es.storage.set("simklLastCheck",s.anime),$s}async function Is(e,t=!1){const n=await this.syncList(t);if(e.simkl){if(void 0!==n[e.simkl])return n[e.simkl]}else{if(!e.mal)throw"No id passed";{const t=Object.values(n);for(let n=0;n<t.length;n++){const s=t[n];if(void 0!==s.show.ids.mal&&Number(s.show.ids.mal)===Number(e.mal))return s}}}return null}async function Ns(e,t={},n=!1,s="GET",i=!0){const a=Ts.m("Simkl","#9b7400").m("call");n&&(e+=`?${new URLSearchParams(Object.entries(t))}`,t=void 0),a.log(s,e,t);const r={"simkl-api-key":As,Accept:"application/vnd.api+json","Content-Type":"application/json"};return i?r.Authorization=`Bearer ${Es.settings.get("simklToken")}`:a.log("No login"),"GET"===s&&(t=void 0),Es.request.xhr(s,{url:e,headers:r,data:t}).then((async e=>{const t=function(e){try{return JSON.parse(e)}catch(e){throw new ys(e.message)}}(e.responseText);return this.errorHandling(t,e.status),t}))}function Os(e,t){if(t>499&&t<600||0===t)throw new fs(`Server Offline status: ${t}`);if(e&&void 0!==e.error){this.logger.error("[SINGLE]","Error",e.error);const{error:t}=e;if(t.code)throw t.code,new Error(t.error);if("user_token_failed"===t)throw new ds("user_token_failed");throw t}}var Rs=n(78584),Us=n(26017);class Ds extends xs{constructor(e){return super(e),this.url=e,this.episodeUpdate=!1,this.statusUpdate=!1,this.ratingUpdate=!1,this.minWatchedEp=1,this.curWatchedEp=0,this.shortName="Simkl",this.authenticationUrl=`https://simkl.com/oauth/authorize?response_type=code&client_id=${As}&redirect_uri=https://simkl.com/apps/chrome/mal-sync/connected/`,this.rewatchingSupport=!1,this.syncList=Ps,this.getSingle=Is,this.call=Ns,this.errorHandling=Os,this.logger=Rs.m(this.shortName,"#9b7400"),this}handleUrl(e){if(e.match(/simkl\.com\/(anime|manga)\/\d*/i)){if(this.type="anime"===Us.urlPart(e,3)?"anime":"manga",this.ids.simkl=parseInt(Us.urlPart(e,4)),"manga"===this.type)throw"Simkl has no manga support"}else{if(!e.match(/myanimelist\.net\/(anime|manga)\/\d*/i))throw new ps(e);if(this.type="anime"===Us.urlPart(e,3)?"anime":"manga",this.ids.mal=Number(Us.urlPart(e,4)),"manga"===this.type)throw"Simkl has no manga support"}}getCacheKey(){return this.getKey(["SIMKL"])}getPageId(){return this.ids.simkl}_getStatus(){return parseInt(Cs(this.animeInfo.status))}_setStatus(e){23===e&&(e=1),(e=Cs(e,parseInt(e.toString())))!==this.animeInfo.status&&(this.statusUpdate=!0),this.animeInfo.status=e}_getScore(){const e=this.animeInfo.user_rating;return null===e?0:e}_setScore(e){0===e&&(e=null),e!==this.animeInfo.user_rating&&(this.ratingUpdate=!0),this.animeInfo.user_rating=e}_getAbsoluteScore(){return 10*this.getScore()}_setAbsoluteScore(e){e?e<10?this.setScore(1):this.setScore(Math.round(e/10)):this.setScore(0)}_getEpisode(){return 2===this._getStatus()?this._getTotalEpisodes():this.curWatchedEp}_setEpisode(e){e!==this.curWatchedEp&&(this.episodeUpdate=!0),this.curWatchedEp=e}_getVolume(){return 0}_setVolume(e){this.logger.error("You cant set Volumes for animes")}_getTags(){let e=this.animeInfo.private_memo;return null!==e&&"null"!==e||(e=""),e}_setTags(e){this.animeInfo.private_memo=e}_getTitle(){return this.animeInfo.show.title}_getTotalEpisodes(){const e=this.animeInfo.total_episodes_count;return null===e?0:e}_getTotalVolumes(){return 0}_getDisplayUrl(){return`https://simkl.com/${this.getType()}/${this.ids.simkl}`}_getImage(){return`https://simkl.in/posters/${this.animeInfo.show.poster}_ca.jpg`}async _getRating(){try{return(await this.call("https://api.simkl.com/ratings",{simkl:this.ids.simkl},!0)).simkl.rating}catch(e){return this.logger.error(e),"N/A"}}async _update(){let e;return e=Number.isNaN(this.ids.mal)?{simkl:this.ids.simkl}:{mal:this.ids.mal},this._authenticated=!0,this.getSingle(e).catch((e=>{if(e instanceof ds)return this._authenticated=!1,"";throw e})).then((async t=>{if(this.logger.log(t),this.episodeUpdate=!1,this.statusUpdate=!1,this.ratingUpdate=!1,this.animeInfo=t,this._onList=!0,!this.animeInfo){let t;if(this._onList=!1,e.simkl){if(t=await this.call(`https://api.simkl.com/anime/${e.simkl}`,{extended:"full"},!0),!t)throw new gs("Anime not found")}else{if(t=await this.call("https://api.simkl.com/search/id",e,!0),!t)throw new gs("Anime not found");if(t[0].mal&&t[0].mal.type&&"Special"===t[0].mal.type)throw new Error("Is a special");t=t[0]}this.animeInfo={last_watched:"",last_watched_at:"",next_to_watch:"",not_aired_episodes_count:0,private_memo:"",status:"plantowatch",total_episodes_count:0,user_rating:null,watched_episodes_count:0,show:t},this.logger.log("Add anime",this.animeInfo)}if(Number.isNaN(this.ids.simkl)&&(this.ids.simkl=parseInt(this.animeInfo.show.ids.simkl)),Number.isNaN(this.ids.mal)&&void 0!==this.animeInfo.show.ids.mal&&(this.ids.mal=this.animeInfo.show.ids.mal),this.curWatchedEp=Ms(this.animeInfo.last_watched),!this.curWatchedEp&&this.animeInfo.next_to_watch){const e=Ms(this.animeInfo.next_to_watch);e&&(this.curWatchedEp=e-1)}if(this.minWatchedEp=this.curWatchedEp+1,!this._authenticated)throw new ds("Not Authenticated")}))}async _sync(){if(this.logger.log("[SET] Object:",this.animeInfo,"status",this.statusUpdate,"episode",this.episodeUpdate,"rating",this.ratingUpdate,"minWatchedEp",this.minWatchedEp,"curWatchedEp",this.curWatchedEp),this.statusUpdate||!this.isOnList()){const e=await this.call("https://api.simkl.com/sync/add-to-list",JSON.stringify({shows:[{to:this.animeInfo.status,ids:{simkl:this.ids.simkl}}]}),!1,"POST");this.logger.log("Status response",e)}if(this.episodeUpdate||!this.isOnList()){const e=this.curWatchedEp,t=[];if(this.minWatchedEp<=e){if(e){for(let n=this.minWatchedEp;n<=e;n++)t.push({number:n});const n=await this.call("https://api.simkl.com/sync/history",JSON.stringify({shows:[{ids:{simkl:this.ids.simkl},private_memo:this.animeInfo.private_memo,seasons:[{number:1,episodes:t}]}]}),!1,"POST");this.logger.log("Episode response",n)}}else{for(let n=this.minWatchedEp-1;n>e;n-=1)t.push({number:n});const n=await this.call("https://api.simkl.com/sync/history/remove",JSON.stringify({shows:[{ids:{simkl:this.ids.simkl},seasons:[{number:1,episodes:t}]}]}),!1,"POST");this.logger.log("Episode remove response",n)}this.minWatchedEp=e+1}if(this.ratingUpdate)if(this.animeInfo.user_rating){const e=await this.call("https://api.simkl.com/sync/ratings",JSON.stringify({shows:[{rating:this.animeInfo.user_rating,ids:{simkl:this.ids.simkl}}]}),!1,"POST");this.logger.log("Rating response",e)}else{const e=await this.call("https://api.simkl.com/sync/ratings/remove",JSON.stringify({shows:[{ids:{simkl:this.ids.simkl}}]}),!1,"POST");this.logger.log("Rating remove response",e)}this.episodeUpdate=!1,this.statusUpdate=!1,this.ratingUpdate=!1}_delete(){return this.call("https://api.simkl.com/sync/history/remove",JSON.stringify({shows:[{ids:{simkl:this.ids.simkl}}]}),!1,"POST")}}const Fs=e=>(A="data-v-2f7a8d1e",e=e(),A=null,e),js={class:"malsync-page-relation"},Ws=["href","title"],Hs=["src"],Bs={class:"simkltvdetailonlinehead"},zs={class:"simkltvdetailonlineheadleft"},Ks=Fs((()=>Lt("div",{class:"simkltvdetailonlineheadtitle"},"Stream online:",-1))),Vs=["href"],Gs={class:"simkltvdetailonlineheadbuttonimage"},qs=["src","title"],Ys=["href"],Zs=[Fs((()=>Lt("div",{class:"simkltvdetailonlineheadbuttontitle"},"Watch next episode",-1))),Fs((()=>Lt("div",{class:"simkltvdetailonlineheadbuttonico",style:{"margin-top":"-4px"}},null,-1)))],Xs=["href"],Js=Fs((()=>Lt("div",{class:"simkltvdetailonlineheadbuttontitle"},"Resume episode",-1))),Qs=["src"],ei={key:0,class:"simkltvdetailonlineheadbuttontitle"},ti={key:1,class:"simkltvdetailonlineheadbuttontitle"},ni=Fs((()=>Lt("div",{class:"simkltvdetailonlineheadbuttonicoarrow"},null,-1))),si=[Fs((()=>Lt("div",{class:"simkltvdetailonlineheadbuttontitle"},"Search",-1))),Fs((()=>Lt("div",{class:"simkltvdetailonlineheadbuttonicoarrow"},null,-1)))],ii=[Fs((()=>Lt("div",{class:"simkltvdetailonlineheadrightclose"},[Lt("div",{class:"simkltvdetailonlineheadrightname",style:{"--data-online-block-title":"'MAL-Sync'"}}),Lt("div",{class:"simkltvdetailonlineheadrightcloseico"})],-1)))],ai={class:"simkltvdetailonlineitems Search"},ri=["href"],oi={class:"simkltvdetailonlineitemsearchico"},li=["src"],ci={class:"simkltvdetailonlineitemsearchtitle"},ui=["href"],hi={class:"simkltvdetailonlineitems Links"},mi={key:0},di={class:"simkltvdetailonlineitemtop"},pi={class:"simkltvdetailonlineitemico"},fi=["src"],gi={class:"simkltvdetailonlineitemname"},yi=["onClick"],vi={class:"simkltvdetailonlineitemlinks"},bi=["href"];var _i=n(13647),wi=n(78584);const ki=n(52163);function Si(e,t,n){return function(e,t){let n=t.replace(/^\[l\]/i,"").trim(),s=[];const i=e.match(/{searchterm(\(.\))?(\[[^[\]]*\])?}/);if(!i)return e;const[a,r,o]=i;return o&&(s=o.substring(1,o.length-1).split(",")),s.includes("noLowercase")||(n=n.toLowerCase()),s.includes("noSpecial")?n=n.replace(/[^a-zA-Z\d ]/g,"").replace(/ +/g," ").trim():s.includes("specialReplace")&&(n=n.replace(/[^a-zA-Z\d ]/g," ").replace(/ +/g," ").trim()),n=s.includes("noEncode")?n.replace(/\//g," "):encodeURIComponent(n),r&&(n=n.replace(/(%20| )/g,r[1])),e.replace(a,n)}(e.replace("{searchtermPlus}","{searchterm(+)}").replace("{searchtermMinus}","{searchterm(-)}").replace("{searchtermUnderscore}","{searchterm(_)}").replace("{searchtermRaw}","{searchterm[noEncode,noLowercase]}").replace("{cacheId}",n),t)}async function xi(e,t,n){let s=function(){const e=_i.settings.get("quicklinks").map((e=>{return(t=e)?t.custom?t:ki.find((e=>e.name===t)):null;var t})).filter((e=>e));return JSON.parse(JSON.stringify(e))}();if(t)try{s=await async function(e,t,n){const s=await async function(e,t){const n=`https://api.malsync.moe/mal/${e}/${t}`;return _i.request.xhr("GET",n).then((async e=>{if(wi.log("malSync response",e),400===e.status)return{};if(200===e.status){const t=JSON.parse(e.responseText);return t&&t.Sites?t.Sites:{}}throw new Error("malsync offline")}))}(t,n);return e.map((e=>(e.database&&s[e.database]&&(e.databaseLinks=s[e.database]),e)))}(s,e,t)}catch(e){wi.m("API Problem").error(e)}return function(e,t,n,s){return e.filter((e=>e.search&&e.search[t])).map((e=>{const i=[];let a;return e.databaseLinks?(a="link",Object.values(e.databaseLinks).forEach((e=>{i.push({name:e.title,url:e.url})}))):"home"===e.search[t]?(a="home",i.push({name:"Homepage",url:e.domain})):(a="search",i.push({name:"Quicksearch",url:Si(e.search[t],n,s),fn:n=>Si(e.search[t],n,s)})),{name:e.name,domain:e.domain,group:a,links:i}}))}(s,e,n,t)}var Ti=n(13647),Ei=n(26017),Ai=n(78584);const Ci="SIMKL-MAL-SYNC",Li={data:()=>({streamUrl:void 0,continueUrl:null,resumeUrl:null,links:null,pageSearch:null,pageRelation:null,classes:{minimized:!0,search:!1}}),watch:{streamUrl(e){e&&(this.classes.minimized=!0,this.classes.search=!1)}},created(){const e=JSON.parse(Yn.getItem(Ci));e&&(this.classes=e)},methods:{lang:Ti.storage.lang,favicon:Ei.favicon,assetUrl:Ti.storage.assetUrl,getMal2KissFavicon(e){try{return Ei.favicon(e)}catch(e){return Ai.error(e),""}},toggleSearch(){this.classes.search=!this.classes.search,this.saveClasses()},pressMinimized(){null===this.links||Object.keys(this.links).length?this.toggleMinimized():this.toggleSearch(),this.saveClasses()},toggleMinimized(){this.classes.minimized=!this.classes.minimized,this.classes.search&&this.classes.minimized&&this.toggleSearch(),this.saveClasses()},removeSource(e){!function(e){const t=_i.settings.get("quicklinks");_i.settings.set("quicklinks",function(e,t){return t?e.filter((e=>!(!e||e===t||"object"==typeof e&&e.name===t))):e}(t,e))}(String(e.name)),window.location.reload()},saveClasses(){Yn.setItem(Ci,JSON.stringify(this.classes))}}},Mi=(0,n(66262).A)(Li,[["render",function(e,n,s,i,a,r){return _t(),xt("div",{id:"malkiss",class:(0,t.C4)(["simkltvdetailonline",{Minimized:e.classes.minimized,Search:e.classes.search}])},[Lt("div",js,[(_t(!0),xt(pt,null,q(e.pageRelation,(e=>(_t(),xt("a",{key:e.title,href:e.link,target:"_blank",title:e.name},[Lt("img",{src:e.icon,width:"16",height:"16"},null,8,Hs)],8,Ws)))),128))]),Lt("div",Bs,[Lt("div",zs,[Ks,e.streamUrl?(_t(),xt("a",{key:0,href:e.streamUrl,target:"_blank",class:"simkltvdetailonlineheadbutton simkltvdetailonlineheadbuttonstream"},[Lt("div",Gs,[Lt("img",{src:r.favicon(e.streamUrl.split("/")[2]),alt:"",title:e.streamUrl.split("/")[2]},null,8,qs)])],8,Vs)):It("v-if",!0),e.continueUrl?(_t(),xt("a",{key:1,href:e.continueUrl,target:"_blank",class:"simkltvdetailonlineheadbutton"},Zs,8,Ys)):It("v-if",!0),e.resumeUrl&&!e.continueUrl?(_t(),xt("a",{key:2,href:e.resumeUrl,target:"_blank",class:"simkltvdetailonlineheadbutton"},[Js,Lt("img",{src:r.assetUrl("arrow-16px.png"),width:"16",height:"16",style:{filter:"invert(1)","margin-top":"-1px"}},null,8,Qs)],8,Xs)):It("v-if",!0),null===e.links||Object.keys(e.links).length?(_t(),xt("div",{key:3,class:"simkltvdetailonlineheadbutton Sources",onClick:n[0]||(n[0]=e=>r.toggleMinimized())},[null!==e.links&&Object.keys(e.links).length?(_t(),xt("div",ei,(0,t.v_)(Object.keys(e.links).length)+" streaming sources ",1)):(_t(),xt("div",ti,"Loading")),ni])):It("v-if",!0),null!==e.pageSearch?(_t(),xt("div",{key:4,class:"simkltvdetailonlineheadbutton Search",onClick:n[1]||(n[1]=e=>r.toggleSearch())},si)):It("v-if",!0)]),Lt("div",{class:"simkltvdetailonlineheadright",onClick:n[2]||(n[2]=e=>r.pressMinimized())},ii)]),Lt("div",ai,[(_t(!0),xt(pt,null,q(e.pageSearch,(e=>(_t(),xt("div",{key:e.search,class:"simkltvdetailonlineitemsearch"},[Lt("a",{href:e.search,target:"_blank",class:"simkltvdetailonlineitemsearchhref"},[Lt("div",oi,[Lt("img",{src:e.favicon,class:"simkltvdetailonlineitemsearchicoimg"},null,8,li)]),Lt("div",ci,(0,t.v_)(e.name),1)],8,ri),e.googleSeach.length?(_t(),xt("a",{key:0,href:e.googleSeach,target:"_blank",class:"simkltvdetailonlineitemsearchgoogle"},null,8,ui)):It("v-if",!0)])))),128))]),Lt("div",hi,[null===e.links?(_t(),xt("div",mi,"Loading")):It("v-if",!0),(_t(!0),xt(pt,null,q(e.links,(e=>(_t(),xt("div",{key:e.name,class:"simkltvdetailonlineitem"},[Lt("div",di,[Lt("div",pi,[Lt("img",{src:r.getMal2KissFavicon(e.domain),alt:""},null,8,fi)]),Lt("div",gi,(0,t.v_)(e.name),1),Lt("div",{class:"simkltvdetailonlineitemclose",onClick:t=>r.removeSource(e)},null,8,yi)]),Lt("div",vi,[(_t(!0),xt(pt,null,q(e.links,(e=>(_t(),xt("a",{key:e.url,target:"_blank",href:e.url,class:"simkltvdetailonlineitemhref"},(0,t.v_)(e.name),9,bi)))),128))])])))),128))])],2)}],["styles",[".Sources[data-v-2f7a8d1e] {\n  min-width: 178px;\n}\n.simkltvdetailonlineheadbuttonstream[data-v-2f7a8d1e] {\n  width: auto;\n  min-width: auto;\n}\n#malkiss[data-v-2f7a8d1e] {\n  position: relative;\n}\n.malsync-page-relation[data-v-2f7a8d1e] {\n  display: flex;\n  position: absolute;\n  bottom: -1px;\n  right: -1px;\n}\n.malsync-page-relation > a[data-v-2f7a8d1e] {\n  margin-left: 5px;\n}\n.simkltvdetailonlineitemlinks[data-v-2f7a8d1e] {\n  word-break: break-all;\n}\n"]],["__scopeId","data-v-2f7a8d1e"],["__file","malkiss.vue"]]);var $i=n(26017),Pi=n(78584),Ii=n(26017),Ni=n(13647),Oi=n(7263);class Ri{constructor(e){this.url=e,this.page=null,this.call=Ns,this.errorHandling=Os,this.simklIdToMal=Ls,this.logger=Pi.m("SimklClass","#9b7400"),Ii.urlChangeDetect((()=>{clearInterval(this.interval),this.interval=Ii.waitUntilTrue((function(){return!($("#global_div").length&&1!==parseInt($("#global_div").css("opacity"))||$("#tvMainTable").length&&1!==parseInt($("#tvMainTable").css("opacity")))}),(()=>{this.url=window.location.href,this.init()}),1e3)})),Ni.storage.addStyle(n(18822).toString()),$(document).ready((()=>{this.init()}))}async init(){await(0,$i.waitForPageToBeVisible)(),Pi.log(this.url),clearInterval(this.interval2),this.url.indexOf("apps/chrome/mal-sync")>-1&&this.authentication();const e=Ii.urlPart(this.url,3),t=Ii.urlPart(this.url,4);if(("anime"===e||"manga"===e)&&!Number.isNaN(Number(t))){const t=new Ds(this.url);await t.update(),this.page={page:"detail",id:t.getIds().simkl,malid:t.getIds().mal,type:e,malObj:t},Pi.log("page",this.page),$("#malkiss").length||$(".SimklTVAboutBlockTitle, .simkltvdetailmobilesummaryinfo").after(Oi.html('<div id="malkiss"></div>')),this.malkiss&&this.malkiss.$.appContext.app.unmount(),this.malkiss=Vn(Mi,"#malkiss"),this.streamingUI(),this.malToKiss(),this.pageRelation()}}async getMalUrl(){const e=Ii.urlPart(this.url,3);if("anime"===e||"manga"===e){const t=Ii.urlPart(this.url,4);return this.simklIdToMal(t).then((t=>t?`https://myanimelist.net/${e}/${t}/${Ii.urlPart(this.url,5)}`:""))}return""}authentication(){try{Ii.checkDoubleExecution()}catch(e){Pi.error(e)}try{const t=Ii.urlParam(this.url,"code");if(!t)throw"No code found!";this.call("https://api.simkl.com/oauth/token",JSON.stringify({code:t,client_id:As,client_secret:"3f883e8e6cdd60d2d5e765aaf0612953f743dc77f44c422af98b38e083cf038b",redirect_uri:"https://simkl.com/apps/chrome/mal-sync/connected/",grant_type:"authorization_code"}),!1,"POST").then((e=>{if(void 0!==e.error||void 0===e.access_token)throw e;return Ni.settings.set("simklToken",e.access_token)})).then((e=>{$(".firstStage").addClass("HideImportant"),$(".secondStage").removeClass("HideImportant"),$(".secondStage .SimklTVKodiheaddesc").css("text-align","center")})).catch((t=>{e(t)}))}catch(t){e(t)}function e(e){Pi.error(e),$(".firstStage .SimklTVKodititletext, .secondStage .SimklTVKodititletext").text("Something went wrong")}}async streamingUI(){Pi.log("Streaming UI");const{malObj:e}=this.page,t=e.getStreamingUrl();if(void 0!==t){this.malkiss.streamUrl=t;const n=e.getResumeWatching(),s=e.getContinueWatching();Pi.log("Resume",n,"Continue",s),s&&s.ep===e.getEpisode()+1?this.malkiss.continueUrl=s.url:n&&n.ep===e.getEpisode()&&(this.malkiss.resumeUrl=n.url)}else this.malkiss.streamUrl=null}getImage(){return $("#detailPosterImg").attr("src")}getTitle(){return $("h1").first().text().trim()||""}malToKiss(){Pi.log("malToKiss");const e=this.getTitle();xi(this.page.type,this.page.malid,e).then((e=>{this.malkiss.links=e}))}async pageRelation(){await this.page.malObj.fillRelations(),this.malkiss.pageRelation=this.page.malObj.getPageRelations()}}var Ui=n(13647),Di=n(7263),Fi=n(78584),ji=n(26017);async function Wi(){const e=await Ui.storage.get("timestampUpdate/firebaseNotification");(void 0===e||Di.$.now()-e>6e5)&&(await Hi(),Ui.storage.set("timestampUpdate/firebaseNotification",Di.$.now()))}async function Hi(){Fi.log("checkNotifications");const e=await Ui.request.xhr("GET","https://kissanimelist.firebaseio.com/Data2/Notification/Current.json"),t=parseInt(JSON.parse(e.responseText));Number.isNaN(t)&&Fi.error("Could not read current Notification number"),Fi.log("Current Notification",t);const n=parseInt(await Ui.storage.get("firebaseNotification")),s=n+1;if(void 0===n||Number.isNaN(n))return void Ui.storage.set("firebaseNotification",t);if(t<s)return void Fi.log("No new notifications");const i=`https://kissanimelist.firebaseio.com/Data2/Notification/list/N${s}.json`,a=await Ui.request.xhr("GET",i);if(!a)return;const r=JSON.parse(a.responseText);if(!r)return Fi.info("Notification empty",a.responseText),void Ui.storage.set("firebaseNotification",s).then((function(){Hi()}));Di.$(document).ready((function(){const e=ji.flashm(`<div style="text-align: left;">${r}</div><button class="okChangelog" style="background-color: transparent; border: none; color: rgb(255,64,129);margin-top: 10px;cursor: pointer;">Close</button>`,{permanent:!0,position:"top"});e.find(".okChangelog").click((function(){e.remove(),Ui.storage.set("firebaseNotification",s).then((function(){Hi()}))}))}))}var Bi=n(13647),zi=n(78584);let Ki;console.log("%cMAL-Sync","font-size: 40px; padding-bottom: 3px; color: white; text-shadow: -1px -1px #2e51a2, 1px -1px #2e51a2, -1px 1px #2e51a2, 1px 1px #2e51a2, 2px 2px #2e51a2, 3px 3px #2e51a2;",`Version: ${Bi.storage.version()}`),Bi.settings.init().then((()=>{!function(){if(Bi.settings.get("userscriptModeButton"))throw"Userscript mode";var e;e=new Ri(window.location.href),chrome.runtime.onMessage.addListener((function(t,n,s){return"TabMalUrl"===t.action&&Date.now()-Ki<3e3&&(zi.info("miniMAL"),e.getMalUrl().then((t=>{const n={url:t,image:e.getImage(),title:e.getTitle()};t||"SIMKL"!==Bi.settings.get("syncMode")||(n.url=e.url),s(n)})),!0)})),Wi(),$(window).blur((function(){Ki=Date.now()}))}()}))})()})();
//# sourceMappingURL=simkl-script.js.map