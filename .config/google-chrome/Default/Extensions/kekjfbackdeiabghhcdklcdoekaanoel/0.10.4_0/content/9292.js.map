{"version":3,"file":"content/9292.js","mappings":"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","sources":["webpack://MALSync/./src/_provider/Local/helper.ts","webpack://MALSync/./src/_provider/Local/list.ts","webpack://MALSync/./src/_provider/listAbstract.ts","webpack://MALSync/./src/_minimal/components/form/form-switch.vue?f13b","webpack://MALSync/./src/_minimal/components/form/form-switch.vue","webpack://MALSync/./src/_minimal/components/form/form-switch.vue?e0d4","webpack://MALSync/./src/_minimal/components/form/form-switch.vue?608b","webpack://MALSync/./src/_minimal/components/spinner.vue","webpack://MALSync/./src/_minimal/components/spinner.vue?159e","webpack://MALSync/./src/_minimal/components/spinner.vue?7ee5","webpack://MALSync/./src/_minimal/components/error/error-search.vue?b156","webpack://MALSync/./src/_minimal/components/error/error-search.vue","webpack://MALSync/./src/_provider/MyAnimeList_api/search.ts","webpack://MALSync/./src/_provider/MyAnimeList_hybrid/search.ts","webpack://MALSync/./src/_provider/Simkl/search.ts","webpack://MALSync/./src/utils/Search.ts","webpack://MALSync/./src/_provider/searchFactory.ts","webpack://MALSync/./src/_provider/Kitsu/search.ts","webpack://MALSync/./src/_provider/AniList/search.ts","webpack://MALSync/./src/_provider/Shikimori/search.ts","webpack://MALSync/./src/_provider/Local/search.ts","webpack://MALSync/./src/_minimal/views/search.vue?2526","webpack://MALSync/./src/_minimal/views/search.vue","webpack://MALSync/./src/_minimal/views/search.vue?9ea7","webpack://MALSync/./src/_minimal/views/search.vue?50e0"],"sourcesContent":["export function getCacheKey(id, page) {\n  return `local:${id}:${page}`;\n}\n\nexport async function getSyncList() {\n  let data;\n\n  // @ts-ignore\n  if (api.type === 'userscript') {\n    const list = await api.storage.list('sync');\n    for (const key in list) {\n      list[key] = await api.storage.get(key);\n    }\n    data = list;\n  } else {\n    data = api.storage.list('sync');\n  }\n  return data;\n}\n\nexport function getRegex(listType) {\n  return new RegExp(`^local://[^/]*/${listType}`, 'i');\n}\n","import { ListAbstract, listElement } from '../listAbstract';\nimport * as helper from './helper';\n\nexport class UserList extends ListAbstract {\n  name = 'local';\n\n  authenticationUrl = '';\n\n  async getUserObject() {\n    return Promise.resolve({ username: 'local', picture: '', href: '' });\n  }\n\n  _getSortingOptions() {\n    return [];\n  }\n\n  async getPart() {\n    con.log('[UserList][Local]', `status: ${this.status}`);\n    this.done = true;\n    const data = await this.prepareData(await this.getSyncList(), this.listType, this.status);\n    return data;\n  }\n\n  private async prepareData(data, listType, status): Promise<listElement[]> {\n    const newData = [] as listElement[];\n    for (const key in data) {\n      if (this.getRegex(listType).test(key)) {\n        const el = data[key];\n        con.log(key, el);\n        if (status !== 7 && parseInt(el.status) !== status) {\n          continue;\n        }\n        if (listType === 'anime') {\n          newData.push(\n            await this.fn(\n              {\n                airingState: 2,\n                image: el.image ?? '',\n                imageLarge: el.image ?? '',\n                malId: 0,\n                apiCacheKey: 0,\n                tags: el.tags,\n                title: `[L] ${el.name}`,\n                totalEp: 0,\n                status: el.status,\n                score: el.score,\n                type: 'anime',\n                uid: key,\n                url: key,\n                cacheKey: this.getCacheKey(utils.urlPart(key, 4), utils.urlPart(key, 2)),\n                watchedEp: el.progress,\n              },\n              el.sUrl,\n            ),\n          );\n        } else {\n          newData.push(\n            await this.fn(\n              {\n                airingState: 2,\n                image: el.image ?? '',\n                imageLarge: el.image ?? '',\n                malId: 0,\n                apiCacheKey: 0,\n                tags: el.tags,\n                title: `[L] ${el.name}`,\n                totalEp: 0,\n                status: el.status,\n                score: el.score,\n                type: 'manga',\n                uid: key,\n                url: key,\n                cacheKey: this.getCacheKey(utils.urlPart(key, 4), utils.urlPart(key, 2)),\n                watchedEp: el.progress,\n              },\n              el.sUrl,\n            ),\n          );\n        }\n      }\n    }\n\n    con.log('data', newData);\n    return newData;\n  }\n\n  private getRegex = helper.getRegex;\n\n  protected getSyncList = helper.getSyncList;\n\n  protected getCacheKey = helper.getCacheKey;\n}\n","import { Cache } from '../utils/Cache';\nimport { Progress } from '../utils/progress';\nimport { emitter } from '../utils/emitter';\nimport { errorMessage as _errorMessage } from './Errors';\n\nObject.seal(emitter);\n\nexport interface listElement {\n  uid: number;\n  malId: number;\n  apiCacheKey: number | string;\n  cacheKey: any;\n  type: 'anime' | 'manga';\n  title: string;\n  url: string;\n  watchedEp: number;\n  totalEp: number;\n  status: number;\n  score: number;\n  image: string;\n  imageLarge: string;\n  imageBanner?: string;\n  tags: string;\n  airingState: number;\n  fn: {\n    continueUrl: () => string;\n    initProgress: () => void;\n    progress: false | Progress;\n  };\n  options?: {\n    u: string;\n    r: any;\n    c: any;\n    p: any;\n  };\n}\n\nexport abstract class ListAbstract {\n  protected done = false;\n\n  protected loading = false;\n\n  protected firstLoaded = false;\n\n  protected abstract authenticationUrl: string;\n\n  abstract readonly name;\n\n  protected logger;\n\n  public seperateRewatching = false;\n\n  // Modes\n  modes = {\n    frontend: false,\n    sortAiring: false,\n    initProgress: false,\n    cached: false,\n  };\n\n  protected username = '';\n\n  protected offset = 0;\n\n  protected templist: listElement[] = [];\n\n  constructor(\n    protected status: number = 1,\n    protected listType: 'anime' | 'manga' = 'anime',\n    protected sort: string = 'default',\n  ) {\n    this.status = Number(this.status);\n    this.logger = con.m('[S]', '#348fff');\n    return this;\n  }\n\n  public api = api;\n\n  public setTemplist(list) {\n    this.templist = list;\n    return this;\n  }\n\n  public getTemplist() {\n    return this.templist;\n  }\n\n  public setSort(sort) {\n    if (this.firstLoaded || this.loading) throw 'To late to change sort';\n    this.sort = sort;\n  }\n\n  isDone() {\n    return this.done;\n  }\n\n  isLoading() {\n    return this.loading;\n  }\n\n  isFirstLoaded() {\n    return this.firstLoaded;\n  }\n\n  async getCompleteList(): Promise<listElement[]> {\n    do {\n      // eslint-disable-next-line no-await-in-loop\n      await this.getNext();\n    } while (!this.done);\n\n    if (this.modes.sortAiring) await this.sortAiringList();\n\n    if (this.modes.cached) this.getCache().setValue(this.templist.slice(0, 18));\n\n    this.firstLoaded = true;\n\n    return this.templist;\n  }\n\n  async getNextPage(): Promise<listElement[]> {\n    if (this.done) return this.templist;\n\n    if (\n      this.modes.frontend &&\n      this.status === 1 &&\n      (this.sort === 'default' || this.sort === 'unread')\n    ) {\n      this.modes.sortAiring = true;\n      return this.getCompleteList();\n    }\n\n    await this.getNext();\n\n    if (this.modes.cached) this.getCache().setValue(this.templist.slice(0, 24));\n\n    this.firstLoaded = true;\n\n    return this.templist;\n  }\n\n  private async getNext() {\n    this.loading = true;\n    const retList = await this.getPart();\n    this.templist = this.templist.concat(retList);\n    this.loading = false;\n  }\n\n  async getCached(): Promise<listElement[]> {\n    if (await this.getCache().hasValue()) {\n      const cachelist = await this.getCache().getValue();\n      cachelist.forEach(item => {\n        item = this.fn(item);\n        item.watchedEp = '';\n        item.score = '';\n      });\n      return cachelist;\n    }\n    return [];\n  }\n\n  protected updateListener;\n\n  public initFrontendMode() {\n    this.modes.frontend = true;\n    this.updateListener = emitter.on(\n      'update.*',\n      data => {\n        con.log('update', data);\n        if (data.cacheKey) {\n          const item = this.templist.find(el => el.cacheKey === data.cacheKey);\n          con.log(item);\n          if (item && data.state) {\n            item.watchedEp = data.state.episode;\n            item.score = data.state.score;\n            item.status = data.state.status;\n          }\n        }\n      },\n      { objectify: true },\n    );\n  }\n\n  public destroy() {\n    if (this.updateListener) {\n      this.updateListener.off();\n    }\n  }\n\n  public getUsername() {\n    return this.getUserObject().then(user => user.username);\n  }\n\n  abstract getUserObject(): Promise<{ username: string; picture: string; href: string }>;\n\n  abstract _getSortingOptions(): { icon: string; title: string; value: string; asc?: boolean }[];\n\n  getSortingOptions(\n    simple = false,\n  ): { icon: string; title: string; value: string; asc?: boolean }[] {\n    const res = [\n      {\n        icon: 'filter_list',\n        title: api.storage.lang('settings_progress_default'),\n        value: 'default',\n      },\n    ];\n\n    if (this.status === 1 && this.listType === 'manga') {\n      res.push({\n        icon: 'adjust',\n        title: api.storage.lang('list_sorting_unread'),\n        value: 'unread',\n      });\n    }\n\n    const options = this._getSortingOptions();\n    options.forEach(el => {\n      if (!simple) {\n        if (el.asc) {\n          const asc = { ...el };\n          delete asc.asc;\n          asc.value += '_asc';\n          asc.title += ' Ascending';\n          res.push(asc);\n        }\n        delete el.asc;\n      }\n      res.push(el);\n    });\n    return res;\n  }\n\n  abstract getPart(): Promise<listElement[]>;\n\n  flashmError(error) {\n    utils.flashm(this.errorMessage(error), { error: true, type: 'error' });\n  }\n\n  errorMessage(error) {\n    return _errorMessage(error, this.authenticationUrl);\n  }\n\n  // itemFunctions;\n  async fn(item, streamurl = '') {\n    let continueUrlTemp: any = null;\n    item.fn = {\n      continueUrl: () => {\n        if (continueUrlTemp !== null) return continueUrlTemp;\n        return utils.getContinueWaching(item.type, item.cacheKey).then(obj => {\n          const curEp = parseInt(item.watchedEp.toString());\n\n          if (obj === undefined || obj.ep !== curEp + 1) return '';\n\n          continueUrlTemp = obj.url;\n\n          return continueUrlTemp;\n        });\n      },\n      initProgress: () => {\n        return new Progress(item.cacheKey, item.type).init().then(progress => {\n          item.fn.progress = progress;\n        });\n      },\n      progress: false,\n    };\n    item.options = await utils.getEntrySettings(item.type, item.cacheKey, item.tags);\n    if (streamurl) item.options.u = streamurl;\n    if (this.modes.sortAiring || this.modes.initProgress) await item.fn.initProgress();\n\n    return item;\n  }\n\n  // Modes\n  async initProgress() {\n    const listP: any = [];\n    this.templist.forEach(item => {\n      listP.push(item.fn.initProgress());\n    });\n\n    await Promise.all(listP);\n  }\n\n  async sortAiringList() {\n    if (this.sort === 'unread') {\n      this.sortUnread();\n      return;\n    }\n\n    const normalItems: listElement[] = [];\n    let preItems: listElement[] = [];\n    let watchedItems: listElement[] = [];\n    this.templist.forEach(item => {\n      const prediction = item.fn.progress;\n      if (this.listType === 'anime') {\n        if (prediction && prediction.isAiring() && prediction.getPredictionTimestamp()) {\n          if (item.watchedEp < prediction.getCurrentEpisode()) {\n            preItems.push(item);\n          } else {\n            watchedItems.push(item);\n          }\n        } else {\n          normalItems.push(item);\n        }\n      } else if (\n        // Manga only if less than 5 chapters to read\n        prediction &&\n        prediction.isAiring() &&\n        prediction.getCurrentEpisode() &&\n        item.watchedEp &&\n        item.watchedEp < prediction.getCurrentEpisode() &&\n        item.watchedEp + 6 > prediction.getCurrentEpisode()\n      ) {\n        preItems.push(item);\n      } else {\n        normalItems.push(item);\n      }\n    });\n\n    preItems = preItems.sort(sortItems).reverse();\n    watchedItems = watchedItems.sort(sortItems);\n\n    this.templist = preItems.concat(watchedItems, normalItems);\n\n    function sortItems(a, b) {\n      let valA = a.fn.progress.getPredictionTimestamp();\n      let valB = b.fn.progress.getPredictionTimestamp();\n\n      if (!valA) valA = 999999999999;\n      if (!valB) valB = valA;\n\n      return valA - valB;\n    }\n  }\n\n  sortUnread() {\n    this.templist = this.templist.sort(function (a, b) {\n      let valA = 10000;\n      let valB = 10000;\n\n      if (a.fn.progress && a.fn.progress.getCurrentEpisode()) {\n        const tempA = a.fn.progress.getCurrentEpisode() - a.watchedEp;\n        if (tempA > 0) valA = tempA;\n      }\n      if (b.fn.progress && b.fn.progress.getCurrentEpisode()) {\n        const tempB = b.fn.progress.getCurrentEpisode() - b.watchedEp;\n        if (tempB > 0) valB = tempB;\n      }\n\n      return valA - valB;\n    });\n  }\n\n  cacheObj: any = undefined;\n\n  getCache() {\n    if (this.cacheObj) return this.cacheObj;\n    this.cacheObj = new Cache(\n      `list/${this.name}/${this.listType}/${this.status}/${this.sort}`,\n      48 * 60 * 60 * 1000,\n    );\n    return this.cacheObj;\n  }\n}\n","import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, unref as _unref, vModelRadio as _vModelRadio, createElementVNode as _createElementVNode, withDirectives as _withDirectives, toDisplayString as _toDisplayString, withKeys as _withKeys, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = (n: any) => (_pushScopeId(\"data-v-3123a098\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"radio-slider\" }\nconst _hoisted_2 = [\"id\", \"value\"]\nconst _hoisted_3 = [\"for\", \"onKeyup\"]\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"select-pill\" }, null, -1 /* HOISTED */))\n\nimport { PropType, computed } from 'vue';\n\ninterface Option {\n  value: string;\n  title: string;\n}\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'form-switch',\n  props: {\n  options: {\n    type: Array as PropType<Option[]>,\n    required: true,\n  },\n  modelValue: {\n    type: String,\n    require: true,\n    default: '',\n  },\n},\n  emits: ['update:modelValue'],\n  setup(__props, { emit: __emit }) {\n\nconst props = __props;\n\nconst emit = __emit;\n\nconst picked = computed({\n  get() {\n    return props.modelValue;\n  },\n  set(value) {\n    emit('update:modelValue', value);\n  },\n});\n\nconst id = Math.floor(Math.random() * 10000);\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(__props.options, (option, index) => {\n      return (_openBlock(), _createElementBlock(_Fragment, {\n        key: option.value\n      }, [\n        _withDirectives(_createElementVNode(\"input\", {\n          id: `radio-${_unref(id)}-${index}`,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((picked).value = $event)),\n          class: \"input\",\n          type: \"radio\",\n          name: \"radio-slide\",\n          value: option.value\n        }, null, 8 /* PROPS */, _hoisted_2), [\n          [_vModelRadio, picked.value]\n        ]),\n        _createElementVNode(\"label\", {\n          class: \"label\",\n          for: `radio-${_unref(id)}-${index}`,\n          tabindex: \"0\",\n          onKeyup: _withKeys(($event: any) => (picked.value = option.value), [\"enter\"])\n        }, _toDisplayString(option.title), 41 /* TEXT, PROPS, NEED_HYDRATION */, _hoisted_3)\n      ], 64 /* STABLE_FRAGMENT */))\n    }), 128 /* KEYED_FRAGMENT */)),\n    _hoisted_4\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"radio-slider\">\n    <template v-for=\"(option, index) in options\" :key=\"option.value\">\n      <input\n        :id=\"`radio-${id}-${index}`\"\n        v-model=\"picked\"\n        class=\"input\"\n        type=\"radio\"\n        name=\"radio-slide\"\n        :value=\"option.value\"\n      />\n      <label\n        class=\"label\"\n        :for=\"`radio-${id}-${index}`\"\n        tabindex=\"0\"\n        @keyup.enter=\"picked = option.value\"\n      >\n        {{ option.title }}\n      </label>\n    </template>\n    <div class=\"select-pill\" />\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { PropType, computed } from 'vue';\n\ninterface Option {\n  value: string;\n  title: string;\n}\n\nconst props = defineProps({\n  options: {\n    type: Array as PropType<Option[]>,\n    required: true,\n  },\n  modelValue: {\n    type: String,\n    require: true,\n    default: '',\n  },\n});\n\nconst emit = defineEmits(['update:modelValue']);\n\nconst picked = computed({\n  get() {\n    return props.modelValue;\n  },\n  set(value) {\n    emit('update:modelValue', value);\n  },\n});\n\nconst id = Math.floor(Math.random() * 10000);\n</script>\n\n<style lang=\"less\" scoped>\n@import '../../less/_globals.less';\n\n.radio-slider {\n  .block-select();\n  .border-pill();\n\n  border: 2px solid var(--cl-backdrop);\n  background-color: var(--cl-foreground);\n  display: inline-flex;\n  align-items: stretch;\n  padding: 0;\n\n  .label {\n    .border-pill();\n    .link();\n\n    display: inline-flex;\n    align-items: center;\n    padding: 5px 10px;\n    margin: -2px;\n    transition:\n      background-color @fast-transition,\n      color @fast-transition;\n  }\n\n  :checked + label {\n    .border-pill();\n\n    background-color: var(--cl-primary);\n    color: white;\n  }\n\n  &:focus-visible {\n    .focus-outline();\n  }\n\n  .input {\n    display: none;\n  }\n}\n</style>\n","import script from \"./form-switch.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./form-switch.vue?vue&type=script&lang=ts&setup=true\"\n\nimport _style_0 from \"./form-switch.vue?vue&type=style&index=0&id=3123a098&inline&lang=less&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['styles',[_style_0]],['__scopeId',\"data-v-3123a098\"],['__file',\"form-switch.vue\"]])\n\nexport default __exports__","export default \"/* stylelint-disable prettier/prettier */\\n/* Aspect ratios */\\n/* Transitions */\\n/* Typography */\\n/* Shadows */\\n/* Fonts */\\n@keyframes skeleton-loading-malsync-3123a098 {\\nto {\\n    transform: translateX(100%);\\n}\\n}\\n.radio-slider[data-v-3123a098] {\\n  user-select: none;\\n  border-radius: 30px;\\n  border: 2px solid var(--cl-backdrop);\\n  background-color: var(--cl-foreground);\\n  display: inline-flex;\\n  align-items: stretch;\\n  padding: 0;\\n}\\n.radio-slider .label[data-v-3123a098] {\\n  border-radius: 30px;\\n  cursor: pointer;\\n  display: inline-flex;\\n  align-items: center;\\n  padding: 5px 10px;\\n  margin: -2px;\\n  transition: background-color 0.25s, color 0.25s;\\n}\\n.radio-slider :checked + label[data-v-3123a098] {\\n  border-radius: 30px;\\n  background-color: var(--cl-primary);\\n  color: white;\\n}\\n.radio-slider[data-v-3123a098]:focus-visible {\\n  outline: 2px solid var(--cl-secondary);\\n}\\n.radio-slider .input[data-v-3123a098] {\\n  display: none;\\n}\\n\"","<template>\n  <div class=\"square-spinner\">\n    <div class=\"e1\"></div>\n  </div>\n</template>\n\n<style lang=\"less\" scoped>\n.square-spinner {\n  position: relative;\n  height: 50px;\n  width: 50px;\n  margin: 50px auto;\n\n  .e1 {\n    position: absolute;\n    top: 0;\n    right: 0;\n    left: 0;\n    bottom: 0;\n    border-radius: 50%;\n    border-top: 5px solid var(--cl-text);\n    border-bottom: 5px solid var(--cl-text);\n    border-left: 5px solid transparent;\n    border-right: 5px solid transparent;\n    animation: spinner 0.75s infinite;\n  }\n}\n\n@keyframes spinner {\n  0% {\n    transform: rotateZ(45deg);\n  }\n\n  70% {\n    transform: rotateZ(225deg);\n  }\n\n  100% {\n    transform: rotateZ(225deg);\n  }\n}\n</style>\n","import { render } from \"./spinner.vue?vue&type=template&id=68101cfe&scoped=true\"\nconst script = {}\n\nimport _style_0 from \"./spinner.vue?vue&type=style&index=0&id=68101cfe&inline&lang=less&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['styles',[_style_0]],['__scopeId',\"data-v-68101cfe\"],['__file',\"spinner.vue\"]])\n\nexport default __exports__","export default \".square-spinner[data-v-68101cfe] {\\n  position: relative;\\n  height: 50px;\\n  width: 50px;\\n  margin: 50px auto;\\n}\\n.square-spinner .e1[data-v-68101cfe] {\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  left: 0;\\n  bottom: 0;\\n  border-radius: 50%;\\n  border-top: 5px solid var(--cl-text);\\n  border-bottom: 5px solid var(--cl-text);\\n  border-left: 5px solid transparent;\\n  border-right: 5px solid transparent;\\n  animation: spinner-68101cfe 0.75s infinite;\\n}\\n@keyframes spinner-68101cfe {\\n0% {\\n    transform: rotateZ(45deg);\\n}\\n70% {\\n    transform: rotateZ(225deg);\\n}\\n100% {\\n    transform: rotateZ(225deg);\\n}\\n}\\n\"","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nimport ErrorGeneral from './error-general.vue';\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'error-search',\n  props: {\n  listRequest: {\n    type: Object,\n    default: () => ({}),\n  },\n},\n  setup(__props) {\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (!__props.listRequest.loading && __props.listRequest.error)\n    ? (_openBlock(), _createBlock(ErrorGeneral, { key: 0 }, {\n        default: _withCtx(() => [\n          _createTextVNode(_toDisplayString(__props.listRequest.error.message || __props.listRequest.error), 1 /* TEXT */)\n        ]),\n        _: 1 /* STABLE */\n      }))\n    : _createCommentVNode(\"v-if\", true)\n}\n}\n\n})","import script from \"./error-search.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./error-search.vue?vue&type=script&lang=ts&setup=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__file',\"error-search.vue\"]])\n\nexport default __exports__","import { searchInterface } from '../definitions';\nimport * as helper from './helper';\n\nconst tempObj = {\n  apiCall: helper.apiCall,\n  logger: con.m('MAL Search'),\n  type: 'anime',\n};\n\nexport const search: searchInterface = async function (\n  keyword,\n  type: 'anime' | 'manga',\n  options = {},\n  sync = false,\n) {\n  tempObj.type = type;\n\n  keyword = keyword.trim();\n  if (keyword.length > 64) {\n    keyword = keyword.substr(0, 64);\n  }\n\n  if (!keyword) return [];\n\n  if (keyword.length < 3) {\n    throw new Error('Search term must be at least 3 characters long');\n  }\n\n  return tempObj\n    .apiCall({\n      type: 'GET',\n      path: `${type}?q=${keyword}&limit=15&nsfw=true`,\n      fields: [\n        'start_date',\n        'mean',\n        'alternative_titles',\n        'media_type',\n        'num_episodes',\n        'num_chapters',\n      ],\n    })\n    .then(json => {\n      const resItems: any = [];\n\n      json.data.forEach(function (item) {\n        let alt = [item.node.title];\n        if (item.node.alternative_titles) {\n          if (item.node.alternative_titles.en) alt.push(item.node.alternative_titles.en);\n          if (item.node.alternative_titles.ja) alt.push(item.node.alternative_titles.ja);\n          if (item.node.alternative_titles.synonyms)\n            alt = alt.concat(item.node.alternative_titles.synonyms);\n        }\n\n        resItems.push({\n          id: item.node.id,\n          name: item.node.title,\n          altNames: alt,\n          url: `https://myanimelist.net/${type}/${item.node.id}`,\n          malUrl: () => {\n            return `https://myanimelist.net/${type}/${item.node.id}`;\n          },\n          image: item.node.main_picture?.medium ?? '',\n          imageLarge: item.node.main_picture?.large || item.node.main_picture?.medium || '',\n          media_type: item.node.media_type\n            ? (\n                item.node.media_type.charAt(0) + item.node.media_type.slice(1).toLowerCase()\n              ).replace('_', ' ')\n            : '',\n          isNovel: item.node.media_type.toLowerCase().includes('novel'),\n          score: item.node.mean,\n          year: item.node.start_date,\n          totalEp: item.node.num_episodes || item.node.num_chapters || 0,\n        });\n      });\n\n      tempObj.logger.log(resItems);\n      return resItems;\n    });\n};\n","import { search as temp } from '../MyAnimeList_api/search';\n\nexport const search = temp;\n","import { searchInterface } from '../definitions';\nimport { parseJson } from '../Errors';\nimport * as helper from './helper';\n\nexport const search: searchInterface = async function (\n  keyword,\n  type: 'anime' | 'manga',\n  options = {},\n  sync = false,\n) {\n  return call(`https://api.simkl.com/search/${type}`, { q: keyword }, true).then(res => {\n    const resItems: any = [];\n    con.log('search', res);\n    j.$.each(res, function (index, item) {\n      resItems.push({\n        id: item.ids.simkl_id,\n        name: item.title,\n        altNames: [],\n        url: `https://simkl.com/${type}/${item.ids.simkl_id}/${item.ids.slug}`,\n        malUrl: async () => {\n          const malId = await simklIdToMal(item.ids.simkl_id);\n          return malId ? `https://myanimelist.net/${type}/${malId}` : null;\n        },\n        image: `https://simkl.in/posters/${item.poster}_ca.jpg`,\n        imageLarge: `https://simkl.in/posters/${item.poster}_m.jpg`,\n        imageBanner: `https://simkl.in/posters/${item.poster}_w.jpg`,\n        media_type: item.type,\n        isNovel: false,\n        score: null,\n        year: item.year,\n      });\n    });\n    return resItems;\n  });\n};\n\nasync function call(\n  url,\n  sData = {} as any,\n  asParameter = false,\n  methode: 'GET' | 'POST' = 'GET',\n  login = true,\n) {\n  if (asParameter) {\n    url += `?${j.$.param(sData)}`;\n  }\n  con.log('call', methode, url, sData);\n\n  const headers = {\n    Authorization: login ? `Bearer ${api.settings.get('simklToken')}` : undefined,\n    'simkl-api-key': helper.client_id,\n    Accept: 'application/vnd.api+json',\n    'Content-Type': 'application/json',\n  };\n\n  if (!login) {\n    con.log('No login');\n  }\n\n  if (methode === 'GET') {\n    sData = undefined;\n  }\n\n  return api.request\n    .xhr(methode, {\n      url,\n      headers,\n      data: sData,\n    })\n    .then(async response => {\n      switch (response.status) {\n        case 200:\n        case 201:\n        case 204:\n        case 302:\n          break;\n        case 401:\n          if (login) {\n            return call(url, sData, asParameter, methode, false);\n            break;\n          }\n          utils.flashm(\n            `Please Authenticate <a target=\"_blank\" href=\"${helper.getAuthUrl()}\">Here</a>`,\n            { error: true, type: 'error' },\n          );\n          throw getThrowError();\n          break;\n        default:\n          utils.flashm(`Simkl: ${getErrorText()}`, {\n            error: true,\n            type: 'error',\n          });\n          throw getThrowError();\n      }\n\n      try {\n        return parseJson(response.responseText);\n      } catch (e) {\n        con.error(response);\n        throw e;\n      }\n\n      function getErrorText() {\n        return parseJson(response.responseText).error;\n      }\n\n      function getThrowError() {\n        return new Error(getErrorText());\n      }\n    });\n}\n\nexport function simklIdToMal(simklId) {\n  return call(`https://api.simkl.com/anime/${simklId}`, { extended: 'full' }, true).then(res => {\n    if (typeof res.ids.mal === 'undefined') return null;\n    return res.ids.mal;\n  });\n}\n","import { search } from '../_provider/searchFactory';\nimport { searchResult } from '../_provider/definitions';\n\nexport async function normalSearch(\n  searchterm: string,\n  type: 'anime' | 'manga',\n): Promise<searchResult[]> {\n  return search(searchterm, type).then(res =>\n    Promise.all(\n      res.map(async el => {\n        const dbEntry = await api.request.database('entry', { id: el.id, type });\n        if (dbEntry) {\n          el.list = {\n            status: dbEntry.status,\n            score: dbEntry.score,\n            episode: dbEntry.watchedEp,\n          };\n        }\n        return el;\n      }),\n    ),\n  );\n}\n","import * as helper from './helper';\nimport { search as malSearch } from './MyAnimeList_hybrid/search';\nimport { search as malApiSearch } from './MyAnimeList_api/search';\nimport { search as aniSearch } from './AniList/search';\nimport { search as kitsuSearch } from './Kitsu/search';\nimport { search as simklSearch } from './Simkl/search';\nimport { search as shikiSearch } from './Shikimori/search';\n\nexport function search(\n  keyword,\n  type: 'anime' | 'manga',\n  options = {},\n  sync = false,\n  syncMode = '',\n) {\n  if (!syncMode) {\n    syncMode = helper.getSyncMode(type);\n  }\n\n  if (syncMode === 'KITSU') {\n    return kitsuSearch(keyword, type, options, sync);\n  }\n  if (syncMode === 'ANILIST') {\n    return aniSearch(keyword, type, options, sync);\n  }\n  if (syncMode === 'SIMKL') {\n    return simklSearch(keyword, type, options, sync);\n  }\n  if (syncMode === 'SHIKI') {\n    return shikiSearch(keyword, type, options, sync);\n  }\n  if (syncMode === 'MALAPI') {\n    return malApiSearch(keyword, type, options, sync);\n  }\n  return malSearch(keyword, type, options, sync);\n}\n","import { searchInterface } from '../definitions';\nimport * as helper from './helper';\n\nexport const search: searchInterface = async function (\n  keyword,\n  type: 'anime' | 'manga',\n  options = {},\n  sync = false,\n) {\n  return helper\n    .apiCall(\n      'GET',\n      `https://kitsu.app/api/edge/${type}?filter[text]=${keyword}&page[limit]=20&page[offset]=0&fields[${type}]=id,slug,titles,averageRating,startDate,posterImage,coverImage,subtype,${\n        type === 'anime' ? 'episodeCount' : 'chapterCount'\n      }`,\n      {},\n    )\n    .then(res => {\n      con.log('search', res);\n\n      const resItems: any = [];\n      res.data.forEach(function (item) {\n        resItems.push({\n          id: Number(item.id),\n          name: helper.getTitle(item.attributes.titles, item.attributes.canonicalTitle),\n          altNames: Object.values(item.attributes.titles),\n          url: `https://kitsu.app/${type}/${item.attributes.slug}`,\n          malUrl: async () => {\n            const malId = await helper.kitsuToMal(item.id, type);\n            return malId ? `https://myanimelist.net/${type}/${malId}` : null;\n          },\n          image:\n            item.attributes.posterImage && item.attributes.posterImage.small\n              ? item.attributes.posterImage.small\n              : '',\n          imageLarge:\n            item.attributes.posterImage && item.attributes.posterImage.original\n              ? item.attributes.posterImage.original\n              : '',\n          imageBanner:\n            item.attributes.coverImage && item.attributes.coverImage.large\n              ? item.attributes.coverImage.large\n              : '',\n          media_type: item.attributes.subtype,\n          isNovel: item.attributes.subtype === 'novel',\n          score: item.attributes.averageRating,\n          year: item.attributes.startDate,\n          totalEp: item.attributes.episodeCount || item.attributes.chapterCount || 0,\n        });\n      });\n      return resItems;\n    });\n};\n","import { searchInterface } from '../definitions';\nimport * as helper from './helper';\n\nexport const search: searchInterface = async function (\n  keyword,\n  type: 'anime' | 'manga',\n  options = {},\n  sync = false,\n) {\n  const query = `\n    query ($search: String) {\n      ${type}: Page (perPage: 25) {\n        pageInfo {\n          total\n        }\n        results: media (type: ${type.toUpperCase()}, search: $search) {\n          id\n          siteUrl\n          idMal\n          episodes\n          chapters\n          title {\n            userPreferred\n            romaji\n            english\n            native\n          }\n          coverImage {\n            large\n            extraLarge\n          }\n          bannerImage\n          type\n          format\n          averageScore\n          startDate {\n            year\n          }\n          synonyms\n        }\n      }\n    }\n  `;\n\n  const variables = {\n    search: keyword,\n  };\n\n  const res = await helper.apiCall(query, variables, false);\n  con.log(res);\n\n  const resItems: any = [];\n\n  j.$.each(res.data[type].results, function (index, item) {\n    resItems.push({\n      id: item.id,\n      name: item.title.userPreferred,\n      altNames: Object.values(item.title).concat(item.synonyms),\n      url: item.siteUrl,\n      malUrl: () => {\n        return item.idMal ? `https://myanimelist.net/${type}/${item.idMal}` : null;\n      },\n      image: helper.imgCheck(item.coverImage.large),\n      imageLarge: helper.imgCheck(item.coverImage.extraLarge),\n      imageBanner: helper.imgCheck(item.bannerImage),\n      media_type: item.format\n        ? (item.format.charAt(0) + item.format.slice(1).toLowerCase()).replace('_', ' ')\n        : '',\n      isNovel: item.format === 'NOVEL',\n      score: item.averageScore,\n      year: item.startDate.year,\n      totalEp: item.episodes || item.chapters || 0,\n    });\n  });\n\n  return resItems;\n};\n","import { searchInterface } from '../definitions';\nimport * as helper from './helper';\n\nexport const search: searchInterface = async function (\n  keyword,\n  type: 'anime' | 'manga',\n  options = {},\n  sync = false,\n) {\n  const list: helper.MetaRequest[] = await helper.apiCall({\n    path: `${type}s`,\n    parameter: { limit: 25, search: keyword },\n    type: 'GET',\n  });\n\n  return list.map(item => {\n    return {\n      id: item.id,\n      name: helper.title(item.russian, item.name),\n      altNames: [item.name, item.russian].filter(el => el),\n      url: helper.domain + item.url,\n      malUrl: () => {\n        return Promise.resolve(item.id ? `https://myanimelist.net/${type}/${item.id}` : null);\n      },\n      image: helper.domain + item.image.preview,\n      imageLarge: helper.domain + item.image.original,\n      media_type: item.kind,\n      isNovel: item.kind === 'light_novel',\n      score: Number(item.score) ? item.score : '',\n      year: item.aired_on,\n      totalEp: item.episodes || item.chapters || 0,\n    };\n  });\n};\n","import Fuse from 'fuse.js';\n\nimport { listElement } from '../listAbstract';\nimport { UserList as LocalList } from './list';\nimport { searchResult } from '../definitions';\nimport { normalSearch } from '../../utils/Search';\n\nconst searchFuse: {\n  anime: null | Fuse<listElement>;\n  manga: null | Fuse<listElement>;\n} = {\n  anime: null,\n  manga: null,\n};\n\nexport async function search(searchterm: string, type: 'anime' | 'manga'): Promise<searchResult[]> {\n  if (!searchFuse[type]) {\n    const localListEl = new LocalList(7, type);\n    const tempList = await localListEl.getCompleteList();\n    searchFuse[type] = new Fuse(tempList, {\n      minMatchCharLength: 3,\n      threshold: 0.4,\n      keys: ['title'],\n    });\n  }\n\n  const results = searchFuse[type]!.search(searchterm);\n\n  return results.map(el => {\n    return {\n      id: 0,\n      name: el.item.title,\n      altNames: [],\n      url: el.item.url,\n      malUrl: () => Promise.resolve(null),\n      image: el.item.image,\n      imageLarge: el.item.image,\n      media_type: el.item.type,\n      isNovel: false,\n      score: '',\n      year: '',\n      list: {\n        status: el.item.status,\n        score: el.item.score,\n        episode: el.item.watchedEp,\n      },\n    };\n  });\n}\n\nexport async function miniMALSearch(searchterm: string, type: 'anime' | 'manga') {\n  return [\n    ...(await search(searchterm, type)).slice(0, 8),\n    ...(await normalSearch(searchterm, type)),\n  ];\n}\n","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock, resolveDynamicComponent as _resolveDynamicComponent, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = (n: any) => (_pushScopeId(\"data-v-67d3df6a\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"search\" }\n\nimport { PropType, ref, watch } from 'vue';\nimport { useRoute, useRouter } from 'vue-router';\nimport { setTypeContext } from '../utils/state';\nimport { createRequest } from '../utils/reactive';\nimport FormSwitch from '../components/form/form-switch.vue';\nimport Section from '../components/section.vue';\nimport Spinner from '../components/spinner.vue';\nimport Grid from '../components/grid.vue';\nimport Empty from '../components/empty.vue';\nimport TransitionStaggered from '../components/transition-staggered.vue';\nimport { searchFormats } from '../utils/bookmarks';\nimport { searchResult } from '../../_provider/definitions';\nimport { bookmarkItem } from '../minimalClass';\nimport ErrorSearch from '../components/error/error-search.vue';\nimport { getTyping } from '../components/nav/nav-search-state';\nimport { miniMALSearch } from '../../_provider/Local/search';\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'search',\n  props: {\n  type: {\n    type: String as PropType<'anime' | 'manga'>,\n    required: true,\n  },\n},\n  setup(__props) {\n\nconst route = useRoute();\nconst router = useRouter();\n\nconst props = __props;\n\nconst result = ref(route.query.s ? route.query.s.toString() : '');\nconst type = ref(props.type.toString() as 'anime' | 'manga');\nconst parameters = ref({ result, type });\n\nconst listRequest = createRequest(parameters, async param => {\n  if (!param.value.result) return [];\n  return miniMALSearch(param.value.result, param.value.type);\n});\n\nwatch(\n  () => props.type,\n  value => {\n    type.value = value.toString() as 'anime' | 'manga';\n  },\n);\n\nwatch(type, newValue => {\n  router.replace({\n    name: 'Search',\n    params: { type: newValue },\n    query: { s: route.query.s },\n  });\n  setTypeContext(newValue as 'anime' | 'manga');\n});\n\nwatch(\n  () => route.query.s,\n  searchTerm => {\n    result.value = searchTerm as string;\n  },\n);\n\nconst listTheme = searchFormats[0];\n\nconst formatItem = (item: searchResult): bookmarkItem => {\n  return {\n    title: item.name,\n    type: type.value,\n    url: item.url,\n    image: item.image,\n    imageLarge: item.imageLarge,\n    imageBanner: item.imageBanner,\n    status: item.list ? item.list.status : 0,\n    score: item.list ? item.list.score : item.score,\n    watchedEp: item.list ? item.list.episode : 0,\n    totalEp: item.totalEp || 0,\n  };\n};\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (!_unref(listRequest).error)\n      ? (_openBlock(), _createBlock(Section, {\n          key: 0,\n          class: \"controls\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(FormSwitch, {\n              modelValue: type.value,\n              \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((type).value = $event)),\n              options: [\n          {\n            value: 'anime',\n            title: _ctx.lang('Anime'),\n          },\n          {\n            value: 'manga',\n            title: _ctx.lang('Manga'),\n          },\n        ]\n            }, null, 8 /* PROPS */, [\"modelValue\", \"options\"])\n          ]),\n          _: 1 /* STABLE */\n        }))\n      : _createCommentVNode(\"v-if\", true),\n    (_unref(listRequest).loading || _unref(getTyping)())\n      ? (_openBlock(), _createBlock(Section, { key: 1 }, {\n          default: _withCtx(() => [\n            _createVNode(Spinner)\n          ]),\n          _: 1 /* STABLE */\n        }))\n      : (_unref(listRequest).data && !_unref(listRequest).error)\n        ? (_openBlock(), _createBlock(Section, {\n            key: 2,\n            spacer: \"double\"\n          }, {\n            default: _withCtx(() => [\n              (_openBlock(), _createBlock(Grid, {\n                key: _unref(listTheme).name,\n                \"min-width\": _unref(listTheme).width,\n                class: _normalizeClass([\"grid\", { loading: _unref(listRequest).loading || _unref(getTyping)() }])\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(TransitionStaggered, {\n                    \"delay-duration\": _unref(listTheme).transition\n                  }, {\n                    default: _withCtx(() => [\n                      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(listRequest).data!, (item) => {\n                        return (_openBlock(), _createBlock(_resolveDynamicComponent(_unref(listTheme).component), {\n                          key: item.id,\n                          item: formatItem(item)\n                        }, null, 8 /* PROPS */, [\"item\"]))\n                      }), 128 /* KEYED_FRAGMENT */))\n                    ]),\n                    _: 1 /* STABLE */\n                  }, 8 /* PROPS */, [\"delay-duration\"])\n                ]),\n                _: 1 /* STABLE */\n              }, 8 /* PROPS */, [\"min-width\", \"class\"]))\n            ]),\n            _: 1 /* STABLE */\n          }))\n        : _createCommentVNode(\"v-if\", true),\n    (!(_unref(listRequest).loading || _unref(getTyping)()) && _unref(listRequest).data && !_unref(listRequest).data.length)\n      ? (_openBlock(), _createBlock(Section, {\n          key: 3,\n          class: \"spinner-wrap\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(Empty, { icon: \"search_off\" })\n          ]),\n          _: 1 /* STABLE */\n        }))\n      : _createCommentVNode(\"v-if\", true),\n    _createVNode(ErrorSearch, { \"list-request\": _unref(listRequest) }, null, 8 /* PROPS */, [\"list-request\"])\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"search\">\n    <Section v-if=\"!listRequest.error\" class=\"controls\">\n      <FormSwitch\n        v-model=\"type\"\n        :options=\"[\n          {\n            value: 'anime',\n            title: lang('Anime'),\n          },\n          {\n            value: 'manga',\n            title: lang('Manga'),\n          },\n        ]\"\n      />\n    </Section>\n    <Section v-if=\"listRequest.loading || getTyping()\">\n      <Spinner />\n    </Section>\n    <Section v-else-if=\"listRequest.data && !listRequest.error\" spacer=\"double\">\n      <Grid\n        :key=\"listTheme.name\"\n        :min-width=\"listTheme.width\"\n        class=\"grid\"\n        :class=\"{ loading: listRequest.loading || getTyping() }\"\n      >\n        <TransitionStaggered :delay-duration=\"listTheme.transition\">\n          <component\n            :is=\"listTheme.component\"\n            v-for=\"item in listRequest.data!\"\n            :key=\"item.id\"\n            :item=\"formatItem(item)\"\n          />\n        </TransitionStaggered>\n      </Grid>\n    </Section>\n    <Section\n      v-if=\"!(listRequest.loading || getTyping()) && listRequest.data && !listRequest.data.length\"\n      class=\"spinner-wrap\"\n    >\n      <Empty icon=\"search_off\" />\n    </Section>\n    <ErrorSearch :list-request=\"listRequest\" />\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { PropType, ref, watch } from 'vue';\nimport { useRoute, useRouter } from 'vue-router';\nimport { setTypeContext } from '../utils/state';\nimport { createRequest } from '../utils/reactive';\nimport FormSwitch from '../components/form/form-switch.vue';\nimport Section from '../components/section.vue';\nimport Spinner from '../components/spinner.vue';\nimport Grid from '../components/grid.vue';\nimport Empty from '../components/empty.vue';\nimport TransitionStaggered from '../components/transition-staggered.vue';\nimport { searchFormats } from '../utils/bookmarks';\nimport { searchResult } from '../../_provider/definitions';\nimport { bookmarkItem } from '../minimalClass';\nimport ErrorSearch from '../components/error/error-search.vue';\nimport { getTyping } from '../components/nav/nav-search-state';\nimport { miniMALSearch } from '../../_provider/Local/search';\n\nconst route = useRoute();\nconst router = useRouter();\n\nconst props = defineProps({\n  type: {\n    type: String as PropType<'anime' | 'manga'>,\n    required: true,\n  },\n});\n\nconst result = ref(route.query.s ? route.query.s.toString() : '');\nconst type = ref(props.type.toString() as 'anime' | 'manga');\nconst parameters = ref({ result, type });\n\nconst listRequest = createRequest(parameters, async param => {\n  if (!param.value.result) return [];\n  return miniMALSearch(param.value.result, param.value.type);\n});\n\nwatch(\n  () => props.type,\n  value => {\n    type.value = value.toString() as 'anime' | 'manga';\n  },\n);\n\nwatch(type, newValue => {\n  router.replace({\n    name: 'Search',\n    params: { type: newValue },\n    query: { s: route.query.s },\n  });\n  setTypeContext(newValue as 'anime' | 'manga');\n});\n\nwatch(\n  () => route.query.s,\n  searchTerm => {\n    result.value = searchTerm as string;\n  },\n);\n\nconst listTheme = searchFormats[0];\n\nconst formatItem = (item: searchResult): bookmarkItem => {\n  return {\n    title: item.name,\n    type: type.value,\n    url: item.url,\n    image: item.image,\n    imageLarge: item.imageLarge,\n    imageBanner: item.imageBanner,\n    status: item.list ? item.list.status : 0,\n    score: item.list ? item.list.score : item.score,\n    watchedEp: item.list ? item.list.episode : 0,\n    totalEp: item.totalEp || 0,\n  };\n};\n</script>\n\n<style lang=\"less\" scoped>\n@import '../less/_globals.less';\n.search {\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n}\n.spinner-wrap {\n  flex-grow: 1;\n  display: flex;\n  align-items: center;\n}\n.controls {\n  display: flex;\n  gap: 20px;\n  height: 30px;\n}\n\n.grid {\n  transition:\n    filter @normal-transition,\n    opacity @normal-transition;\n  &.loading {\n    opacity: 0.4;\n    filter: grayscale(1);\n    transition: none;\n  }\n}\n</style>\n","import script from \"./search.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./search.vue?vue&type=script&lang=ts&setup=true\"\n\nimport _style_0 from \"./search.vue?vue&type=style&index=0&id=67d3df6a&inline&lang=less&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['styles',[_style_0]],['__scopeId',\"data-v-67d3df6a\"],['__file',\"search.vue\"]])\n\nexport default __exports__","export default \"/* stylelint-disable prettier/prettier */\\n/* Aspect ratios */\\n/* Transitions */\\n/* Typography */\\n/* Shadows */\\n/* Fonts */\\n@keyframes skeleton-loading-malsync-67d3df6a {\\nto {\\n    transform: translateX(100%);\\n}\\n}\\n.search[data-v-67d3df6a] {\\n  flex-grow: 1;\\n  display: flex;\\n  flex-direction: column;\\n}\\n.spinner-wrap[data-v-67d3df6a] {\\n  flex-grow: 1;\\n  display: flex;\\n  align-items: center;\\n}\\n.controls[data-v-67d3df6a] {\\n  display: flex;\\n  gap: 20px;\\n  height: 30px;\\n}\\n.grid[data-v-67d3df6a] {\\n  transition: filter 0.4s, opacity 0.4s;\\n}\\n.grid.loading[data-v-67d3df6a] {\\n  opacity: 0.4;\\n  filter: grayscale(1);\\n  transition: none;\\n}\\n\""],"names":["getCacheKey","id","page","async","getSyncList","data","api","type","list","storage","key","get","getRegex","listType","RegExp","UserList","name","authenticationUrl","getUserObject","Promise","resolve","username","picture","href","_getSortingOptions","getPart","con","log","this","status","done","prepareData","newData","test","el","parseInt","push","fn","airingState","image","imageLarge","malId","apiCacheKey","tags","title","totalEp","score","uid","url","cacheKey","utils","urlPart","watchedEp","progress","sUrl","Object","seal","ListAbstract","constructor","sort","loading","firstLoaded","seperateRewatching","modes","frontend","sortAiring","initProgress","cached","offset","templist","cacheObj","undefined","Number","logger","m","setTemplist","getTemplist","setSort","isDone","isLoading","isFirstLoaded","getCompleteList","getNext","sortAiringList","getCache","setValue","slice","getNextPage","retList","concat","getCached","hasValue","cachelist","getValue","forEach","item","initFrontendMode","updateListener","on","find","state","episode","objectify","destroy","off","getUsername","then","user","getSortingOptions","simple","res","icon","lang","value","asc","flashmError","error","flashm","errorMessage","streamurl","continueUrlTemp","continueUrl","getContinueWaching","obj","curEp","toString","ep","init","options","getEntrySettings","u","listP","all","sortUnread","normalItems","preItems","watchedItems","sortItems","a","b","valA","getPredictionTimestamp","valB","prediction","isAiring","getCurrentEpisode","reverse","tempA","tempB","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","n","_withScopeId","__name","props","Array","required","modelValue","String","require","default","emits","setup","__props","emit","__emit","picked","set","Math","floor","random","_ctx","_cache","option","index","$event","for","tabindex","onKeyup","script","listRequest","message","_","tempObj","apiCall","search","keyword","sync","trim","length","substr","Error","path","fields","json","resItems","alt","node","alternative_titles","en","ja","synonyms","altNames","malUrl","main_picture","medium","large","media_type","charAt","toLowerCase","replace","isNovel","includes","mean","year","start_date","num_episodes","num_chapters","call","sData","asParameter","methode","login","$","param","headers","Authorization","settings","Accept","request","xhr","response","getThrowError","getErrorText","responseText","e","normalSearch","searchterm","syncMode","helper","attributes","titles","canonicalTitle","values","slug","posterImage","small","original","imageBanner","coverImage","subtype","averageRating","startDate","episodeCount","chapterCount","query","toUpperCase","variables","j","each","results","userPreferred","siteUrl","idMal","extraLarge","bannerImage","format","averageScore","episodes","chapters","q","ids","simkl_id","simklId","extended","mal","poster","parameter","limit","map","russian","filter","preview","kind","aired_on","dbEntry","database","searchFuse","anime","manga","localListEl","tempList","minMatchCharLength","threshold","keys","route","router","result","s","parameters","miniMALSearch","newValue","params","searchTerm","listTheme","formatItem","spacer","width","transition","component"],"sourceRoot":""}