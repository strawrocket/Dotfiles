"use strict";(self.webpackChunkMALSync=self.webpackChunkMALSync||[]).push([[920],{70920:(e,t,n)=>{n.r(t),n.d(t,{default:()=>It});var o=n(20641),i=n(90033),a=n(53751),s=n(82304),l=n(50953),r=n(81039),c=n(20545),p=n(3507),d=n(58848),g=n(59465),u=n(72702),m=n(97920),v=n(60773),f=n(37353),h=n(13647);const y=(e=>((0,o.Qi)("data-v-766c3bac"),e=e(),(0,o.jt)(),e))((()=>(0,o.Lk)("div",null,"--",-1))),_={class:"button-flex"},k=(0,o.pM)({__name:"settings-profile",props:{title:{type:String,required:!0}},setup(e){const t=(0,o.EW)((()=>({listObj:(0,d.IA)(h.settings.get("syncMode"))}))),n=(0,p.W)(t,(e=>{const{listObj:t}=e.value;return t.getUserObject().catch((e=>{if(e instanceof g.jH)return{username:"",picture:"error",href:""};throw e}))}),{cache:{prefix:"settings-profile",ttl:1e4,refetchTtl:36e5,keyFn:e=>e.value.listObj.name}}),a=(0,o.EW)((()=>n.loading?"loading":n.data&&!n.data.username?"noAuth":"auth"));return(e,s)=>((0,o.uX)(),(0,o.Wv)(v.A,{spacer:"full"},{default:(0,o.k6)((()=>[(0,o.bF)(r.A,{image:(0,l.R1)(n).data?.picture,href:(0,l.R1)(n).data?.href},{default:(0,o.k6)((()=>[(0,l.R1)(n).error?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[(0,o.bF)(c.A,null,{default:(0,o.k6)((()=>[(0,o.eW)(" Error ")])),_:1}),(0,o.Lk)("div",null,[(0,o.bF)(f.A,{to:{name:"Settings",params:{path:["tracking","syncMode"]}}},{default:(0,o.k6)((()=>[(0,o.bF)(m.A,{icon:"keyboard_arrow_down",position:"after",mode:"flex"},{default:(0,o.k6)((()=>[(0,o.eW)((0,i.v_)(t.value.listObj.name),1)])),_:1})])),_:1})]),(0,o.Lk)("div",null,(0,i.v_)((0,l.R1)(n).error),1)],64)):"auth"===a.value?((0,o.uX)(),(0,o.CE)(o.FK,{key:1},[(0,o.bF)(c.A,null,{default:(0,o.k6)((()=>[(0,o.bF)(u.A,{href:(0,l.R1)(n).data?.href},{default:(0,o.k6)((()=>[(0,o.eW)((0,i.v_)((0,l.R1)(n).data.username),1)])),_:1},8,["href"])])),_:1}),(0,o.Lk)("div",null,[(0,o.bF)(f.A,{to:{name:"Settings",params:{path:["tracking","syncMode"]}}},{default:(0,o.k6)((()=>[(0,o.bF)(m.A,{icon:"keyboard_arrow_down",position:"after",mode:"flex"},{default:(0,o.k6)((()=>[(0,o.eW)((0,i.v_)(e.lang("settings_profile_logged_via",[t.value.listObj.name])),1)])),_:1})])),_:1})]),(0,o.Lk)("div",{class:"link-hover",onClick:s[0]||(s[0]=e=>{t.value.listObj.deauth().then((()=>{n.execute()})).catch((()=>{alert("Failed")}))})},[(0,o.bF)(m.A,{icon:"eject",position:"after",mode:"flex"},{default:(0,o.k6)((()=>[(0,o.eW)((0,i.v_)(e.lang("settings_profile_logout")),1)])),_:1})])],64)):"loading"===a.value?((0,o.uX)(),(0,o.CE)(o.FK,{key:2},[(0,o.bF)(c.A,null,{default:(0,o.k6)((()=>[(0,o.eW)((0,i.v_)(e.lang("Loading")),1)])),_:1}),(0,o.Lk)("div",null,[(0,o.bF)(f.A,{to:{name:"Settings",params:{path:["tracking","syncMode"]}}},{default:(0,o.k6)((()=>[(0,o.bF)(m.A,{icon:"keyboard_arrow_down",position:"after",mode:"flex"},{default:(0,o.k6)((()=>[(0,o.eW)((0,i.v_)(t.value.listObj.name),1)])),_:1})])),_:1})]),y],64)):"noAuth"===a.value?((0,o.uX)(),(0,o.CE)(o.FK,{key:3},[(0,o.bF)(c.A,null,{default:(0,o.k6)((()=>[(0,o.eW)((0,i.v_)(e.lang("settings_profile_no_login")),1)])),_:1}),(0,o.Lk)("div",null,[(0,o.bF)(f.A,{to:{name:"Settings",params:{path:["tracking","syncMode"]}}},{default:(0,o.k6)((()=>[(0,o.bF)(m.A,{icon:"keyboard_arrow_down",position:"after",mode:"flex"},{default:(0,o.k6)((()=>[(0,o.eW)((0,i.v_)(t.value.listObj.name),1)])),_:1})])),_:1})]),(0,o.Lk)("div",_,[(0,o.Lk)("div",{class:"link-hover",onClick:s[1]||(s[1]=e=>(0,l.R1)(n).execute())},[(0,o.bF)(m.A,{icon:"sync"},{default:(0,o.k6)((()=>[(0,o.eW)((0,i.v_)(e.lang("settings_profile_check")),1)])),_:1})]),(0,o.bF)(u.A,{href:t.value.listObj.authenticationUrl},{default:(0,o.k6)((()=>[(0,o.bF)(m.A,{icon:"login",class:"link-hover"},{default:(0,o.k6)((()=>[(0,o.eW)((0,i.v_)(e.lang("settings_Authenticate")),1)])),_:1})])),_:1},8,["href"])])],64)):(0,o.Q3)("v-if",!0)])),_:1},8,["image","href"])])),_:1}))}});var b=n(66262);const A=(0,b.A)(k,[["styles",["/* stylelint-disable prettier/prettier */\n/* Aspect ratios */\n/* Transitions */\n/* Typography */\n/* Shadows */\n/* Fonts */\n@keyframes skeleton-loading-malsync-766c3bac {\nto {\n    transform: translateX(100%);\n}\n}\n.link-hover[data-v-766c3bac] {\n  cursor: pointer;\n  color: var(--cl-light-text);\n}\n.button-flex[data-v-766c3bac] {\n  display: flex;\n  gap: 15px;\n}\n"]],["__scopeId","data-v-766c3bac"],["__file","settings-profile.vue"]]);var w=n(95190),S=n(31481),x=n(71711),F=n(93215),L=n(48374),W=n(61285),E=n(69555),M=n(7648),I=n(91326),T=n(26017),C=n(78584),X=n(13647);function R(e,t,n,o,i,a){D(e,i,!0);for(const e in t)D(t[e],i,!1);for(const e in i)K(i[e]),N(i[e],a,o)}function P(e){if(T.isDomainMatching(e,"anilist.co"))return"ANILIST";if(T.isDomainMatching(e,"kitsu.app"))return"KITSU";if(T.isDomainMatching(e,"myanimelist.net"))return"MAL";if(T.isDomainMatching(e,"simkl.com"))return"SIMKL";throw"Type not found"}function D(e,t,n=!1){for(let o=0;o<e.length;o++){const i=e[o];let a=t[i.malId];void 0===a&&(a={diff:!1,master:{},slaves:[]}),n?a.master=i:(i.diff={},a.slaves.push(i)),!Number.isNaN(i.malId)&&i.malId&&(t[i.malId]=a)}}function K(e,t){if(e.master&&e.master.uid)for(let t=0;t<e.slaves.length;t++){const n=e.slaves[t];n.watchedEp!==e.master.watchedEp&&(2===e.master.status?n.watchedEp!==n.totalEp&&(e.diff=!0,n.diff.watchedEp=n.totalEp):(e.diff=!0,n.diff.watchedEp=e.master.watchedEp)),n.status!==e.master.status&&(e.diff=!0,n.diff.status=e.master.status),n.score!==e.master.score&&(e.diff=!0,n.diff.score=e.master.score)}}function N(e,t,n,o){if(e.master&&e.master.uid){const o=[];o.push(P(e.master.url));for(let t=0;t<e.slaves.length;t++){const n=e.slaves[t];o.push(P(n.url))}for(const i in n){const a=n[i];o.includes(a)||t.push({title:e.master.title,syncType:a,malId:e.master.malId,watchedEp:e.master.watchedEp,score:e.master.score,status:e.master.status,url:`https://myanimelist.net/${e.master.type}/${e.master.malId}`,error:null})}}}async function B(e,t){for(const t in e){const n=e[t];if(n.diff)try{await O(n),n.diff=!1}catch(e){C.error(e)}}const n=t.slice();for(const e in n){const o=n[e];C.log("Sync missing",o),await j(o).then((()=>{t.splice(t.indexOf(o),1)})).catch((e=>{C.error("Error",e),o.error=e}))}}async function O(e){for(let t=0;t<e.slaves.length;t++){const n=e.slaves[t];C.log("sync list item",n),await Q(n,P(n.url))}}async function j(e){return e.diff={watchedEp:e.watchedEp,status:e.status,score:e.score},Q(e,e.syncType)}function Q(e,t){if(0!==Object.keys(e.diff).length){let n;if("MAL"===t)n=new w.v(e.url);else if("ANILIST"===t)n=new S.v(e.url);else if("KITSU"===t)n=new x.v(e.url);else{if("SIMKL"!==t)throw"No sync type";n=new F.v(e.url)}return n.update().then((()=>(void 0!==e.diff.watchedEp&&n.setEpisode(e.diff.watchedEp),void 0!==e.diff.status&&n.setStatus(e.diff.status),void 0!==e.diff.score&&n.setScore(e.diff.score),n.sync()))).then((()=>T.wait(3e3))).catch((async e=>{throw await T.wait(3e3),e}))}}async function U(e,t,n){const o=[],i=(0,I.$)(t),a="MALAPI"===i?"MAL":i,s=[];e.forEach((e=>{e.providerSettings.text="Loading",s.push(n(e.listProvider,t).then((t=>{e.providerSettings.list=t,e.providerSettings.text="Done",a===e.providerType&&(e.providerSettings.master=!0),o.push(e.providerType)})).catch((t=>{e.providerSettings.text=t})))})),await Promise.all(s);let l=!1;const r=[];return e.forEach((function(e){e.providerSettings.master?l=e.providerSettings.list:null!==e.providerSettings.list&&r.push(e.providerSettings.list)})),{master:l,slaves:r,typeArray:o}}function $(e){return[{providerType:"MAL",providerSettings:e.mal,listProvider:L.w},{providerType:"ANILIST",providerSettings:e.anilist,listProvider:W.w},{providerType:"KITSU",providerSettings:e.kitsu,listProvider:E.w},{providerType:"SIMKL",providerSettings:e.simkl,listProvider:M.w}]}function V(e,t){const n=new e(7,t);return n.getCompleteList().then((e=>e)).catch((e=>{throw C.m(n.name).error(e),n.errorMessage(e)}))}const q={isEnabled:async()=>X.storage.get("backgroundListSync").then((async function(e){return C.info("background list sync state",e),!(!e||e.mode!==await X.settings.getAsync("syncMode"))||(q.disable(),!1)})),enable:async()=>X.storage.set("backgroundListSync",{mode:await X.settings.getAsync("syncMode")}),disable:()=>X.storage.remove("backgroundListSync"),async sync(){return await q.isEnabled()?(C.log("Start Background list Sync"),z("♻"),e("anime").then((()=>e("manga"))).then((()=>{z("")})).catch((e=>{C.error(e),z("")}))):(C.error("Background list Sync not allowed"),[]);async function e(e){const t={},n=[],o=$({mal:{text:"Init",list:null,master:!1},anilist:{text:"Init",list:null,master:!1},kitsu:{text:"Init",list:null,master:!1},simkl:{text:"Init",list:null,master:!1}}),i=await U(o,e,V);R(i.master,i.slaves,0,i.typeArray,t,n),C.log("Start syncing",t,n),await B(t,n)}}};function z(e){if("userscript"!==X.type)try{chrome.action.setBadgeText({text:e})}catch(e){C.error(e)}}var H=n(37256),J=n(24298),Y=n(11312),G=n(82186),Z=n(5139),ee=n(95122),te=n(40144),ne=n(41001),oe=n(13647);const ie={class:"list-sync"},ae={class:"provider-section"},se={class:"listDiff-inner"},le={key:0,class:"highlight"},re={key:0,class:"highlight"},ce={key:0,class:"highlight"},pe=(0,o.pM)({__name:"settings-list-sync",props:{title:{type:String,required:!0}},setup(e){const t=(0,l.KR)(null),n=(0,l.KR)(!1),a=(0,l.KR)(0),s=(0,l.KR)({type:"anime"}),r=(0,p.W)(s,(async e=>{n.value=!1,a.value=0;const o=(0,l.Kh)({mal:{text:"Init",list:null,master:!1},anilist:{text:"Init",list:null,master:!1},kitsu:{text:"Init",list:null,master:!1},simkl:{text:"Init",list:null,master:!1}});t.value=$({mal:o.mal,anilist:o.anilist,kitsu:o.kitsu,simkl:o.simkl});const i=await U(t.value,e.value.type,V),s=[],r=[];return R(i.master,i.slaves,0,i.typeArray,s,r),{list:s,missing:r}})),d=(0,o.EW)((()=>{const e={};if(r.loading||!r.data)return e;for(const t in r.data.list)Object.prototype.hasOwnProperty.call(r.data.list,t)&&r.data.list[t].diff&&(e[t]=r.data.list[t]);return e})),g=(0,o.EW)((()=>d.value&&r.data?Object.keys(d.value).length+r.data.missing.filter((e=>!e.error)).length:0)),m=(0,l.KR)(!1);async function f(){m.value=await q.isEnabled()}const h=(0,o.EW)({get:()=>m.value,set(e){e?q.enable().finally(f):q.disable().finally(f)}});return f(),(e,p)=>{const m=(0,o.gN)("dompurify-html");return(0,o.uX)(),(0,o.CE)("div",ie,["webextension"===oe.type?((0,o.uX)(),(0,o.Wv)(te.A,{key:0,component:"checkbox",title:e.lang("settings_listsync_background")},{component:(0,o.k6)((()=>[(0,o.bF)(ne.A,{modelValue:h.value,"onUpdate:modelValue":p[0]||(p[0]=e=>h.value=e)},null,8,["modelValue"])])),_:1},8,["title"])):(0,o.Q3)("v-if",!0),(0,o.bF)(v.A,{spacer:"half",direction:"both"},{default:(0,o.k6)((()=>[(0,o.bF)(H.A,null,{default:(0,o.k6)((()=>[(0,o.Lk)("div",null,[(0,o.bF)(u.A,{color:"secondary",href:"https://github.com/MALSync/MALSync/wiki/List-Sync"},{default:(0,o.k6)((()=>[(0,o.eW)((0,i.v_)(e.lang("settings_more_info")),1)])),_:1})])])),_:1})])),_:1}),(0,o.bF)(H.A,{class:"list-sync"},{default:(0,o.k6)((()=>[(0,o.bF)(v.A,null,{default:(0,o.k6)((()=>[(0,o.bF)(J.A,{modelValue:s.value.type,"onUpdate:modelValue":p[1]||(p[1]=e=>s.value.type=e),options:[{value:"anime",title:e.lang("Anime")},{value:"manga",title:e.lang("Manga")}]},null,8,["modelValue","options"])])),_:1}),(0,o.Lk)("div",ae,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(Object.values(t.value),(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.providerType,class:"provider-item"},[e.providerSettings.master?((0,o.uX)(),(0,o.Wv)(Y.A,{key:0,animation:!1,color:"secondary"},{default:(0,o.k6)((()=>[(0,o.eW)(" Master ")])),_:1})):(0,o.Q3)("v-if",!0),(0,o.bF)(Y.A,{animation:!1,class:"provider-item-content"},{default:(0,o.k6)((()=>[(0,o.Lk)("div",null,(0,i.v_)(e.providerType),1),(0,o.bo)((0,o.Lk)("div",null,null,512),[[m,e.providerSettings.text]]),(0,o.Lk)("div",null," List: "+(0,i.v_)(e.providerSettings.list?e.providerSettings.list.length:"??"),1)])),_:2},1024)])))),128))])])),_:1}),(0,l.R1)(r).loading?((0,o.uX)(),(0,o.Wv)(H.A,{key:1,class:"spinner-wrap"},{default:(0,o.k6)((()=>[(0,o.bF)(G.A)])),_:1})):(0,o.Q3)("v-if",!0),!(0,l.R1)(r).loading&&(0,l.R1)(r).data?((0,o.uX)(),(0,o.Wv)(v.A,{key:2},{default:(0,o.k6)((()=>[(0,o.bF)(H.A,null,{default:(0,o.k6)((()=>[n.value?((0,o.uX)(),(0,o.Wv)(v.A,{key:1,spacer:"half"},{default:(0,o.k6)((()=>[(0,o.eW)(" Syncing please wait: "),(0,o.bF)(ee.A,null,{default:(0,o.k6)((()=>[(0,o.Lk)("strong",null,(0,i.v_)(a.value-g.value)+" / "+(0,i.v_)(a.value),1)])),_:1})])),_:1})):((0,o.uX)(),(0,o.Wv)(v.A,{key:0,spacer:"half"},{default:(0,o.k6)((()=>[(0,o.eW)(" Items to sync: "),(0,o.bF)(ee.A,null,{default:(0,o.k6)((()=>[(0,o.Lk)("strong",null,(0,i.v_)(g.value),1)])),_:1})])),_:1})),!(0,l.R1)(r).loading&&(0,l.R1)(r).data?((0,o.uX)(),(0,o.Wv)(Y.A,{key:2,color:"primary",disabled:n.value,onClick:p[2]||(p[2]=e=>n.value?"":(n.value=!0,a.value=g.value,void B(r.data.list,r.data.missing)))},{default:(0,o.k6)((()=>[(0,o.eW)(" Sync ")])),_:1},8,["disabled"])):(0,o.Q3)("v-if",!0)])),_:1})])),_:1})):(0,o.Q3)("v-if",!0),!(0,l.R1)(r).loading&&d.value?((0,o.uX)(),(0,o.Wv)(v.A,{key:3},{default:(0,o.k6)((()=>[(0,o.bF)(c.A,{spacer:"half"},{default:(0,o.k6)((()=>[(0,o.eW)("Updates")])),_:1}),(0,o.bF)(Z.A,{height:500},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(d.value,((e,t)=>((0,o.uX)(),(0,o.Wv)(v.A,{key:t,spacer:"half"},{default:(0,o.k6)((()=>[(0,o.bF)(H.A,{class:"listDiff"},{default:(0,o.k6)((()=>[(0,o.bF)(c.A,{spacer:"half"},{default:(0,o.k6)((()=>[(0,o.eW)((0,i.v_)(e.master.title),1)])),_:2},1024),(0,o.Lk)("div",se,[(0,o.bF)(Y.A,{animation:!1},{default:(0,o.k6)((()=>[(0,o.eW)((0,i.v_)(t),1)])),_:2},1024),e.master&&e.master.uid?((0,o.uX)(),(0,o.Wv)(Y.A,{key:0,animation:!1,color:"secondary",class:"master"},{default:(0,o.k6)((()=>[(0,o.Lk)("div",null,(0,i.v_)(P(e.master.url)),1),(0,o.Lk)("div",null,[(0,o.eW)(" ID: "),(0,o.bF)(u.A,{href:e.master.url},{default:(0,o.k6)((()=>[(0,o.eW)((0,i.v_)(e.master.uid),1)])),_:2},1032,["href"])]),(0,o.Lk)("div",null,"EP: "+(0,i.v_)(e.master.watchedEp),1),(0,o.Lk)("div",null,"Status: "+(0,i.v_)(e.master.status),1),(0,o.Lk)("div",null,"Score: "+(0,i.v_)(e.master.score),1)])),_:2},1024)):(0,o.Q3)("v-if",!0),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.slaves,(e=>((0,o.uX)(),(0,o.Wv)(Y.A,{key:e.uid,animation:!1,class:"slave"},{default:(0,o.k6)((()=>[(0,o.Lk)("div",null,(0,i.v_)(P(e.url)),1),(0,o.Lk)("div",null,[(0,o.eW)(" ID: "),(0,o.bF)(u.A,{href:e.url},{default:(0,o.k6)((()=>[(0,o.eW)((0,i.v_)(e.uid),1)])),_:2},1032,["href"])]),(0,o.Lk)("div",null,[(0,o.eW)(" EP: "+(0,i.v_)(e.watchedEp)+" ",1),e.diff&&e.diff.watchedEp?((0,o.uX)(),(0,o.CE)("span",le,[(0,o.eW)(" → "),(0,o.bF)(Y.A,{animation:!1,color:"primary",padding:"mini"},{default:(0,o.k6)((()=>[(0,o.eW)((0,i.v_)(e.diff.watchedEp),1)])),_:2},1024)])):(0,o.Q3)("v-if",!0)]),(0,o.Lk)("div",null,[(0,o.eW)(" Status: "+(0,i.v_)(e.status)+" ",1),e.diff&&e.diff.status?((0,o.uX)(),(0,o.CE)("span",re," → "+(0,i.v_)(e.diff.status),1)):(0,o.Q3)("v-if",!0)]),(0,o.Lk)("div",null,[(0,o.eW)(" Score: "+(0,i.v_)(e.score)+" ",1),e.diff&&e.diff.score?((0,o.uX)(),(0,o.CE)("span",ce," → "+(0,i.v_)(e.diff.score),1)):(0,o.Q3)("v-if",!0)])])),_:2},1024)))),128))])])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})):(0,o.Q3)("v-if",!0),!(0,l.R1)(r).loading&&(0,l.R1)(r).data&&(0,l.R1)(r).data.missing.length?((0,o.uX)(),(0,o.Wv)(v.A,{key:4},{default:(0,o.k6)((()=>[(0,o.bF)(c.A,{spacer:"half"},{default:(0,o.k6)((()=>[(0,o.eW)("Missing")])),_:1}),(0,o.bF)(Z.A,{height:500},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)((0,l.R1)(r).data.missing,((e,t)=>((0,o.uX)(),(0,o.Wv)(v.A,{key:t,spacer:"half"},{default:(0,o.k6)((()=>[(0,o.bF)(H.A,{class:"missing"},{default:(0,o.k6)((()=>[(0,o.bF)(c.A,{spacer:"half"},{default:(0,o.k6)((()=>[(0,o.eW)((0,i.v_)(e.title),1)])),_:2},1024),(0,o.bF)(Y.A,{animation:!1},{default:(0,o.k6)((()=>[(0,o.Lk)("div",null,(0,i.v_)(e.syncType),1),(0,o.Lk)("div",null,[(0,o.eW)(" ID: "),(0,o.bF)(u.A,{href:e.url},{default:(0,o.k6)((()=>[(0,o.eW)((0,i.v_)(e.malId),1)])),_:2},1032,["href"])]),(0,o.Lk)("div",null,"EP: "+(0,i.v_)(e.watchedEp),1),(0,o.Lk)("div",null,"Status: "+(0,i.v_)(e.status),1),(0,o.Lk)("div",null,"Score: "+(0,i.v_)(e.score),1),e.error?((0,o.uX)(),(0,o.Wv)(Y.A,{key:0,animation:!1,color:"secondary",padding:"mini"},{default:(0,o.k6)((()=>[(0,o.eW)((0,i.v_)(e.error),1)])),_:2},1024)):(0,o.Q3)("v-if",!0)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})):(0,o.Q3)("v-if",!0)])}}}),de=(0,b.A)(pe,[["styles",["/* stylelint-disable prettier/prettier */\n/* Aspect ratios */\n/* Transitions */\n/* Typography */\n/* Shadows */\n/* Fonts */\n@keyframes skeleton-loading-malsync-a6b620d0 {\nto {\n    transform: translateX(100%);\n}\n}\n.list-sync[data-v-a6b620d0] {\n  margin: var(--size-spacer-half) 0;\n}\n.provider-item[data-v-a6b620d0] {\n  display: flex;\n  flex-direction: column;\n  gap: 5px;\n}\n.provider-item-content[data-v-a6b620d0] {\n  display: flex !important;\n  flex-direction: column;\n  gap: 5px;\n}\n.provider-section[data-v-a6b620d0] {\n  align-items: end;\n  display: flex;\n  flex-wrap: wrap;\n  grid-gap: 5px;\n}\n.provider-section[data-v-a6b620d0] a {\n  color: var(--cl-secondary);\n}\n.listDiff .listDiff-inner[data-v-a6b620d0] {\n  display: flex;\n  gap: 5px;\n}\n.listDiff .highlight[data-v-a6b620d0] {\n  color: var(--primary-color);\n}\n"]],["__scopeId","data-v-a6b620d0"],["__file","settings-list-sync.vue"]]);var ge=n(83006),ue=n(24913);const me={class:"color-preview"},ve={class:"main-colors"},fe=(0,o.pM)({__name:"color-preview",setup(e){const t=[{name:"background",colors:["text","light-text","primary","secondary","backdrop","border-hover"]},{name:"foreground",colors:["text","light-text","primary","border-hover"]},{name:"foreground-solid",colors:["text","light-text"]},{name:"backdrop",colors:["secondary"]},{name:"primary",colors:["white-text"]},{name:"primary-dark",colors:["white-text"]},{name:"secondary",colors:["white-text"]},{name:"dark-background",colors:["white-text"]}],n=["background","foreground","foreground-solid"],a=[0,1,2,3,4,6,23];return(e,s)=>((0,o.uX)(),(0,o.CE)("div",me,[(0,o.Lk)("div",ve,[((0,o.uX)(),(0,o.CE)(o.FK,null,(0,o.pI)(t,(e=>(0,o.Lk)("div",{key:e.name,class:"top-color",style:(0,i.Tr)(`background-color: var(--cl-${e.name})`)},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.colors,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e,class:"sub-colors",style:(0,i.Tr)(`background-color: var(--cl-${e})`)},null,4)))),128))],4))),64)),((0,o.uX)(),(0,o.CE)(o.FK,null,(0,o.pI)(a,(e=>(0,o.Lk)("div",{key:e,class:"top-color",style:(0,i.Tr)(`background-color: var(--state-${e})`)},[((0,o.uX)(),(0,o.CE)(o.FK,null,(0,o.pI)(n,(e=>(0,o.Lk)("div",{key:e,class:"sub-colors",style:(0,i.Tr)(`background-color: var(--cl-${e})`)},null,4))),64))],4))),64))])]))}}),he=(0,b.A)(fe,[["styles",["/* stylelint-disable prettier/prettier */\n/* Aspect ratios */\n/* Transitions */\n/* Typography */\n/* Shadows */\n/* Fonts */\n@keyframes skeleton-loading-malsync-ac3bc944 {\nto {\n    transform: translateX(100%);\n}\n}\n.color-preview[data-v-ac3bc944] {\n  border: 1px solid var(--cl-backdrop);\n  margin: var(--size-spacer-half) 0;\n}\n.color-preview .main-colors[data-v-ac3bc944],\n.color-preview .state-colors[data-v-ac3bc944] {\n  display: flex;\n}\n.color-preview .top-color[data-v-ac3bc944] {\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  gap: 5px;\n  min-height: 95px;\n  padding: 5px;\n}\n.color-preview .sub-colors[data-v-ac3bc944] {\n  --cl-white-text: white;\n  width: 100%;\n  max-width: 20px;\n  height: 10px;\n  border-radius: 10px;\n}\n"]],["__scopeId","data-v-ac3bc944"],["__file","color-preview.vue"]]);var ye=n(76186),_e=n(13647);const ke=[{key:"theme",title:()=>_e.storage.lang("settings_miniMAL_theme"),props:()=>({component:"dropdown",option:"theme",props:{options:[{title:_e.storage.lang("settings_theming_theme_system"),value:"auto"},{title:_e.storage.lang("settings_theming_theme_light"),value:"light"},{title:_e.storage.lang("settings_theming_theme_dark"),value:"dark"},...ye.m0,{title:_e.storage.lang("settings_theming_theme_custom"),value:"custom"}]}}),component:te.A},{key:"sidebars",title:()=>_e.storage.lang("settings_theming_sidebars"),props:{component:"checkbox",option:"themeSidebars"},component:te.A},{key:"color",title:()=>_e.storage.lang("settings_theming_color"),props:{component:"colorPicker",option:"themeColor"},condition:()=>"custom"===_e.settings.get("theme"),component:te.A},{key:"image",title:()=>_e.storage.lang("settings_theming_background_image"),props:{component:"input",option:"themeImage",props:{clearIcon:!0,placeholder:"url",simplePlaceholder:!0}},condition:()=>"custom"===_e.settings.get("theme"),component:te.A},{key:"opacity",title:()=>_e.storage.lang("settings_theming_background_opacity"),props:{component:"slider",option:"themeOpacity",props:{max:100}},condition:()=>"custom"===_e.settings.get("theme")&&_e.settings.get("themeImage"),component:te.A},{key:"colorPreview",title:"Color Preview",condition:()=>"custom"===_e.settings.get("theme"),component:he}];var be=n(98359),Ae=n(56285),we=n(18221),Se=n(7916),xe=n(21809),Fe=n(13647);const Le=e=>((0,o.Qi)("data-v-5f9c0fa8"),e=e(),(0,o.jt)(),e),We=Le((()=>(0,o.Lk)("div",{class:"material-icons"},"close",-1))),Ee=Le((()=>(0,o.Lk)("div",{class:"material-icons"},"add",-1))),Me={key:0},Ie={key:1},Te=(0,o.pM)({__name:"settings-custom-domains",props:{title:{type:String,required:!0}},setup(e){const t=(0,Ae.Yg)().map((e=>({title:e.title,value:e.key}))),n=(0,l.KR)([]),a=(0,o.EW)({get:()=>Fe.settings.get("customDomains"),set(e){Fe.settings.set("customDomains",e)}});function s(e){return(0,be.Z_)(e)}(0,o.wB)(a,(e=>{n.value=JSON.parse(JSON.stringify(e))}),{immediate:!0});const r=(0,l.KR)(!1);async function c(){r.value=await(0,Ae.RS)(n.value)}(0,o.wB)(n,(()=>{c()}),{immediate:!0,deep:!0});const p=(0,o.EW)((()=>n.value.every((e=>s(e.domain)&&e.page))));return(e,d)=>((0,o.uX)(),(0,o.CE)("div",null,[(0,o.bF)(v.A,{spacer:"half",direction:"both"},{default:(0,o.k6)((()=>[(0,o.bF)(H.A,null,{default:(0,o.k6)((()=>[(0,o.Lk)("div",null,(0,i.v_)(e.lang("settings_custom_domains_disclaimer")),1),(0,o.Lk)("div",null,[(0,o.bF)(u.A,{color:"secondary",href:"https://github.com/MALSync/MALSync/wiki/Custom-Domains"},{default:(0,o.k6)((()=>[(0,o.eW)((0,i.v_)(e.lang("settings_more_info")),1)])),_:1})])])),_:1})])),_:1}),(0,o.bF)(H.A,{class:"custom"},{default:(0,o.k6)((()=>[n.value.length?((0,o.uX)(),(0,o.Wv)(v.A,{key:0,class:"grid",spacer:"half"},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.value,((e,i)=>((0,o.uX)(),(0,o.CE)(o.FK,{key:i},[(0,o.bF)(Y.A,{class:"close-item",onClick:e=>(e=>{n.value.splice(e,1)})(i)},{default:(0,o.k6)((()=>[We])),_:2},1032,["onClick"]),(0,o.bF)(we.A,{modelValue:e.page,"onUpdate:modelValue":t=>e.page=t,options:(0,l.R1)(t),disabled:e.auto,"align-items":"left",placeholder:"Select Page",class:"page-select select-items"},null,8,["modelValue","onUpdate:modelValue","options","disabled"]),(0,o.bF)(Se.A,{modelValue:e.domain,"onUpdate:modelValue":t=>e.domain=t,validation:s,disabled:e.auto,placeholder:"Domain",class:"select-items"},null,8,["modelValue","onUpdate:modelValue","disabled"])],64)))),128))])),_:1})):(0,o.Q3)("v-if",!0),(0,o.bF)(v.A,null,{default:(0,o.k6)((()=>[(0,o.bF)(Y.A,{onClick:d[0]||(d[0]=e=>{n.value.push({domain:"",page:""})})},{default:(0,o.k6)((()=>[Ee])),_:1})])),_:1}),(0,o.bF)(xe.A,null,{default:(0,o.k6)((()=>[p.value?r.value&&JSON.stringify(a.value)===JSON.stringify(n.value)?(0,o.Q3)("v-if",!0):((0,o.uX)(),(0,o.CE)("div",Ie,[(0,o.bF)(Y.A,{color:"primary",onClick:d[1]||(d[1]=e=>(async()=>{a.value=JSON.parse(JSON.stringify(n.value)),await(0,Ae.uJ)(a.value),c()})())},{default:(0,o.k6)((()=>[(0,o.eW)((0,i.v_)(e.lang("Update")),1)])),_:1})])):((0,o.uX)(),(0,o.CE)("div",Me,[(0,o.bF)(Y.A,{color:"secondary"},{default:(0,o.k6)((()=>[(0,o.eW)((0,i.v_)(e.lang("settings_custom_domains_wrong")),1)])),_:1})]))])),_:1})])),_:1})]))}}),Ce=(0,b.A)(Te,[["styles",["/* stylelint-disable prettier/prettier */\n/* Aspect ratios */\n/* Transitions */\n/* Typography */\n/* Shadows */\n/* Fonts */\n@keyframes skeleton-loading-malsync-5f9c0fa8 {\nto {\n    transform: translateX(100%);\n}\n}\n.custom[data-v-5f9c0fa8] {\n  margin: var(--size-spacer-half) 0;\n}\n.grid[data-v-5f9c0fa8] {\n  display: grid;\n  grid-template-columns: [col-start] auto [col-end] auto [col-end] auto;\n  justify-content: start;\n  gap: var(--size-spacer-half);\n  align-items: center;\n}\n@media screen and (max-width: 600px) {\n.select-items[data-v-5f9c0fa8] {\n    grid-column-start: col-end 1;\n    grid-column-end: col-end 3;\n}\n.close-item[data-v-5f9c0fa8] {\n    grid-row-start: span 2;\n    height: 100%;\n    display: flex;\n    align-items: center;\n}\n}\n.page-select[data-v-5f9c0fa8] {\n  min-width: 220px;\n}\n"]],["__scopeId","data-v-5f9c0fa8"],["__file","settings-custom-domains.vue"]]);var Xe=n(16087),Re=n(13647);const Pe={key:"permissions",system:"webextension",title:()=>Re.storage.lang("settings_custom_domains_button"),component:Xe.A},De=[Pe,{key:"domains",title:()=>Re.storage.lang("settings_custom_domains_button"),component:Ce}];var Ke=n(13647);const Ne=[{key:"floatButtonStealth",title:()=>Ke.storage.lang("settings_miniMAL_floatButtonStealth"),props:()=>({component:"checkbox",tooltip:Ke.storage.lang("settings_miniMAL_floatButtonStealth_tooltip"),option:"floatButtonStealth"}),component:te.A},{key:"minimizeBigPopup",title:()=>Ke.storage.lang("settings_miniMAL_minimizeBigPopup"),props:()=>({component:"checkbox",tooltip:Ke.storage.lang("settings_miniMAL_minimizeBigPopup_tooltip"),option:"minimizeBigPopup"}),component:te.A},{key:"floatButtonHide",title:()=>Ke.storage.lang("settings_miniMAL_floatButtonHide"),props:{component:"checkbox",option:"floatButtonHide"},component:te.A},{key:"highlightAllEp",title:()=>Ke.storage.lang("settings_highlightAllEp"),props:()=>({component:"checkbox",tooltip:Ke.storage.lang("settings_highlightAllEp_Text"),option:"highlightAllEp"}),component:te.A},{key:"checkForFiller",title:()=>Ke.storage.lang("settings_filler"),system:"webextension",props:()=>({component:"checkbox",tooltip:Ke.storage.lang("settings_filler_text"),option:"checkForFiller"}),component:te.A},{key:"hr",title:"MyAnimeList",component:ge.A},{key:"malThumbnail",title:()=>Ke.storage.lang("settings_Thumbnails"),props:()=>({component:"dropdown",tooltip:Ke.storage.lang("settings_Thumbnails_text"),option:"malThumbnail",props:{options:[{title:Ke.storage.lang("settings_Thumbnails_Large"),value:"144"},{title:Ke.storage.lang("settings_Thumbnails_Medium"),value:"100"},{title:Ke.storage.lang("settings_Thumbnails_Small"),value:"60"},{title:Ke.storage.lang("settings_Thumbnails_Default"),value:"0"}]}}),component:te.A},{key:"friendScore",title:()=>Ke.storage.lang("settings_FriendScore"),props:{component:"checkbox",option:"friendScore"},component:te.A},{key:"hr",title:"Anilist",component:ge.A},{key:"anilistUpdateUi",title:()=>Ke.storage.lang("settings_anilist_update_ui"),props:()=>({component:"checkbox",tooltip:Ke.storage.lang("settings_anilist_update_ui_tooltip"),option:"anilistUpdateUi"}),component:te.A}];var Be=n(13647);const Oe=[{key:"rpc",title:()=>Be.storage.lang("settings_enabled"),props:{component:"checkbox",option:"rpc",infoLink:"https://github.com/MALSync/MALSync/wiki/Discord-Rich-Presence"},component:te.A},{key:"presenceLargeImage",title:()=>Be.storage.lang("settings_presence_largeimage"),props:()=>({component:"dropdown",option:"presenceLargeImage",props:{options:[{title:Be.storage.lang("settings_presence_largeimage_cover"),value:"cover"},{title:Be.storage.lang("settings_presence_largeimage_website"),value:"website"},{title:Be.storage.lang("settings_presence_largeimage_malsync"),value:"malsync"}]}}),component:te.A},{key:"presenceShowMalsync",title:()=>Be.storage.lang("settings_presenceShowMalsync"),props:{component:"checkbox",option:"presenceShowMalsync"},component:te.A},{key:"presenceShowButtons",title:()=>Be.storage.lang("settings_presenceShowButtons"),props:{component:"checkbox",option:"presenceShowButtons"},component:te.A}];var je=n(59934),Qe=n(78584),Ue=n(26017);const $e={key:1},Ve={key:2},qe=(0,o.pM)({__name:"settings-clear-tags",props:{title:{type:String,required:!0}},setup(e){const t=(0,l.KR)(!1),n=(0,l.KR)(!1),a=(0,l.KR)(0),s=(0,l.KR)(0),r=(0,l.KR)([]),p=(0,l.KR)([]);async function g(e){const t=(0,je.f)(e);return t.update().then((()=>(t.cleanTags(),t.sync()))).catch((e=>{Qe.error(e)}))}async function u(e,t,n){for(n.value=await function(e){const t=(0,d.V)(7,e);return t.getCompleteList().then((e=>e)).catch((e=>{throw Qe.error(e),t.errorMessage(e)}))}(e),t.value=n.value.length;n.value.length;){const e=n.value.pop(),t=Ue.getUrlFromTags(e.tags);void 0!==t&&(console.log(t),await g(e.url))}}return(e,l)=>((0,o.uX)(),(0,o.Wv)(H.A,{class:"clear-tags"},{default:(0,o.k6)((()=>[(0,o.bF)(c.A,{spacer:!0},{default:(0,o.k6)((()=>[(0,o.eW)("This script removes all malsync::xxxxx:: from your list.")])),_:1}),t.value?n.value?((0,o.uX)(),(0,o.CE)("div",Ve,[(0,o.bF)(Y.A,{animation:!1,color:"secondary"},{default:(0,o.k6)((()=>[(0,o.eW)(" Done ")])),_:1})])):((0,o.uX)(),(0,o.CE)("div",$e,[(0,o.bF)(v.A,{spacer:"half"},{default:(0,o.k6)((()=>[(0,o.bF)(Y.A,{animation:!1},{default:(0,o.k6)((()=>[(0,o.eW)(" Anime: "+(0,i.v_)(r.value.length?`${a.value-r.value.length}/${a.value}`:"loading"),1)])),_:1})])),_:1}),(0,o.bF)(Y.A,{animation:!1},{default:(0,o.k6)((()=>[(0,o.eW)(" Manga: "+(0,i.v_)(p.value.length?`${s.value-p.value.length}/${s.value}`:"loading"),1)])),_:1})])):((0,o.uX)(),(0,o.Wv)(Y.A,{key:0,color:"primary",onClick:l[0]||(l[0]=e=>async function(){t.value=!0,await u("anime",a,r),await u("manga",s,p),n.value=!0}())},{default:(0,o.k6)((()=>[(0,o.eW)("Clean Up MAL-Sync Tags")])),_:1}))])),_:1}))}}),ze=(0,b.A)(qe,[["styles",["/* stylelint-disable prettier/prettier */\n/* Aspect ratios */\n/* Transitions */\n/* Typography */\n/* Shadows */\n/* Fonts */\n@keyframes skeleton-loading-malsync-00695352 {\nto {\n    transform: translateX(100%);\n}\n}\n.clear-tags[data-v-00695352] {\n  margin: var(--size-spacer-half) 0;\n}\n"]],["__scopeId","data-v-00695352"],["__file","settings-clear-tags.vue"]]);var He=n(13647),Je=n(26017);const Ye=[{key:"forceEn",title:"Force English",props:{component:"checkbox",option:"forceEn"},component:te.A},{key:"cleanTagsUi",title:()=>He.storage.lang("settings_clean_tags_button"),props:()=>({type:"button",icon:"",props:{color:"primary",title:He.storage.lang("settings_clean_tags_button")}}),component:s.A,children:[{key:"cleanTags",title:()=>He.storage.lang("settings_clean_tags_button"),component:ze}]},{key:"clearCache",title:()=>He.storage.lang("settings_ClearCache"),props:()=>({component:"button",props:{color:"primary",title:He.storage.lang("settings_ClearCache"),click:()=>Je.clearCache()}}),component:te.A}];var Ge=n(13647);const Ze=[{key:"autofull",title:()=>Ge.storage.lang("settings_Video_Fullscreen"),props:{component:"checkbox",option:"autofull",infoLink:"https://github.com/MALSync/MALSync/wiki/Troubleshooting#auto-fullscreen-doesnt-work"},component:te.A},{key:"autoresume",title:()=>Ge.storage.lang("settings_Video_Resume"),props:{component:"checkbox",option:"autoresume"},component:te.A},{key:"autoNextEp",title:()=>Ge.storage.lang("settings_autoNextEp"),props:{component:"checkbox",option:"autoNextEp"},component:te.A},{key:"nextEpShort",title:()=>Ge.storage.lang("settings_Shortcuts_Next_Episode"),system:"webextension",props:{component:"shortcut",option:"nextEpShort"},component:te.A},{key:"hr",title:"",component:ge.A},{key:"introSkipFwd",title:()=>Ge.storage.lang("settings_Shortcuts_Skip_Forward"),system:"webextension",props:{component:"shortcut",option:"introSkipFwd"},component:te.A},{key:"introSkipBwd",title:()=>Ge.storage.lang("settings_Shortcuts_Skip_Backward"),system:"webextension",props:{component:"shortcut",option:"introSkipBwd"},component:te.A},{key:"introSkip",title:()=>Ge.storage.lang("settings_introSkip",[Ge.settings.get("introSkip")]),system:"webextension",props:{component:"input",option:"introSkip",props:{validation:e=>Boolean(Number(e)>4)}},component:te.A}];var et=n(13647);const tt=[{key:"minimalWindow",title:()=>et.storage.lang("settings_miniMAL_window"),system:"webextension",props:{component:"checkbox",option:"minimalWindow"},component:te.A},{key:"autoCloseMinimal",title:()=>et.storage.lang("settings_miniMAL_autoCloseMinimal"),system:"userscript",props:{component:"checkbox",option:"autoCloseMinimal"},component:te.A},{key:"posLeft",title:()=>et.storage.lang("settings_miniMAL_Display"),props:()=>({component:"dropdown",option:"posLeft",props:{options:[{title:et.storage.lang("settings_miniMAL_Display_Left"),value:"left"},{title:et.storage.lang("settings_miniMAL_Display_Center"),value:"center"},{title:et.storage.lang("settings_miniMAL_Display_Right"),value:"right"}].filter((e=>!("center"===e.value&&"webextension"!==et.type)))}}),component:te.A},{key:"miniMalHeight",title:()=>et.storage.lang("settings_miniMAL_Height"),props:{component:"input",option:"miniMalHeight",props:{validation:e=>/^\d+(%|px)$/i.test(e)}},component:te.A},{key:"miniMalWidth",title:()=>et.storage.lang("settings_miniMAL_Width"),props:{component:"input",option:"miniMalWidth",props:{validation:e=>/^\d+(%|px)$/i.test(e)}},component:te.A},{key:"pwa",title:()=>et.storage.lang("settings_miniMAL_pwa"),props:()=>({component:"button",props:{color:"primary",title:et.storage.lang("Show"),link:"https://malsync.moe/pwa/"}}),component:te.A}];var nt=n(71641);const ot=(0,o.pM)({__name:"settings-progress-dropdown",props:{title:{type:[String,Function],required:!0},option:{type:String,required:!1,default:null},type:{type:String,default:"anime"}},setup(e){const t=e,n=(0,l.KR)([]);return(0,nt.qu)(t.type).then((e=>{n.value=e.map((e=>({value:e.key,title:e.label})))})),(t,i)=>((0,o.uX)(),(0,o.Wv)(te.A,{title:e.title,option:e.option,component:"dropdown",props:{options:n.value}},null,8,["title","option","props"]))}}),it=(0,b.A)(ot,[["__file","settings-progress-dropdown.vue"]]);var at=n(13647),st=n(78584);function lt(){if("webextension"===at.type){const e=parseInt(at.settings.get("progressInterval"));if(!e)return;st.log("Trigger Progress update"),chrome.alarms.create("progressSync",{periodInMinutes:e,when:Date.now()+1e3})}}const rt=[{key:"progressNotificationsAnime",title:()=>`${at.storage.lang("settings_Notifications")} (${at.storage.lang("Anime")})`,condition:()=>Boolean(Number(at.settings.get("progressInterval"))),props:{component:"checkbox",option:"progressNotificationsAnime"},component:te.A},{key:"progressNotificationsManga",title:()=>`${at.storage.lang("settings_Notifications")} (${at.storage.lang("Manga")})`,condition:()=>Boolean(Number(at.settings.get("progressInterval"))),props:{component:"checkbox",option:"progressNotificationsManga"},component:te.A},{key:"notificationsSticky",title:()=>at.storage.lang("settings_Notifications_Sticky"),props:{component:"checkbox",option:"notificationsSticky"},component:te.A}],ct=[{key:"progressInterval",title:()=>at.storage.lang("settings_Interval"),change:()=>lt(),props:()=>({component:"dropdown",option:"progressInterval",props:{options:[{title:at.storage.lang("settings_Interval_Off"),value:"0"},{title:"30min",value:"30"},{title:"1h",value:"60"},{title:"2h",value:"120"},{title:"4h",value:"240"},{title:"12h",value:"720"},{title:"24h",value:"1440"}]}}),component:te.A},{key:"progressIntervalDefaultAnime",title:()=>at.storage.lang("settings_Interval_Default_Anime"),change:()=>lt(),condition:()=>Boolean(Number(at.settings.get("progressInterval"))),props:{component:"dropdown",option:"progressIntervalDefaultAnime",type:"anime"},component:it},{key:"progressIntervalDefaultManga",title:()=>at.storage.lang("settings_Interval_Default_Manga"),change:()=>lt(),condition:()=>Boolean(Number(at.settings.get("progressInterval"))),props:{component:"dropdown",option:"progressIntervalDefaultManga",type:"manga"},component:it},...rt,{key:"loadPTWForProgress",title:()=>at.storage.lang("settings_loadPTWForProgress"),condition:()=>Boolean(Number(at.settings.get("progressInterval"))),props:{component:"checkbox",option:"loadPTWForProgress"},component:te.A}];var pt=n(53780),dt=n(13647);const gt=[{key:"usedPage",title:()=>dt.storage.lang("settings_usedPage"),props:{component:"checkbox",option:"usedPage"},component:te.A},{key:"malContinue",title:()=>dt.storage.lang("settings_malContinue"),props:{component:"checkbox",option:"malContinue"},component:te.A},{key:"malResume",title:()=>dt.storage.lang("settings_malResume"),props:{component:"checkbox",option:"malResume"},component:te.A},{key:"epPredictions",title:()=>dt.storage.lang("settings_epPredictions"),props:{component:"checkbox",option:"epPredictions"},component:te.A},{key:"hr",title:"",component:ge.A},{key:"quicklinksPosition",title:()=>dt.storage.lang("settings_custom_domains_position"),condition:()=>"ANILIST"===dt.settings.get("syncMode")||"MAL"===dt.settings.get("syncMode"),props:()=>({component:"dropdown",option:"quicklinksPosition",props:{options:[{title:dt.storage.lang("settings_progress_default"),value:"default"},{title:dt.storage.lang("settings_custom_position_below"),value:"below"}]}}),component:te.A},{key:"streamingSite",title:()=>dt.storage.lang("settings_StreamingSite"),component:pt.A}];var ut=n(13647);const mt=[{key:"hr",title:()=>ut.storage.lang("settings_progress"),component:ge.A},...rt];var vt=n(30319),ft=n(13647);const ht=[{key:"permission-overview",system:"webextension",title:()=>ft.storage.lang("settings_custom_domains_button"),component:vt.A}],yt={key:"permission-overview",system:"webextension",title:()=>ft.storage.lang("settings_custom_domains_button"),component:vt.A,props:{requiredOnly:!0}};var _t=n(13647);const kt=[{key:"profile",title:"Profile",component:A},Pe,yt,{key:"tracking",title:()=>_t.storage.lang("settings_tracking"),props:{icon:"visibility"},component:s.A,children:ue.E5},{key:"theming",title:()=>_t.storage.lang("settings_theming"),props:{icon:"palette"},component:s.A,children:ke},{key:"onsite",title:()=>_t.storage.lang("settings_onsite"),props:{icon:"view_quilt"},component:s.A,children:Ne},{key:"streaming",title:()=>_t.storage.lang("settings_StreamingSite"),props:{icon:"rss_feed"},component:s.A,children:gt},{key:"videoPlayerSection",title:()=>_t.storage.lang("settings_Video_Player"),props:{icon:"play_circle_filled"},component:s.A,children:Ze},{key:"minimalSection",title:()=>_t.storage.lang("settings_miniMAL_popup"),props:{icon:"picture_in_picture"},component:s.A,children:tt},{key:"estimationSection",title:()=>_t.storage.lang("settings_progress"),props:{icon:"update"},component:s.A,children:ct},{key:"notifiactionSection",title:()=>_t.storage.lang("settings_Notifications"),props:{icon:"notifications"},component:s.A,children:mt},{key:"permissions-overview",title:()=>_t.storage.lang("settings_permissions_overview"),system:"webextension",props:{icon:"lock_open"},component:s.A,children:ht},{key:"customDomains",title:()=>_t.storage.lang("settings_custom_domains_button"),system:"webextension",props:{icon:"web"},component:s.A,children:De},{key:"listSyncSection",title:()=>_t.storage.lang("settings_listsync"),props:{icon:"sync_alt"},component:s.A,children:[{key:"listSync",title:()=>_t.storage.lang("settings_listsync"),component:de}]},{key:"DiscordSection",title:"Discord Rich Presence",system:"webextension",props:{icon:"discord"},component:s.A,children:Oe},{key:"miscellaneous",title:()=>_t.storage.lang("settings_miscellaneous"),props:{icon:"code"},component:s.A,children:Ye},{key:"hr",title:"",component:ge.A},{key:"support",title:()=>_t.storage.lang("settings_help"),props:{icon:"help",href:"https://github.com/MALSync/MALSync/wiki/Support"},component:s.A},{key:"joinDiscord",title:()=>_t.storage.lang("settings_discord_join"),props:{icon:"forum",href:"https://discord.com/invite/cTH4yaw",special:"discord"},component:s.A},{key:"donate",title:()=>_t.storage.lang("settings_donate"),props:{icon:"favorite",href:"https://malsync.moe/donate"},component:s.A}],bt=(0,o.pM)({__name:"transition-slide",setup(e){const t=(0,l.KR)(null);function n(){const{width:e}=getComputedStyle(t.value);t.value.style.width=e,t.value.style.position="absolute",t.value.style.visibility="hidden",t.value.style.height="auto",t.value.style.overflow="hidden";const{height:n}=getComputedStyle(t.value);t.value.style.width="",t.value.style.position="",t.value.style.visibility="",t.value.style.height="0",(0,o.dY)().then((()=>{t.value.style.height=n}))}function i(){t.value.style.overflow="",t.value.style.height=""}function s(){const{height:e}=getComputedStyle(t.value);t.value.style.height=e,t.value.style.overflow="hidden",(0,o.dY)().then((()=>{t.value.style.height="0"}))}return(e,l)=>((0,o.uX)(),(0,o.CE)("div",{ref_key:"wrapper",ref:t,class:"transition-wrapper"},[(0,o.bF)(a.Transition,{name:"slide",duration:1e3,onEnter:n,onAfterEnter:i,onLeave:s},{default:(0,o.k6)((()=>[(0,o.RG)(e.$slots,"default")])),_:3})],512))}}),At=(0,b.A)(bt,[["styles",["/* stylelint-disable prettier/prettier */\n/* Aspect ratios */\n/* Transitions */\n/* Typography */\n/* Shadows */\n/* Fonts */\n@keyframes skeleton-loading-malsync-12a42b42 {\nto {\n    transform: translateX(100%);\n}\n}\n.transition-wrapper[data-v-12a42b42] {\n  transition: height 0.25s ease-in-out;\n  position: relative;\n}\n"]],["__scopeId","data-v-12a42b42"],["__file","transition-slide.vue"]]),wt={class:"designed-wrapper"},St={class:"designed"},xt=(e=>((0,o.Qi)("data-v-746f05c1"),e=e(),(0,o.jt)(),e))((()=>(0,o.Lk)("div",{class:"logotype"},[(0,o.eW)("geor"),(0,o.Lk)("span",{class:"logotype_dot"},"."),(0,o.eW)("gy")],-1))),Ft=(0,o.pM)({__name:"settings-designed",props:{title:{type:String,default:""}},setup:e=>(e,t)=>((0,o.uX)(),(0,o.CE)("div",wt,[(0,o.Lk)("div",St,[(0,o.bF)(u.A,{href:"https://geor.gy/"},{default:(0,o.k6)((()=>[(0,o.eW)(" Designed by "),xt])),_:1})])]))}),Lt=(0,b.A)(Ft,[["styles",["/* stylelint-disable prettier/prettier */\n/* Aspect ratios */\n/* Transitions */\n/* Typography */\n/* Shadows */\n/* Fonts */\n@keyframes skeleton-loading-malsync-746f05c1 {\nto {\n    transform: translateX(100%);\n}\n}\n.logotype[data-v-746f05c1] {\n  color: var(--cl-text);\n  display: inline-block;\n  font-family: Montserrat, sans-serif;\n  font-size: 1.46em;\n  line-height: 1.2;\n  font-weight: 700;\n}\n.logotype_dot[data-v-746f05c1] {\n  color: #e71d36;\n}\n.designed-wrapper[data-v-746f05c1] {\n  position: absolute;\n  inset-inline-end: 0;\n  bottom: 0;\n}\n.designed[data-v-746f05c1] {\n  padding: 5px;\n}\n"]],["__scopeId","data-v-746f05c1"],["__file","settings-designed.vue"]]);var Wt=n(10248);const Et={class:"back-button"},Mt=(0,o.pM)({__name:"settings",props:{path:{type:[Array,String],default:()=>[]}},setup(e){const t=(0,o.WQ)("rootWindow"),n=(0,o.WQ)("rootDocument"),s=e,l=(e,t,n=[],o=null)=>{if(!e)return{structure:t,path:n,parent:o};const i=e.shift();if(!i)return{structure:t,path:n,parent:o};const a=t.find((e=>e.key===i));return a&&a.children?(n.push(i),l(e,a.children,n,a)):{structure:t,path:n,parent:o,highlight:i}},r=(0,o.EW)((()=>l(s.path,kt)));return(0,o.wB)((()=>r.value.highlight),(e=>{e&&setTimeout((()=>{const o=n.getElementById(`id-${e}`);if(o){const e=o.offsetTop-90;t.scroll({top:e,behavior:"smooth"})}}),100)}),{immediate:!0}),(e,t)=>((0,o.uX)(),(0,o.CE)("div",{class:(0,i.C4)(["settings-block",{designed:!r.value.path.length}])},[(0,o.bF)(a.Transition,{name:r.value.path.length?"slide-in":"slide-out"},{default:(0,o.k6)((()=>[((0,o.uX)(),(0,o.CE)("div",{key:r.value.path},[r.value.path.length?((0,o.uX)(),(0,o.Wv)(f.A,{key:0,to:{name:"Settings",params:{path:[r.value.path.slice(0,-1)]}}},{default:(0,o.k6)((()=>[(0,o.Lk)("div",Et,[(0,o.bF)(c.A,{weight:"normal"},{default:(0,o.k6)((()=>[(0,o.bF)(m.A,{icon:"arrow_back",mode:"flex",background:"round",spacer:"big"},{default:(0,o.k6)((()=>[(0,o.eW)((0,i.v_)(r.value.parent?"function"==typeof r.value.parent.title?r.value.parent.title():r.value.parent.title:"Back"),1)])),_:1})])),_:1})])])),_:1},8,["to"])):(0,o.Q3)("v-if",!0),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.value.structure,(e=>((0,o.uX)(),(0,o.Wv)(At,{key:e.key},{default:(0,o.k6)((()=>[(0,o.bF)(Wt.A,{comp:e,highlight:r.value.highlight,"current-path":r.value.path},null,8,["comp","highlight","current-path"])])),_:2},1024)))),128))]))])),_:1},8,["name"]),r.value.path.length?(0,o.Q3)("v-if",!0):((0,o.uX)(),(0,o.Wv)(Lt,{key:0}))],2))}}),It=(0,b.A)(Mt,[["styles",["/* stylelint-disable prettier/prettier */\n/* Aspect ratios */\n/* Transitions */\n/* Typography */\n/* Shadows */\n/* Fonts */\n@keyframes skeleton-loading-malsync-6691e8f4 {\nto {\n    transform: translateX(100%);\n}\n}\n.settings-block[data-v-6691e8f4] {\n  position: relative;\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n}\n@media screen and (max-width: 600px) {\n.settings-block.designed[data-v-6691e8f4] {\n    padding-bottom: 30px;\n}\n}\n.back-button[data-v-6691e8f4] {\n  transition: transform 0.25s ease;\n  padding: 0 0 var(--size-spacer-half);\n}\n.back-button[data-v-6691e8f4]:active {\n  transition-delay: 0s !important;\n  transform: translateY(3px);\n}\n.highlight[data-v-6691e8f4] {\n  position: relative;\n}\n.highlight[data-v-6691e8f4]::after {\n  content: '';\n  pointer-events: none;\n  position: absolute;\n  top: 0;\n  left: -20px;\n  right: -20px;\n  bottom: 0;\n  border: 2px solid var(--cl-secondary);\n  border-radius: 10px;\n}\n"]],["__scopeId","data-v-6691e8f4"],["__file","settings.vue"]])}}]);
//# sourceMappingURL=920.js.map