{"version":3,"file":"content/15.js","mappings":"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","sources":["webpack://MALSync/./src/_minimal/components/description.vue?3af9","webpack://MALSync/./src/_minimal/components/description.vue","webpack://MALSync/./src/_minimal/components/description.vue?a7fb","webpack://MALSync/./src/_minimal/components/description.vue?ae5a","webpack://MALSync/./src/_minimal/components/form/form-slider.vue?e26f","webpack://MALSync/./src/_minimal/components/form/form-slider.vue","webpack://MALSync/./src/_minimal/components/form/form-slider.vue?f97e","webpack://MALSync/./src/_minimal/components/form/form-slider.vue?c78b","webpack://MALSync/./src/_provider/metaOverviewAbstract.ts","webpack://MALSync/./src/_provider/Local/metaOverview.ts","webpack://MALSync/./src/_provider/MyAnimeList_hybrid/metaOverview.ts","webpack://MALSync/./src/_provider/MyAnimeList_legacy/metaOverview.ts","webpack://MALSync/./src/_provider/MyAnimeList_api/metaOverview.ts","webpack://MALSync/./src/_provider/AniList/metaOverview.ts","webpack://MALSync/./src/_provider/Kitsu/metaOverview.ts","webpack://MALSync/./src/_provider/Simkl/metaOverview.ts","webpack://MALSync/./src/_provider/Shikimori/metaOverview.ts","webpack://MALSync/./src/_minimal/components/modal.vue?f3bc","webpack://MALSync/./src/_minimal/components/modal.vue","webpack://MALSync/./src/_minimal/components/modal.vue?4668","webpack://MALSync/./src/_minimal/components/modal.vue?ba54","webpack://MALSync/./src/_minimal/components/overview/overview-image.vue?6727","webpack://MALSync/./src/_minimal/components/overview/overview-image.vue","webpack://MALSync/./src/_minimal/components/overview/overview-image.vue?ac52","webpack://MALSync/./src/_minimal/components/overview/overview-image.vue?e21c","webpack://MALSync/./src/_minimal/components/text-scroller.vue?35f5","webpack://MALSync/./src/_minimal/components/text-scroller.vue","webpack://MALSync/./src/_minimal/components/text-scroller.vue?2199","webpack://MALSync/./src/_minimal/components/text-scroller.vue?4ed4","webpack://MALSync/./src/_minimal/components/overview/overview-image-language.vue?327f","webpack://MALSync/./src/_minimal/components/overview/overview-image-language.vue","webpack://MALSync/./src/_minimal/components/overview/overview-image-language.vue?e3f5","webpack://MALSync/./src/_minimal/components/overview/overview-image-language.vue?82e2","webpack://MALSync/./src/_minimal/components/form/form-click.vue?3310","webpack://MALSync/./src/_minimal/components/form/form-click.vue","webpack://MALSync/./src/_minimal/components/form/form-click.vue?e847","webpack://MALSync/./src/_minimal/components/form/form-click.vue?87ec","webpack://MALSync/./src/_minimal/components/error/error-single.vue?3d9e","webpack://MALSync/./src/_minimal/components/error/error-single.vue","webpack://MALSync/./src/_minimal/components/overview/overview-update-ui.vue?642f","webpack://MALSync/./src/_minimal/components/overview/overview-update-ui.vue","webpack://MALSync/./src/_minimal/components/overview/overview-update-ui.vue?4f25","webpack://MALSync/./src/_minimal/components/overview/overview-update-ui.vue?d9e3","webpack://MALSync/./src/_minimal/components/overview/overview-streaming.vue?a097","webpack://MALSync/./src/_minimal/components/overview/overview-streaming.vue","webpack://MALSync/./src/_minimal/components/overview/overview-streaming.vue?1550","webpack://MALSync/./src/_minimal/components/overview/overview-streaming.vue?4068","webpack://MALSync/./src/_minimal/components/overview/overview-characters.vue?f0be","webpack://MALSync/./src/_minimal/components/overview/overview-characters.vue","webpack://MALSync/./src/_minimal/components/overview/overview-characters.vue?c101","webpack://MALSync/./src/_minimal/components/pagination.vue?2c30","webpack://MALSync/./src/_minimal/components/pagination.vue","webpack://MALSync/./src/_minimal/components/pagination.vue?beca","webpack://MALSync/./src/_minimal/components/pagination.vue?91dc","webpack://MALSync/./src/_minimal/components/overview/overview-reviews.vue?7c2b","webpack://MALSync/./src/_minimal/components/overview/overview-reviews.vue","webpack://MALSync/./src/_minimal/components/overview/overview-reviews-meta.ts","webpack://MALSync/./src/_minimal/components/overview/overview-reviews.vue?6ad1","webpack://MALSync/./src/_minimal/components/overview/overview-reviews.vue?7b30","webpack://MALSync/./src/_minimal/components/overview/overview-info.vue?29de","webpack://MALSync/./src/_minimal/components/overview/overview-info.vue","webpack://MALSync/./src/_minimal/components/overview/overview-info.vue?3c9c","webpack://MALSync/./src/_minimal/components/overview/overview-info.vue?054f","webpack://MALSync/./src/_minimal/components/overview/overview-recommendations.vue?2acc","webpack://MALSync/./src/_minimal/components/overview/overview-recommendations.vue","webpack://MALSync/./src/_minimal/components/overview/overview-recommendations-meta.ts","webpack://MALSync/./src/_minimal/components/overview/overview-recommendations.vue?e80e","webpack://MALSync/./src/_minimal/components/overview/overview-recommendations.vue?ce31","webpack://MALSync/./src/_minimal/components/overview/overview-related.vue?d40c","webpack://MALSync/./src/_minimal/components/overview/overview-related.vue","webpack://MALSync/./src/_minimal/components/overview/overview-related.vue?3893","webpack://MALSync/./src/_minimal/components/error/error-meta.vue?aeef","webpack://MALSync/./src/_minimal/components/error/error-meta.vue","webpack://MALSync/./src/_minimal/views/overview.vue?970e","webpack://MALSync/./src/_minimal/views/overview.vue","webpack://MALSync/./src/_provider/metaDataFactory.ts","webpack://MALSync/./src/_minimal/views/overview.vue?8f8d","webpack://MALSync/./src/_minimal/views/overview.vue?2f1c"],"sourcesContent":["import { useCssVars as _useCssVars, unref as _unref, defineComponent as _defineComponent } from 'vue'\nimport { renderSlot as _renderSlot, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createVNode as _createVNode, createElementBlock as _createElementBlock, Fragment as _Fragment, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = (n: any) => (_pushScopeId(\"data-v-366cdbb6\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 1,\n  class: \"close-button-box\"\n}\n\nimport { computed, onMounted, PropType, Ref, ref, watch } from 'vue';\n\nimport FormButton from './form/form-button.vue';\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'description',\n  props: {\n  loading: {\n    type: Boolean,\n    default: false,\n  },\n  fade: {\n    type: Boolean,\n    default: false,\n  },\n  height: {\n    type: [Number, String] as PropType<number | 'dynamic'>,\n    default: 240,\n  },\n  minheight: {\n    type: String,\n    default: '150px',\n  },\n},\n  setup(__props) {\n\n_useCssVars(_ctx => ({\n  \"676ec35c\": (heightstyle.value),\n  \"25985d61\": (__props.minheight)\n}))\n\nconst props = __props;\n\nconst open = ref(false);\nconst overflow = ref(true);\n\nconst inner = ref(null) as Ref<HTMLElement | null>;\n\nconst calcOverflow = () => {\n  overflow.value = true;\n  if (inner.value) {\n    const { scrollHeight, clientHeight } = inner.value;\n    overflow.value = Boolean(scrollHeight > clientHeight);\n  }\n};\n\nconst heightstyle = computed(() => {\n  if (props.height === 'dynamic') return 'auto';\n  return `${props.height}px`;\n});\n\nonMounted(() => {\n  calcOverflow();\n});\n\nwatch(\n  () => props.loading,\n  () => calcOverflow(),\n);\n\nwatch(inner, () => calcOverflow());\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"description\", { close: !open.value && overflow.value, loading: __props.loading, fade: __props.fade, dynamic: __props.height === 'dynamic' }])\n  }, [\n    (!__props.loading)\n      ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n          _createElementVNode(\"div\", {\n            ref_key: \"inner\",\n            ref: inner,\n            class: \"open-gradient\",\n            dir: \"auto\"\n          }, [\n            _renderSlot(_ctx.$slots, \"default\")\n          ], 512 /* NEED_PATCH */),\n          (!open.value && overflow.value)\n            ? (_openBlock(), _createBlock(FormButton, {\n                key: 0,\n                class: \"open-button\",\n                animation: false,\n                onClick: _cache[0] || (_cache[0] = ($event: any) => (open.value = true))\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(_toDisplayString(_ctx.lang('settings_read_more')), 1 /* TEXT */)\n                ]),\n                _: 1 /* STABLE */\n              }))\n            : _createCommentVNode(\"v-if\", true),\n          (open.value)\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _createVNode(FormButton, {\n                  class: \"close-button\",\n                  animation: false,\n                  onClick: _cache[1] || (_cache[1] = ($event: any) => (open.value = false))\n                }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(_toDisplayString(_ctx.lang('settings_read_less')), 1 /* TEXT */)\n                  ]),\n                  _: 1 /* STABLE */\n                })\n              ]))\n            : _createCommentVNode(\"v-if\", true)\n        ], 64 /* STABLE_FRAGMENT */))\n      : _createCommentVNode(\"v-if\", true)\n  ], 2 /* CLASS */))\n}\n}\n\n})","<template>\n  <div\n    class=\"description\"\n    :class=\"{ close: !open && overflow, loading, fade, dynamic: height === 'dynamic' }\"\n  >\n    <template v-if=\"!loading\">\n      <div ref=\"inner\" class=\"open-gradient\" dir=\"auto\">\n        <slot></slot>\n      </div>\n      <FormButton\n        v-if=\"!open && overflow\"\n        class=\"open-button\"\n        :animation=\"false\"\n        @click=\"open = true\"\n      >\n        {{ lang('settings_read_more') }}\n      </FormButton>\n      <div v-if=\"open\" class=\"close-button-box\">\n        <FormButton class=\"close-button\" :animation=\"false\" @click=\"open = false\">\n          {{ lang('settings_read_less') }}\n        </FormButton>\n      </div>\n    </template>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, onMounted, PropType, Ref, ref, watch } from 'vue';\n\nimport FormButton from './form/form-button.vue';\n\nconst props = defineProps({\n  loading: {\n    type: Boolean,\n    default: false,\n  },\n  fade: {\n    type: Boolean,\n    default: false,\n  },\n  height: {\n    type: [Number, String] as PropType<number | 'dynamic'>,\n    default: 240,\n  },\n  minheight: {\n    type: String,\n    default: '150px',\n  },\n});\n\nconst open = ref(false);\nconst overflow = ref(true);\n\nconst inner = ref(null) as Ref<HTMLElement | null>;\n\nconst calcOverflow = () => {\n  overflow.value = true;\n  if (inner.value) {\n    const { scrollHeight, clientHeight } = inner.value;\n    overflow.value = Boolean(scrollHeight > clientHeight);\n  }\n};\n\nconst heightstyle = computed(() => {\n  if (props.height === 'dynamic') return 'auto';\n  return `${props.height}px`;\n});\n\nonMounted(() => {\n  calcOverflow();\n});\n\nwatch(\n  () => props.loading,\n  () => calcOverflow(),\n);\n\nwatch(inner, () => calcOverflow());\n</script>\n\n<style lang=\"less\" scoped>\n@import '../less/_globals.less';\n.description {\n  position: relative;\n\n  .open-button {\n    position: absolute;\n    bottom: 1px;\n    left: 50%;\n    transform: translateX(-50%);\n    font-weight: 500;\n  }\n\n  .close-button-box {\n    display: flex;\n    justify-content: center;\n    margin-top: @spacer-half;\n    font-weight: 500;\n  }\n\n  &.close {\n    overflow: hidden;\n\n    .open-gradient {\n      max-height: v-bind(heightstyle);\n      mask-image: linear-gradient(180deg, #000 60%, transparent);\n      /* stylelint-disable-next-line property-no-vendor-prefix */\n      -webkit-mask-image: linear-gradient(180deg, #000 60%, transparent);\n    }\n  }\n\n  &.loading {\n    .skeleton-text-block();\n\n    height: v-bind(heightstyle);\n\n    &.fade {\n      .skeleton-text-block-fade();\n    }\n  }\n\n  &.dynamic {\n    height: 100%;\n    min-height: v-bind(minheight);\n    position: relative;\n    &.close .open-gradient {\n      max-height: 100%;\n      height: 100%;\n      position: absolute;\n    }\n  }\n}\n</style>\n","import script from \"./description.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./description.vue?vue&type=script&lang=ts&setup=true\"\n\nimport _style_0 from \"./description.vue?vue&type=style&index=0&id=366cdbb6&inline&lang=less&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['styles',[_style_0]],['__scopeId',\"data-v-366cdbb6\"],['__file',\"description.vue\"]])\n\nexport default __exports__","export default \"/* stylelint-disable prettier/prettier */\\n/* Aspect ratios */\\n/* Transitions */\\n/* Typography */\\n/* Shadows */\\n/* Fonts */\\n@keyframes skeleton-loading-malsync-366cdbb6 {\\nto {\\n    transform: translateX(100%);\\n}\\n}\\n.description[data-v-366cdbb6] {\\n  position: relative;\\n}\\n.description .open-button[data-v-366cdbb6] {\\n  position: absolute;\\n  bottom: 1px;\\n  left: 50%;\\n  transform: translateX(-50%);\\n  font-weight: 500;\\n}\\n.description .close-button-box[data-v-366cdbb6] {\\n  display: flex;\\n  justify-content: center;\\n  margin-top: var(--size-spacer-half);\\n  font-weight: 500;\\n}\\n.description.close[data-v-366cdbb6] {\\n  overflow: hidden;\\n}\\n.description.close .open-gradient[data-v-366cdbb6] {\\n  max-height: var(--676ec35c);\\n  mask-image: linear-gradient(180deg, #000 60%, transparent);\\n  /* stylelint-disable-next-line property-no-vendor-prefix */\\n  -webkit-mask-image: linear-gradient(180deg, #000 60%, transparent);\\n}\\n.description.loading[data-v-366cdbb6] {\\n  position: relative;\\n  overflow: hidden;\\n  transition: background-color 0.1s ease-in-out;\\n  background-color: var(--cl-backdrop);\\n  width: 100%;\\n  border-radius: 0.25rem;\\n  height: var(--676ec35c);\\n}\\n.description.loading[data-v-366cdbb6]::after {\\n  opacity: var(--cl-loading);\\n  transition: opacity 0.25s ease-in-out;\\n  animation: skeleton-loading-malsync-366cdbb6 1.5s infinite;\\n  content: '';\\n  height: 100%;\\n  left: 0;\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n  transform: translateX(-100%);\\n  z-index: 1;\\n  background: linear-gradient(90deg, hsla(0, 0%, 100%, 0), var(--cl-backdrop), hsla(0, 0%, 100%, 0));\\n  filter: brightness(1.15);\\n}\\n.description.loading.fade[data-v-366cdbb6] {\\n  position: relative;\\n  overflow: hidden;\\n  transition: background-color 0.1s ease-in-out;\\n  background-color: var(--cl-backdrop);\\n  width: 100%;\\n  border-radius: 0.25rem;\\n  mask-image: linear-gradient(180deg, #000 0%, transparent 50%);\\n  /* stylelint-disable-next-line property-no-vendor-prefix */\\n  -webkit-mask-image: linear-gradient(180deg, #000 0%, transparent 50%);\\n}\\n.description.loading.fade[data-v-366cdbb6]::after {\\n  opacity: var(--cl-loading);\\n  transition: opacity 0.25s ease-in-out;\\n  animation: skeleton-loading-malsync-366cdbb6 1.5s infinite;\\n  content: '';\\n  height: 100%;\\n  left: 0;\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n  transform: translateX(-100%);\\n  z-index: 1;\\n  background: linear-gradient(90deg, hsla(0, 0%, 100%, 0), var(--cl-backdrop), hsla(0, 0%, 100%, 0));\\n  filter: brightness(1.15);\\n}\\n.description.dynamic[data-v-366cdbb6] {\\n  height: 100%;\\n  min-height: var(--25985d61);\\n  position: relative;\\n}\\n.description.dynamic.close .open-gradient[data-v-366cdbb6] {\\n  max-height: 100%;\\n  height: 100%;\\n  position: absolute;\\n}\\n\"","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nimport { computed, PropType } from 'vue';\n\nimport VueSlider from 'vue-slider-component/dist-css/vue-slider-component.umd.min';\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'form-slider',\n  props: {\n  options: {\n    type: Array as PropType<{ value: string; title?: string; label?: string }[]>,\n    required: false,\n    default: null,\n  },\n  min: {\n    type: Number,\n    default: null,\n  },\n  max: {\n    type: Number,\n    default: null,\n  },\n  interval: {\n    type: Number,\n    default: 1,\n  },\n  modelValue: {\n    type: [String, Number],\n    require: true,\n    default: '',\n  },\n  color: {\n    type: String as PropType<'default' | 'blue' | 'violet'>,\n    default: 'default',\n  },\n  disabled: {\n    type: Boolean,\n    default: false,\n  },\n},\n  emits: ['update:modelValue'],\n  setup(__props, { emit: __emit }) {\n\nconst props = __props;\n\nconst emit = __emit;\n\nconst picked = computed({\n  get() {\n    return props.modelValue;\n  },\n  set(value) {\n    emit('update:modelValue', value);\n  },\n});\n\nconst optionsComputed = computed(() => {\n  if (!props.options) return undefined;\n  return props.options.map(option => {\n    return {\n      value: option.value.toString(),\n      label: option.label || option.title,\n    };\n  });\n});\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"slider-bar\", __props.color])\n  }, [\n    _createVNode(_unref(VueSlider), {\n      modelValue: picked.value,\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((picked).value = $event)),\n      lazy: true,\n      data: optionsComputed.value,\n      height: 10,\n      \"dot-size\": 16,\n      \"hide-label\": true,\n      min: __props.min,\n      max: __props.max,\n      interval: __props.interval,\n      disabled: __props.disabled,\n      \"data-value\": \"value\",\n      \"data-label\": \"label\"\n    }, null, 8 /* PROPS */, [\"modelValue\", \"data\", \"min\", \"max\", \"interval\", \"disabled\"])\n  ], 2 /* CLASS */))\n}\n}\n\n})","<template>\n  <div class=\"slider-bar\" :class=\"color\">\n    <vue-slider\n      v-model=\"picked\"\n      :lazy=\"true\"\n      :data=\"optionsComputed\"\n      :height=\"10\"\n      :dot-size=\"16\"\n      :hide-label=\"true\"\n      :min=\"min\"\n      :max=\"max\"\n      :interval=\"interval\"\n      :disabled=\"disabled\"\n      data-value=\"value\"\n      data-label=\"label\"\n    />\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, PropType } from 'vue';\n\nimport VueSlider from 'vue-slider-component/dist-css/vue-slider-component.umd.min';\n\nconst props = defineProps({\n  options: {\n    type: Array as PropType<{ value: string; title?: string; label?: string }[]>,\n    required: false,\n    default: null,\n  },\n  min: {\n    type: Number,\n    default: null,\n  },\n  max: {\n    type: Number,\n    default: null,\n  },\n  interval: {\n    type: Number,\n    default: 1,\n  },\n  modelValue: {\n    type: [String, Number],\n    require: true,\n    default: '',\n  },\n  color: {\n    type: String as PropType<'default' | 'blue' | 'violet'>,\n    default: 'default',\n  },\n  disabled: {\n    type: Boolean,\n    default: false,\n  },\n});\n\nconst emit = defineEmits(['update:modelValue']);\n\nconst picked = computed({\n  get() {\n    return props.modelValue;\n  },\n  set(value) {\n    emit('update:modelValue', value);\n  },\n});\n\nconst optionsComputed = computed(() => {\n  if (!props.options) return undefined;\n  return props.options.map(option => {\n    return {\n      value: option.value.toString(),\n      label: option.label || option.title,\n    };\n  });\n});\n</script>\n\n<style lang=\"less\">\n@import '../../less/modules/vue-slider-component.less';\n@import '../../less/_globals.less';\n\n.vue-slider {\n  .vue-slider-rail {\n    background-color: var(--cl-backdrop);\n\n    .vue-slider-process {\n      background-color: var(--slider-body);\n      box-shadow: 0 2px 6px var(--slider-body);\n    }\n  }\n\n  .vue-slider-mark-step {\n    display: none;\n  }\n\n  .vue-slider-dot {\n    transition: opacity @fast-transition;\n\n    .vue-slider-dot-handle {\n      opacity: 0;\n      box-shadow: none;\n      background-color: var(--slider-body);\n      filter: brightness(0.8);\n\n      &.vue-slider-dot-handle-focus {\n        opacity: 1;\n      }\n    }\n  }\n\n  .vue-slider-dot-tooltip {\n    .vue-slider-dot-tooltip-inner {\n      background-color: var(--slider-body);\n      border-color: var(--slider-body);\n    }\n  }\n}\n\n.slider-bar {\n  --slider-body: var(--cl-primary);\n  .link();\n\n  &:hover {\n    .vue-slider-dot-handle {\n      opacity: 1;\n    }\n  }\n\n  .vue-slider-disabled {\n    .vue-slider-dot-handle,\n    .vue-slider-dot-tooltip {\n      opacity: 0;\n    }\n  }\n\n  &.blue {\n    --slider-body: #56ccf2;\n  }\n\n  &.violet {\n    --slider-body: #bb6bd9;\n  }\n}\n</style>\n","import script from \"./form-slider.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./form-slider.vue?vue&type=script&lang=ts&setup=true\"\n\nimport _style_0 from \"./form-slider.vue?vue&type=style&index=0&id=15a69a62&inline&lang=less\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['styles',[_style_0]],['__file',\"form-slider.vue\"]])\n\nexport default __exports__","export default \"/* stylelint-disable property-no-vendor-prefix */\\n.vue-slider-dot {\\n  position: absolute;\\n  -webkit-transition: all 0s;\\n  transition: all 0s;\\n  z-index: 5;\\n}\\n.vue-slider-dot:focus {\\n  outline: none;\\n}\\n.vue-slider-dot-tooltip {\\n  position: absolute;\\n  visibility: hidden;\\n}\\n.vue-slider-dot-hover:hover .vue-slider-dot-tooltip {\\n  visibility: visible;\\n}\\n.vue-slider-dot-tooltip-show {\\n  visibility: visible;\\n}\\n.vue-slider-dot-tooltip-top {\\n  top: -10px;\\n  left: 50%;\\n  -webkit-transform: translate(-50%, -100%);\\n  transform: translate(-50%, -100%);\\n}\\n.vue-slider-dot-tooltip-bottom {\\n  bottom: -10px;\\n  left: 50%;\\n  -webkit-transform: translate(-50%, 100%);\\n  transform: translate(-50%, 100%);\\n}\\n.vue-slider-dot-tooltip-left {\\n  left: -10px;\\n  top: 50%;\\n  -webkit-transform: translate(-100%, -50%);\\n  transform: translate(-100%, -50%);\\n}\\n.vue-slider-dot-tooltip-right {\\n  right: -10px;\\n  top: 50%;\\n  -webkit-transform: translate(100%, -50%);\\n  transform: translate(100%, -50%);\\n}\\n.vue-slider-marks {\\n  position: relative;\\n  width: 100%;\\n  height: 100%;\\n}\\n.vue-slider-mark {\\n  position: absolute;\\n  z-index: 1;\\n}\\n.vue-slider-ltr .vue-slider-mark,\\n.vue-slider-rtl .vue-slider-mark {\\n  width: 0;\\n  height: 100%;\\n  top: 50%;\\n}\\n.vue-slider-ltr .vue-slider-mark-step,\\n.vue-slider-rtl .vue-slider-mark-step {\\n  top: 0;\\n}\\n.vue-slider-ltr .vue-slider-mark-label,\\n.vue-slider-rtl .vue-slider-mark-label {\\n  top: 100%;\\n  margin-top: 10px;\\n}\\n.vue-slider-ltr .vue-slider-mark {\\n  -webkit-transform: translate(-50%, -50%);\\n  transform: translate(-50%, -50%);\\n}\\n.vue-slider-ltr .vue-slider-mark-step {\\n  left: 0;\\n}\\n.vue-slider-ltr .vue-slider-mark-label {\\n  left: 50%;\\n  -webkit-transform: translateX(-50%);\\n  transform: translateX(-50%);\\n}\\n.vue-slider-rtl .vue-slider-mark {\\n  -webkit-transform: translate(50%, -50%);\\n  transform: translate(50%, -50%);\\n}\\n.vue-slider-rtl .vue-slider-mark-step {\\n  right: 0;\\n}\\n.vue-slider-rtl .vue-slider-mark-label {\\n  right: 50%;\\n  -webkit-transform: translateX(50%);\\n  transform: translateX(50%);\\n}\\n.vue-slider-ttb .vue-slider-mark,\\n.vue-slider-btt .vue-slider-mark {\\n  width: 100%;\\n  height: 0;\\n  left: 50%;\\n}\\n.vue-slider-ttb .vue-slider-mark-step,\\n.vue-slider-btt .vue-slider-mark-step {\\n  left: 0;\\n}\\n.vue-slider-ttb .vue-slider-mark-label,\\n.vue-slider-btt .vue-slider-mark-label {\\n  left: 100%;\\n  margin-left: 10px;\\n}\\n.vue-slider-btt .vue-slider-mark {\\n  -webkit-transform: translate(-50%, 50%);\\n  transform: translate(-50%, 50%);\\n}\\n.vue-slider-btt .vue-slider-mark-step {\\n  top: 0;\\n}\\n.vue-slider-btt .vue-slider-mark-label {\\n  top: 50%;\\n  -webkit-transform: translateY(-50%);\\n  transform: translateY(-50%);\\n}\\n.vue-slider-ttb .vue-slider-mark {\\n  -webkit-transform: translate(-50%, -50%);\\n  transform: translate(-50%, -50%);\\n}\\n.vue-slider-ttb .vue-slider-mark-step {\\n  bottom: 0;\\n}\\n.vue-slider-ttb .vue-slider-mark-label {\\n  bottom: 50%;\\n  -webkit-transform: translateY(50%);\\n  transform: translateY(50%);\\n}\\n.vue-slider-mark-step,\\n.vue-slider-mark-label {\\n  position: absolute;\\n}\\n.vue-slider {\\n  position: relative;\\n  -webkit-box-sizing: content-box;\\n  box-sizing: content-box;\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  user-select: none;\\n  display: block;\\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\\n}\\n.vue-slider-rail {\\n  position: relative;\\n  width: 100%;\\n  height: 100%;\\n  -webkit-transition-property: width, height, left, right, top, bottom;\\n  transition-property: width, height, left, right, top, bottom;\\n}\\n.vue-slider-process {\\n  position: absolute;\\n  z-index: 1;\\n}\\n/* component style */\\n.vue-slider-disabled {\\n  opacity: 0.5;\\n  cursor: not-allowed;\\n}\\n/* rail style */\\n.vue-slider-rail {\\n  background-color: #ccc;\\n  border-radius: 15px;\\n}\\n/* process style */\\n.vue-slider-process {\\n  background-color: #3498db;\\n  border-radius: 15px;\\n}\\n/* mark style */\\n.vue-slider-mark {\\n  z-index: 4;\\n}\\n.vue-slider-mark:first-child .vue-slider-mark-step,\\n.vue-slider-mark:last-child .vue-slider-mark-step {\\n  display: none;\\n}\\n.vue-slider-mark-step {\\n  width: 100%;\\n  height: 100%;\\n  border-radius: 50%;\\n  background-color: rgba(0, 0, 0, 0.16);\\n}\\n.vue-slider-mark-label {\\n  font-size: 0.875rem;\\n  white-space: nowrap;\\n}\\n/* dot style */\\n.vue-slider-dot-handle {\\n  cursor: pointer;\\n  width: 100%;\\n  height: 100%;\\n  border-radius: 50%;\\n  background-color: #fff;\\n  box-sizing: border-box;\\n  box-shadow: 0.5px 0.5px 2px 1px rgba(0, 0, 0, 0.32);\\n}\\n.vue-slider-dot-handle-focus {\\n  box-shadow: 0 0 1px 2px rgba(52, 152, 219, 0.36);\\n}\\n.vue-slider-dot-handle-disabled {\\n  cursor: not-allowed;\\n  background-color: #ccc;\\n}\\n.vue-slider-dot-tooltip-inner {\\n  font-size: 0.875rem;\\n  white-space: nowrap;\\n  padding: 2px 5px;\\n  min-width: 20px;\\n  text-align: center;\\n  color: #fff;\\n  border-radius: 5px;\\n  border-color: #3498db;\\n  background-color: #3498db;\\n  box-sizing: content-box;\\n}\\n.vue-slider-dot-tooltip-inner::after {\\n  content: '';\\n  position: absolute;\\n}\\n.vue-slider-dot-tooltip-inner-top::after {\\n  top: 100%;\\n  left: 50%;\\n  transform: translate(-50%, 0);\\n  height: 0;\\n  width: 0;\\n  border-color: transparent;\\n  border-style: solid;\\n  border-width: 5px;\\n  border-top-color: inherit;\\n}\\n.vue-slider-dot-tooltip-inner-bottom::after {\\n  bottom: 100%;\\n  left: 50%;\\n  transform: translate(-50%, 0);\\n  height: 0;\\n  width: 0;\\n  border-color: transparent;\\n  border-style: solid;\\n  border-width: 5px;\\n  border-bottom-color: inherit;\\n}\\n.vue-slider-dot-tooltip-inner-left::after {\\n  left: 100%;\\n  top: 50%;\\n  transform: translate(0, -50%);\\n  height: 0;\\n  width: 0;\\n  border-color: transparent;\\n  border-style: solid;\\n  border-width: 5px;\\n  border-left-color: inherit;\\n}\\n.vue-slider-dot-tooltip-inner-right::after {\\n  right: 100%;\\n  top: 50%;\\n  transform: translate(0, -50%);\\n  height: 0;\\n  width: 0;\\n  border-color: transparent;\\n  border-style: solid;\\n  border-width: 5px;\\n  border-right-color: inherit;\\n}\\n.vue-slider-dot-tooltip-wrapper {\\n  opacity: 0;\\n  transition: all 0.3s;\\n}\\n.vue-slider-dot-tooltip-wrapper-show {\\n  opacity: 1;\\n}\\n/* stylelint-disable prettier/prettier */\\n/* Aspect ratios */\\n/* Transitions */\\n/* Typography */\\n/* Shadows */\\n/* Fonts */\\n@keyframes skeleton-loading-malsync {\\nto {\\n    transform: translateX(100%);\\n}\\n}\\n.vue-slider .vue-slider-rail {\\n  background-color: var(--cl-backdrop);\\n}\\n.vue-slider .vue-slider-rail .vue-slider-process {\\n  background-color: var(--slider-body);\\n  box-shadow: 0 2px 6px var(--slider-body);\\n}\\n.vue-slider .vue-slider-mark-step {\\n  display: none;\\n}\\n.vue-slider .vue-slider-dot {\\n  transition: opacity 0.25s;\\n}\\n.vue-slider .vue-slider-dot .vue-slider-dot-handle {\\n  opacity: 0;\\n  box-shadow: none;\\n  background-color: var(--slider-body);\\n  filter: brightness(0.8);\\n}\\n.vue-slider .vue-slider-dot .vue-slider-dot-handle.vue-slider-dot-handle-focus {\\n  opacity: 1;\\n}\\n.vue-slider .vue-slider-dot-tooltip .vue-slider-dot-tooltip-inner {\\n  background-color: var(--slider-body);\\n  border-color: var(--slider-body);\\n}\\n.slider-bar {\\n  --slider-body: var(--cl-primary);\\n  cursor: pointer;\\n}\\n.slider-bar:hover .vue-slider-dot-handle {\\n  opacity: 1;\\n}\\n.slider-bar .vue-slider-disabled .vue-slider-dot-handle,\\n.slider-bar .vue-slider-disabled .vue-slider-dot-tooltip {\\n  opacity: 0;\\n}\\n.slider-bar.blue {\\n  --slider-body: #56ccf2;\\n}\\n.slider-bar.violet {\\n  --slider-body: #bb6bd9;\\n}\\n\"","import { Cache } from '../utils/Cache';\n\nexport interface Overview {\n  title: string;\n  alternativeTitle: string[];\n  description: string;\n  image: string;\n  imageLarge: string;\n  imageBanner?: string;\n  characters: {\n    img: string;\n    name: string;\n    url: string;\n    subtext?: string;\n  }[];\n  statistics: {\n    title: string;\n    body: string;\n  }[];\n  info: {\n    title: string;\n    body: {\n      text: string;\n      url?: string;\n      subtext?: string;\n    }[];\n  }[];\n  openingSongs: {\n    title: string;\n    author: string;\n    episode: string;\n    url?: string;\n  }[];\n  endingSongs: {\n    title: string;\n    author: string;\n    episode: string;\n    url?: string;\n  }[];\n  related: {\n    type: string;\n    links: {\n      url: string;\n      title: string;\n      type: 'anime' | 'manga';\n      id: number | string;\n      list?: {\n        status: number;\n        score: number;\n        episode: number;\n      };\n    }[];\n  }[];\n  recommendations?: Recommendation[];\n  reviews?: Review[];\n}\n\nexport type Recommendation = {\n  entry: {\n    title: string;\n    url: string;\n    image: string;\n    list?: {\n      status: number;\n      score: number;\n      episode: number;\n    };\n  };\n  stats?: {\n    users: string;\n  };\n  user?: {\n    name: string;\n    href: string;\n  };\n  body?: {\n    text: string;\n    more: {\n      url: string;\n      number: number;\n    };\n  };\n};\n\nexport type Review = {\n  user: {\n    name: string;\n    image: string;\n    href: string;\n  };\n  body: {\n    people: number;\n    date: string;\n    rating: number;\n    text: string;\n  };\n};\n\nexport abstract class MetaOverviewAbstract {\n  constructor(protected url: string) {\n    this.logger = con.m('Meta [O]', 'green');\n    return this;\n  }\n\n  protected abstract readonly type: 'anime' | 'manga';\n\n  private run = false;\n\n  async init() {\n    if (this.run) return this;\n\n    if (await this.getCache().hasValueAndIsNotEmpty()) {\n      this.logger.log('Cached');\n      this.meta = await this.getCache().getValue();\n      this.run = true;\n      await this.fillOverviewState();\n      return this;\n    }\n\n    await this._init();\n    this.run = true;\n    this.getCache().setValue(this.getMeta());\n    await this.fillOverviewState();\n    return this;\n  }\n\n  protected async fillOverviewState() {\n    for (const relation in this.meta.related) {\n      for (const link in this.meta.related[relation].links) {\n        // eslint-disable-next-line no-await-in-loop\n        const dbEntry = await api.request.database('entry', {\n          id: this.meta.related[relation].links[link].id,\n          type: this.meta.related[relation].links[link].type,\n        });\n        if (dbEntry) {\n          this.meta.related[relation].links[link].list = {\n            status: dbEntry.status,\n            score: dbEntry.score,\n            episode: dbEntry.watchedEp,\n          };\n        }\n      }\n    }\n  }\n\n  protected abstract _init();\n\n  protected logger;\n\n  protected meta: Overview = {\n    title: '',\n    alternativeTitle: [],\n    description: '',\n    image: '',\n    imageLarge: '',\n    characters: [],\n    statistics: [],\n    info: [],\n    openingSongs: [],\n    endingSongs: [],\n    related: [],\n  };\n\n  getMeta() {\n    return this.meta;\n  }\n\n  cacheObj: any = undefined;\n\n  getCache() {\n    if (this.cacheObj) return this.cacheObj;\n    this.cacheObj = new Cache(`v3/${this.url}`, 5 * 24 * 60 * 60 * 1000);\n    return this.cacheObj;\n  }\n}\n","import { MetaOverviewAbstract } from '../metaOverviewAbstract';\n\nexport class MetaOverview extends MetaOverviewAbstract {\n  constructor(url) {\n    super(url);\n    this.logger = this.logger.m('Local');\n    this.type = utils.urlPart(url, 3) === 'anime' ? 'anime' : 'manga';\n    return this;\n  }\n\n  protected readonly type;\n\n  async _init() {\n    return this;\n  }\n}\n","import { MetaOverview as temp } from '../MyAnimeList_legacy/metaOverview';\n\nexport const MetaOverview = temp;\n","import { MetaOverviewAbstract } from '../metaOverviewAbstract';\nimport { UrlNotSupportedError } from '../Errors';\n\nexport class MetaOverview extends MetaOverviewAbstract {\n  constructor(url) {\n    super(url);\n    this.logger = this.logger.m('MAL');\n    if (url.match(/myanimelist\\.net\\/(anime|manga)\\/\\d*/i)) {\n      this.type = utils.urlPart(url, 3) === 'anime' ? 'anime' : 'manga';\n      this.malId = Number(utils.urlPart(url, 4));\n      return this;\n    }\n    throw new UrlNotSupportedError(url);\n  }\n\n  protected readonly type;\n\n  private readonly malId: number;\n\n  async _init() {\n    this.logger.log('Retrieve', this.type, `MAL: ${this.malId}`);\n\n    const data = await this.getData();\n    // this.logger.log('Data', data);\n\n    this.title(data);\n    this.description(data);\n    this.image(data);\n    this.alternativeTitle(data);\n    this.characters(data);\n    this.statistics(data);\n    this.info(data);\n    this.openingSongs(data);\n    this.endingSongs(data);\n    this.related(data);\n\n    this.logger.log('Res', this.meta);\n  }\n\n  private async getData() {\n    return api.request\n      .xhr('GET', `https://myanimelist.net/${this.type}/${this.malId}`)\n      .then(response => {\n        return response.responseText;\n      });\n  }\n\n  private title(data) {\n    let title = '';\n    try {\n      title = data\n        .split('itemprop=\"name\">')[1]\n        .split('</')[0]\n        .split('<br')[0]\n        .replace(/&quot;/g, '\"')\n        .replace(/&#039;/g, \"'\");\n    } catch (e) {\n      console.log('[iframeOverview] Error:', e);\n    }\n    this.meta.title = $('<div>').html(j.html(title)).text();\n  }\n\n  private description(data) {\n    let description = '';\n    try {\n      description = data.split('itemprop=\"description\">')[1].split('</p')[0].split('</span')[0];\n    } catch (e) {\n      console.log('[iframeOverview] Error:', e);\n    }\n    this.meta.description = description;\n  }\n\n  private image(data) {\n    let image = '';\n    let imageLarge = '';\n    try {\n      image = data.split('property=\"og:image\"')[1].split('content=\"')[1].split('\"')[0];\n      if (image) {\n        const ending = image.split('.').pop();\n        imageLarge = image.replace(`.${ending}`, `l.${ending}`);\n      }\n    } catch (e) {\n      console.log('[iframeOverview] Error:', e);\n    }\n    this.meta.image = image;\n    this.meta.imageLarge = imageLarge ?? image;\n  }\n\n  private alternativeTitle(data) {\n    let altTitle: any[] = [];\n\n    try {\n      const tempHtml = j.$.parseHTML(\n        `<div>${data.split('<h2>Alternative Titles</h2>')[1].split('<h2>')[0]}</div>`,\n      );\n      altTitle = j\n        .$(tempHtml)\n        .find('.spaceit_pad')\n        .toArray()\n        .map(function (i) {\n          return utils.getBaseText(j.$(i)).trim();\n        });\n    } catch (e) {\n      console.log('[iframeOverview] Error:', e);\n    }\n\n    this.meta.alternativeTitle = altTitle;\n  }\n\n  private characters(data) {\n    const charArray: any[] = [];\n    try {\n      const characterBlock = data.split('detail-characters-list')[1].split('</h2>')[0];\n      const charHtml = j.$.parseHTML(`<div class=\"detail-characters-list ${characterBlock}`);\n\n      j.$.each(j.$(charHtml).find(':not(td) > table'), (index, value) => {\n        const regexDimensions = /\\/r\\/\\d*x\\d*/g;\n        let charImg = j.$(value).find('img').first().attr('data-src');\n        if (charImg && regexDimensions.test(charImg)) {\n          charImg = charImg.replace(regexDimensions, '');\n        } else {\n          charImg = '';\n        }\n\n        charImg = utils.handleMalImages(charImg);\n\n        const charObjLink = j.$(value).find('.borderClass .spaceit_pad').first().parent();\n\n        charArray.push({\n          img: charImg,\n          name: charObjLink.find('a').first().text(),\n          url: charObjLink.find('a').first().attr('href'),\n          subtext: charObjLink.find('.spaceit_pad').first().text().trim(),\n        });\n      });\n    } catch (e) {\n      console.log('[iframeOverview] Error:', e);\n    }\n    this.meta.characters = charArray;\n  }\n\n  private statistics(data) {\n    const stats: any[] = [];\n    try {\n      const statsBlock = data.split('<h2>Statistics</h2>')[1].split('<h2>')[0];\n      // @ts-ignore\n      const tempHtml = j.$.parseHTML(statsBlock);\n\n      j.$.each(j.$(tempHtml).filter('div').slice(0, 5), function (index, value) {\n        const title = j.$(value).find('.dark_text').text();\n        const body =\n          typeof j.$(value).find('span[itemprop=ratingValue]').height() !== 'undefined'\n            ? j.$(value).find('span[itemprop=ratingValue]').text()\n            : j.$(value).clone().children().remove().end().text();\n        stats.push({\n          title,\n          body: body.trim(),\n        });\n      });\n    } catch (e) {\n      console.log('[iframeOverview] Error:', e);\n    }\n    this.meta.statistics = stats;\n  }\n\n  private info(data) {\n    const html: any[] = [];\n    try {\n      const infoBlock = data.split('<h2>Information</h2>')[1].split('<h2>')[0];\n      const infoData = j.$.parseHTML(infoBlock);\n      j.$.each(j.$(infoData).filter('div'), (index, value) => {\n        const title = j.$(value).find('.dark_text').text();\n        j.$(value).find('.dark_text').remove();\n\n        // @ts-ignore\n        const aTags: { text: string; url: string; subtext?: string }[] = j\n          .$(value)\n          .find('a')\n          .map((i, el) => {\n            return {\n              text: j.$(el).text().trim(),\n              url: utils.absoluteLink(j.$(el).attr('href'), 'https://myanimelist.net'),\n            };\n          });\n\n        j.$(value).find('a, span').remove();\n\n        const textTags = j.$(value).text().split(',');\n\n        let body: any[] = [];\n\n        if (!aTags.length) {\n          body = textTags.map(el => {\n            return {\n              text: el,\n            };\n          });\n        } else if (aTags.length === textTags.length) {\n          body = aTags.map((i, el) => {\n            // @ts-ignore\n            el.subtext = textTags[i]\n              .trim()\n              .replace(/(^\\(|\\)$)/gi, '')\n              .trim();\n            return el;\n          });\n        } else {\n          body = aTags;\n        }\n\n        html.push({\n          title: title.trim(),\n          body,\n        });\n      });\n      this.getExternalLinks(html, data);\n    } catch (e) {\n      console.log('[iframeOverview] Error:', e);\n    }\n    this.meta.info = html;\n  }\n\n  getExternalLinks(html, data) {\n    try {\n      const infoBlock = `${data.split('<h2>External Links</h2>')[1].split('</div>')[0]}</div>`;\n      const infoData = j.$.parseHTML(infoBlock);\n\n      const body: any[] = [];\n      j.$.each(j.$(infoData).find('a'), (index, value) => {\n        body.push({\n          text: j.$(value).text(),\n          url: j.$(value).attr('href'),\n        });\n      });\n      if (body.length) {\n        html.push({\n          title: 'External Links',\n          body,\n        });\n      }\n    } catch (e) {\n      console.log('[iframeOverview] Error:', e);\n    }\n  }\n\n  openingSongs(data) {\n    const openingSongs: {\n      title: string;\n      author: string;\n      episode: string;\n      url?: string;\n    }[] = [];\n\n    try {\n      const openingBlock = `<table border${\n        data.split('opnening\">')[1].split('<table border')[1].split('</table>')[0]\n      }</table>`;\n      const openingData = j.$(j.$.parseHTML(openingBlock));\n      if (openingData.find('td').length > 1) {\n        openingData.find('tr').each((_, el) => {\n          let title = $(el).find('.theme-song-title').text().trim();\n\n          if (!title) {\n            title = utils.getBaseText($(el).find('[id^=\"youtube_url_\"]').parent()).trim();\n          }\n\n          let url = $(el).find('[id^=\"youtube_url_\"]').first().attr('value')?.replace('music.', '');\n\n          if (!url) {\n            url = $(el).find('[id^=\"spotify_url_\"]').first().attr('value');\n          }\n\n          openingSongs.push({\n            title: title.replace(/(^\"|\"$)/g, ''),\n            author: $(el).find('.theme-song-artist').text().trim(),\n            episode: $(el)\n              .find('.theme-song-episode')\n              .text()\n              .trim()\n              .replace(/(^\\(|\\)$)/g, ''),\n            url,\n          });\n        });\n      }\n    } catch (e) {\n      console.log('[iframeOverview] Error:', e);\n    }\n\n    this.meta.openingSongs = openingSongs;\n  }\n\n  endingSongs(data) {\n    const endingSongs: {\n      title: string;\n      author: string;\n      episode: string;\n      url?: string;\n    }[] = [];\n\n    try {\n      const endingBlock = `<table border${\n        data.split(' ending\">')[1].split('<table border')[1].split('</table>')[0]\n      }</table>`;\n\n      const endingData = j.$(j.$.parseHTML(endingBlock));\n      if (endingData.find('td').length > 1) {\n        endingData.find('tr').each((_, el) => {\n          let title = $(el).find('.theme-song-title').text().trim();\n\n          if (!title) {\n            title = utils.getBaseText($(el).find('[id^=\"youtube_url_\"]').parent()).trim();\n          }\n\n          let url = $(el).find('[id^=\"youtube_url_\"]').first().attr('value')?.replace('music.', '');\n\n          if (!url) {\n            url = $(el).find('[id^=\"spotify_url_\"]').first().attr('value');\n          }\n\n          endingSongs.push({\n            title: title.replace(/(^\"|\"$)/g, ''),\n            author: $(el).find('.theme-song-artist').text().trim(),\n            episode: $(el)\n              .find('.theme-song-episode')\n              .text()\n              .trim()\n              .replace(/(^\\(|\\)$)/g, ''),\n            url,\n          });\n        });\n      }\n    } catch (e) {\n      console.log('[iframeOverview] Error:', e);\n    }\n\n    this.meta.endingSongs = endingSongs;\n  }\n\n  private related(data) {\n    const el: { type: string; links: any[] }[] = [];\n    try {\n      const relatedBlock = data.split('Related ')[1].split('</h2>')[1].split('<h2>')[0];\n      const related = j.$.parseHTML(relatedBlock);\n\n      j.$.each(\n        j.$(related).filter('.related-entries').find('.entry .content'),\n        function (index, value) {\n          const links: { url: string; title: string; type: string; id: number }[] = [];\n          j.$(value)\n            .find('a')\n            .each(function (indexB, valueB) {\n              const url =\n                utils.absoluteLink(j.$(valueB).attr('href'), 'https://myanimelist.net') || '';\n              if (url) {\n                links.push({\n                  url,\n                  title: j.$(valueB).parent().text(),\n                  type: utils.urlPart(url, 3),\n                  id: Number(utils.urlPart(url, 4)),\n                });\n              }\n            });\n          el.push({\n            type: j\n              .$(value)\n              .find('.relation')\n              .first()\n              .text()\n              .trim()\n              .replace(/\\(.*\\)$/gi, ''),\n            links,\n          });\n        },\n      );\n\n      j.$.each(j.$(related).filter('.related-entries').find('table tr'), function (index, value) {\n        const links: { url: string; title: string; type: string; id: number }[] = [];\n        j.$(value)\n          .find('.borderClass')\n          .last()\n          .find('a')\n          .each(function (indexB, valueB) {\n            const url =\n              utils.absoluteLink(j.$(valueB).attr('href'), 'https://myanimelist.net') || '';\n            if (url) {\n              links.push({\n                url,\n                title: j.$(valueB).parent().text(),\n                type: utils.urlPart(url, 3),\n                id: Number(utils.urlPart(url, 4)),\n              });\n            }\n          });\n        el.push({\n          type: j.$(value).find('.borderClass').first().text(),\n          links,\n        });\n      });\n    } catch (e) {\n      console.log('[iframeOverview] Error:', e);\n    }\n    this.meta.related = el;\n  }\n}\n","/* eslint-disable no-shadow */\nimport { MetaOverviewAbstract } from '../metaOverviewAbstract';\nimport { UrlNotSupportedError } from '../Errors';\nimport * as helper from './helper';\nimport { msDiffToShortTimeString } from '../../utils/time';\n\nenum mediaTypeDefinition {\n  unknown = 'Unknown',\n  tv = 'TV',\n  ova = 'OVA',\n  movie = 'Movie',\n  special = 'Special',\n  ona = 'ONA',\n  music = 'Music',\n  manga = 'Manga',\n  novel = 'Novel',\n  one_shot = 'One shot',\n  doujinshi = 'Doujinshi',\n  manhwa = 'Manhwa',\n  manhua = 'Manhua',\n  oel = 'OEL',\n}\n\nenum airingStatusDefinition {\n  finished_airing = 'Finished Airing',\n  currently_airing = 'Currently Airing',\n  not_yet_aired = 'Not Yet Aired',\n  finished = 'Finished',\n  currently_publishing = 'Currently Publishing',\n  not_yet_published = 'Not Yet Published',\n}\n\nenum sourceDefinition {\n  other = 'Other',\n  original = 'Original',\n  manga = 'Manga',\n  '4_koma_manga' = '4 Koma Manga',\n  web_manga = 'Web Manga',\n  digital_manga = 'Digital Manga',\n  novel = 'Novel',\n  light_novel = 'Light Novel',\n  visual_novel = 'Visual Novel',\n  game = 'Game',\n  card_game = 'Card Game',\n  book = 'Book',\n  picture_book = 'Picture Book',\n  radio = 'Radio',\n  music = 'Music',\n}\n\nenum ratingDefinition {\n  g = 'G - All Ages',\n  pg = 'PG - Children',\n  pg_13 = 'PG 13 - Teens 13 and Older',\n  r = 'R - 17+ (violence & profanity)',\n  'r+' = 'R+ - Profanity & Mild Nudity',\n  rx = 'Rx - Hentai',\n}\n\nexport class MetaOverview extends MetaOverviewAbstract {\n  constructor(url) {\n    super(url);\n    this.logger = this.logger.m('MAL');\n    if (url.match(/myanimelist\\.net\\/(anime|manga)\\/\\d*/i)) {\n      this.type = utils.urlPart(url, 3) === 'anime' ? 'anime' : 'manga';\n      this.malId = Number(utils.urlPart(url, 4));\n      return;\n    }\n    throw new UrlNotSupportedError(url);\n  }\n\n  protected readonly type;\n\n  private readonly malId: number;\n\n  async _init() {\n    this.logger.log('Retrieve', this.type, this.malId);\n\n    const data = await this.getData();\n    this.logger.log('Data', data);\n\n    this.title(data);\n    this.description(data);\n    this.image(data);\n    this.alternativeTitle(data);\n    this.statistics(data);\n    this.info(data);\n    this.related(data);\n\n    this.logger.log('Res', this.meta);\n  }\n\n  private async getData() {\n    return this.apiCall({\n      type: 'GET',\n      path: `${this.type}/${this.malId}`,\n      fields: [\n        'synopsis',\n        'alternative_titles',\n        'mean',\n        'rank',\n        'popularity',\n        'num_list_users',\n        'num_scoring_users',\n        'related_anime',\n        'related_manga',\n        // Info\n        'media_type',\n        'num_episodes',\n        'num_chapters',\n        'num_volumes',\n        'status',\n        'start_date',\n        'end_date',\n        'start_season',\n        'broadcast',\n        'studios',\n        'authors{first_name,last_name}',\n        'source',\n        'genres',\n        'average_episode_duration',\n        'rating',\n        'serialization',\n      ],\n    });\n  }\n\n  private title(data) {\n    this.meta.title = data.title;\n  }\n\n  private description(data) {\n    if (data.synopsis) this.meta.description = data.synopsis;\n  }\n\n  private image(data) {\n    if (data.main_picture && data.main_picture.medium) this.meta.image = data.main_picture.medium;\n    this.meta.imageLarge = data.main_picture?.large || data.main_picture?.medium || '';\n  }\n\n  private alternativeTitle(data) {\n    if (data.alternative_titles) {\n      for (const prop in data.alternative_titles) {\n        const el = data.alternative_titles[prop];\n        if (Array.isArray(el)) {\n          this.meta.alternativeTitle = this.meta.alternativeTitle.concat(el);\n        } else if (el) this.meta.alternativeTitle.push(el);\n      }\n    }\n  }\n\n  private statistics(data) {\n    if (data.mean)\n      this.meta.statistics.push({\n        title: api.storage.lang('overview_sidebar_Score'),\n        body: data.mean,\n      });\n\n    if (data.rank)\n      this.meta.statistics.push({\n        title: api.storage.lang('overview_sidebar_Ranked'),\n        body: `#${data.rank}`,\n      });\n\n    if (data.popularity)\n      this.meta.statistics.push({\n        title: api.storage.lang('overview_sidebar_Popularity'),\n        body: `#${data.popularity}`,\n      });\n\n    if (data.num_list_users)\n      this.meta.statistics.push({\n        title: api.storage.lang('overview_sidebar_Members'),\n        body: data.num_list_users.toLocaleString(),\n      });\n\n    if (data.num_scoring_users)\n      this.meta.statistics.push({\n        title: api.storage.lang('overview_sidebar_Votes'),\n        body: data.num_scoring_users.toLocaleString(),\n      });\n  }\n\n  private info(data) {\n    if (data.media_type) {\n      const format = mediaTypeDefinition[data.media_type];\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Format'),\n        body: [\n          {\n            text: format ?? data.media_type,\n            url: `https://myanimelist.net/top${this.type}.php?type=${data.media_type}`,\n          },\n        ],\n      });\n    }\n\n    if (data.num_episodes) {\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Episodes'),\n        body: [{ text: data.num_episodes }],\n      });\n    } else if (data.num_episodes === 0) {\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Episodes'),\n        body: [{ text: 'Unknown' }],\n      });\n    }\n\n    if (data.num_chapters) {\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Chapters'),\n        body: [{ text: data.num_chapters }],\n      });\n    } else if (data.num_chapters === 0) {\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Chapters'),\n        body: [{ text: 'Unknown' }],\n      });\n    }\n\n    if (data.num_volumes) {\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Volumes'),\n        body: [{ text: data.num_volumes }],\n      });\n    } else if (data.num_volumes === 0) {\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Volumes'),\n        body: [{ text: 'Unknown' }],\n      });\n    }\n\n    if (data.status) {\n      const format = airingStatusDefinition[data.status];\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Status'),\n        body: [{ text: format ?? data.status }],\n      });\n    }\n\n    if (data.start_date) {\n      let format = '';\n      if (data.start_date) format += `${data.start_date} `;\n      format += 'to ';\n      if (data.end_date) {\n        format += data.end_date;\n      } else {\n        format += '?';\n      }\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Aired'),\n        body: [{ text: format }],\n      });\n    }\n\n    if (data.start_season) {\n      let format = '';\n      if (data.start_season.season) format += `${data.start_season.season} `;\n      if (data.start_season.year) format += data.start_season.year;\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Season'),\n        body: [\n          {\n            url: `https://myanimelist.net/${this.type}/season/${data.start_season.year}/${data.start_season.season}`,\n            text: format,\n          },\n        ],\n      });\n    }\n\n    if (data.broadcast) {\n      let format = '';\n      if (data.broadcast.day_of_the_week) format += `${data.broadcast.day_of_the_week} `;\n      if (data.broadcast.day_of_the_week && data.broadcast.start_time) format += 'at ';\n      if (data.broadcast.start_time) format += `${data.broadcast.start_time} (JST)`;\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Broadcast'),\n        body: [{ text: format }],\n      });\n    }\n\n    if (data.studios) {\n      const studios: any[] = [];\n      data.studios.forEach(function (i, index) {\n        studios.push({\n          text: i.name,\n          url: `https://myanimelist.net/anime/producer/${i.id}`,\n        });\n      });\n      if (studios.length)\n        this.meta.info.push({\n          title: api.storage.lang('overview_sidebar_Studios'),\n          body: studios,\n        });\n    }\n\n    if (data.authors) {\n      const authors: any[] = [];\n      data.authors.forEach(function (i, index) {\n        authors.push({\n          text: `${i.node.last_name ?? ''}${i.node.last_name && i.node.first_name ? ',' : ''} ${\n            i.node.first_name ?? ''\n          }`,\n          url: `https://myanimelist.net/people/${i.node.id}`,\n          subtext: i.role || '',\n        });\n      });\n      if (authors.length)\n        this.meta.info.push({\n          title: api.storage.lang('overview_sidebar_Authors'),\n          body: authors,\n        });\n    }\n\n    if (data.source) {\n      const format = sourceDefinition[data.source];\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Source'),\n        body: [{ text: format ?? data.source }],\n      });\n    }\n\n    if (data.genres) {\n      const genres: any[] = [];\n      data.genres.forEach((i, index) => {\n        genres.push({\n          text: i.name,\n          url: `https://myanimelist.net/${this.type}/genre/${i.id}`,\n        });\n      });\n      if (genres.length)\n        this.meta.info.push({\n          title: api.storage.lang('overview_sidebar_Genres'),\n          body: genres,\n        });\n    }\n\n    if (data.average_episode_duration) {\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Duration'),\n        body: [{ text: msDiffToShortTimeString(data.average_episode_duration * 1000) }],\n      });\n    }\n\n    if (data.rating) {\n      const format = ratingDefinition[data.rating];\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Rating'),\n        body: [{ text: format ?? data.rating }],\n      });\n    }\n\n    if (data.serialization) {\n      const serialization: any[] = [];\n      data.serialization.forEach(function (i, index) {\n        serialization.push({\n          text: i.node.name,\n          url: `https://myanimelist.net/manga/magazine/${i.node.id}`,\n        });\n      });\n      if (serialization.length)\n        this.meta.info.push({\n          title: api.storage.lang('overview_sidebar_Serialization'),\n          body: serialization,\n        });\n    }\n  }\n\n  private related(data) {\n    const links: any = {};\n\n    if (data.related_anime.length) {\n      data.related_anime.forEach(el => {\n        if (typeof links[el.relation_type] === 'undefined') {\n          links[el.relation_type] = {\n            type: el.relation_type_formatted,\n            links: [],\n          };\n        }\n\n        links[el.relation_type].links.push({\n          url: `https://myanimelist.net/anime/${el.node.id}`,\n          title: el.node.title,\n          id: el.node.id,\n          type: 'anime',\n        });\n      });\n    }\n\n    if (data.related_manga.length) {\n      data.related_manga.forEach(el => {\n        if (typeof links[el.relation_type] === 'undefined') {\n          links[el.relation_type] = {\n            type: el.relation_type_formatted,\n            links: [],\n          };\n        }\n\n        links[el.relation_type].links.push({\n          url: `https://myanimelist.net/manga/${el.node.id}`,\n          title: el.node.title,\n          id: el.node.id,\n          type: 'manga',\n        });\n      });\n    }\n\n    this.meta.related = Object.keys(links).map(key => links[key]);\n  }\n\n  protected apiCall = helper.apiCall;\n}\n","import { MetaOverviewAbstract, Recommendation, Review } from '../metaOverviewAbstract';\nimport { UrlNotSupportedError } from '../Errors';\nimport * as helper from './helper';\nimport { timestampToShortDate } from '../../utils/time';\n\nexport class MetaOverview extends MetaOverviewAbstract {\n  constructor(url) {\n    super(url);\n    this.logger = this.logger.m('Anilist');\n    if (url.match(/anilist\\.co\\/(anime|manga)\\/\\d*/i)) {\n      this.type = utils.urlPart(url, 3) === 'anime' ? 'anime' : 'manga';\n      this.aniId = Number(utils.urlPart(url, 4));\n      this.malId = NaN;\n      return this;\n    }\n    if (url.match(/myanimelist\\.net\\/(anime|manga)\\/\\d*/i)) {\n      this.type = utils.urlPart(url, 3) === 'anime' ? 'anime' : 'manga';\n      this.malId = Number(utils.urlPart(url, 4));\n      this.aniId = NaN;\n      return this;\n    }\n    throw new UrlNotSupportedError(url);\n  }\n\n  protected readonly type;\n\n  private readonly aniId: number;\n\n  private readonly malId: number;\n\n  async _init() {\n    this.logger.log(\n      'Retrieve',\n      this.type,\n      this.aniId ? `Anilist: ${this.aniId}` : `MAL: ${this.malId}`,\n    );\n\n    const data = await this.getData();\n    this.logger.log('Data', data);\n\n    this.title(data);\n    this.description(data);\n    this.image(data);\n    this.alternativeTitle(data);\n    this.characters(data);\n    this.statistics(data);\n    this.info(data);\n    this.related(data);\n    this.reviews(data);\n    this.recommendations(data);\n\n    this.logger.log('Res', this.meta);\n  }\n\n  private async getData() {\n    let selectId = this.malId;\n    let selectQuery = 'idMal';\n    if (Number.isNaN(this.malId)) {\n      selectId = this.aniId;\n      selectQuery = 'id';\n    }\n\n    const query = `\n    query ($id: Int, $type: MediaType) {\n      Media (${selectQuery}: $id, type: $type) {\n        id\n        idMal\n        siteUrl\n        episodes\n        chapters\n        volumes\n        averageScore\n        synonyms\n        description(asHtml: true)\n        coverImage{\n          large\n          extraLarge\n        }\n        bannerImage\n        title {\n          userPreferred\n          romaji\n          english\n          native\n        }\n        characters (perPage: 8, sort: [ROLE, ID]) {\n            edges {\n                id\n                role\n                node {\n                    id\n                    siteUrl\n                    name {\n                        first\n                        last\n                    }\n                    image {\n                        large\n                    }\n                }\n            }\n        }\n        popularity\n        favourites\n        rankings {\n          id\n          rank\n          type\n          format\n          year\n          season\n          allTime\n          context\n        }\n        relations {\n            edges {\n                id\n                relationType (version: 2)\n                node {\n                    id\n                    type\n                    siteUrl\n                    title {\n                        userPreferred\n                    }\n                }\n            }\n        }\n        format\n        episodes\n        duration\n        status\n        startDate {\n          year\n          month\n          day\n        }\n        endDate {\n          year\n          month\n          day\n        }\n        season\n        studios {\n            edges {\n                isMain\n                node {\n                    siteUrl\n                    id\n                    name\n                }\n            }\n        }\n        reviews {\n            nodes {\n                rating\n                createdAt\n                score\n                body(asHtml: true)\n                user {\n                    name\n                    siteUrl\n                    avatar {\n                      medium\n                    }\n                }\n\n            }\n        }\n        recommendations (sort: [RATING_DESC]) {\n            nodes {\n                rating\n                mediaRecommendation {\n                    title {\n                        userPreferred\n                    }\n                    siteUrl\n                    coverImage {\n                        large\n                    }\n                }\n            }\n        }\n        ${\n          this.type === 'manga'\n            ? `\n        staff {\n            edges {\n                id\n                role\n                node {\n                    siteUrl\n                    name {\n                        userPreferred\n                    }\n                }\n            }\n        }\n          `\n            : ''\n        }\n        source(version: 2)\n        genres\n        externalLinks {\n          site\n          url\n        }\n      }\n    }\n    `;\n    const variables = {\n      id: selectId,\n      type: this.type.toUpperCase(),\n    };\n\n    return this.apiCall(query, variables);\n  }\n\n  private title(data) {\n    const title = data?.data?.Media?.title?.userPreferred;\n    if (title) this.meta.title = title;\n  }\n\n  private description(data) {\n    const description = data?.data?.Media?.description;\n    if (description) this.meta.description = description;\n  }\n\n  private image(data) {\n    const image = helper.imgCheck(data?.data?.Media?.coverImage?.large);\n    if (image) this.meta.image = image;\n    this.meta.imageLarge = helper.imgCheck(data?.data?.Media?.coverImage?.extraLarge) || image;\n    this.meta.imageBanner = helper.imgCheck(data?.data?.Media?.bannerImage);\n  }\n\n  private alternativeTitle(data) {\n    const titles = data?.data?.Media?.title;\n    if (titles) {\n      for (const prop in titles) {\n        const el = data.data.Media.title[prop];\n        if (el) {\n          this.meta.alternativeTitle.push(el);\n        }\n      }\n    }\n  }\n\n  private characters(data) {\n    const chars = data?.data?.Media?.characters?.edges;\n    if (chars) {\n      chars.forEach(i => {\n        let name = '';\n        let role = '';\n        if (i.node.name.last) name += i.node.name.last;\n        if (i.node.name.first && i.node.name.last) {\n          name += ', ';\n        }\n        if (i.node.name.first) name += i.node.name.first;\n        if (i.role) {\n          role = i.role.charAt(0).toUpperCase() + i.role.slice(1).toLowerCase();\n        }\n        this.meta.characters.push({\n          img: helper.imgCheck(i.node.image.large),\n          name,\n          subtext: role,\n          url: i.node.siteUrl,\n        });\n      });\n    }\n  }\n\n  private statistics(data) {\n    if (data.data.Media.averageScore)\n      this.meta.statistics.push({\n        title: api.storage.lang('overview_sidebar_Score'),\n        body: data.data.Media.averageScore,\n      });\n\n    if (data.data.Media.favourites)\n      this.meta.statistics.push({\n        title: api.storage.lang('overview_sidebar_Favorites'),\n        body: data.data.Media.favourites,\n      });\n\n    if (data.data.Media.popularity)\n      this.meta.statistics.push({\n        title: api.storage.lang('overview_sidebar_Popularity'),\n        body: data.data.Media.popularity,\n      });\n\n    data.data.Media.rankings.forEach(i => {\n      if (this.meta.statistics.length < 4 && i.allTime) {\n        let title = `${i.context.replace('all time', '').trim()}:`;\n        title = title.charAt(0).toUpperCase() + title.slice(1);\n\n        if (title === 'Highest rated:') title = api.storage.lang('overview_sidebar_Ranked');\n\n        this.meta.statistics.push({\n          title,\n          body: `#${i.rank}`,\n        });\n      }\n    });\n  }\n\n  private info(data) {\n    if (data.data.Media.format) {\n      let format = data.data.Media.format.toLowerCase().replace('_', ' ');\n      format = format.charAt(0).toUpperCase() + format.slice(1);\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Format'),\n        body: [{ text: format }],\n      });\n    }\n\n    if (data.data.Media.episodes)\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Episodes'),\n        body: [{ text: data.data.Media.episodes }],\n      });\n\n    if (data.data.Media.duration)\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Duration'),\n        body: [{ text: `${data.data.Media.duration} mins` }],\n      });\n\n    if (data.data.Media.status) {\n      let status = data.data.Media.status.toLowerCase().replace('_', ' ');\n      status = status.charAt(0).toUpperCase() + status.slice(1);\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Status'),\n        body: [{ text: status }],\n      });\n    }\n\n    if (data.data.Media.startDate.year)\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Start_Date'),\n        body: [\n          {\n            text: `${data.data.Media.startDate.year}-${data.data.Media.startDate.month}-${data.data.Media.startDate.day}`,\n          },\n        ],\n      });\n\n    if (data.data.Media.endDate.year)\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_End_Date'),\n        body: [\n          {\n            text: `${data.data.Media.endDate.year}-${data.data.Media.endDate.month}-${data.data.Media.endDate.day}`,\n          },\n        ],\n      });\n\n    if (data.data.Media.season) {\n      let season = data.data.Media.season.toLowerCase().replace('_', ' ');\n      season = season.charAt(0).toUpperCase() + season.slice(1);\n      if (data.data.Media.endDate.year) season += ` ${data.data.Media.endDate.year}`;\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Season'),\n        body: [{ text: season }],\n      });\n    }\n\n    const studios: any = [];\n    data.data.Media.studios.edges.forEach(function (i, index) {\n      if (i.isMain) {\n        studios.push({\n          text: i.node.name,\n          url: i.node.siteUrl,\n        });\n      }\n    });\n    if (studios.length)\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Studios'),\n        body: studios,\n      });\n\n    if (data.data.Media.staff && data.data.Media.staff.edges.length) {\n      const authors: any[] = [];\n      data.data.Media.staff.edges\n        .filter(author => {\n          return !['Editing', 'Translator', 'Lettering', 'Touch-up'].find(ignore =>\n            author.role.toLowerCase().includes(ignore.toLowerCase()),\n          );\n        })\n        .forEach(author => {\n          const role = author.role.replace(/(original|design|\\([^)]*\\))/gi, '').trim();\n\n          authors.push({\n            text: author.node.name.userPreferred,\n            url: author.node.siteUrl,\n            subtext: role || '',\n          });\n        });\n      if (authors.length)\n        this.meta.info.push({\n          title: api.storage.lang('overview_sidebar_Authors'),\n          body: authors,\n        });\n    }\n\n    if (data.data.Media.source) {\n      let source = data.data.Media.source.toLowerCase().replace('_', ' ');\n      source = source.charAt(0).toUpperCase() + source.slice(1);\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Source'),\n        body: [{ text: source }],\n      });\n    }\n\n    if (data.data.Media.genres) {\n      const gen: any[] = [];\n      data.data.Media.genres.forEach(function (i, index) {\n        gen.push({\n          text: i,\n          url: `https://anilist.co/search/anime?includedGenres=${i}`,\n        });\n      });\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Genres'),\n        body: gen,\n      });\n    }\n\n    const external: any[] = [];\n    data.data.Media.externalLinks.forEach(function (i, index) {\n      external.push({\n        text: i.site,\n        url: i.url,\n      });\n    });\n    if (external.length)\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_external_links'),\n        body: external,\n      });\n  }\n\n  private related(data) {\n    const links: any = {};\n    data.data.Media.relations.edges.forEach(i => {\n      if (typeof links[i.relationType] === 'undefined') {\n        let title = i.relationType.toLowerCase().replace('_', ' ');\n        title = title.charAt(0).toUpperCase() + title.slice(1);\n\n        links[i.relationType] = {\n          type: title,\n          links: [],\n        };\n      }\n      links[i.relationType].links.push({\n        url: i.node.siteUrl,\n        title: i.node.title.userPreferred,\n        id: i.node.id,\n        type: i.node.type.toLowerCase(),\n      });\n    });\n    this.meta.related = Object.keys(links).map(key => links[key]);\n  }\n\n  private reviews(data) {\n    const reviews: Review[] = [];\n    data.data.Media.reviews.nodes.forEach(i => {\n      reviews.push({\n        body: {\n          people: i.rating,\n          date: timestampToShortDate(i.createdAt * 1000),\n          rating: i.score,\n          text: i.body,\n        },\n        user: {\n          name: i.user.name,\n          image: i.user.avatar.medium,\n          href: i.user.siteUrl,\n        },\n      });\n    });\n    this.meta.reviews = reviews;\n  }\n\n  private recommendations(data) {\n    const recommendations: Recommendation[] = [];\n    data.data.Media.recommendations.nodes.forEach(i => {\n      if (!i.mediaRecommendation) return;\n      recommendations.push({\n        entry: {\n          title: i.mediaRecommendation.title.userPreferred,\n          url: i.mediaRecommendation.siteUrl,\n          image: i.mediaRecommendation.coverImage.large,\n        },\n        stats: {\n          users: i.rating,\n        },\n      });\n    });\n    this.meta.recommendations = recommendations;\n  }\n\n  protected apiCall = helper.apiCall;\n}\n","import { MetaOverviewAbstract } from '../metaOverviewAbstract';\nimport { NotFoundError, UrlNotSupportedError } from '../Errors';\nimport * as helper from './helper';\n\nexport class MetaOverview extends MetaOverviewAbstract {\n  constructor(url) {\n    super(url);\n    this.logger = this.logger.m('Kitsu');\n\n    if (url.match(/kitsu\\.app\\/(anime|manga)\\/.*/i)) {\n      this.type = utils.urlPart(url, 3) === 'anime' ? 'anime' : 'manga';\n      this.kitsuSlug = utils.urlPart(url, 4);\n      this.malId = NaN;\n      return this;\n    }\n    if (url.match(/myanimelist\\.net\\/(anime|manga)\\/\\d*/i)) {\n      this.type = utils.urlPart(url, 3) === 'anime' ? 'anime' : 'manga';\n      this.malId = Number(utils.urlPart(url, 4));\n      this.kitsuSlug = '';\n      return this;\n    }\n    throw new UrlNotSupportedError(url);\n  }\n\n  protected readonly type;\n\n  private kitsuSlug: string;\n\n  private kitsuId = NaN;\n\n  private readonly malId: number;\n\n  private animeInfo: any;\n\n  animeI() {\n    return this.animeInfo.data;\n  }\n\n  async _init() {\n    this.logger.log(\n      'Retrieve',\n      this.type,\n      this.kitsuSlug ? `Kitsu: ${this.kitsuSlug}` : `MAL: ${this.malId}`,\n    );\n\n    await this.getData();\n    this.logger.log('Data', this.animeInfo);\n\n    this.title();\n    this.description();\n    this.image();\n    this.alternativeTitle();\n    this.characters();\n    this.statistics();\n    this.info();\n    this.related();\n\n    this.logger.log('Res', this.meta);\n  }\n\n  private async getData() {\n    if (!this.kitsuSlug) {\n      const kitsuRes = await helper.malToKitsu(this.malId, this.type);\n      try {\n        const relation = kitsuRes.data.find(\n          item => item.relationships.item.data.type === this.type,\n        );\n        if (!relation) throw new NotFoundError(`No entry found for malId ${this.malId}`);\n        this.kitsuId = Number(relation.relationships.item.data.id);\n        kitsuRes.included.forEach(el => {\n          if (Number(el.id) === this.kitsuId) {\n            this.kitsuSlug = el.attributes.slug;\n          }\n        });\n        if (!this.kitsuSlug) throw new NotFoundError(`No slug found for ${this.kitsuId}`);\n      } catch (e) {\n        throw new NotFoundError(e.message);\n      }\n    }\n    return this.apiCall(\n      'GET',\n      `https://kitsu.app/api/edge/${this.type}?filter[slug]=${this.kitsuSlug}&include=characters.character,mediaRelationships.destination,categories&fields[categories]=slug,title&nsfw=true`,\n      {},\n      true,\n    ).then(res => {\n      try {\n        res.data = res.data[0];\n        // eslint-disable-next-line no-unused-expressions\n        res.data.attributes.slug;\n      } catch (e) {\n        throw new NotFoundError(e.message);\n      }\n\n      this.animeInfo = res;\n    });\n  }\n\n  private title() {\n    this.meta.title = helper.getTitle(\n      this.animeI().attributes.titles,\n      this.animeI().attributes.canonicalTitle,\n    );\n  }\n\n  private description() {\n    this.meta.description = `<span style=\"white-space: pre-line;\">${this.animeI().attributes.synopsis.replace(\n      '',\n      ' ',\n    )}</span>`;\n  }\n\n  private image() {\n    this.meta.image =\n      this.animeI().attributes.posterImage && this.animeI().attributes.posterImage.small\n        ? this.animeI().attributes.posterImage.small\n        : '';\n    this.meta.imageLarge =\n      this.animeI().attributes.posterImage && this.animeI().attributes.posterImage.original\n        ? this.animeI().attributes.posterImage.original\n        : '';\n    this.meta.imageBanner =\n      this.animeI().attributes.coverImage && this.animeI().attributes.coverImage.large\n        ? this.animeI().attributes.coverImage.large\n        : '';\n  }\n\n  private alternativeTitle() {\n    for (const prop in this.animeI().attributes.abbreviatedTitles) {\n      const el = this.animeI().attributes.abbreviatedTitles[prop];\n      if (el !== this.meta.title && el) {\n        this.meta.alternativeTitle.push(el);\n      }\n    }\n\n    for (const prop in this.animeI().attributes.titles) {\n      const el = this.animeI().attributes.titles[prop];\n      if (el !== this.meta.title && el) {\n        this.meta.alternativeTitle.push(el);\n      }\n    }\n  }\n\n  private characters() {\n    if (this.animeInfo.included && this.animeInfo.included.length) {\n      this.animeInfo.included.forEach(i => {\n        if (i.type === 'characters' && this.meta.characters.length < 10) {\n          const { name } = i.attributes;\n\n          this.meta.characters.push({\n            img: i.attributes.image !== null ? i.attributes.image.original : '',\n            name,\n            url: `https://myanimelist.net/character/${i.attributes.malId}`,\n          });\n        }\n      });\n    }\n  }\n\n  private statistics() {\n    if (this.animeI().attributes.averageRating !== null)\n      this.meta.statistics.push({\n        title: api.storage.lang('overview_sidebar_Score'),\n        body: this.animeI().attributes.averageRating,\n      });\n\n    if (this.animeI().attributes.ratingRank !== null)\n      this.meta.statistics.push({\n        title: api.storage.lang('overview_sidebar_Ranked'),\n        body: `#${this.animeI().attributes.ratingRank}`,\n      });\n\n    if (this.animeI().attributes.popularityRank !== null)\n      this.meta.statistics.push({\n        title: api.storage.lang('overview_sidebar_Popularity'),\n        body: `#${this.animeI().attributes.popularityRank}`,\n      });\n\n    if (this.animeI().attributes.userCount !== null)\n      this.meta.statistics.push({\n        title: api.storage.lang('overview_sidebar_Members'),\n        body: this.animeI().attributes.userCount,\n      });\n  }\n\n  private info() {\n    if (\n      typeof this.animeI().attributes.subtype !== 'undefined' &&\n      this.animeI().attributes.subtype !== null\n    ) {\n      let format = this.animeI().attributes.subtype.toLowerCase().replace('_', ' ');\n      format = format.charAt(0).toUpperCase() + format.slice(1);\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Format'),\n        body: [{ text: format }],\n      });\n    }\n\n    if (\n      typeof this.animeI().attributes.episodeCount !== 'undefined' &&\n      this.animeI().attributes.episodeCount !== null\n    )\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Episodes'),\n        body: [{ text: this.animeI().attributes.episodeCount }],\n      });\n\n    if (\n      typeof this.animeI().attributes.episodeLength !== 'undefined' &&\n      this.animeI().attributes.episodeLength !== null\n    )\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Duration'),\n        body: [{ text: `${this.animeI().attributes.episodeLength} mins` }],\n      });\n\n    if (\n      typeof this.animeI().attributes.status !== 'undefined' &&\n      this.animeI().attributes.status !== null\n    ) {\n      let status = this.animeI().attributes.status.toLowerCase().replace('_', ' ');\n      status = status.charAt(0).toUpperCase() + status.slice(1);\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Status'),\n        body: [{ text: status }],\n      });\n    }\n\n    if (\n      typeof this.animeI().attributes.startDate !== 'undefined' &&\n      this.animeI().attributes.startDate !== null\n    )\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Start_Date'),\n        body: [{ text: this.animeI().attributes.startDate }],\n      });\n\n    if (\n      typeof this.animeI().attributes.endDate !== 'undefined' &&\n      this.animeI().attributes.endDate !== null\n    )\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_End_Date'),\n        body: [{ text: this.animeI().attributes.endDate }],\n      });\n\n    const genres: any[] = [];\n    if (this.animeInfo.included && this.animeInfo.included.length) {\n      this.animeInfo.included.forEach(i => {\n        if (i.type === 'categories' && genres.length < 6) {\n          genres.push({\n            text: i.attributes.title,\n            url: `https://kitsu.app/${this.type}?categories=${i.attributes.slug}`,\n          });\n        }\n      });\n    }\n    if (genres.length)\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Genres'),\n        body: genres,\n      });\n\n    if (\n      typeof this.animeI().attributes.ageRating !== 'undefined' &&\n      this.animeI().attributes.ageRating !== null\n    )\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Rating'),\n        body: [{ text: this.animeI().attributes.ageRating }],\n      });\n\n    if (\n      typeof this.animeI().attributes.totalLength !== 'undefined' &&\n      this.animeI().attributes.totalLength !== null\n    )\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Total_Playtime'),\n        body: [{ text: `${this.animeI().attributes.totalLength} mins` }],\n      });\n  }\n\n  private related() {\n    const links: any = {};\n    const an: any[] = [];\n    if (this.animeInfo.included && this.animeInfo.included.length) {\n      this.animeInfo.included.forEach(function (i) {\n        if (i.type === 'manga' || i.type === 'anime') {\n          an[i.id] = {\n            url: `https://kitsu.app/${i.type}/${i.attributes.slug}`,\n            title: helper.getTitle(i.attributes.titles, i.attributes.canonicalTitle),\n            id: i.id,\n            type: i.type,\n          };\n        }\n      });\n\n      this.animeInfo.included.forEach(function (i) {\n        if (i.type === 'mediaRelationships') {\n          if (typeof links[i.attributes.role] === 'undefined') {\n            let title = i.attributes.role.toLowerCase().replace('_', ' ');\n            title = title.charAt(0).toUpperCase() + title.slice(1);\n\n            links[i.attributes.role] = {\n              type: title,\n              links: [],\n            };\n          }\n          const tempEl = an[i.relationships.destination.data.id];\n          links[i.attributes.role].links.push(tempEl);\n        }\n      });\n    }\n    this.meta.related = Object.keys(links).map(key => links[key]);\n  }\n\n  protected apiCall = helper.apiCall;\n}\n","import { MetaOverviewAbstract } from '../metaOverviewAbstract';\nimport { NotFoundError, UrlNotSupportedError } from '../Errors';\nimport * as helper from './helper';\n\nexport class MetaOverview extends MetaOverviewAbstract {\n  constructor(url) {\n    super(url);\n    this.logger = this.logger.m('Simkl');\n\n    if (url.match(/simkl\\.com\\/(anime|manga)\\/\\d*/i)) {\n      this.type = utils.urlPart(url, 3) === 'anime' ? 'anime' : 'manga';\n      this.simklId = parseInt(utils.urlPart(url, 4));\n      this.malId = NaN;\n      if (this.type === 'manga') throw 'Simkl has no manga support';\n      return this;\n    }\n    if (url.match(/myanimelist\\.net\\/(anime|manga)\\/\\d*/i)) {\n      this.type = utils.urlPart(url, 3) === 'anime' ? 'anime' : 'manga';\n      this.malId = Number(utils.urlPart(url, 4));\n      this.simklId = NaN;\n      if (this.type === 'manga') throw 'Simkl has no manga support';\n      return this;\n    }\n\n    throw new UrlNotSupportedError(url);\n  }\n\n  protected readonly type;\n\n  private simklId: number;\n\n  private readonly malId: number;\n\n  async _init() {\n    this.logger.log(\n      'Retrieve',\n      this.type,\n      this.simklId ? `Simkl: ${this.simklId}` : `MAL: ${this.malId}`,\n    );\n\n    const data = await this.getData();\n    this.logger.log('Data', data);\n\n    this.title(data);\n    this.description(data);\n    this.image(data);\n    this.alternativeTitle(data);\n    // this.characters(data);\n    this.statistics(data);\n    this.info(data);\n    this.related(data);\n\n    this.logger.log('Res', this.meta);\n  }\n\n  private async getData() {\n    let de;\n    if (Number.isNaN(this.malId)) {\n      de = { simkl: this.simklId };\n    } else {\n      de = { mal: this.malId };\n    }\n\n    if (Number.isNaN(this.simklId)) {\n      const el = await this.call('https://api.simkl.com/search/id', de, true);\n      if (!el) throw new NotFoundError(`simklId: ${this.simklId}`);\n      this.simklId = el[0].ids.simkl;\n    }\n\n    return this.call(`https://api.simkl.com/anime/${this.simklId}`, { extended: 'full' }, true);\n  }\n\n  private title(data) {\n    const { title } = data;\n    if (title) this.meta.title = title;\n  }\n\n  private description(data) {\n    const description = data.overview;\n    if (description) this.meta.description = description;\n  }\n\n  private image(data) {\n    const image = data.poster;\n    if (image) this.meta.image = `https://simkl.in/posters/${image}_ca.jpg`;\n    if (image) this.meta.imageLarge = `https://simkl.in/posters/${image}_m.jpg`;\n    if (image) this.meta.imageBanner = `https://simkl.in/posters/${image}_w.jpg`;\n  }\n\n  private alternativeTitle(data) {\n    if (typeof data.en_title !== 'undefined' && data.en_title)\n      this.meta.alternativeTitle.push(data.en_title);\n  }\n\n  private statistics(data) {\n    if (data.ratings.simkl.rating)\n      this.meta.statistics.push({\n        title: api.storage.lang('overview_sidebar_Score'),\n        body: data.ratings.simkl.rating,\n      });\n    if (data.ratings.mal && data.ratings.mal.rating)\n      this.meta.statistics.push({\n        title: api.storage.lang('overview_sidebar_Mal_Score'),\n        body: data.ratings.mal.rating,\n      });\n\n    if (data.rank && data.rank)\n      this.meta.statistics.push({\n        title: api.storage.lang('overview_sidebar_Ranked'),\n        body: `#${data.rank}`,\n      });\n    if (data.ratings.simkl.votes)\n      this.meta.statistics.push({\n        title: api.storage.lang('overview_sidebar_Votes'),\n        body: data.ratings.simkl.votes,\n      });\n  }\n\n  private info(data) {\n    if (data.anime_type && data.anime_type)\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Format'),\n        body: [{ text: data.anime_type }],\n      });\n\n    if (data.total_episodes && data.total_episodes)\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Episodes'),\n        body: [{ text: data.total_episodes }],\n      });\n\n    if (data.status && data.status)\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Status'),\n        body: [{ text: data.status }],\n      });\n\n    if (data.year && data.year)\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Season'),\n        body: [{ text: data.year }],\n      });\n\n    if (data.airs && data.airs)\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Broadcast'),\n        body: [{ text: `${data.airs.day} at ${data.airs.time}` }],\n      });\n\n    if (data.network && data.network)\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Licensor'),\n        body: [{ text: data.network }],\n      });\n\n    const genres: any[] = [];\n    data.genres.forEach(i => {\n      if (genres.length < 6) {\n        genres.push({\n          text: i,\n          url: `https://simkl.com/${this.type}/${i.toLowerCase()}`,\n        });\n      }\n    });\n    if (genres.length)\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Genres'),\n        body: genres,\n      });\n\n    if (data.runtime && data.runtime)\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Duration'),\n        body: [{ text: `${data.runtime}mins` }],\n      });\n\n    if (data.certification && data.certification)\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Rating'),\n        body: [{ text: data.certification }],\n      });\n  }\n\n  private related(data) {\n    const links: any = {};\n    if (!data.relations) return;\n    data.relations.forEach(i => {\n      if (!links[i.relation_type]) {\n        let title = i.relation_type.toLowerCase().replace('_', ' ');\n        title = title.charAt(0).toUpperCase() + title.slice(1);\n\n        links[i.relation_type] = {\n          type: title,\n          links: [],\n        };\n      }\n      links[i.relation_type].links.push({\n        url: `https://simkl.com/anime/${i.ids.simkl}/${i.ids.slug}`,\n        title: i.title,\n        type: 'anime',\n        id: i.ids.simkl,\n      });\n    });\n    this.meta.related = Object.keys(links).map(key => links[key]);\n  }\n\n  protected call = helper.call;\n\n  protected errorHandling = helper.errorHandling;\n}\n","import { MetaOverviewAbstract } from '../metaOverviewAbstract';\nimport { UrlNotSupportedError } from '../Errors';\nimport * as helper from './helper';\n\nexport class MetaOverview extends MetaOverviewAbstract {\n  constructor(url) {\n    super(url);\n    this.logger = this.logger.m('Shiki');\n    if (url.match(/shikimori\\.one\\/(animes|mangas)\\/\\D?\\d+/i)) {\n      this.type = utils.urlPart(url, 3) === 'animes' ? 'anime' : 'manga';\n      const res = utils.urlPart(url, 4).match(/^\\D?(\\d+)/);\n      if (res && res[1]) {\n        this.malId = Number(res[1]);\n        return this;\n      }\n    }\n    if (url.match(/myanimelist\\.net\\/(anime|manga)\\/\\d*/i)) {\n      this.type = utils.urlPart(url, 3) === 'anime' ? 'anime' : 'manga';\n      this.malId = Number(utils.urlPart(url, 4));\n      return this;\n    }\n    throw new UrlNotSupportedError(url);\n  }\n\n  protected readonly type;\n\n  private readonly malId: number;\n\n  async _init() {\n    this.logger.log('Retrieve', this.type, this.malId);\n\n    const data = await this.getData();\n    this.logger.log('Data', data);\n\n    this.title(data);\n    this.description(data);\n    this.image(data);\n    this.alternativeTitle(data);\n    this.characters(data);\n    this.statistics(data);\n    this.info(data);\n    this.related(data);\n\n    this.logger.log('Res', this.meta);\n  }\n\n  private async getData() {\n    const meta = await helper.apiCall({\n      path: `${this.type}s/${this.malId}`,\n      type: 'GET',\n    });\n\n    const roles = await helper.apiCall({\n      path: `${this.type}s/${this.malId}/roles`,\n      type: 'GET',\n    });\n\n    const related = await helper.apiCall({\n      path: `${this.type}s/${this.malId}/related`,\n      type: 'GET',\n    });\n\n    return {\n      meta,\n      roles,\n      related,\n    };\n  }\n\n  private title(data) {\n    this.meta.title = helper.title(data.meta.russian, data.meta.name, true);\n  }\n\n  private description(data) {\n    if (data.meta.description_html) this.meta.description = data.meta.description_html;\n  }\n\n  private image(data) {\n    this.meta.image = data.meta.image.original ? `${helper.domain}${data.meta.image.original}` : '';\n    this.meta.imageLarge = this.meta.image;\n  }\n\n  private alternativeTitle(data) {\n    this.meta.alternativeTitle = [\n      ...(data.meta.english || []),\n      ...(data.meta.japanese || []),\n      ...(data.meta.synonyms || []),\n    ].filter(el => el);\n  }\n\n  private characters(data) {\n    const chars = data.roles;\n    if (chars) {\n      chars.forEach(i => {\n        if (i.character && i.character.id) {\n          this.meta.characters.push({\n            img: i.character.image.original ? `${helper.domain}${i.character.image.original}` : '',\n            name: helper.title(i.character.russian, i.character.name),\n            subtext: helper.title(\n              i.roles_russian.length ? i.roles_russian[0] : null,\n              i.roles.length ? i.roles[0] : null,\n            ),\n            url: helper.domain + i.character.url,\n          });\n        }\n\n        this.meta.characters.sort((a, b) => {\n          const roles = ['Main', 'Supporting'];\n          const aRole = a.subtext ? roles.indexOf(a.subtext) : 2;\n          const bRole = b.subtext ? roles.indexOf(b.subtext) : 2;\n          return aRole - bRole;\n        });\n\n        this.meta.characters = this.meta.characters.slice(0, 10);\n      });\n    }\n  }\n\n  private statistics(data) {\n    if (data.meta.score && Number(data.meta.score))\n      this.meta.statistics.push({\n        title: api.storage.lang('overview_sidebar_Score'),\n        body: data.meta.score,\n      });\n\n    if (data.meta.rates_statuses_stats) {\n      const wat = data.meta.rates_statuses_stats.find(el => el.name === 'Watching');\n\n      if (wat && wat.value) {\n        this.meta.statistics.push({\n          title: 'Watching:',\n          body: wat.value,\n        });\n      }\n\n      const red = data.meta.rates_statuses_stats.find(el => el.name === 'Reading');\n\n      if (red && red.value) {\n        this.meta.statistics.push({\n          title: 'Reading:',\n          body: red.value,\n        });\n      }\n\n      const com = data.meta.rates_statuses_stats.find(el => el.name === 'Completed');\n\n      if (com && com.value) {\n        this.meta.statistics.push({\n          title: 'Completed:',\n          body: com.value,\n        });\n      }\n    }\n  }\n\n  private info(data) {\n    if (data.meta.kind)\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Format'),\n        body: [{ text: utils.upperCaseFirstLetter(data.meta.kind) }],\n      });\n\n    if (data.meta.duration)\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Duration'),\n        body: [{ text: `${data.meta.duration} mins` }],\n      });\n\n    if (data.meta.status)\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Status'),\n        body: [{ text: utils.upperCaseFirstLetter(data.meta.status) }],\n      });\n\n    if (data.meta.aired_on)\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Start_Date'),\n        body: [{ text: data.meta.aired_on }],\n      });\n\n    if (this.type === 'manga' && data.roles && data.roles.length) {\n      const authors: any = [];\n      data.roles.forEach(i => {\n        if (i.person && i.person.id) {\n          let text = helper.title(i.person.russian, i.person.name);\n          if (i.roles && i.roles.length) text += ` (${i.roles[0]})`;\n\n          authors.push({\n            text,\n            url: helper.domain + i.person.url,\n          });\n        }\n      });\n\n      if (authors.length)\n        this.meta.info.push({\n          title: 'Authors:',\n          body: authors,\n        });\n    }\n\n    if (data.meta.studios && data.meta.studios.length) {\n      const studios: any = [];\n      data.meta.studios.forEach(i => {\n        studios.push({\n          text: i.name,\n          url: `https://shikimori.one/animes/studio/${i.id}`,\n        });\n      });\n\n      if (studios.length)\n        this.meta.info.push({\n          title: api.storage.lang('overview_sidebar_Studios'),\n          body: studios,\n        });\n    }\n\n    const genres: any = [];\n    data.meta.genres.forEach(i => {\n      genres.push({\n        text: i.name,\n        url: `https://shikimori.one/${this.type}s/genre/${i.id}`,\n      });\n    });\n    if (genres.length)\n      this.meta.info.push({\n        title: api.storage.lang('overview_sidebar_Genres'),\n        body: genres,\n      });\n  }\n\n  private related(data) {\n    const links: any = {};\n\n    data.related.forEach(element => {\n      if (!links[element.relation]) {\n        links[element.relation] = {\n          type: helper.title(element.relation_russian, element.relation),\n          links: [],\n        };\n      }\n\n      let meta = element.manga;\n      let type = 'manga';\n      if (element.anime && element.anime.id) {\n        meta = element.anime;\n        type = 'anime';\n      }\n\n      links[element.relation].links.push({\n        url: `${helper.domain}${meta.url}`,\n        title: helper.title(meta.russian, meta.name),\n        type,\n        id: meta.id,\n      });\n    });\n\n    this.meta.related = Object.values(links);\n  }\n\n  protected apiCall = helper.apiCall;\n}\n","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderSlot as _renderSlot, withModifiers as _withModifiers, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, Transition as _Transition, withCtx as _withCtx, createVNode as _createVNode, resolveDynamicComponent as _resolveDynamicComponent, createBlock as _createBlock } from \"vue\"\n\nimport {\n  Teleport as teleport_,\n  type TeleportProps,\n  type VNodeProps,\n  ref,\n  watch,\n  inject,\n} from 'vue';\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'modal',\n  props: {\n  modelValue: {\n    type: Boolean,\n    default: false,\n  },\n},\n  emits: ['update:modelValue'],\n  setup(__props, { emit: __emit }) {\n\nconst rootHtml = inject('rootHtml') as HTMLElement;\n\nconst props = __props;\n\nconst emit = __emit;\n\nconst state = ref(props.modelValue);\nwatch(state, value => {\n  emit('update:modelValue', value);\n});\n\nwatch(\n  () => props.modelValue,\n  value => {\n    state.value = value;\n  },\n);\n\n// https://github.com/vuejs/core/issues/2855\nconst Teleport = teleport_ as {\n  new (): {\n    $props: VNodeProps & TeleportProps;\n  };\n};\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(_resolveDynamicComponent(_unref(Teleport)), { to: _unref(rootHtml) }, {\n    default: _withCtx(() => [\n      _createVNode(_Transition, {\n        name: \"fade-shrink-in\",\n        appear: \"\"\n      }, {\n        default: _withCtx(() => [\n          (state.value)\n            ? (_openBlock(), _createElementBlock(\"div\", {\n                key: 0,\n                class: \"modal\",\n                onClick: _cache[1] || (_cache[1] = ($event: any) => (state.value = false))\n              }, [\n                _createElementVNode(\"div\", {\n                  class: \"content\",\n                  onClick: _cache[0] || (_cache[0] = _withModifiers(() => {}, [\"stop\"]))\n                }, [\n                  _renderSlot(_ctx.$slots, \"default\")\n                ])\n              ]))\n            : _createCommentVNode(\"v-if\", true)\n        ]),\n        _: 3 /* FORWARDED */\n      })\n    ]),\n    _: 3 /* FORWARDED */\n  }, 8 /* PROPS */, [\"to\"]))\n}\n}\n\n})","<template>\n  <component :is=\"Teleport\" :to=\"rootHtml\">\n    <transition name=\"fade-shrink-in\" appear>\n      <div v-if=\"state\" class=\"modal\" @click=\"state = false\">\n        <div class=\"content\" @click.stop>\n          <slot></slot>\n        </div>\n      </div>\n    </transition>\n  </component>\n</template>\n\n<script lang=\"ts\" setup>\nimport {\n  Teleport as teleport_,\n  type TeleportProps,\n  type VNodeProps,\n  ref,\n  watch,\n  inject,\n} from 'vue';\n\nconst rootHtml = inject('rootHtml') as HTMLElement;\n\nconst props = defineProps({\n  modelValue: {\n    type: Boolean,\n    default: false,\n  },\n});\n\nconst emit = defineEmits(['update:modelValue']);\n\nconst state = ref(props.modelValue);\nwatch(state, value => {\n  emit('update:modelValue', value);\n});\n\nwatch(\n  () => props.modelValue,\n  value => {\n    state.value = value;\n  },\n);\n\n// https://github.com/vuejs/core/issues/2855\nconst Teleport = teleport_ as {\n  new (): {\n    $props: VNodeProps & TeleportProps;\n  };\n};\n</script>\n\n<style lang=\"less\" scoped>\n.modal {\n  z-index: 20;\n  background-color: rgb(0 0 0 / 45.9%);\n  position: fixed;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  .content {\n    display: inline-block;\n    background-color: var(--cl-white);\n    max-width: min(95%, 800px);\n    max-height: 90%;\n    overflow: auto;\n  }\n}\n</style>\n","import script from \"./modal.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./modal.vue?vue&type=script&lang=ts&setup=true\"\n\nimport _style_0 from \"./modal.vue?vue&type=style&index=0&id=6be48f99&inline&lang=less&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['styles',[_style_0]],['__scopeId',\"data-v-6be48f99\"],['__file',\"modal.vue\"]])\n\nexport default __exports__","export default \".modal[data-v-6be48f99] {\\n  z-index: 20;\\n  background-color: rgba(0, 0, 0, 0.459);\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  bottom: 0;\\n  right: 0;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\n.modal .content[data-v-6be48f99] {\\n  display: inline-block;\\n  background-color: var(--cl-white);\\n  max-width: min(95%, 800px);\\n  max-height: 90%;\\n  overflow: auto;\\n}\\n\"","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, withCtx as _withCtx, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withModifiers as _withModifiers, createBlock as _createBlock, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = (n: any) => (_pushScopeId(\"data-v-fe0403ea\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 0,\n  class: \"progress\"\n}\nconst _hoisted_2 = [\"src\"]\nconst _hoisted_3 = [\"src\"]\n\nimport { computed, PropType, ref } from 'vue';\nimport { SingleAbstract } from '../../../_provider/singleAbstract';\nimport ImageFit from '../image-fit.vue';\nimport Modal from '../modal.vue';\nimport PillSplit from '../pill-split.vue';\nimport MediaLink from '../media-link.vue';\nimport MediaPillProgress from '../media/media-pill-progress.vue';\nimport Arrow from '../arrow.vue';\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'overview-image',\n  props: {\n  src: {\n    type: String,\n    required: true,\n  },\n  single: {\n    type: Object as PropType<SingleAbstract | null>,\n    default: null,\n  },\n  loading: {\n    type: Boolean,\n    default: false,\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\nconst imgModal = ref(false);\n\nconst streaming = computed(() => {\n  const streamingEl = {\n    url: '',\n    favicon: '',\n    continueUrl: '',\n  };\n\n  if (!props.single) return streamingEl;\n\n  const overview = props.single.getStreamingUrl() || '';\n  const resumeUrlObj = props.single.getResumeWatching();\n  const continueUrlObj = props.single.getContinueWatching();\n  const ep = props.single.getEpisode();\n\n  streamingEl.url = overview;\n\n  if (continueUrlObj && continueUrlObj.ep === ep + 1) {\n    streamingEl.continueUrl = continueUrlObj.url;\n  } else if (resumeUrlObj && resumeUrlObj.ep === ep) {\n    streamingEl.continueUrl = resumeUrlObj.url;\n  } else if (overview) {\n    streamingEl.continueUrl = overview;\n  }\n\n  if (streamingEl.url) {\n    streamingEl.favicon = utils.favicon(streamingEl.url.split('/')[2]);\n  }\n\n  return streamingEl;\n});\n\nconst progress = computed(() => {\n  if (!props.single) return false;\n  const progressEl = props.single.getProgress();\n  if (!progressEl) return false;\n  if (!progressEl.isAiring()) return false;\n  return progressEl;\n});\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"overviewImage\", { hov: __props.src, notLoading: !__props.loading }]),\n    onClick: _cache[2] || (_cache[2] = ($event: any) => (imgModal.value = true))\n  }, [\n    _createVNode(ImageFit, {\n      class: \"over\",\n      src: __props.src,\n      loading: __props.loading\n    }, null, 8 /* PROPS */, [\"src\", \"loading\"]),\n    (progress.value)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n          _createVNode(MediaPillProgress, { progress: progress.value }, null, 8 /* PROPS */, [\"progress\"])\n        ]))\n      : _createCommentVNode(\"v-if\", true),\n    (streaming.value.url)\n      ? (_openBlock(), _createElementBlock(\"div\", {\n          key: 1,\n          class: \"streaming\",\n          onClick: _cache[0] || (_cache[0] = _withModifiers(() => {}, [\"stop\"]))\n        }, [\n          _createVNode(PillSplit, {\n            right: Boolean(streaming.value.url),\n            left: Boolean(streaming.value.url),\n            reverse: true,\n            color: \"secondary\"\n          }, {\n            right: _withCtx(() => [\n              _createVNode(MediaLink, {\n                href: streaming.value.url,\n                class: \"stream-link\"\n              }, {\n                default: _withCtx(() => [\n                  _createElementVNode(\"img\", {\n                    class: \"img-icons\",\n                    src: streaming.value.favicon\n                  }, null, 8 /* PROPS */, _hoisted_2)\n                ]),\n                _: 1 /* STABLE */\n              }, 8 /* PROPS */, [\"href\"])\n            ]),\n            left: _withCtx(() => [\n              _createVNode(MediaLink, {\n                href: streaming.value.continueUrl\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(_toDisplayString(_ctx.lang(`overview_Continue_${__props.single?.getType()}`)) + \" \", 1 /* TEXT */),\n                  _createVNode(Arrow)\n                ]),\n                _: 1 /* STABLE */\n              }, 8 /* PROPS */, [\"href\"])\n            ]),\n            _: 1 /* STABLE */\n          }, 8 /* PROPS */, [\"right\", \"left\"])\n        ]))\n      : _createCommentVNode(\"v-if\", true),\n    (__props.src)\n      ? (_openBlock(), _createBlock(Modal, {\n          key: 2,\n          modelValue: imgModal.value,\n          \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((imgModal).value = $event))\n        }, {\n          default: _withCtx(() => [\n            _createElementVNode(\"img\", {\n              src: __props.src,\n              class: \"modal-image\"\n            }, null, 8 /* PROPS */, _hoisted_3)\n          ]),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"modelValue\"]))\n      : _createCommentVNode(\"v-if\", true)\n  ], 2 /* CLASS */))\n}\n}\n\n})","<template>\n  <div class=\"overviewImage\" :class=\"{ hov: src, notLoading: !loading }\" @click=\"imgModal = true\">\n    <ImageFit class=\"over\" :src=\"src\" :loading=\"loading\" />\n    <div v-if=\"progress\" class=\"progress\">\n      <MediaPillProgress :progress=\"progress\" />\n    </div>\n    <div v-if=\"streaming.url\" class=\"streaming\" @click.stop>\n      <PillSplit\n        :right=\"Boolean(streaming.url)\"\n        :left=\"Boolean(streaming.url)\"\n        :reverse=\"true\"\n        color=\"secondary\"\n      >\n        <template #right>\n          <MediaLink :href=\"streaming.url\" class=\"stream-link\">\n            <img class=\"img-icons\" :src=\"streaming.favicon\" />\n          </MediaLink>\n        </template>\n        <template #left>\n          <MediaLink :href=\"streaming.continueUrl\">\n            {{ lang(`overview_Continue_${single?.getType()}`) }} <Arrow />\n          </MediaLink>\n        </template>\n      </PillSplit>\n    </div>\n    <Modal v-if=\"src\" v-model=\"imgModal\">\n      <img :src=\"src\" class=\"modal-image\" />\n    </Modal>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, PropType, ref } from 'vue';\nimport { SingleAbstract } from '../../../_provider/singleAbstract';\nimport ImageFit from '../image-fit.vue';\nimport Modal from '../modal.vue';\nimport PillSplit from '../pill-split.vue';\nimport MediaLink from '../media-link.vue';\nimport MediaPillProgress from '../media/media-pill-progress.vue';\nimport Arrow from '../arrow.vue';\n\nconst props = defineProps({\n  src: {\n    type: String,\n    required: true,\n  },\n  single: {\n    type: Object as PropType<SingleAbstract | null>,\n    default: null,\n  },\n  loading: {\n    type: Boolean,\n    default: false,\n  },\n});\n\nconst imgModal = ref(false);\n\nconst streaming = computed(() => {\n  const streamingEl = {\n    url: '',\n    favicon: '',\n    continueUrl: '',\n  };\n\n  if (!props.single) return streamingEl;\n\n  const overview = props.single.getStreamingUrl() || '';\n  const resumeUrlObj = props.single.getResumeWatching();\n  const continueUrlObj = props.single.getContinueWatching();\n  const ep = props.single.getEpisode();\n\n  streamingEl.url = overview;\n\n  if (continueUrlObj && continueUrlObj.ep === ep + 1) {\n    streamingEl.continueUrl = continueUrlObj.url;\n  } else if (resumeUrlObj && resumeUrlObj.ep === ep) {\n    streamingEl.continueUrl = resumeUrlObj.url;\n  } else if (overview) {\n    streamingEl.continueUrl = overview;\n  }\n\n  if (streamingEl.url) {\n    streamingEl.favicon = utils.favicon(streamingEl.url.split('/')[2]);\n  }\n\n  return streamingEl;\n});\n\nconst progress = computed(() => {\n  if (!props.single) return false;\n  const progressEl = props.single.getProgress();\n  if (!progressEl) return false;\n  if (!progressEl.isAiring()) return false;\n  return progressEl;\n});\n</script>\n\n<style lang=\"less\" scoped>\n@import '../../less/_globals.less';\n.overviewImage {\n  .border-radius();\n\n  overflow: hidden;\n  position: relative;\n  .over {\n    .fullSize();\n  }\n\n  &.hov {\n    .click-move-down();\n    .link();\n  }\n\n  &.notLoading {\n    .box-shadow();\n  }\n\n  height: 200px;\n  .__breakpoint-desktop__({\n    height: auto;\n    aspect-ratio: @aspect-ratio-cover;\n  });\n}\n\n.modal-image {\n  max-width: 100%;\n  max-height: 85vh;\n}\n\n.streaming {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  margin: 10px;\n  border-radius: 30px;\n  .block-select();\n\n  .pill {\n    user-select: none;\n  }\n\n  .img-icons {\n    width: 18px;\n    height: 18px;\n  }\n\n  .stream-link {\n    display: flex;\n  }\n}\n.progress {\n  position: absolute;\n  top: 0;\n  right: 0;\n  margin: 10px;\n}\n</style>\n","import script from \"./overview-image.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./overview-image.vue?vue&type=script&lang=ts&setup=true\"\n\nimport _style_0 from \"./overview-image.vue?vue&type=style&index=0&id=fe0403ea&inline&lang=less&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['styles',[_style_0]],['__scopeId',\"data-v-fe0403ea\"],['__file',\"overview-image.vue\"]])\n\nexport default __exports__","export default \"/* stylelint-disable prettier/prettier */\\n/* Aspect ratios */\\n/* Transitions */\\n/* Typography */\\n/* Shadows */\\n/* Fonts */\\n@keyframes skeleton-loading-malsync-fe0403ea {\\nto {\\n    transform: translateX(100%);\\n}\\n}\\n.overviewImage[data-v-fe0403ea] {\\n  border-radius: 10px;\\n  overflow: hidden;\\n  position: relative;\\n  height: 200px;\\n}\\n.overviewImage .over[data-v-fe0403ea] {\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n  top: 0;\\n  bottom: 0;\\n  height: 100%;\\n  width: 100%;\\n}\\n.overviewImage.hov[data-v-fe0403ea] {\\n  transition: transform 0.25s ease;\\n  cursor: pointer;\\n}\\n.overviewImage.hov[data-v-fe0403ea]:active {\\n  transition-delay: 0s !important;\\n  transform: translateY(3px);\\n}\\n.overviewImage.notLoading[data-v-fe0403ea] {\\n  box-shadow: 0 11px 21px rgba(0, 0, 0, 0.065), 0 4px 8px rgba(0, 0, 0, 0.1);\\n}\\n@media screen and (min-width: 900px) {\\n.overviewImage[data-v-fe0403ea] {\\n    height: auto;\\n    aspect-ratio: 225/350;\\n}\\n}\\n.modal-image[data-v-fe0403ea] {\\n  max-width: 100%;\\n  max-height: 85vh;\\n}\\n.streaming[data-v-fe0403ea] {\\n  position: absolute;\\n  bottom: 0;\\n  left: 0;\\n  margin: 10px;\\n  border-radius: 30px;\\n  user-select: none;\\n}\\n.streaming .pill[data-v-fe0403ea] {\\n  user-select: none;\\n}\\n.streaming .img-icons[data-v-fe0403ea] {\\n  width: 18px;\\n  height: 18px;\\n}\\n.streaming .stream-link[data-v-fe0403ea] {\\n  display: flex;\\n}\\n.progress[data-v-fe0403ea] {\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  margin: 10px;\\n}\\n\"","import { defineComponent as _defineComponent } from 'vue'\nimport { renderSlot as _renderSlot, createCommentVNode as _createCommentVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = (n: any) => (_pushScopeId(\"data-v-4b9b25a8\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 1,\n  class: \"loading-placeholder\"\n}\n\nimport { ref } from 'vue';\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'text-scroller',\n  props: {\n  loading: {\n    type: Boolean,\n    default: false,\n  },\n},\n  setup(__props) {\n\n\n\nconst open = ref(false);\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"horizontal-scroller\", { open: open.value, loading: __props.loading }]),\n    dir: \"ltr\",\n    onClick: _cache[0] || (_cache[0] = ($event: any) => (open.value = !open.value))\n  }, [\n    (!__props.loading)\n      ? _renderSlot(_ctx.$slots, \"default\", { key: 0 })\n      : (_openBlock(), _createElementBlock(\"div\", _hoisted_1))\n  ], 2 /* CLASS */))\n}\n}\n\n})","<template>\n  <div class=\"horizontal-scroller\" dir=\"ltr\" :class=\"{ open, loading }\" @click=\"open = !open\">\n    <slot v-if=\"!loading\" />\n    <div v-else class=\"loading-placeholder\"></div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { ref } from 'vue';\n\ndefineProps({\n  loading: {\n    type: Boolean,\n    default: false,\n  },\n});\n\nconst open = ref(false);\n</script>\n\n<style lang=\"less\" scoped>\n@import '../less/_globals.less';\n\n.horizontal-scroller {\n  white-space: nowrap;\n  overflow: hidden;\n\n  @media (hover: none) {\n    @gradient: linear-gradient(270deg, transparent, #000 100px);\n\n    white-space: nowrap !important;\n    overflow-x: auto;\n    padding-right: 30px;\n    mask-image: @gradient;\n    /* stylelint-disable-next-line property-no-vendor-prefix */\n    -webkit-mask-image: @gradient;\n  }\n\n  @media (hover: hover) {\n    @gradient: linear-gradient(270deg, transparent, #000 100px);\n    .link();\n\n    line-height: 1.5;\n    mask-image: @gradient;\n    /* stylelint-disable-next-line property-no-vendor-prefix */\n    -webkit-mask-image: @gradient;\n  }\n\n  &.open {\n    white-space: inherit;\n    mask-image: none;\n    /* stylelint-disable-next-line property-no-vendor-prefix */\n    -webkit-mask-image: none;\n  }\n\n  &.loading {\n    width: 20em;\n  }\n}\n\n.loading-placeholder {\n  .skeleton-text();\n\n  height: 1.3em;\n}\n</style>\n","import script from \"./text-scroller.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./text-scroller.vue?vue&type=script&lang=ts&setup=true\"\n\nimport _style_0 from \"./text-scroller.vue?vue&type=style&index=0&id=4b9b25a8&inline&lang=less&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['styles',[_style_0]],['__scopeId',\"data-v-4b9b25a8\"],['__file',\"text-scroller.vue\"]])\n\nexport default __exports__","export default \"/* stylelint-disable prettier/prettier */\\n/* Aspect ratios */\\n/* Transitions */\\n/* Typography */\\n/* Shadows */\\n/* Fonts */\\n@keyframes skeleton-loading-malsync-4b9b25a8 {\\nto {\\n    transform: translateX(100%);\\n}\\n}\\n.horizontal-scroller[data-v-4b9b25a8] {\\n  white-space: nowrap;\\n  overflow: hidden;\\n}\\n@media (hover: none) {\\n.horizontal-scroller[data-v-4b9b25a8] {\\n    white-space: nowrap !important;\\n    overflow-x: auto;\\n    padding-right: 30px;\\n    mask-image: linear-gradient(270deg, transparent, #000 100px);\\n    /* stylelint-disable-next-line property-no-vendor-prefix */\\n    -webkit-mask-image: linear-gradient(270deg, transparent, #000 100px);\\n}\\n}\\n@media (hover: hover) {\\n.horizontal-scroller[data-v-4b9b25a8] {\\n    cursor: pointer;\\n    line-height: 1.5;\\n    mask-image: linear-gradient(270deg, transparent, #000 100px);\\n    /* stylelint-disable-next-line property-no-vendor-prefix */\\n    -webkit-mask-image: linear-gradient(270deg, transparent, #000 100px);\\n}\\n}\\n.horizontal-scroller.open[data-v-4b9b25a8] {\\n  white-space: inherit;\\n  mask-image: none;\\n  /* stylelint-disable-next-line property-no-vendor-prefix */\\n  -webkit-mask-image: none;\\n}\\n.horizontal-scroller.loading[data-v-4b9b25a8] {\\n  width: 20em;\\n}\\n.loading-placeholder[data-v-4b9b25a8] {\\n  position: relative;\\n  overflow: hidden;\\n  transition: background-color 0.1s ease-in-out;\\n  background-color: var(--cl-backdrop);\\n  width: 20em;\\n  height: 1em;\\n  margin-bottom: 0.2em;\\n  border-radius: 0.25rem;\\n  max-width: 100%;\\n  height: 1.3em;\\n}\\n.loading-placeholder[data-v-4b9b25a8]::after {\\n  opacity: var(--cl-loading);\\n  transition: opacity 0.25s ease-in-out;\\n  animation: skeleton-loading-malsync-4b9b25a8 1.5s infinite;\\n  content: '';\\n  height: 100%;\\n  left: 0;\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n  transform: translateX(-100%);\\n  z-index: 1;\\n  background: linear-gradient(90deg, hsla(0, 0%, 100%, 0), var(--cl-backdrop), hsla(0, 0%, 100%, 0));\\n  filter: brightness(1.15);\\n}\\n\"","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, Fragment as _Fragment, createTextVNode as _createTextVNode, withCtx as _withCtx, createVNode as _createVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = (n: any) => (_pushScopeId(\"data-v-3267b298\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 0,\n  class: \"progress\"\n}\nconst _hoisted_2 = [\"title\"]\nconst _hoisted_3 = {\n  key: 0,\n  class: \"material-icons icon-type\"\n}\nconst _hoisted_4 = { class: \"text\" }\nconst _hoisted_5 = [\"title\"]\nconst _hoisted_6 = {\n  key: 0,\n  class: \"material-icons\"\n}\nconst _hoisted_7 = { class: \"episode\" }\nconst _hoisted_8 = {\n  key: 1,\n  class: \"material-icons\",\n  title: \"Dropped\"\n}\nconst _hoisted_9 = { key: 1 }\n\nimport { computed, PropType } from 'vue';\nimport { SingleAbstract } from '../../../_provider/singleAbstract';\nimport FormDropdown from '../form/form-dropdown.vue';\nimport FormButton from '../form/form-button.vue';\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'overview-image-language',\n  props: {\n  single: {\n    type: Object as PropType<SingleAbstract | null>,\n    default: null,\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\nconst state = computed({\n  get() {\n    if (!props.single) return '';\n    return props.single.getProgressMode();\n  },\n  set(value) {\n    if (props.single) props.single.setProgressMode(value);\n  },\n});\n\nconst options = computed(() => {\n  if (!props.single) return [];\n\n  const optionsArray = [\n    { title: api.storage.lang('settings_progress_default'), value: '' },\n    ...props.single.getProgressOptions().map(option => ({\n      title: option.label,\n      value: option.key,\n      meta: option,\n    })),\n    { title: api.storage.lang('settings_progress_disabled'), value: 'off' },\n  ];\n\n  return optionsArray;\n});\n\nreturn (_ctx: any,_cache: any) => {\n  return (__props.single && options.value.length > 2)\n    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createVNode(FormDropdown, {\n          modelValue: state.value,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((state).value = $event)),\n          options: options.value,\n          \"align-items\": \"left\"\n        }, {\n          select: _withCtx(() => [\n            _createVNode(FormButton, {\n              tabindex: -1,\n              animation: false,\n              padding: \"mini\"\n            }, {\n              default: _withCtx(() => [\n                _createElementVNode(\"div\", {\n                  class: \"btn\",\n                  title: __props.single.getProgressKey()?.key\n                }, [\n                  (__props.single.getProgressKey())\n                    ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                        (__props.single.getType() !== 'manga')\n                          ? (_openBlock(), _createElementBlock(\"span\", _hoisted_3, _toDisplayString(__props.single.getProgressKey()?.type === 'sub' ? 'subtitles' : 'record_voice_over'), 1 /* TEXT */))\n                          : _createCommentVNode(\"v-if\", true),\n                        _createElementVNode(\"span\", _hoisted_4, _toDisplayString(__props.single.getProgressKey()?.lang.toUpperCase()), 1 /* TEXT */)\n                      ], 64 /* STABLE_FRAGMENT */))\n                    : (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                        _createTextVNode(_toDisplayString(_ctx.lang('settings_Interval_Off').toUpperCase()), 1 /* TEXT */)\n                      ], 64 /* STABLE_FRAGMENT */))\n                ], 8 /* PROPS */, _hoisted_2)\n              ]),\n              _: 1 /* STABLE */\n            })\n          ]),\n          option: _withCtx((slotProps) => [\n            (slotProps.option.meta)\n              ? (_openBlock(), _createElementBlock(\"div\", {\n                  key: 0,\n                  class: \"entry\",\n                  title: slotProps.option.meta.key\n                }, [\n                  (__props.single.getType() !== 'manga')\n                    ? (_openBlock(), _createElementBlock(\"span\", _hoisted_6, _toDisplayString(slotProps.option.meta.type === 'sub' ? 'subtitles' : 'record_voice_over'), 1 /* TEXT */))\n                    : _createCommentVNode(\"v-if\", true),\n                  _createElementVNode(\"span\", _hoisted_7, _toDisplayString(__props.single.getType() === 'manga' ? 'CH' : 'EP') + \" \" + _toDisplayString(slotProps.option.meta.episode), 1 /* TEXT */),\n                  _createElementVNode(\"span\", null, _toDisplayString(slotProps.option.meta.label), 1 /* TEXT */),\n                  (slotProps.option.meta.dropped)\n                    ? (_openBlock(), _createElementBlock(\"span\", _hoisted_8, \"warning\"))\n                    : _createCommentVNode(\"v-if\", true)\n                ], 8 /* PROPS */, _hoisted_5))\n              : (_openBlock(), _createElementBlock(\"div\", _hoisted_9, _toDisplayString(slotProps.option.title), 1 /* TEXT */))\n          ]),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"modelValue\", \"options\"])\n      ]))\n    : _createCommentVNode(\"v-if\", true)\n}\n}\n\n})","<template>\n  <div v-if=\"single && options.length > 2\" class=\"progress\">\n    <FormDropdown v-model=\"state\" :options=\"options\" align-items=\"left\">\n      <template #select>\n        <FormButton :tabindex=\"-1\" :animation=\"false\" padding=\"mini\">\n          <div class=\"btn\" :title=\"single.getProgressKey()?.key\">\n            <template v-if=\"single.getProgressKey()\">\n              <span v-if=\"single.getType() !== 'manga'\" class=\"material-icons icon-type\">\n                {{ single.getProgressKey()?.type === 'sub' ? 'subtitles' : 'record_voice_over' }}\n              </span>\n              <span class=\"text\">\n                {{ single.getProgressKey()?.lang.toUpperCase() }}\n              </span>\n            </template>\n            <template v-else> {{ lang('settings_Interval_Off').toUpperCase() }} </template>\n          </div>\n        </FormButton>\n      </template>\n      <template #option=\"slotProps\">\n        <div v-if=\"slotProps.option.meta\" class=\"entry\" :title=\"slotProps.option.meta.key\">\n          <span v-if=\"single.getType() !== 'manga'\" class=\"material-icons\">\n            {{ slotProps.option.meta.type === 'sub' ? 'subtitles' : 'record_voice_over' }}\n          </span>\n          <span class=\"episode\">\n            {{ single.getType() === 'manga' ? 'CH' : 'EP' }}\n            {{ slotProps.option.meta.episode }}\n          </span>\n          <span>{{ slotProps.option.meta.label }}</span>\n          <span v-if=\"slotProps.option.meta.dropped\" class=\"material-icons\" title=\"Dropped\"\n            >warning</span\n          >\n        </div>\n        <div v-else>{{ slotProps.option.title }}</div>\n      </template>\n    </FormDropdown>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, PropType } from 'vue';\nimport { SingleAbstract } from '../../../_provider/singleAbstract';\nimport FormDropdown from '../form/form-dropdown.vue';\nimport FormButton from '../form/form-button.vue';\n\nconst props = defineProps({\n  single: {\n    type: Object as PropType<SingleAbstract | null>,\n    default: null,\n  },\n});\n\nconst state = computed({\n  get() {\n    if (!props.single) return '';\n    return props.single.getProgressMode();\n  },\n  set(value) {\n    if (props.single) props.single.setProgressMode(value);\n  },\n});\n\nconst options = computed(() => {\n  if (!props.single) return [];\n\n  const optionsArray = [\n    { title: api.storage.lang('settings_progress_default'), value: '' },\n    ...props.single.getProgressOptions().map(option => ({\n      title: option.label,\n      value: option.key,\n      meta: option,\n    })),\n    { title: api.storage.lang('settings_progress_disabled'), value: 'off' },\n  ];\n\n  return optionsArray;\n});\n</script>\n\n<style lang=\"less\" scoped>\n@import '../../less/_globals.less';\n\n.episode {\n  .border-radius-small();\n\n  background-color: var(--cl-primary);\n  color: white;\n  font-size: @small-text;\n  padding: 2px 5px;\n}\n\n.entry {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n}\n\n.btn {\n  display: flex;\n  gap: 5px;\n}\n\n.icon-type {\n  line-height: 0;\n  transform: translateY(50%);\n}\n</style>\n","import script from \"./overview-image-language.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./overview-image-language.vue?vue&type=script&lang=ts&setup=true\"\n\nimport _style_0 from \"./overview-image-language.vue?vue&type=style&index=0&id=3267b298&inline&lang=less&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['styles',[_style_0]],['__scopeId',\"data-v-3267b298\"],['__file',\"overview-image-language.vue\"]])\n\nexport default __exports__","export default \"/* stylelint-disable prettier/prettier */\\n/* Aspect ratios */\\n/* Transitions */\\n/* Typography */\\n/* Shadows */\\n/* Fonts */\\n@keyframes skeleton-loading-malsync-3267b298 {\\nto {\\n    transform: translateX(100%);\\n}\\n}\\n.episode[data-v-3267b298] {\\n  border-radius: 5px;\\n  background-color: var(--cl-primary);\\n  color: white;\\n  font-size: 0.875rem;\\n  padding: 2px 5px;\\n}\\n.entry[data-v-3267b298] {\\n  display: flex;\\n  align-items: center;\\n  gap: 10px;\\n}\\n.btn[data-v-3267b298] {\\n  display: flex;\\n  gap: 5px;\\n}\\n.icon-type[data-v-3267b298] {\\n  line-height: 0;\\n  transform: translateY(50%);\\n}\\n\"","import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vShow as _vShow, normalizeClass as _normalizeClass, withDirectives as _withDirectives, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = (n: any) => (_pushScopeId(\"data-v-0357b00c\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"form-click\" }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"star-score-wrap\"\n}\nconst _hoisted_3 = { class: \"el-rate\" }\nconst _hoisted_4 = [\"onClick\", \"onMouseover\"]\nconst _hoisted_5 = {\n  key: 1,\n  class: \"smile-score-wrap\"\n}\nconst _hoisted_6 = { class: \"el-rate\" }\nconst _hoisted_7 = [\"onClick\", \"onMouseover\"]\n\nimport { PropType, ref, watch } from 'vue';\n\ninterface Option {\n  value: string | number;\n  title?: string;\n  label?: string;\n  meta?: any;\n}\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'form-click',\n  props: {\n  options: {\n    type: Array as PropType<Option[]>,\n    required: true,\n  },\n  type: {\n    type: String as PropType<'star' | 'smiley'>,\n    default: 'star',\n  },\n  modelValue: {\n    type: [String, Number],\n    require: true,\n    default: '',\n  },\n  size: {\n    type: String as PropType<'small' | 'medium' | 'large'>,\n    default: 'medium',\n  },\n  disabled: {\n    type: Boolean,\n    default: false,\n  },\n},\n  emits: ['update:modelValue'],\n  setup(__props, { emit: __emit }) {\n\nconst props = __props;\n\nconst emit = __emit;\n\nconst picked = ref(props.modelValue);\nconst hoverValue = ref(0);\n\nwatch(picked, value => {\n  emit('update:modelValue', value);\n});\nwatch(\n  () => props.modelValue,\n  value => {\n    picked.value = value;\n  },\n);\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (__props.type === 'star')\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n          _createElementVNode(\"div\", _hoisted_3, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(__props.options.slice().reverse(), (i) => {\n              return _withDirectives((_openBlock(), _createElementBlock(\"span\", {\n                key: i.value,\n                class: _normalizeClass([\"el-rate__item\", { active: i.value <= picked.value, hoverActive: (i.value as number) <= hoverValue.value }]),\n                onClick: ($event: any) => (Number(picked.value) !== Number(i.value) ? (picked.value = i.value) : (picked.value = 0)),\n                onMouseover: ($event: any) => (hoverValue.value = Number(i.value)),\n                onMouseout: _cache[0] || (_cache[0] = ($event: any) => (hoverValue.value = 0))\n              }, _toDisplayString(i.value <= picked.value || (i.value as number) <= hoverValue.value ? '' : ''), 43 /* TEXT, CLASS, PROPS, NEED_HYDRATION */, _hoisted_4)), [\n                [_vShow, i.value]\n              ])\n            }), 128 /* KEYED_FRAGMENT */))\n          ])\n        ]))\n      : (__props.type === 'smiley')\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n            _createElementVNode(\"div\", _hoisted_6, [\n              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(__props.options.slice().reverse(), (i) => {\n                return _withDirectives((_openBlock(), _createElementBlock(\"span\", {\n                  key: i.value,\n                  class: _normalizeClass([\"el-rate__item\", { active: i.value == picked.value && !hoverValue.value, hoverActive: i.value == hoverValue.value }]),\n                  onClick: ($event: any) => (Number(picked.value) !== Number(i.value) ? (picked.value = i.value) : (picked.value = 0)),\n                  onMouseover: ($event: any) => (hoverValue.value = Number(i.value)),\n                  onMouseout: _cache[1] || (_cache[1] = ($event: any) => (hoverValue.value = 0))\n                }, _toDisplayString(i.label), 43 /* TEXT, CLASS, PROPS, NEED_HYDRATION */, _hoisted_7)), [\n                  [_vShow, i.value]\n                ])\n              }), 128 /* KEYED_FRAGMENT */))\n            ])\n          ]))\n        : _createCommentVNode(\"v-if\", true)\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"form-click\">\n    <div v-if=\"type === 'star'\" class=\"star-score-wrap\">\n      <div class=\"el-rate\">\n        <span\n          v-for=\"i in options.slice().reverse()\"\n          v-show=\"i.value\"\n          :key=\"i.value\"\n          class=\"el-rate__item\"\n          :class=\"{ active: i.value <= picked, hoverActive: (i.value as number) <= hoverValue }\"\n          @click=\"Number(picked) !== Number(i.value) ? (picked = i.value) : (picked = 0)\"\n          @mouseover=\"hoverValue = Number(i.value)\"\n          @mouseout=\"hoverValue = 0\"\n        >\n          {{ i.value <= picked || (i.value as number) <= hoverValue ? '' : '' }}\n        </span>\n      </div>\n    </div>\n\n    <div v-else-if=\"type === 'smiley'\" class=\"smile-score-wrap\">\n      <div class=\"el-rate\">\n        <span\n          v-for=\"i in options.slice().reverse()\"\n          v-show=\"i.value\"\n          :key=\"i.value\"\n          class=\"el-rate__item\"\n          :class=\"{ active: i.value == picked && !hoverValue, hoverActive: i.value == hoverValue }\"\n          @click=\"Number(picked) !== Number(i.value) ? (picked = i.value) : (picked = 0)\"\n          @mouseover=\"hoverValue = Number(i.value)\"\n          @mouseout=\"hoverValue = 0\"\n        >\n          {{ i.label }}\n        </span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { PropType, ref, watch } from 'vue';\n\ninterface Option {\n  value: string | number;\n  title?: string;\n  label?: string;\n  meta?: any;\n}\n\nconst props = defineProps({\n  options: {\n    type: Array as PropType<Option[]>,\n    required: true,\n  },\n  type: {\n    type: String as PropType<'star' | 'smiley'>,\n    default: 'star',\n  },\n  modelValue: {\n    type: [String, Number],\n    require: true,\n    default: '',\n  },\n  size: {\n    type: String as PropType<'small' | 'medium' | 'large'>,\n    default: 'medium',\n  },\n  disabled: {\n    type: Boolean,\n    default: false,\n  },\n});\n\nconst emit = defineEmits(['update:modelValue']);\n\nconst picked = ref(props.modelValue);\nconst hoverValue = ref(0);\n\nwatch(picked, value => {\n  emit('update:modelValue', value);\n});\nwatch(\n  () => props.modelValue,\n  value => {\n    picked.value = value;\n  },\n);\n</script>\n\n<style lang=\"less\" scoped>\n@import '../../less/_globals.less';\n\n.form-click {\n  .el-rate__item {\n    .link();\n\n    font-size: 20px;\n    display: inline-block;\n  }\n\n  .star-score-wrap {\n    margin-left: 5px;\n\n    .el-rate__item {\n      &.hoverActive {\n        color: var(--cl-primary);\n      }\n    }\n  }\n\n  .smile-score-wrap {\n    .el-rate__item {\n      filter: grayscale(100%);\n      transition:\n        transform @fast-transition ease,\n        filter @fast-transition ease;\n      transform: scale(1);\n\n      &.active,\n      &.hoverActive {\n        filter: grayscale(0%);\n      }\n      &:hover {\n        transform: scale(1.2);\n      }\n    }\n  }\n}\n</style>\n","import script from \"./form-click.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./form-click.vue?vue&type=script&lang=ts&setup=true\"\n\nimport _style_0 from \"./form-click.vue?vue&type=style&index=0&id=0357b00c&inline&lang=less&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['styles',[_style_0]],['__scopeId',\"data-v-0357b00c\"],['__file',\"form-click.vue\"]])\n\nexport default __exports__","export default \"/* stylelint-disable prettier/prettier */\\n/* Aspect ratios */\\n/* Transitions */\\n/* Typography */\\n/* Shadows */\\n/* Fonts */\\n@keyframes skeleton-loading-malsync-0357b00c {\\nto {\\n    transform: translateX(100%);\\n}\\n}\\n.form-click .el-rate__item[data-v-0357b00c] {\\n  cursor: pointer;\\n  font-size: 20px;\\n  display: inline-block;\\n}\\n.form-click .star-score-wrap[data-v-0357b00c] {\\n  margin-left: 5px;\\n}\\n.form-click .star-score-wrap .el-rate__item.hoverActive[data-v-0357b00c] {\\n  color: var(--cl-primary);\\n}\\n.form-click .smile-score-wrap .el-rate__item[data-v-0357b00c] {\\n  filter: grayscale(100%);\\n  transition: transform 0.25s ease, filter 0.25s ease;\\n  transform: scale(1);\\n}\\n.form-click .smile-score-wrap .el-rate__item.active[data-v-0357b00c],\\n.form-click .smile-score-wrap .el-rate__item.hoverActive[data-v-0357b00c] {\\n  filter: grayscale(0%);\\n}\\n.form-click .smile-score-wrap .el-rate__item[data-v-0357b00c]:hover {\\n  transform: scale(1.2);\\n}\\n\"","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveDirective as _resolveDirective, createElementVNode as _createElementVNode, withDirectives as _withDirectives, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nimport ErrorGeneral from './error-general.vue';\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'error-single',\n  props: {\n  error: {\n    type: String,\n    default: '',\n  },\n},\n  setup(__props) {\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  const _directive_dompurify_html = _resolveDirective(\"dompurify-html\")!\n\n  return (__props.error)\n    ? (_openBlock(), _createBlock(ErrorGeneral, { key: 0 }, {\n        default: _withCtx(() => [\n          _withDirectives(_createElementVNode(\"span\", null, null, 512 /* NEED_PATCH */), [\n            [_directive_dompurify_html, __props.error]\n          ])\n        ]),\n        _: 1 /* STABLE */\n      }))\n    : _createCommentVNode(\"v-if\", true)\n}\n}\n\n})","import script from \"./error-single.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./error-single.vue?vue&type=script&lang=ts&setup=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__file',\"error-single.vue\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, createElementBlock as _createElementBlock, unref as _unref, vShow as _vShow, withDirectives as _withDirectives, Fragment as _Fragment, normalizeClass as _normalizeClass, withKeys as _withKeys, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = (n: any) => (_pushScopeId(\"data-v-0fecc957\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"list-select\" }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"label-row\"\n}\nconst _hoisted_3 = { class: \"label\" }\nconst _hoisted_4 = { class: \"dots\" }\nconst _hoisted_5 = { class: \"progress-select\" }\nconst _hoisted_6 = { class: \"label-row\" }\nconst _hoisted_7 = { class: \"label\" }\nconst _hoisted_8 = { class: \"progress-picked\" }\nconst _hoisted_9 = {\n  key: 0,\n  class: \"volume-select\"\n}\nconst _hoisted_10 = { class: \"label-row\" }\nconst _hoisted_11 = { class: \"label\" }\nconst _hoisted_12 = { class: \"score-select\" }\nconst _hoisted_13 = { class: \"label-row\" }\nconst _hoisted_14 = { class: \"label\" }\nconst _hoisted_15 = { class: \"update-buttons\" }\nconst _hoisted_16 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"material-icons\" }, \"bookmark_add\", -1 /* HOISTED */))\nconst _hoisted_17 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"material-icons\" }, \"cloud_upload\", -1 /* HOISTED */))\nconst _hoisted_18 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"material-icons\" }, \"cloud_download\", -1 /* HOISTED */))\nconst _hoisted_19 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"material-icons\" }, \"remove_circle_outline\", -1 /* HOISTED */))\n\nimport { computed, PropType, ref } from 'vue';\nimport { SingleAbstract } from '../../../_provider/singleAbstract';\nimport FormText from '../form/form-text.vue';\nimport FormDropdown from '../form/form-dropdown.vue';\nimport FormSlider from '../form/form-slider.vue';\nimport StateDot from '../state-dot.vue';\nimport FormButton from '../form/form-button.vue';\nimport { ScoreOption } from '../../../_provider/ScoreMode/ScoreModeStrategy';\nimport OverviewImageLanguage from './overview-image-language.vue';\nimport FormClick from '../form/form-click.vue';\nimport ErrorSingle from '../error/error-single.vue';\nimport MediaProgressPill from '../media/media-progress-pill.vue';\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'overview-update-ui',\n  props: {\n  single: {\n    type: Object as PropType<SingleAbstract | null>,\n    default: () => ({}),\n  },\n  loading: {\n    type: Boolean,\n    default: false,\n  },\n  type: {\n    type: String as PropType<'anime' | 'manga'>,\n    default: 'anime',\n  },\n},\n  setup(__props) {\n\nconst singleLoading = ref(false);\n\nconst props = __props;\n\nconst volume = computed({\n  get() {\n    if (props.single && props.single.isAuthenticated()) {\n      if (Number.isNaN(props.single.getVolume())) return '';\n      return props.single.getVolume().toString();\n    }\n    return '';\n  },\n  set(value) {\n    if (props.single && props.single.isAuthenticated()) {\n      props.single.setVolume(Number(value));\n    }\n  },\n});\n\nconst episode = computed({\n  get() {\n    if (props.single && props.single.isAuthenticated()) {\n      if (Number.isNaN(props.single.getEpisode())) return '';\n      return props.single.getEpisode().toString();\n    }\n    return '';\n  },\n  set(value) {\n    if (props.single && props.single.isAuthenticated()) {\n      props.single.setEpisode(Number(value));\n    }\n  },\n});\n\nconst scoreModeStrategy = computed(() => {\n  if (props.single) {\n    return props.single.getScoreMode();\n  }\n  return null;\n});\n\nconst score = computed({\n  get() {\n    if (props.single && props.single.isAuthenticated() && scoreModeStrategy.value) {\n      return scoreModeStrategy.value.valueToOptionValue(props.single.getAbsoluteScore()).toString();\n    }\n    return '';\n  },\n  set(value) {\n    if (props.single && props.single.isAuthenticated() && scoreModeStrategy.value) {\n      props.single.setAbsoluteScore(scoreModeStrategy.value.optionValueToValue(Number(value) || 0));\n    }\n  },\n});\n\nconst scoreTextField = computed({\n  get() {\n    return !Number(score.value) ? '' : score.value;\n  },\n  set(value) {\n    score.value = value || '0';\n  },\n});\n\nconst status = computed({\n  get() {\n    if (props.single && props.single.isAuthenticated()) {\n      return props.single.getStatusCheckboxValue() || 6;\n    }\n    return 6;\n  },\n  set(value) {\n    if (props.single && props.single.isAuthenticated()) {\n      props.single.handleStatusCheckbox(value);\n    }\n  },\n});\n\nconst sortedOptions = (options: ScoreOption[]) => {\n  return options.sort((a, b) => a.value - b.value);\n};\n\nconst progress = computed(() => {\n  if (!props.single) return false;\n  const progressEl = props.single.getProgress();\n  if (!progressEl) return false;\n  if (!progressEl.isAiring() || !progressEl.getCurrentEpisode()) return false;\n  return progressEl;\n});\n\nasync function update() {\n  if (props.single) {\n    singleLoading.value = true;\n    await props.single.update();\n    singleLoading.value = false;\n  }\n}\n\nasync function sync() {\n  if (props.single) {\n    singleLoading.value = true;\n    await props.single.sync();\n    await props.single.update();\n    singleLoading.value = false;\n  }\n}\n\nasync function remove() {\n  if (props.single) {\n    singleLoading.value = true;\n    await props.single.delete();\n    singleLoading.value = false;\n  }\n}\n\nconst episodeLang = utils.episode;\n\nreturn (_ctx: any,_cache: any) => {\n  return (__props.single && __props.single.getLastError())\n    ? (_openBlock(), _createBlock(ErrorSingle, {\n        key: 0,\n        error: __props.single.getLastErrorMessage()\n      }, null, 8 /* PROPS */, [\"error\"]))\n    : (_openBlock(), _createElementBlock(\"div\", {\n        key: 1,\n        class: _normalizeClass([\"update-ui\", { loading: __props.loading, singleLoading: singleLoading.value }])\n      }, [\n        _createElementVNode(\"div\", {\n          class: _normalizeClass([\"form-section\", { notOnList: !__props.single?.isOnList() || false }])\n        }, [\n          _createElementVNode(\"div\", _hoisted_1, [\n            (__props.single)\n              ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n                  _createElementVNode(\"span\", _hoisted_3, _toDisplayString(_ctx.lang('UI_Status')), 1 /* TEXT */),\n                  _createVNode(FormDropdown, {\n                    modelValue: status.value,\n                    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((status).value = $event)),\n                    options: __props.single.getStatusCheckbox() as any,\n                    \"align-items\": \"left\"\n                  }, {\n                    select: _withCtx((slotProps) => [\n                      _createVNode(FormButton, {\n                        tabindex: -1,\n                        animation: false,\n                        padding: \"mini\",\n                        class: \"dots\"\n                      }, {\n                        default: _withCtx(() => [\n                          _createVNode(StateDot, {\n                            status: Number(slotProps.value),\n                            \"relative-height\": true\n                          }, null, 8 /* PROPS */, [\"status\"]),\n                          _createTextVNode(\" \" + _toDisplayString(slotProps.currentTitle), 1 /* TEXT */)\n                        ]),\n                        _: 2 /* DYNAMIC */\n                      }, 1024 /* DYNAMIC_SLOTS */)\n                    ]),\n                    option: _withCtx((slotProps) => [\n                      _createElementVNode(\"div\", _hoisted_4, [\n                        _createVNode(StateDot, {\n                          status: Number(slotProps.option.value)\n                        }, null, 8 /* PROPS */, [\"status\"]),\n                        _createTextVNode(\" \" + _toDisplayString(slotProps.option.label), 1 /* TEXT */)\n                      ])\n                    ]),\n                    _: 1 /* STABLE */\n                  }, 8 /* PROPS */, [\"modelValue\", \"options\"])\n                ]))\n              : _createCommentVNode(\"v-if\", true)\n          ]),\n          _createElementVNode(\"div\", _hoisted_5, [\n            (__props.single)\n              ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                  _createElementVNode(\"div\", _hoisted_6, [\n                    _createElementVNode(\"span\", _hoisted_7, _toDisplayString(_unref(episodeLang)(__props.type)), 1 /* TEXT */),\n                    _createVNode(FormText, {\n                      modelValue: episode.value,\n                      \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((episode).value = $event)),\n                      type: \"mini\",\n                      suffix: `/${__props.single.getTotalEpisodes() || '? '}`\n                    }, {\n                      placeholder: _withCtx(({ picked, suffix }) => [\n                        _createElementVNode(\"div\", _hoisted_8, [\n                          _createTextVNode(_toDisplayString(picked) + _toDisplayString(picked ? suffix : '') + \" \", 1 /* TEXT */),\n                          (progress.value)\n                            ? (_openBlock(), _createBlock(MediaProgressPill, {\n                                key: 0,\n                                \"watched-ep\": Number(episode.value),\n                                episode: progress.value.getCurrentEpisode(),\n                                text: progress.value.getPredictionText()\n                              }, null, 8 /* PROPS */, [\"watched-ep\", \"episode\", \"text\"]))\n                            : _createCommentVNode(\"v-if\", true)\n                        ])\n                      ]),\n                      _: 1 /* STABLE */\n                    }, 8 /* PROPS */, [\"modelValue\", \"suffix\"]),\n                    _createVNode(OverviewImageLanguage, { single: __props.single }, null, 8 /* PROPS */, [\"single\"]),\n                    _withDirectives(_createElementVNode(\"span\", {\n                      class: \"label increase\",\n                      onClick: _cache[2] || (_cache[2] = ($event: any) => (episode.value = String(Number(episode.value) + 1)))\n                    }, \" + \", 512 /* NEED_PATCH */), [\n                      [_vShow, !(__props.single.getTotalEpisodes() && Number(episode.value) === __props.single.getTotalEpisodes())]\n                    ])\n                  ]),\n                  _createVNode(FormSlider, {\n                    modelValue: episode.value,\n                    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((episode).value = $event)),\n                    disabled: !__props.single.getTotalEpisodes(),\n                    min: 0,\n                    max: __props.single.getTotalEpisodes(),\n                    color: \"blue\"\n                  }, null, 8 /* PROPS */, [\"modelValue\", \"disabled\", \"max\"])\n                ], 64 /* STABLE_FRAGMENT */))\n              : _createCommentVNode(\"v-if\", true)\n          ]),\n          (__props.type === 'manga')\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [\n                (__props.single)\n                  ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                      _createElementVNode(\"div\", _hoisted_10, [\n                        _createElementVNode(\"span\", _hoisted_11, _toDisplayString(_ctx.lang('UI_Volume')), 1 /* TEXT */),\n                        _createVNode(FormText, {\n                          modelValue: volume.value,\n                          \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((volume).value = $event)),\n                          type: \"mini\",\n                          suffix: `/${__props.single.getTotalVolumes() || '?'}`\n                        }, null, 8 /* PROPS */, [\"modelValue\", \"suffix\"]),\n                        _withDirectives(_createElementVNode(\"span\", {\n                          class: \"label increase\",\n                          onClick: _cache[5] || (_cache[5] = ($event: any) => (volume.value = String(Number(volume.value) + 1)))\n                        }, \" + \", 512 /* NEED_PATCH */), [\n                          [_vShow, !(__props.single.getTotalVolumes() && Number(volume.value) === __props.single.getTotalVolumes())]\n                        ])\n                      ]),\n                      _createVNode(FormSlider, {\n                        modelValue: volume.value,\n                        \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event: any) => ((volume).value = $event)),\n                        disabled: !__props.single.getTotalVolumes(),\n                        min: 0,\n                        max: __props.single.getTotalVolumes()\n                      }, null, 8 /* PROPS */, [\"modelValue\", \"disabled\", \"max\"])\n                    ], 64 /* STABLE_FRAGMENT */))\n                  : _createCommentVNode(\"v-if\", true)\n              ]))\n            : _createCommentVNode(\"v-if\", true),\n          _createElementVNode(\"div\", _hoisted_12, [\n            (__props.single && scoreModeStrategy.value)\n              ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                  _createElementVNode(\"div\", _hoisted_13, [\n                    _createElementVNode(\"span\", _hoisted_14, _toDisplayString(_ctx.lang('UI_Score')), 1 /* TEXT */),\n                    (scoreModeStrategy.value.ui.module === 'input')\n                      ? (_openBlock(), _createBlock(FormText, {\n                          key: 0,\n                          modelValue: scoreTextField.value,\n                          \"onUpdate:modelValue\": _cache[7] || (_cache[7] = ($event: any) => ((scoreTextField).value = $event)),\n                          type: \"mini\",\n                          \"simple-placeholder\": true,\n                          \"strict-validation\": true,\n                          validation: \n                  value => {\n                    return Boolean(\n                      String(value).match(new RegExp((scoreModeStrategy.value!.ui as any).pattern)),\n                    );\n                  }\n                ,\n                          placeholder: _ctx.lang('UI_Score_Not_Rated')\n                        }, null, 8 /* PROPS */, [\"modelValue\", \"validation\", \"placeholder\"]))\n                      : (scoreModeStrategy.value.ui.module === 'click')\n                        ? (_openBlock(), _createBlock(FormClick, {\n                            key: 1,\n                            modelValue: score.value,\n                            \"onUpdate:modelValue\": _cache[8] || (_cache[8] = ($event: any) => ((score).value = $event)),\n                            options: scoreModeStrategy.value.getOptions() as any,\n                            type: scoreModeStrategy.value.ui.type\n                          }, null, 8 /* PROPS */, [\"modelValue\", \"options\", \"type\"]))\n                        : (_openBlock(), _createBlock(FormDropdown, {\n                            key: 2,\n                            modelValue: score.value,\n                            \"onUpdate:modelValue\": _cache[9] || (_cache[9] = ($event: any) => ((score).value = $event)),\n                            \"align-items\": \"left\",\n                            options: scoreModeStrategy.value.getOptions() as any\n                          }, {\n                            select: _withCtx((slotProps) => [\n                              _createVNode(FormButton, {\n                                tabindex: -1,\n                                animation: false,\n                                padding: \"mini\"\n                              }, {\n                                default: _withCtx(() => [\n                                  _createTextVNode(_toDisplayString(slotProps.currentTitle), 1 /* TEXT */)\n                                ]),\n                                _: 2 /* DYNAMIC */\n                              }, 1024 /* DYNAMIC_SLOTS */)\n                            ]),\n                            _: 1 /* STABLE */\n                          }, 8 /* PROPS */, [\"modelValue\", \"options\"]))\n                  ]),\n                  _createVNode(FormSlider, {\n                    modelValue: score.value,\n                    \"onUpdate:modelValue\": _cache[10] || (_cache[10] = ($event: any) => ((score).value = $event)),\n                    color: \"violet\",\n                    options: sortedOptions(__props.single.getScoreCheckbox()) as any\n                  }, null, 8 /* PROPS */, [\"modelValue\", \"options\"])\n                ], 64 /* STABLE_FRAGMENT */))\n              : _createCommentVNode(\"v-if\", true)\n          ])\n        ], 2 /* CLASS */),\n        _createElementVNode(\"div\", _hoisted_15, [\n          (!__props.single?.isOnList() || false)\n            ? (_openBlock(), _createElementBlock(\"div\", {\n                key: 0,\n                class: \"update-button add\",\n                tabindex: \"0\",\n                onKeydown: _cache[11] || (_cache[11] = _withKeys(($event: any) => (sync()), [\"enter\"])),\n                onClick: _cache[12] || (_cache[12] = ($event: any) => (sync()))\n              }, [\n                _hoisted_16,\n                _createTextVNode(\" \" + _toDisplayString(_ctx.lang('Add')), 1 /* TEXT */)\n              ], 32 /* NEED_HYDRATION */))\n            : (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                (__props.single.isDirty())\n                  ? (_openBlock(), _createElementBlock(\"div\", {\n                      key: 0,\n                      class: \"update-button\",\n                      tabindex: \"0\",\n                      onKeydown: _cache[13] || (_cache[13] = _withKeys(($event: any) => (sync()), [\"enter\"])),\n                      onClick: _cache[14] || (_cache[14] = ($event: any) => (sync()))\n                    }, [\n                      _hoisted_17,\n                      _createTextVNode(\" \" + _toDisplayString(_ctx.lang('Update')), 1 /* TEXT */)\n                    ], 32 /* NEED_HYDRATION */))\n                  : (_openBlock(), _createElementBlock(\"div\", {\n                      key: 1,\n                      class: \"update-button\",\n                      tabindex: \"0\",\n                      onKeydown: _cache[15] || (_cache[15] = _withKeys(($event: any) => (update()), [\"enter\"])),\n                      onClick: _cache[16] || (_cache[16] = ($event: any) => (update()))\n                    }, [\n                      _hoisted_18,\n                      _createTextVNode(\" \" + _toDisplayString(_ctx.lang('Synchronize')), 1 /* TEXT */)\n                    ], 32 /* NEED_HYDRATION */)),\n                _createElementVNode(\"div\", {\n                  class: \"update-button\",\n                  tabindex: \"0\",\n                  onKeydown: _cache[17] || (_cache[17] = _withKeys(($event: any) => (remove()), [\"enter\"])),\n                  onClick: _cache[18] || (_cache[18] = ($event: any) => (remove()))\n                }, [\n                  _hoisted_19,\n                  _createTextVNode(\" \" + _toDisplayString(_ctx.lang('Remove')), 1 /* TEXT */)\n                ], 32 /* NEED_HYDRATION */)\n              ], 64 /* STABLE_FRAGMENT */))\n        ])\n      ], 2 /* CLASS */))\n}\n}\n\n})","<template>\n  <ErrorSingle v-if=\"single && single.getLastError()\" :error=\"single.getLastErrorMessage()\" />\n  <div v-else class=\"update-ui\" :class=\"{ loading, singleLoading }\">\n    <div class=\"form-section\" :class=\"{ notOnList: !single?.isOnList() || false }\">\n      <div class=\"list-select\">\n        <div v-if=\"single\" class=\"label-row\">\n          <span class=\"label\">{{ lang('UI_Status') }}</span>\n          <FormDropdown\n            v-model=\"status\"\n            :options=\"single.getStatusCheckbox() as any\"\n            align-items=\"left\"\n          >\n            <template #select=\"slotProps\">\n              <FormButton :tabindex=\"-1\" :animation=\"false\" padding=\"mini\" class=\"dots\">\n                <StateDot :status=\"Number(slotProps.value)\" :relative-height=\"true\" />\n                {{ slotProps.currentTitle }}\n              </FormButton>\n            </template>\n            <template #option=\"slotProps\">\n              <div class=\"dots\">\n                <StateDot :status=\"Number(slotProps.option.value)\" />\n                {{ slotProps.option.label }}\n              </div>\n            </template>\n          </FormDropdown>\n        </div>\n      </div>\n      <div class=\"progress-select\">\n        <template v-if=\"single\">\n          <div class=\"label-row\">\n            <span class=\"label\">{{ episodeLang(type) }}</span>\n            <FormText\n              v-model=\"episode\"\n              type=\"mini\"\n              :suffix=\"`/${single.getTotalEpisodes() || '? '}`\"\n            >\n              <template #placeholder=\"{ picked, suffix }\">\n                <div class=\"progress-picked\">\n                  {{ picked }}{{ picked ? suffix : '' }}\n                  <MediaProgressPill\n                    v-if=\"progress\"\n                    :watched-ep=\"Number(episode)\"\n                    :episode=\"progress.getCurrentEpisode()\"\n                    :text=\"progress.getPredictionText()\"\n                  />\n                </div>\n              </template>\n            </FormText>\n            <OverviewImageLanguage :single=\"single\" />\n            <span\n              v-show=\"!(single.getTotalEpisodes() && Number(episode) === single.getTotalEpisodes())\"\n              class=\"label increase\"\n              @click=\"episode = String(Number(episode) + 1)\"\n            >\n              +\n            </span>\n          </div>\n          <FormSlider\n            v-model=\"episode\"\n            :disabled=\"!single.getTotalEpisodes()\"\n            :min=\"0\"\n            :max=\"single.getTotalEpisodes()\"\n            color=\"blue\"\n          />\n        </template>\n      </div>\n      <div v-if=\"type === 'manga'\" class=\"volume-select\">\n        <template v-if=\"single\">\n          <div class=\"label-row\">\n            <span class=\"label\">{{ lang('UI_Volume') }}</span>\n            <FormText\n              v-model=\"volume\"\n              type=\"mini\"\n              :suffix=\"`/${single.getTotalVolumes() || '?'}`\"\n            />\n            <span\n              v-show=\"!(single.getTotalVolumes() && Number(volume) === single.getTotalVolumes())\"\n              class=\"label increase\"\n              @click=\"volume = String(Number(volume) + 1)\"\n            >\n              +\n            </span>\n          </div>\n          <FormSlider\n            v-model=\"volume\"\n            :disabled=\"!single.getTotalVolumes()\"\n            :min=\"0\"\n            :max=\"single.getTotalVolumes()\"\n          />\n        </template>\n      </div>\n      <div class=\"score-select\">\n        <template v-if=\"single && scoreModeStrategy\">\n          <div class=\"label-row\">\n            <span class=\"label\">{{ lang('UI_Score') }}</span>\n            <template v-if=\"scoreModeStrategy.ui.module === 'input'\">\n              <FormText\n                v-model=\"scoreTextField\"\n                type=\"mini\"\n                :simple-placeholder=\"true\"\n                :strict-validation=\"true\"\n                :validation=\"\n                  value => {\n                    return Boolean(\n                      String(value).match(new RegExp((scoreModeStrategy!.ui as any).pattern)),\n                    );\n                  }\n                \"\n                :placeholder=\"lang('UI_Score_Not_Rated')\"\n              />\n            </template>\n            <template v-else-if=\"scoreModeStrategy.ui.module === 'click'\">\n              <FormClick\n                v-model=\"score\"\n                :options=\"scoreModeStrategy.getOptions() as any\"\n                :type=\"scoreModeStrategy.ui.type\"\n              />\n            </template>\n            <template v-else>\n              <FormDropdown\n                v-model=\"score\"\n                align-items=\"left\"\n                :options=\"scoreModeStrategy.getOptions() as any\"\n              >\n                <template #select=\"slotProps\">\n                  <FormButton :tabindex=\"-1\" :animation=\"false\" padding=\"mini\">\n                    {{ slotProps.currentTitle }}\n                  </FormButton>\n                </template>\n              </FormDropdown>\n            </template>\n          </div>\n          <FormSlider\n            v-model=\"score\"\n            color=\"violet\"\n            :options=\"sortedOptions(single.getScoreCheckbox()) as any\"\n          />\n        </template>\n      </div>\n    </div>\n    <div class=\"update-buttons\">\n      <div\n        v-if=\"!single?.isOnList() || false\"\n        class=\"update-button add\"\n        tabindex=\"0\"\n        @keydown.enter=\"sync()\"\n        @click=\"sync()\"\n      >\n        <span class=\"material-icons\">bookmark_add</span>\n        {{ lang('Add') }}\n      </div>\n      <template v-else>\n        <div\n          v-if=\"single.isDirty()\"\n          class=\"update-button\"\n          tabindex=\"0\"\n          @keydown.enter=\"sync()\"\n          @click=\"sync()\"\n        >\n          <span class=\"material-icons\">cloud_upload</span>\n          {{ lang('Update') }}\n        </div>\n        <div v-else class=\"update-button\" tabindex=\"0\" @keydown.enter=\"update()\" @click=\"update()\">\n          <span class=\"material-icons\">cloud_download</span>\n          {{ lang('Synchronize') }}\n        </div>\n        <div class=\"update-button\" tabindex=\"0\" @keydown.enter=\"remove()\" @click=\"remove()\">\n          <span class=\"material-icons\">remove_circle_outline</span>\n          {{ lang('Remove') }}\n        </div>\n      </template>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, PropType, ref } from 'vue';\nimport { SingleAbstract } from '../../../_provider/singleAbstract';\nimport FormText from '../form/form-text.vue';\nimport FormDropdown from '../form/form-dropdown.vue';\nimport FormSlider from '../form/form-slider.vue';\nimport StateDot from '../state-dot.vue';\nimport FormButton from '../form/form-button.vue';\nimport { ScoreOption } from '../../../_provider/ScoreMode/ScoreModeStrategy';\nimport OverviewImageLanguage from './overview-image-language.vue';\nimport FormClick from '../form/form-click.vue';\nimport ErrorSingle from '../error/error-single.vue';\nimport MediaProgressPill from '../media/media-progress-pill.vue';\n\nconst singleLoading = ref(false);\n\nconst props = defineProps({\n  single: {\n    type: Object as PropType<SingleAbstract | null>,\n    default: () => ({}),\n  },\n  loading: {\n    type: Boolean,\n    default: false,\n  },\n  type: {\n    type: String as PropType<'anime' | 'manga'>,\n    default: 'anime',\n  },\n});\n\nconst volume = computed({\n  get() {\n    if (props.single && props.single.isAuthenticated()) {\n      if (Number.isNaN(props.single.getVolume())) return '';\n      return props.single.getVolume().toString();\n    }\n    return '';\n  },\n  set(value) {\n    if (props.single && props.single.isAuthenticated()) {\n      props.single.setVolume(Number(value));\n    }\n  },\n});\n\nconst episode = computed({\n  get() {\n    if (props.single && props.single.isAuthenticated()) {\n      if (Number.isNaN(props.single.getEpisode())) return '';\n      return props.single.getEpisode().toString();\n    }\n    return '';\n  },\n  set(value) {\n    if (props.single && props.single.isAuthenticated()) {\n      props.single.setEpisode(Number(value));\n    }\n  },\n});\n\nconst scoreModeStrategy = computed(() => {\n  if (props.single) {\n    return props.single.getScoreMode();\n  }\n  return null;\n});\n\nconst score = computed({\n  get() {\n    if (props.single && props.single.isAuthenticated() && scoreModeStrategy.value) {\n      return scoreModeStrategy.value.valueToOptionValue(props.single.getAbsoluteScore()).toString();\n    }\n    return '';\n  },\n  set(value) {\n    if (props.single && props.single.isAuthenticated() && scoreModeStrategy.value) {\n      props.single.setAbsoluteScore(scoreModeStrategy.value.optionValueToValue(Number(value) || 0));\n    }\n  },\n});\n\nconst scoreTextField = computed({\n  get() {\n    return !Number(score.value) ? '' : score.value;\n  },\n  set(value) {\n    score.value = value || '0';\n  },\n});\n\nconst status = computed({\n  get() {\n    if (props.single && props.single.isAuthenticated()) {\n      return props.single.getStatusCheckboxValue() || 6;\n    }\n    return 6;\n  },\n  set(value) {\n    if (props.single && props.single.isAuthenticated()) {\n      props.single.handleStatusCheckbox(value);\n    }\n  },\n});\n\nconst sortedOptions = (options: ScoreOption[]) => {\n  return options.sort((a, b) => a.value - b.value);\n};\n\nconst progress = computed(() => {\n  if (!props.single) return false;\n  const progressEl = props.single.getProgress();\n  if (!progressEl) return false;\n  if (!progressEl.isAiring() || !progressEl.getCurrentEpisode()) return false;\n  return progressEl;\n});\n\nasync function update() {\n  if (props.single) {\n    singleLoading.value = true;\n    await props.single.update();\n    singleLoading.value = false;\n  }\n}\n\nasync function sync() {\n  if (props.single) {\n    singleLoading.value = true;\n    await props.single.sync();\n    await props.single.update();\n    singleLoading.value = false;\n  }\n}\n\nasync function remove() {\n  if (props.single) {\n    singleLoading.value = true;\n    await props.single.delete();\n    singleLoading.value = false;\n  }\n}\n\nconst episodeLang = utils.episode;\n</script>\n\n<style lang=\"less\" scoped>\n@import '../../less/_globals.less';\n\n.update-buttons,\n.label {\n  color: var(--cl-light-text);\n}\n\n.update-ui {\n  .list-select {\n    margin-bottom: @spacer-half;\n    padding-bottom: 3px;\n    min-height: 36px;\n  }\n  .progress-select {\n    margin-bottom: @spacer-half;\n    min-height: 60px;\n  }\n  .score-select {\n    min-height: 60px;\n  }\n  .volume-select {\n    margin-bottom: @spacer-half;\n    min-height: 60px;\n  }\n\n  .form-section {\n    margin-bottom: @spacer-half;\n  }\n\n  .update-buttons {\n    display: flex;\n    justify-content: space-around;\n    text-align: center;\n    align-items: center;\n\n    .__breakpoint-desktop__({\n      min-height: 48px;\n    });\n\n    .update-button {\n      .click-move-down();\n      .link();\n      .border-radius();\n      .block-select();\n\n      vertical-align: middle;\n      padding: 10px 15px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      flex-wrap: wrap;\n      gap: 10px;\n\n      &.add {\n        width: 100%;\n        background-color: var(--cl-primary);\n        color: white;\n        border: 2px solid var(--cl-primary);\n        &:hover {\n          border-color: white;\n        }\n      }\n\n      &:hover {\n        background-color: var(--cl-primary);\n        color: white;\n      }\n    }\n  }\n\n  .dots {\n    display: flex;\n    align-items: center;\n  }\n\n  .label-row {\n    display: flex;\n    align-items: center;\n    gap: 5px;\n    padding-bottom: 5px;\n  }\n\n  .notOnList {\n    opacity: 0.5;\n    transition: opacity @fast-transition ease-in-out;\n  }\n\n  &:hover .notOnList {\n    opacity: 1;\n  }\n\n  &.loading {\n    .form-section,\n    .update-buttons {\n      .skeleton-text-block();\n      * {\n        visibility: hidden;\n      }\n    }\n  }\n\n  &.singleLoading {\n    .form-section {\n      pointer-events: none;\n    }\n    .update-buttons {\n      .skeleton-text-block();\n      * {\n        visibility: hidden;\n      }\n    }\n  }\n}\n\n.progress-picked {\n  display: flex;\n  align-items: center;\n  gap: 5px;\n  justify-content: center;\n}\n\n.increase {\n  .click-move-down();\n  .link();\n  .block-select();\n}\n</style>\n","import script from \"./overview-update-ui.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./overview-update-ui.vue?vue&type=script&lang=ts&setup=true\"\n\nimport _style_0 from \"./overview-update-ui.vue?vue&type=style&index=0&id=0fecc957&inline&lang=less&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['styles',[_style_0]],['__scopeId',\"data-v-0fecc957\"],['__file',\"overview-update-ui.vue\"]])\n\nexport default __exports__","export default \"/* stylelint-disable prettier/prettier */\\n/* Aspect ratios */\\n/* Transitions */\\n/* Typography */\\n/* Shadows */\\n/* Fonts */\\n@keyframes skeleton-loading-malsync-0fecc957 {\\nto {\\n    transform: translateX(100%);\\n}\\n}\\n.update-buttons[data-v-0fecc957],\\n.label[data-v-0fecc957] {\\n  color: var(--cl-light-text);\\n}\\n.update-ui .list-select[data-v-0fecc957] {\\n  margin-bottom: var(--size-spacer-half);\\n  padding-bottom: 3px;\\n  min-height: 36px;\\n}\\n.update-ui .progress-select[data-v-0fecc957] {\\n  margin-bottom: var(--size-spacer-half);\\n  min-height: 60px;\\n}\\n.update-ui .score-select[data-v-0fecc957] {\\n  min-height: 60px;\\n}\\n.update-ui .volume-select[data-v-0fecc957] {\\n  margin-bottom: var(--size-spacer-half);\\n  min-height: 60px;\\n}\\n.update-ui .form-section[data-v-0fecc957] {\\n  margin-bottom: var(--size-spacer-half);\\n}\\n.update-ui .update-buttons[data-v-0fecc957] {\\n  display: flex;\\n  justify-content: space-around;\\n  text-align: center;\\n  align-items: center;\\n}\\n@media screen and (min-width: 900px) {\\n.update-ui .update-buttons[data-v-0fecc957] {\\n    min-height: 48px;\\n}\\n}\\n.update-ui .update-buttons .update-button[data-v-0fecc957] {\\n  transition: transform 0.25s ease;\\n  cursor: pointer;\\n  border-radius: 10px;\\n  user-select: none;\\n  vertical-align: middle;\\n  padding: 10px 15px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  flex-wrap: wrap;\\n  gap: 10px;\\n}\\n.update-ui .update-buttons .update-button[data-v-0fecc957]:active {\\n  transition-delay: 0s !important;\\n  transform: translateY(3px);\\n}\\n.update-ui .update-buttons .update-button.add[data-v-0fecc957] {\\n  width: 100%;\\n  background-color: var(--cl-primary);\\n  color: white;\\n  border: 2px solid var(--cl-primary);\\n}\\n.update-ui .update-buttons .update-button.add[data-v-0fecc957]:hover {\\n  border-color: white;\\n}\\n.update-ui .update-buttons .update-button[data-v-0fecc957]:hover {\\n  background-color: var(--cl-primary);\\n  color: white;\\n}\\n.update-ui .dots[data-v-0fecc957] {\\n  display: flex;\\n  align-items: center;\\n}\\n.update-ui .label-row[data-v-0fecc957] {\\n  display: flex;\\n  align-items: center;\\n  gap: 5px;\\n  padding-bottom: 5px;\\n}\\n.update-ui .notOnList[data-v-0fecc957] {\\n  opacity: 0.5;\\n  transition: opacity 0.25s ease-in-out;\\n}\\n.update-ui:hover .notOnList[data-v-0fecc957] {\\n  opacity: 1;\\n}\\n.update-ui.loading .form-section[data-v-0fecc957],\\n.update-ui.loading .update-buttons[data-v-0fecc957] {\\n  position: relative;\\n  overflow: hidden;\\n  transition: background-color 0.1s ease-in-out;\\n  background-color: var(--cl-backdrop);\\n  width: 100%;\\n  border-radius: 0.25rem;\\n}\\n.update-ui.loading .form-section[data-v-0fecc957]::after,\\n.update-ui.loading .update-buttons[data-v-0fecc957]::after {\\n  opacity: var(--cl-loading);\\n  transition: opacity 0.25s ease-in-out;\\n  animation: skeleton-loading-malsync-0fecc957 1.5s infinite;\\n  content: '';\\n  height: 100%;\\n  left: 0;\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n  transform: translateX(-100%);\\n  z-index: 1;\\n  background: linear-gradient(90deg, hsla(0, 0%, 100%, 0), var(--cl-backdrop), hsla(0, 0%, 100%, 0));\\n  filter: brightness(1.15);\\n}\\n.update-ui.loading .form-section[data-v-0fecc957] *,\\n.update-ui.loading .update-buttons[data-v-0fecc957] * {\\n  visibility: hidden;\\n}\\n.update-ui.singleLoading .form-section[data-v-0fecc957] {\\n  pointer-events: none;\\n}\\n.update-ui.singleLoading .update-buttons[data-v-0fecc957] {\\n  position: relative;\\n  overflow: hidden;\\n  transition: background-color 0.1s ease-in-out;\\n  background-color: var(--cl-backdrop);\\n  width: 100%;\\n  border-radius: 0.25rem;\\n}\\n.update-ui.singleLoading .update-buttons[data-v-0fecc957]::after {\\n  opacity: var(--cl-loading);\\n  transition: opacity 0.25s ease-in-out;\\n  animation: skeleton-loading-malsync-0fecc957 1.5s infinite;\\n  content: '';\\n  height: 100%;\\n  left: 0;\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n  transform: translateX(-100%);\\n  z-index: 1;\\n  background: linear-gradient(90deg, hsla(0, 0%, 100%, 0), var(--cl-backdrop), hsla(0, 0%, 100%, 0));\\n  filter: brightness(1.15);\\n}\\n.update-ui.singleLoading .update-buttons[data-v-0fecc957] * {\\n  visibility: hidden;\\n}\\n.progress-picked[data-v-0fecc957] {\\n  display: flex;\\n  align-items: center;\\n  gap: 5px;\\n  justify-content: center;\\n}\\n.increase[data-v-0fecc957] {\\n  transition: transform 0.25s ease;\\n  cursor: pointer;\\n  user-select: none;\\n}\\n.increase[data-v-0fecc957]:active {\\n  transition-delay: 0s !important;\\n  transform: translateY(3px);\\n}\\n\"","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, createVNode as _createVNode, unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = (n: any) => (_pushScopeId(\"data-v-4242a047\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 0,\n  class: \"grid\"\n}\nconst _hoisted_2 = {\n  key: 1,\n  class: \"grid\"\n}\n\nimport { computed, PropType } from 'vue';\nimport Header from '../header.vue';\nimport FormButton from '../form/form-button.vue';\nimport TextIcon from '../text-icon.vue';\nimport FormDropdown from '../form/form-dropdown.vue';\nimport MediaLink from '../media-link.vue';\nimport { createRequest } from '../../utils/reactive';\nimport { activeLinks, Quicklink, combinedLinks } from '../../../utils/quicklinksBuilder';\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'overview-streaming',\n  props: {\n  type: {\n    type: String as PropType<'anime' | 'manga'>,\n    default: 'anime',\n  },\n  cacheKey: {\n    type: [String, Number],\n    default: '',\n  },\n  title: {\n    type: String,\n    default: '',\n  },\n  alternativeTitle: {\n    type: Array as PropType<string[]>,\n    default: () => [],\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\nconst placeholder = computed(() => {\n  return combinedLinks().filter(el => el.search && el.search[props.type]);\n});\n\nconst parameters = computed(() => {\n  if (props.cacheKey) {\n    return {\n      type: props.type,\n      cacheKey: props.cacheKey,\n      title: props.title,\n    };\n  }\n  return null;\n});\n\nconst streamRequest = createRequest(\n  parameters,\n  param => {\n    if (!param || !param.value) {\n      return Promise.resolve(null);\n    }\n\n    return activeLinks(param.value.type, param.value.cacheKey, param.value.title);\n  },\n  {\n    cache: {\n      prefix: 'overview-streaming',\n      ttl: 10 * 1000,\n      refetchTtl: 7 * 24 * 60 * 60 * 1000,\n    },\n  },\n);\n\nconst favicon = (url: string) => {\n  return utils.favicon(url.split('/')[2]);\n};\n\nconst groupIcon = (el: Quicklink) => {\n  switch (el.group) {\n    case 'link': {\n      const { length } = el.links;\n      if (length < 2) {\n        return '';\n      }\n      if (length > 9) {\n        return 'filter_9_plus';\n      }\n      return `filter_${length}`;\n    }\n    case 'home':\n      return 'home';\n    case 'search':\n      return 'search';\n    default:\n      throw new Error(`Unknown group: ${el.group}`);\n  }\n};\n\nconst options = (el: Quicklink) => {\n  if (el.group === 'search') {\n    if (!parameters.value || !el.links[0].fn) {\n      return [\n        {\n          title: el.links[0].name,\n          value: el.links[0].url,\n        },\n      ];\n    }\n    const searchFn = el.links[0].fn;\n    const titles = [...new Set([parameters.value.title, ...props.alternativeTitle])];\n\n    return titles.map(title => {\n      return {\n        title,\n        value: searchFn(title),\n      };\n    });\n  }\n\n  return el.links.map(l => {\n    return {\n      value: l.url,\n      title: l.name,\n    };\n  });\n};\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", null, [\n    _createVNode(Header, {\n      spacer: true,\n      class: \"head\"\n    }, {\n      default: _withCtx(() => [\n        _createTextVNode(_toDisplayString(_ctx.lang('overview_Streaming')), 1 /* TEXT */)\n      ]),\n      _: 1 /* STABLE */\n    }),\n    (_unref(streamRequest).loading || !_unref(streamRequest).data)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(placeholder.value, (b) => {\n            return (_openBlock(), _createBlock(FormButton, {\n              key: b.name,\n              class: \"placeholder-link btn\"\n            }, {\n              default: _withCtx(() => [\n                _createVNode(TextIcon, { icon: \"sync\" }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(_toDisplayString(b.name), 1 /* TEXT */)\n                  ]),\n                  _: 2 /* DYNAMIC */\n                }, 1024 /* DYNAMIC_SLOTS */)\n              ]),\n              _: 2 /* DYNAMIC */\n            }, 1024 /* DYNAMIC_SLOTS */))\n          }), 128 /* KEYED_FRAGMENT */))\n        ]))\n      : (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(streamRequest).data!, (b) => {\n            return (_openBlock(), _createElementBlock(_Fragment, {\n              key: b.name\n            }, [\n              (options(b).length === 1)\n                ? (_openBlock(), _createBlock(FormButton, {\n                    key: 0,\n                    icon: groupIcon(b),\n                    class: \"btn\",\n                    link: options(b)[0].value\n                  }, {\n                    default: _withCtx(() => [\n                      _createVNode(TextIcon, {\n                        src: favicon(b.domain)\n                      }, {\n                        default: _withCtx(() => [\n                          _createTextVNode(_toDisplayString(b.name), 1 /* TEXT */)\n                        ]),\n                        _: 2 /* DYNAMIC */\n                      }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"src\"])\n                    ]),\n                    _: 2 /* DYNAMIC */\n                  }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"icon\", \"link\"]))\n                : (_openBlock(), _createBlock(FormDropdown, {\n                    key: 1,\n                    options: options(b),\n                    \"align-items\": \"left\"\n                  }, {\n                    select: _withCtx(() => [\n                      _createVNode(FormButton, {\n                        animation: false,\n                        icon: groupIcon(b),\n                        class: \"btn\",\n                        tabindex: -1\n                      }, {\n                        default: _withCtx(() => [\n                          _createVNode(TextIcon, {\n                            src: favicon(b.domain)\n                          }, {\n                            default: _withCtx(() => [\n                              _createTextVNode(_toDisplayString(b.name), 1 /* TEXT */)\n                            ]),\n                            _: 2 /* DYNAMIC */\n                          }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"src\"])\n                        ]),\n                        _: 2 /* DYNAMIC */\n                      }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"icon\"])\n                    ]),\n                    option: _withCtx((slotProps) => [\n                      _createVNode(MediaLink, {\n                        href: slotProps.option.value as string,\n                        class: \"dropdown-link\",\n                        onMousedown: _cache[0] || (_cache[0] = _withModifiers(() => {}, [\"prevent\"]))\n                      }, {\n                        default: _withCtx(() => [\n                          _createTextVNode(_toDisplayString(slotProps.option.title), 1 /* TEXT */)\n                        ]),\n                        _: 2 /* DYNAMIC */\n                      }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"href\"])\n                    ]),\n                    _: 2 /* DYNAMIC */\n                  }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"options\"]))\n            ], 64 /* STABLE_FRAGMENT */))\n          }), 128 /* KEYED_FRAGMENT */))\n        ]))\n  ]))\n}\n}\n\n})","<template>\n  <div>\n    <Header :spacer=\"true\" class=\"head\">{{ lang('overview_Streaming') }}</Header>\n    <div v-if=\"streamRequest.loading || !streamRequest.data\" class=\"grid\">\n      <FormButton v-for=\"b in placeholder\" :key=\"b.name\" class=\"placeholder-link btn\">\n        <TextIcon icon=\"sync\">{{ b.name }}</TextIcon>\n      </FormButton>\n    </div>\n    <div v-else class=\"grid\">\n      <template v-for=\"b in streamRequest.data!\" :key=\"b.name\">\n        <FormButton\n          v-if=\"options(b).length === 1\"\n          :icon=\"groupIcon(b)\"\n          class=\"btn\"\n          :link=\"options(b)[0].value\"\n        >\n          <TextIcon :src=\"favicon(b.domain)\">{{ b.name }}</TextIcon>\n        </FormButton>\n        <FormDropdown v-else :options=\"options(b)\" align-items=\"left\">\n          <template #select>\n            <FormButton :animation=\"false\" :icon=\"groupIcon(b)\" class=\"btn\" :tabindex=\"-1\">\n              <TextIcon :src=\"favicon(b.domain)\">{{ b.name }}</TextIcon>\n            </FormButton>\n          </template>\n          <template #option=\"slotProps\">\n            <MediaLink\n              :href=\"slotProps.option.value as string\"\n              class=\"dropdown-link\"\n              @mousedown.prevent=\"\"\n            >\n              {{ slotProps.option.title }}\n            </MediaLink>\n          </template>\n        </FormDropdown>\n      </template>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, PropType } from 'vue';\nimport Header from '../header.vue';\nimport FormButton from '../form/form-button.vue';\nimport TextIcon from '../text-icon.vue';\nimport FormDropdown from '../form/form-dropdown.vue';\nimport MediaLink from '../media-link.vue';\nimport { createRequest } from '../../utils/reactive';\nimport { activeLinks, Quicklink, combinedLinks } from '../../../utils/quicklinksBuilder';\n\nconst props = defineProps({\n  type: {\n    type: String as PropType<'anime' | 'manga'>,\n    default: 'anime',\n  },\n  cacheKey: {\n    type: [String, Number],\n    default: '',\n  },\n  title: {\n    type: String,\n    default: '',\n  },\n  alternativeTitle: {\n    type: Array as PropType<string[]>,\n    default: () => [],\n  },\n});\n\nconst placeholder = computed(() => {\n  return combinedLinks().filter(el => el.search && el.search[props.type]);\n});\n\nconst parameters = computed(() => {\n  if (props.cacheKey) {\n    return {\n      type: props.type,\n      cacheKey: props.cacheKey,\n      title: props.title,\n    };\n  }\n  return null;\n});\n\nconst streamRequest = createRequest(\n  parameters,\n  param => {\n    if (!param || !param.value) {\n      return Promise.resolve(null);\n    }\n\n    return activeLinks(param.value.type, param.value.cacheKey, param.value.title);\n  },\n  {\n    cache: {\n      prefix: 'overview-streaming',\n      ttl: 10 * 1000,\n      refetchTtl: 7 * 24 * 60 * 60 * 1000,\n    },\n  },\n);\n\nconst favicon = (url: string) => {\n  return utils.favicon(url.split('/')[2]);\n};\n\nconst groupIcon = (el: Quicklink) => {\n  switch (el.group) {\n    case 'link': {\n      const { length } = el.links;\n      if (length < 2) {\n        return '';\n      }\n      if (length > 9) {\n        return 'filter_9_plus';\n      }\n      return `filter_${length}`;\n    }\n    case 'home':\n      return 'home';\n    case 'search':\n      return 'search';\n    default:\n      throw new Error(`Unknown group: ${el.group}`);\n  }\n};\n\nconst options = (el: Quicklink) => {\n  if (el.group === 'search') {\n    if (!parameters.value || !el.links[0].fn) {\n      return [\n        {\n          title: el.links[0].name,\n          value: el.links[0].url,\n        },\n      ];\n    }\n    const searchFn = el.links[0].fn;\n    const titles = [...new Set([parameters.value.title, ...props.alternativeTitle])];\n\n    return titles.map(title => {\n      return {\n        title,\n        value: searchFn(title),\n      };\n    });\n  }\n\n  return el.links.map(l => {\n    return {\n      value: l.url,\n      title: l.name,\n    };\n  });\n};\n</script>\n\n<style lang=\"less\" scoped>\n@import '../../less/_globals.less';\n\n.__breakpoint-desktop__( {\n  .head {\n    display: none;\n  }\n});\n\n.grid {\n  display: flex;\n  gap: @spacer-half;\n  flex-wrap: wrap;\n}\n\n.dropdown-link {\n  display: block;\n  margin: -7px -17px;\n  padding: 7px 17px;\n}\n\n.placeholder-link {\n  .skeleton-loading();\n\n  background-color: var(--cl-backdrop) !important;\n\n  & > span {\n    visibility: hidden;\n  }\n}\n\n.btn {\n  min-height: 34px;\n  .__breakpoint-popup__({\n    min-height: 32px;\n  });\n}\n</style>\n","import script from \"./overview-streaming.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./overview-streaming.vue?vue&type=script&lang=ts&setup=true\"\n\nimport _style_0 from \"./overview-streaming.vue?vue&type=style&index=0&id=4242a047&inline&lang=less&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['styles',[_style_0]],['__scopeId',\"data-v-4242a047\"],['__file',\"overview-streaming.vue\"]])\n\nexport default __exports__","export default \"/* stylelint-disable prettier/prettier */\\n/* Aspect ratios */\\n/* Transitions */\\n/* Typography */\\n/* Shadows */\\n/* Fonts */\\n@keyframes skeleton-loading-malsync-4242a047 {\\nto {\\n    transform: translateX(100%);\\n}\\n}\\n@media screen and (min-width: 900px) {\\n.head[data-v-4242a047] {\\n    display: none;\\n}\\n}\\n.grid[data-v-4242a047] {\\n  display: flex;\\n  gap: var(--size-spacer-half);\\n  flex-wrap: wrap;\\n}\\n.dropdown-link[data-v-4242a047] {\\n  display: block;\\n  margin: -7px -17px;\\n  padding: 7px 17px;\\n}\\n.placeholder-link[data-v-4242a047] {\\n  position: relative;\\n  overflow: hidden;\\n  transition: background-color 0.1s ease-in-out;\\n  background-color: var(--cl-backdrop) !important;\\n}\\n.placeholder-link[data-v-4242a047]::after {\\n  opacity: var(--cl-loading);\\n  transition: opacity 0.25s ease-in-out;\\n  animation: skeleton-loading-malsync-4242a047 1.5s infinite;\\n  content: '';\\n  height: 100%;\\n  left: 0;\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n  transform: translateX(-100%);\\n  z-index: 1;\\n  background: linear-gradient(90deg, hsla(0, 0%, 100%, 0), var(--cl-backdrop), hsla(0, 0%, 100%, 0));\\n  filter: brightness(1.15);\\n}\\n.placeholder-link > span[data-v-4242a047] {\\n  visibility: hidden;\\n}\\n.btn[data-v-4242a047] {\\n  min-height: 34px;\\n}\\n@media screen and (max-width: 600px) {\\n.btn[data-v-4242a047] {\\n    min-height: 32px;\\n}\\n}\\n\"","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = (n: any) => (_pushScopeId(\"data-v-55a0c917\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { key: 0 }\nconst _hoisted_2 = { class: \"cover-el\" }\nconst _hoisted_3 = { class: \"name\" }\nconst _hoisted_4 = {\n  key: 0,\n  class: \"role\"\n}\n\nimport { PropType } from 'vue';\nimport { Overview } from '../../../_provider/metaOverviewAbstract';\nimport Header from '../header.vue';\nimport ImageFit from '../image-fit.vue';\nimport Grid from '../grid.vue';\nimport MediaLink from '../media-link.vue';\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'overview-characters',\n  props: {\n  characters: {\n    type: Array as PropType<Overview['characters']>,\n    required: false,\n    default: () => [],\n  },\n},\n  setup(__props) {\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (__props.characters.length)\n    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createVNode(Header, { spacer: true }, {\n          default: _withCtx(() => [\n            _createTextVNode(_toDisplayString(_ctx.lang('overview_Characters')), 1 /* TEXT */)\n          ]),\n          _: 1 /* STABLE */\n        }),\n        _createVNode(Grid, { \"min-width-popup\": 90 }, {\n          default: _withCtx(() => [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(__props.characters, (char) => {\n              return (_openBlock(), _createBlock(MediaLink, {\n                key: char.name,\n                class: \"character\",\n                href: char.url,\n                \"focus-state\": false\n              }, {\n                default: _withCtx(() => [\n                  _createElementVNode(\"div\", _hoisted_2, [\n                    _createVNode(ImageFit, {\n                      mode: \"cover\",\n                      src: char.img\n                    }, null, 8 /* PROPS */, [\"src\"])\n                  ]),\n                  _createElementVNode(\"div\", null, [\n                    _createElementVNode(\"div\", _hoisted_3, _toDisplayString(char.name), 1 /* TEXT */),\n                    (char.subtext)\n                      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, _toDisplayString(char.subtext), 1 /* TEXT */))\n                      : _createCommentVNode(\"v-if\", true)\n                  ])\n                ]),\n                _: 2 /* DYNAMIC */\n              }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"href\"]))\n            }), 128 /* KEYED_FRAGMENT */))\n          ]),\n          _: 1 /* STABLE */\n        })\n      ]))\n    : _createCommentVNode(\"v-if\", true)\n}\n}\n\n})","import script from \"./overview-characters.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./overview-characters.vue?vue&type=script&lang=ts&setup=true\"\n\nimport _style_0 from \"./overview-characters.vue?vue&type=style&index=0&id=55a0c917&inline&lang=less&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['styles',[_style_0]],['__scopeId',\"data-v-55a0c917\"],['__file',\"overview-characters.vue\"]])\n\nexport default __exports__","export default \"/* stylelint-disable prettier/prettier */\\n/* Aspect ratios */\\n/* Transitions */\\n/* Typography */\\n/* Shadows */\\n/* Fonts */\\n@keyframes skeleton-loading-malsync-55a0c917 {\\nto {\\n    transform: translateX(100%);\\n}\\n}\\n.cover-el[data-v-55a0c917] {\\n  transition: transform 0.25s ease;\\n}\\n.cover-el[data-v-55a0c917]:active {\\n  transition-delay: 0s !important;\\n  transform: translateY(3px);\\n}\\n.name[data-v-55a0c917] {\\n  font-weight: bold;\\n  margin-top: 10px;\\n}\\n.role[data-v-55a0c917] {\\n  margin-top: 5px;\\n  color: var(--cl-light-text);\\n}\\n.character:focus-visible .cover[data-v-55a0c917] {\\n  outline: 2px solid var(--cl-secondary);\\n  outline-width: 4px;\\n}\\n\"","import { defineComponent as _defineComponent } from 'vue'\nimport { renderSlot as _renderSlot, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, Fragment as _Fragment, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = (n: any) => (_pushScopeId(\"data-v-75760b90\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { key: 0 }\n\nimport { computed, PropType, ref } from 'vue';\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'pagination',\n  props: {\n  elements: {\n    type: Array as PropType<any[]>,\n    required: true,\n  },\n  entriesPerPage: {\n    type: Number,\n    default: 10,\n  },\n  openAll: {\n    type: Boolean,\n    default: false,\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\nconst page = ref(1);\n\nconst pageElements = computed(() => {\n  if (props.openAll && page.value > 1) return props.elements;\n  const start = (page.value - 1) * props.entriesPerPage;\n  const end = start + props.entriesPerPage;\n  return props.elements.slice(0, end);\n});\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", null, [\n      _renderSlot(_ctx.$slots, \"elements\", { elements: pageElements.value })\n    ]),\n    (pageElements.value.length !== __props.elements.length)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n          _createElementVNode(\"div\", {\n            class: \"material-icons next\",\n            onClick: _cache[0] || (_cache[0] = ($event: any) => (page.value++))\n          }, \"arrow_downward\")\n        ]))\n      : _createCommentVNode(\"v-if\", true)\n  ], 64 /* STABLE_FRAGMENT */))\n}\n}\n\n})","<template>\n  <div>\n    <slot name=\"elements\" :elements=\"pageElements\" />\n  </div>\n  <div v-if=\"pageElements.length !== elements.length\">\n    <div class=\"material-icons next\" @click=\"page++\">arrow_downward</div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, PropType, ref } from 'vue';\n\nconst props = defineProps({\n  elements: {\n    type: Array as PropType<any[]>,\n    required: true,\n  },\n  entriesPerPage: {\n    type: Number,\n    default: 10,\n  },\n  openAll: {\n    type: Boolean,\n    default: false,\n  },\n});\n\nconst page = ref(1);\n\nconst pageElements = computed(() => {\n  if (props.openAll && page.value > 1) return props.elements;\n  const start = (page.value - 1) * props.entriesPerPage;\n  const end = start + props.entriesPerPage;\n  return props.elements.slice(0, end);\n});\n</script>\n\n<style lang=\"less\" scoped>\n@import '../less/_globals.less';\n\n.next {\n  .border-radius();\n  .link();\n  .click-move-down();\n\n  text-align: center;\n  display: block;\n  padding: 5px 15px;\n  border: 2px solid var(--cl-backdrop);\n  background-color: var(--cl-foreground);\n\n  &:hover {\n    border-color: var(--cl-border-hover);\n  }\n}\n</style>\n","import script from \"./pagination.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./pagination.vue?vue&type=script&lang=ts&setup=true\"\n\nimport _style_0 from \"./pagination.vue?vue&type=style&index=0&id=75760b90&inline&lang=less&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['styles',[_style_0]],['__scopeId',\"data-v-75760b90\"],['__file',\"pagination.vue\"]])\n\nexport default __exports__","export default \"/* stylelint-disable prettier/prettier */\\n/* Aspect ratios */\\n/* Transitions */\\n/* Typography */\\n/* Shadows */\\n/* Fonts */\\n@keyframes skeleton-loading-malsync-75760b90 {\\nto {\\n    transform: translateX(100%);\\n}\\n}\\n.next[data-v-75760b90] {\\n  border-radius: 10px;\\n  cursor: pointer;\\n  transition: transform 0.25s ease;\\n  text-align: center;\\n  display: block;\\n  padding: 5px 15px;\\n  border: 2px solid var(--cl-backdrop);\\n  background-color: var(--cl-foreground);\\n}\\n.next[data-v-75760b90]:active {\\n  transition-delay: 0s !important;\\n  transform: translateY(3px);\\n}\\n.next[data-v-75760b90]:hover {\\n  border-color: var(--cl-border-hover);\\n}\\n\"","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createBlock as _createBlock, renderList as _renderList, Fragment as _Fragment, normalizeClass as _normalizeClass, resolveDirective as _resolveDirective, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = (n: any) => (_pushScopeId(\"data-v-13bbe19c\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"loading-placeholder\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"skeleton-text\" }, null, -1 /* HOISTED */))\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"skeleton-text\" }, null, -1 /* HOISTED */))\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"skeleton-text\" }, null, -1 /* HOISTED */))\nconst _hoisted_5 = {\n  key: 0,\n  class: \"text\"\n}\nconst _hoisted_6 = { class: \"load-button\" }\nconst _hoisted_7 = { class: \"text\" }\n\nimport { ref, computed, watch, PropType } from 'vue';\nimport { createRequest } from '../../utils/reactive';\nimport Header from '../header.vue';\nimport { reviewMeta } from './overview-reviews-meta';\nimport MediaLink from '../media-link.vue';\nimport Description from '../description.vue';\nimport Section from '../section.vue';\nimport FormButton from '../form/form-button.vue';\nimport Pagination from '../pagination.vue';\nimport ImageText from '../image-text.vue';\nimport HR from '../hr.vue';\nimport Empty from '../empty.vue';\nimport Card from '../card.vue';\nimport { Review } from '../../../_provider/metaOverviewAbstract';\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'overview-reviews',\n  props: {\n  reviews: {\n    type: Array as PropType<Review[]>,\n    default: () => [],\n  },\n  malUrl: {\n    type: String,\n    required: true,\n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\nconst parameters = ref({\n  url: computed(() => props.malUrl),\n  load: false,\n});\n\nconst metaRequest = createRequest(parameters, params => reviewMeta(params.value.url), {\n  executeCondition: params => params.value.load && params.value.url,\n  cache: {\n    prefix: 'overview-reviews',\n    ttl: 7 * 24 * 60 * 60 * 1000,\n    refetchTtl: 7 * 24 * 60 * 60 * 1000,\n    keyFn: params => params.value.url,\n  },\n});\n\nwatch(\n  () => props.malUrl,\n  () => {\n    parameters.value.load = false;\n  },\n);\n\nconst data = computed(() =>\n  props.reviews && props.reviews.length ? props.reviews : metaRequest.data,\n);\n\nconst cleanDescription = desc => {\n  if (!desc) return '';\n  return desc.replace(/(< *\\/? *br *\\/? *>(\\r|\\n| )*){2,}/gim, '<br /><br />');\n};\n\nreturn (_ctx: any,_cache: any) => {\n  const _directive_dompurify_html = _resolveDirective(\"dompurify-html\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass({ stopLoading: !_unref(metaRequest).loading })\n  }, [\n    _createVNode(Header, { spacer: true }, {\n      default: _withCtx(() => [\n        _createTextVNode(_toDisplayString(_ctx.lang('minimalApp_Reviews')), 1 /* TEXT */)\n      ]),\n      _: 1 /* STABLE */\n    }),\n    (\n        _unref(metaRequest).loading ||\n        (!_unref(metaRequest).loading && !parameters.value.load && !_unref(metaRequest).cache && !__props.reviews.length)\n      )\n      ? (_openBlock(), _createBlock(Card, {\n          key: 0,\n          class: \"grid\"\n        }, {\n          default: _withCtx(() => [\n            _createElementVNode(\"div\", _hoisted_1, [\n              _createVNode(ImageText, {\n                href: \"\",\n                image: \"\",\n                loading: true\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(Header, { class: \"skeleton-text\" }, {\n                    default: _withCtx(() => [\n                      _createVNode(MediaLink, { href: \"\" })\n                    ]),\n                    _: 1 /* STABLE */\n                  }),\n                  _hoisted_2,\n                  _hoisted_3,\n                  _hoisted_4\n                ]),\n                _: 1 /* STABLE */\n              }),\n              (_unref(metaRequest).loading)\n                ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n                    _createVNode(Description, {\n                      loading: true,\n                      height: 150\n                    })\n                  ]))\n                : _createCommentVNode(\"v-if\", true),\n              _createElementVNode(\"div\", _hoisted_6, [\n                (!_unref(metaRequest).loading)\n                  ? (_openBlock(), _createBlock(FormButton, {\n                      key: 0,\n                      padding: \"large\",\n                      color: \"secondary\",\n                      onClick: _cache[0] || (_cache[0] = ($event: any) => (parameters.value.load = true))\n                    }, {\n                      default: _withCtx(() => [\n                        _createTextVNode(_toDisplayString(_ctx.lang('Load')), 1 /* TEXT */)\n                      ]),\n                      _: 1 /* STABLE */\n                    }))\n                  : _createCommentVNode(\"v-if\", true)\n              ])\n            ])\n          ]),\n          _: 1 /* STABLE */\n        }))\n      : _createCommentVNode(\"v-if\", true),\n    (!_unref(metaRequest).loading && data.value && data.value.length)\n      ? (_openBlock(), _createElementBlock(\"div\", {\n          key: 1,\n          class: _normalizeClass({ grid: !_unref(metaRequest).cache && !__props.reviews.length })\n        }, [\n          _createVNode(Pagination, {\n            \"entries-per-page\": 3,\n            elements: data.value\n          }, {\n            elements: _withCtx(({ elements }) => [\n              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(elements, (review, index) => {\n                return (_openBlock(), _createBlock(Section, {\n                  key: review.user.name\n                }, {\n                  default: _withCtx(() => [\n                    index\n                      ? (_openBlock(), _createBlock(HR, {\n                          key: 0,\n                          size: \"thin\"\n                        }))\n                      : _createCommentVNode(\"v-if\", true),\n                    _createVNode(ImageText, {\n                      href: review.user.href,\n                      image: review.user.image\n                    }, {\n                      default: _withCtx(() => [\n                        _createVNode(Header, null, {\n                          default: _withCtx(() => [\n                            _createVNode(MediaLink, {\n                              href: review.user.href\n                            }, {\n                              default: _withCtx(() => [\n                                _createTextVNode(_toDisplayString(review.user.name), 1 /* TEXT */)\n                              ]),\n                              _: 2 /* DYNAMIC */\n                            }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"href\"])\n                          ]),\n                          _: 2 /* DYNAMIC */\n                        }, 1024 /* DYNAMIC_SLOTS */),\n                        _createElementVNode(\"div\", null, _toDisplayString(review.body.date), 1 /* TEXT */),\n                        _createElementVNode(\"div\", null, [\n                          _createTextVNode(\" Overall Rating: \"),\n                          _createElementVNode(\"strong\", null, _toDisplayString(review.body.rating), 1 /* TEXT */)\n                        ]),\n                        _createElementVNode(\"div\", null, [\n                          _createElementVNode(\"strong\", null, _toDisplayString(review.body.people), 1 /* TEXT */),\n                          _createTextVNode(\" people found this review helpful \")\n                        ])\n                      ]),\n                      _: 2 /* DYNAMIC */\n                    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"href\", \"image\"]),\n                    _createElementVNode(\"div\", _hoisted_7, [\n                      _createVNode(Description, { height: 150 }, {\n                        default: _withCtx(() => [\n                          _withDirectives(_createElementVNode(\"div\", {\n                            class: _normalizeClass([\"description-html\", {\n                    preLine: !(review.body.text.includes('<br') || review.body.text.includes('<p')),\n                  }]),\n                            dir: \"auto\"\n                          }, null, 2 /* CLASS */), [\n                            [_directive_dompurify_html, cleanDescription(review.body.text), \"noMedia\"]\n                          ])\n                        ]),\n                        _: 2 /* DYNAMIC */\n                      }, 1024 /* DYNAMIC_SLOTS */)\n                    ])\n                  ]),\n                  _: 2 /* DYNAMIC */\n                }, 1024 /* DYNAMIC_SLOTS */))\n              }), 128 /* KEYED_FRAGMENT */))\n            ]),\n            _: 1 /* STABLE */\n          }, 8 /* PROPS */, [\"elements\"])\n        ], 2 /* CLASS */))\n      : _createCommentVNode(\"v-if\", true),\n    (!_unref(metaRequest).loading && data.value && !data.value.length)\n      ? (_openBlock(), _createBlock(Section, { key: 2 }, {\n          default: _withCtx(() => [\n            _createVNode(Empty, { card: true })\n          ]),\n          _: 1 /* STABLE */\n        }))\n      : _createCommentVNode(\"v-if\", true)\n  ], 2 /* CLASS */))\n}\n}\n\n})","<template>\n  <div :class=\"{ stopLoading: !metaRequest.loading }\">\n    <Header :spacer=\"true\">{{ lang('minimalApp_Reviews') }}</Header>\n    <Card\n      v-if=\"\n        metaRequest.loading ||\n        (!metaRequest.loading && !parameters.load && !metaRequest.cache && !reviews.length)\n      \"\n      class=\"grid\"\n    >\n      <div class=\"loading-placeholder\">\n        <ImageText href=\"\" image=\"\" :loading=\"true\">\n          <Header class=\"skeleton-text\">\n            <MediaLink href=\"\"></MediaLink>\n          </Header>\n          <div class=\"skeleton-text\"></div>\n          <div class=\"skeleton-text\"></div>\n          <div class=\"skeleton-text\"></div>\n        </ImageText>\n        <div v-if=\"metaRequest.loading\" class=\"text\">\n          <Description :loading=\"true\" :height=\"150\"></Description>\n        </div>\n        <div class=\"load-button\">\n          <FormButton\n            v-if=\"!metaRequest.loading\"\n            padding=\"large\"\n            color=\"secondary\"\n            @click=\"parameters.load = true\"\n          >\n            {{ lang('Load') }}\n          </FormButton>\n        </div>\n      </div>\n    </Card>\n    <div\n      v-if=\"!metaRequest.loading && data && data.length\"\n      :class=\"{ grid: !metaRequest.cache && !reviews.length }\"\n    >\n      <Pagination :entries-per-page=\"3\" :elements=\"data\">\n        <template #elements=\"{ elements }\">\n          <Section v-for=\"(review, index) in elements\" :key=\"review.user.name\">\n            <HR v-if=\"index\" size=\"thin\" />\n            <ImageText :href=\"review.user.href\" :image=\"review.user.image\">\n              <Header>\n                <MediaLink :href=\"review.user.href\">{{ review.user.name }}</MediaLink>\n              </Header>\n              <div>{{ review.body.date }}</div>\n              <div>\n                Overall Rating: <strong>{{ review.body.rating }}</strong>\n              </div>\n              <div>\n                <strong>{{ review.body.people }}</strong> people found this review helpful\n              </div>\n            </ImageText>\n            <div class=\"text\">\n              <Description :height=\"150\">\n                <div\n                  v-dompurify-html:noMedia=\"cleanDescription(review.body.text)\"\n                  class=\"description-html\"\n                  dir=\"auto\"\n                  :class=\"{\n                    preLine: !(review.body.text.includes('<br') || review.body.text.includes('<p')),\n                  }\"\n                />\n              </Description>\n            </div>\n          </Section>\n        </template>\n      </Pagination>\n    </div>\n    <Section v-if=\"!metaRequest.loading && data && !data.length\">\n      <Empty :card=\"true\" />\n    </Section>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { ref, computed, watch, PropType } from 'vue';\nimport { createRequest } from '../../utils/reactive';\nimport Header from '../header.vue';\nimport { reviewMeta } from './overview-reviews-meta';\nimport MediaLink from '../media-link.vue';\nimport Description from '../description.vue';\nimport Section from '../section.vue';\nimport FormButton from '../form/form-button.vue';\nimport Pagination from '../pagination.vue';\nimport ImageText from '../image-text.vue';\nimport HR from '../hr.vue';\nimport Empty from '../empty.vue';\nimport Card from '../card.vue';\nimport { Review } from '../../../_provider/metaOverviewAbstract';\n\nconst props = defineProps({\n  reviews: {\n    type: Array as PropType<Review[]>,\n    default: () => [],\n  },\n  malUrl: {\n    type: String,\n    required: true,\n  },\n});\n\nconst parameters = ref({\n  url: computed(() => props.malUrl),\n  load: false,\n});\n\nconst metaRequest = createRequest(parameters, params => reviewMeta(params.value.url), {\n  executeCondition: params => params.value.load && params.value.url,\n  cache: {\n    prefix: 'overview-reviews',\n    ttl: 7 * 24 * 60 * 60 * 1000,\n    refetchTtl: 7 * 24 * 60 * 60 * 1000,\n    keyFn: params => params.value.url,\n  },\n});\n\nwatch(\n  () => props.malUrl,\n  () => {\n    parameters.value.load = false;\n  },\n);\n\nconst data = computed(() =>\n  props.reviews && props.reviews.length ? props.reviews : metaRequest.data,\n);\n\nconst cleanDescription = desc => {\n  if (!desc) return '';\n  return desc.replace(/(< *\\/? *br *\\/? *>(\\r|\\n| )*){2,}/gim, '<br /><br />');\n};\n</script>\n\n<style lang=\"less\" scoped>\n@import '../../less/_globals.less';\n\n.text {\n  white-space: pre-line;\n}\n\n.grid {\n  padding: 10px !important;\n}\n\n.text {\n  margin-top: @spacer;\n}\n\n.description-html {\n  white-space: initial;\n  &.preLine {\n    white-space: pre-line;\n  }\n}\n\n.skeleton-text {\n  .skeleton-text();\n\n  color: transparent;\n}\n\n.loading-placeholder {\n  position: relative;\n  .load-button {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    z-index: 3;\n  }\n}\n\n.stopLoading {\n  --cl-loading: 0;\n}\n</style>\n","import { Review } from '../../../_provider/metaOverviewAbstract';\n\nexport async function reviewMeta(malUrl: string): Promise<Review[]> {\n  const res: Review[] = [];\n  const response = await api.request.xhr('GET', `${malUrl}/_/reviews`);\n\n  try {\n    const reviewSection = response.responseText\n      .split('Reviews</h2>')[1]\n      .split('<h2>')[0]\n      .split('class=\"mt4\"')[0];\n\n    j.$.each(j.$(j.$.parseHTML(reviewSection)).filter('.review-element'), (index, value) => {\n      const block = j.$(value);\n\n      const userHref = block.find('.username a').attr('href') || '';\n      const userImage = block.find('a > img').first().attr('data-src') || '';\n\n      const username = block.find('.username a').text().trim();\n\n      const reactionJson = block.attr('data-reactions');\n\n      const reactions = reactionJson ? JSON.parse(reactionJson) : { num: 0 };\n\n      const rPeople = reactions.num;\n\n      const rDate = block.find('.update_at').text().trim();\n\n      const rRating = Number(block.find('.rating .num').text());\n\n      const moreText = block.find('.text .js-hidden').text().trim();\n\n      const textBlock = block.find('.text');\n\n      textBlock.find('.js-hidden').remove();\n      textBlock.find('.js-visible').remove();\n      const topText = textBlock.text().trim();\n      const rText = topText + moreText;\n\n      res.push({\n        user: {\n          name: username,\n          image: userImage,\n          href: userHref,\n        },\n        body: {\n          people: rPeople,\n          date: rDate,\n          rating: rRating,\n          text: rText,\n        },\n      });\n    });\n  } catch (e) {\n    con.m('review').error(e);\n  }\n\n  return res;\n}\n","import script from \"./overview-reviews.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./overview-reviews.vue?vue&type=script&lang=ts&setup=true\"\n\nimport _style_0 from \"./overview-reviews.vue?vue&type=style&index=0&id=13bbe19c&inline&lang=less&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['styles',[_style_0]],['__scopeId',\"data-v-13bbe19c\"],['__file',\"overview-reviews.vue\"]])\n\nexport default __exports__","export default \"/* stylelint-disable prettier/prettier */\\n/* Aspect ratios */\\n/* Transitions */\\n/* Typography */\\n/* Shadows */\\n/* Fonts */\\n@keyframes skeleton-loading-malsync-13bbe19c {\\nto {\\n    transform: translateX(100%);\\n}\\n}\\n.text[data-v-13bbe19c] {\\n  white-space: pre-line;\\n}\\n.grid[data-v-13bbe19c] {\\n  padding: 10px !important;\\n}\\n.text[data-v-13bbe19c] {\\n  margin-top: var(--size-spacer);\\n}\\n.description-html[data-v-13bbe19c] {\\n  white-space: initial;\\n}\\n.description-html.preLine[data-v-13bbe19c] {\\n  white-space: pre-line;\\n}\\n.skeleton-text[data-v-13bbe19c] {\\n  position: relative;\\n  overflow: hidden;\\n  transition: background-color 0.1s ease-in-out;\\n  background-color: var(--cl-backdrop);\\n  width: 20em;\\n  height: 1em;\\n  margin-bottom: 0.2em;\\n  border-radius: 0.25rem;\\n  max-width: 100%;\\n  color: transparent;\\n}\\n.skeleton-text[data-v-13bbe19c]::after {\\n  opacity: var(--cl-loading);\\n  transition: opacity 0.25s ease-in-out;\\n  animation: skeleton-loading-malsync-13bbe19c 1.5s infinite;\\n  content: '';\\n  height: 100%;\\n  left: 0;\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n  transform: translateX(-100%);\\n  z-index: 1;\\n  background: linear-gradient(90deg, hsla(0, 0%, 100%, 0), var(--cl-backdrop), hsla(0, 0%, 100%, 0));\\n  filter: brightness(1.15);\\n}\\n.loading-placeholder[data-v-13bbe19c] {\\n  position: relative;\\n}\\n.loading-placeholder .load-button[data-v-13bbe19c] {\\n  position: absolute;\\n  top: 50%;\\n  left: 50%;\\n  transform: translate(-50%, -50%);\\n  z-index: 3;\\n}\\n.stopLoading[data-v-13bbe19c] {\\n  --cl-loading: 0;\\n}\\n\"","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, createBlock as _createBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = (n: any) => (_pushScopeId(\"data-v-3d3fcb7a\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"flex\" }\nconst _hoisted_2 = { class: \"type\" }\nconst _hoisted_3 = { class: \"content\" }\nconst _hoisted_4 = {\n  key: 1,\n  dir: \"auto\"\n}\nconst _hoisted_5 = {\n  key: 2,\n  class: \"subtext\"\n}\nconst _hoisted_6 = {\n  key: 3,\n  dir: \"auto\"\n}\nconst _hoisted_7 = {\n  key: 0,\n  class: \"item\"\n}\nconst _hoisted_8 = { class: \"type\" }\nconst _hoisted_9 = { class: \"content\" }\nconst _hoisted_10 = { key: 1 }\nconst _hoisted_11 = { key: 2 }\nconst _hoisted_12 = {\n  key: 1,\n  class: \"item ongoing\"\n}\nconst _hoisted_13 = { class: \"type\" }\nconst _hoisted_14 = { class: \"content ongoing\" }\nconst _hoisted_15 = [\"title\"]\nconst _hoisted_16 = {\n  key: 0,\n  class: \"material-icons\"\n}\nconst _hoisted_17 = { class: \"episode\" }\nconst _hoisted_18 = {\n  key: 1,\n  class: \"material-icons\",\n  title: \"Dropped\"\n}\n\nimport { PropType } from 'vue';\nimport { timestampToShortTime } from '../../../utils/time';\nimport { Overview } from '../../../_provider/metaOverviewAbstract';\nimport { SingleAbstract } from '../../../_provider/singleAbstract';\nimport Header from '../header.vue';\nimport MediaLink from '../media-link.vue';\nimport TextIcon from '../text-icon.vue';\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'overview-info',\n  props: {\n  info: {\n    type: Array as PropType<Overview['info']>,\n    default: () => [],\n  },\n  single: {\n    type: Object as PropType<SingleAbstract | null>,\n    default: null,\n  },\n},\n  setup(__props) {\n\n\n\nfunction getTitle(item) {\n  if (item.lastEp && item.lastEp.timestamp) {\n    return timestampToShortTime(item.lastEp.timestamp);\n  }\n  if (item.predicition && item.predicition.timestamp) {\n    return api.storage.lang('prediction_next', [\n      timestampToShortTime(item.predicition.timestamp).trim(),\n    ]);\n  }\n  return '';\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", null, [\n    _createVNode(Header, { spacer: true }, {\n      default: _withCtx(() => [\n        _createTextVNode(_toDisplayString(_ctx.lang('overview_Information')), 1 /* TEXT */)\n      ]),\n      _: 1 /* STABLE */\n    }),\n    _createElementVNode(\"div\", _hoisted_1, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(__props.info, (item) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          key: item.title,\n          class: \"item\"\n        }, [\n          _createElementVNode(\"div\", _hoisted_2, _toDisplayString(item.title), 1 /* TEXT */),\n          _createElementVNode(\"div\", _hoisted_3, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(item.body, (link, index) => {\n              return (_openBlock(), _createElementBlock(_Fragment, {\n                key: link.text\n              }, [\n                (link.url)\n                  ? (_openBlock(), _createBlock(MediaLink, {\n                      key: 0,\n                      dir: \"auto\",\n                      color: \"secondary\",\n                      href: link.url\n                    }, {\n                      default: _withCtx(() => [\n                        _createTextVNode(_toDisplayString(link.text), 1 /* TEXT */)\n                      ]),\n                      _: 2 /* DYNAMIC */\n                    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"href\"]))\n                  : (_openBlock(), _createElementBlock(\"span\", _hoisted_4, _toDisplayString(link.text), 1 /* TEXT */)),\n                (link.subtext)\n                  ? (_openBlock(), _createElementBlock(\"span\", _hoisted_5, \"(\" + _toDisplayString(link.subtext) + \")\", 1 /* TEXT */))\n                  : _createCommentVNode(\"v-if\", true),\n                (Number(index) + 1 < item.body.length)\n                  ? (_openBlock(), _createElementBlock(\"span\", _hoisted_6, \", \"))\n                  : _createCommentVNode(\"v-if\", true)\n              ], 64 /* STABLE_FRAGMENT */))\n            }), 128 /* KEYED_FRAGMENT */))\n          ])\n        ]))\n      }), 128 /* KEYED_FRAGMENT */)),\n      (__props.single && __props.single.getProgressCompleted().length)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [\n            _createElementVNode(\"div\", _hoisted_8, _toDisplayString(_ctx.lang('prediction_complete')) + \":\", 1 /* TEXT */),\n            _createElementVNode(\"div\", _hoisted_9, [\n              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(__props.single.getProgressCompleted(), (link, index) => {\n                return (_openBlock(), _createElementBlock(_Fragment, {\n                  key: link.key\n                }, [\n                  (__props.single.getType() !== 'manga')\n                    ? (_openBlock(), _createBlock(TextIcon, {\n                        key: 0,\n                        spacer: \"small\",\n                        icon: link.type === 'sub' ? 'subtitles' : 'record_voice_over'\n                      }, {\n                        default: _withCtx(() => [\n                          _createTextVNode(_toDisplayString(link.label), 1 /* TEXT */)\n                        ]),\n                        _: 2 /* DYNAMIC */\n                      }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"icon\"]))\n                    : (_openBlock(), _createElementBlock(\"span\", _hoisted_10, _toDisplayString(link.label), 1 /* TEXT */)),\n                  (Number(index) + 1 < __props.single.getProgressCompleted().length)\n                    ? (_openBlock(), _createElementBlock(\"span\", _hoisted_11, \", \"))\n                    : _createCommentVNode(\"v-if\", true)\n                ], 64 /* STABLE_FRAGMENT */))\n              }), 128 /* KEYED_FRAGMENT */))\n            ])\n          ]))\n        : _createCommentVNode(\"v-if\", true),\n      (__props.single && __props.single.getProgressOptions().length)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_12, [\n            _createElementVNode(\"div\", _hoisted_13, _toDisplayString(_ctx.lang('prediction_ongoing')) + \":\", 1 /* TEXT */),\n            _createElementVNode(\"div\", _hoisted_14, [\n              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(__props.single.getProgressOptions(), (link) => {\n                return (_openBlock(), _createElementBlock(\"div\", {\n                  key: link.key,\n                  class: \"ongoing-item\",\n                  title: getTitle(link)\n                }, [\n                  (__props.single.getType() !== 'manga')\n                    ? (_openBlock(), _createElementBlock(\"span\", _hoisted_16, _toDisplayString(link.type === 'sub' ? 'subtitles' : 'record_voice_over'), 1 /* TEXT */))\n                    : _createCommentVNode(\"v-if\", true),\n                  _createElementVNode(\"span\", null, _toDisplayString(link.label), 1 /* TEXT */),\n                  _createElementVNode(\"span\", _hoisted_17, _toDisplayString(__props.single.getType() === 'manga' ? 'CH' : 'EP') + \" \" + _toDisplayString(link.episode), 1 /* TEXT */),\n                  (link.dropped)\n                    ? (_openBlock(), _createElementBlock(\"span\", _hoisted_18, \"warning\"))\n                    : _createCommentVNode(\"v-if\", true)\n                ], 8 /* PROPS */, _hoisted_15))\n              }), 128 /* KEYED_FRAGMENT */))\n            ])\n          ]))\n        : _createCommentVNode(\"v-if\", true)\n    ])\n  ]))\n}\n}\n\n})","<template>\n  <div>\n    <Header :spacer=\"true\">{{ lang('overview_Information') }}</Header>\n    <div class=\"flex\">\n      <div v-for=\"item in info\" :key=\"item.title\" class=\"item\">\n        <div class=\"type\">{{ item.title }}</div>\n        <div class=\"content\">\n          <template v-for=\"(link, index) in item.body\" :key=\"link.text\">\n            <MediaLink v-if=\"link.url\" dir=\"auto\" color=\"secondary\" :href=\"link.url\">\n              {{ link.text }}\n            </MediaLink>\n            <span v-else dir=\"auto\">\n              {{ link.text }}\n            </span>\n            <span v-if=\"link.subtext\" class=\"subtext\">({{ link.subtext }})</span>\n            <span v-if=\"Number(index) + 1 < item.body.length\" dir=\"auto\">, </span>\n          </template>\n        </div>\n      </div>\n      <div v-if=\"single && single.getProgressCompleted().length\" class=\"item\">\n        <div class=\"type\">{{ lang('prediction_complete') }}:</div>\n        <div class=\"content\">\n          <template v-for=\"(link, index) in single.getProgressCompleted()\" :key=\"link.key\">\n            <TextIcon\n              v-if=\"single.getType() !== 'manga'\"\n              spacer=\"small\"\n              :icon=\"link.type === 'sub' ? 'subtitles' : 'record_voice_over'\"\n            >\n              {{ link.label }}\n            </TextIcon>\n            <span v-else>{{ link.label }}</span>\n            <span v-if=\"Number(index) + 1 < single.getProgressCompleted().length\">, </span>\n          </template>\n        </div>\n      </div>\n      <div v-if=\"single && single.getProgressOptions().length\" class=\"item ongoing\">\n        <div class=\"type\">{{ lang('prediction_ongoing') }}:</div>\n        <div class=\"content ongoing\">\n          <div\n            v-for=\"link in single.getProgressOptions()\"\n            :key=\"link.key\"\n            class=\"ongoing-item\"\n            :title=\"getTitle(link)\"\n          >\n            <span v-if=\"single.getType() !== 'manga'\" class=\"material-icons\">\n              {{ link.type === 'sub' ? 'subtitles' : 'record_voice_over' }}\n            </span>\n            <span>{{ link.label }}</span>\n            <span class=\"episode\">\n              {{ single.getType() === 'manga' ? 'CH' : 'EP' }}\n              {{ link.episode }}\n            </span>\n            <span v-if=\"link.dropped\" class=\"material-icons\" title=\"Dropped\">warning</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { PropType } from 'vue';\nimport { timestampToShortTime } from '../../../utils/time';\nimport { Overview } from '../../../_provider/metaOverviewAbstract';\nimport { SingleAbstract } from '../../../_provider/singleAbstract';\nimport Header from '../header.vue';\nimport MediaLink from '../media-link.vue';\nimport TextIcon from '../text-icon.vue';\n\ndefineProps({\n  info: {\n    type: Array as PropType<Overview['info']>,\n    default: () => [],\n  },\n  single: {\n    type: Object as PropType<SingleAbstract | null>,\n    default: null,\n  },\n});\n\nfunction getTitle(item) {\n  if (item.lastEp && item.lastEp.timestamp) {\n    return timestampToShortTime(item.lastEp.timestamp);\n  }\n  if (item.predicition && item.predicition.timestamp) {\n    return api.storage.lang('prediction_next', [\n      timestampToShortTime(item.predicition.timestamp).trim(),\n    ]);\n  }\n  return '';\n}\n</script>\n\n<style lang=\"less\" scoped>\n@import '../../less/_globals.less';\n\n.flex {\n  grid-gap: @spacer-half;\n  display: flex;\n  flex-direction: column;\n}\n\n.item {\n  display: flex;\n\n  .__breakpoint-desktop__({\n    flex-direction: column;\n    gap: 3px;\n  });\n\n  &.ongoing {\n    flex-direction: column;\n    gap: 3px;\n  }\n\n  .type {\n    margin-inline-end: 10px;\n    font-weight: 600;\n    white-space: nowrap;\n  }\n\n  .content {\n    flex-grow: 1;\n    width: 100%;\n    line-height: 1.3;\n\n    &.ongoing {\n      display: flex;\n      flex-direction: column;\n    }\n  }\n}\n\n.episode {\n  .border-radius-small();\n\n  display: inline-block;\n  border: 1px solid var(--cl-backdrop);\n  background-color: var(--cl-foreground);\n  font-size: @small-text;\n  padding: 2px 5px;\n  margin: 5px 0;\n}\n\n.ongoing-item {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n}\n\n.subtext {\n  margin-left: 3px;\n  font-size: @small-text;\n}\n</style>\n","import script from \"./overview-info.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./overview-info.vue?vue&type=script&lang=ts&setup=true\"\n\nimport _style_0 from \"./overview-info.vue?vue&type=style&index=0&id=3d3fcb7a&inline&lang=less&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['styles',[_style_0]],['__scopeId',\"data-v-3d3fcb7a\"],['__file',\"overview-info.vue\"]])\n\nexport default __exports__","export default \"/* stylelint-disable prettier/prettier */\\n/* Aspect ratios */\\n/* Transitions */\\n/* Typography */\\n/* Shadows */\\n/* Fonts */\\n@keyframes skeleton-loading-malsync-3d3fcb7a {\\nto {\\n    transform: translateX(100%);\\n}\\n}\\n.flex[data-v-3d3fcb7a] {\\n  grid-gap: var(--size-spacer-half);\\n  display: flex;\\n  flex-direction: column;\\n}\\n.item[data-v-3d3fcb7a] {\\n  display: flex;\\n}\\n@media screen and (min-width: 900px) {\\n.item[data-v-3d3fcb7a] {\\n    flex-direction: column;\\n    gap: 3px;\\n}\\n}\\n.item.ongoing[data-v-3d3fcb7a] {\\n  flex-direction: column;\\n  gap: 3px;\\n}\\n.item .type[data-v-3d3fcb7a] {\\n  margin-inline-end: 10px;\\n  font-weight: 600;\\n  white-space: nowrap;\\n}\\n.item .content[data-v-3d3fcb7a] {\\n  flex-grow: 1;\\n  width: 100%;\\n  line-height: 1.3;\\n}\\n.item .content.ongoing[data-v-3d3fcb7a] {\\n  display: flex;\\n  flex-direction: column;\\n}\\n.episode[data-v-3d3fcb7a] {\\n  border-radius: 5px;\\n  display: inline-block;\\n  border: 1px solid var(--cl-backdrop);\\n  background-color: var(--cl-foreground);\\n  font-size: 0.875rem;\\n  padding: 2px 5px;\\n  margin: 5px 0;\\n}\\n.ongoing-item[data-v-3d3fcb7a] {\\n  display: flex;\\n  align-items: center;\\n  gap: 10px;\\n}\\n.subtext[data-v-3d3fcb7a] {\\n  margin-left: 3px;\\n  font-size: 0.875rem;\\n}\\n\"","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = (n: any) => (_pushScopeId(\"data-v-54c69f08\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"loading-placeholder\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"skeleton-text\" }, null, -1 /* HOISTED */))\nconst _hoisted_3 = { class: \"text\" }\nconst _hoisted_4 = { class: \"load-button\" }\nconst _hoisted_5 = { class: \"head-dot\" }\nconst _hoisted_6 = { class: \"text\" }\nconst _hoisted_7 = { class: \"rec-cover\" }\nconst _hoisted_8 = { class: \"rec-name\" }\n\nimport { ref, computed, watch, PropType, inject } from 'vue';\nimport { createRequest } from '../../utils/reactive';\nimport Header from '../header.vue';\nimport { recommendationsMeta } from './overview-recommendations-meta';\nimport MediaLink from '../media-link.vue';\nimport Description from '../description.vue';\nimport Section from '../section.vue';\nimport FormButton from '../form/form-button.vue';\nimport Pagination from '../pagination.vue';\nimport ImageText from '../image-text.vue';\nimport HR from '../hr.vue';\nimport Empty from '../empty.vue';\nimport Card from '../card.vue';\nimport TextIcon from '../text-icon.vue';\nimport StateDot from '../state-dot.vue';\nimport ImageFit from '../image-fit.vue';\nimport Grid from '../grid.vue';\nimport TextCutoff from '../text-cutoff.vue';\nimport { Recommendation } from '../../../_provider/metaOverviewAbstract';\nimport PillSplit from '../pill-split.vue';\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'overview-recommendations',\n  props: {\n  recommendations: {\n    type: Array as PropType<Recommendation[]>,\n    default: () => [],\n  },\n  malUrl: {\n    type: String,\n    required: true,\n  },\n},\n  setup(__props) {\n\nconst breakpoint = inject('breakpoint');\n\nconst props = __props;\n\nconst parameters = ref({\n  url: computed(() => props.malUrl),\n  load: false,\n});\n\nconst metaRequest = createRequest(parameters, params => recommendationsMeta(params.value.url), {\n  executeCondition: params => params.value.load && params.value.url,\n  cache: {\n    prefix: 'overview-recommendations',\n    ttl: 7 * 24 * 60 * 60 * 1000,\n    refetchTtl: 7 * 24 * 60 * 60 * 1000,\n    keyFn: params => params.value.url,\n  },\n});\n\nwatch(\n  () => props.malUrl,\n  () => {\n    parameters.value.load = false;\n  },\n);\n\nconst data = computed(() =>\n  props.recommendations && props.recommendations.length ? props.recommendations : metaRequest.data,\n);\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass({ stopLoading: !_unref(metaRequest).loading })\n  }, [\n    _createVNode(Header, { spacer: true }, {\n      default: _withCtx(() => [\n        _createTextVNode(_toDisplayString(_ctx.lang('minimalApp_Recommendations')), 1 /* TEXT */)\n      ]),\n      _: 1 /* STABLE */\n    }),\n    (\n        _unref(metaRequest).loading ||\n        (!_unref(metaRequest).loading && !parameters.value.load && !_unref(metaRequest).cache && !__props.recommendations.length)\n      )\n      ? (_openBlock(), _createBlock(Card, {\n          key: 0,\n          class: \"grid-sp\"\n        }, {\n          default: _withCtx(() => [\n            _createElementVNode(\"div\", _hoisted_1, [\n              _createVNode(ImageText, {\n                href: \"\",\n                image: \"\",\n                \"image-type\": \"cover\",\n                loading: true\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(Header, {\n                    spacer: \"half\",\n                    class: \"skeleton-text\"\n                  }, {\n                    default: _withCtx(() => [\n                      _createVNode(MediaLink, { href: \"\" })\n                    ]),\n                    _: 1 /* STABLE */\n                  }),\n                  _hoisted_2,\n                  _createElementVNode(\"div\", _hoisted_3, [\n                    _createVNode(Description, {\n                      loading: true,\n                      height: \"dynamic\",\n                      minheight: \"34px\"\n                    })\n                  ])\n                ]),\n                _: 1 /* STABLE */\n              }),\n              _createElementVNode(\"div\", _hoisted_4, [\n                (!_unref(metaRequest).loading)\n                  ? (_openBlock(), _createBlock(FormButton, {\n                      key: 0,\n                      padding: \"large\",\n                      color: \"secondary\",\n                      onClick: _cache[0] || (_cache[0] = ($event: any) => (parameters.value.load = true))\n                    }, {\n                      default: _withCtx(() => [\n                        _createTextVNode(_toDisplayString(_ctx.lang('Load')), 1 /* TEXT */)\n                      ]),\n                      _: 1 /* STABLE */\n                    }))\n                  : _createCommentVNode(\"v-if\", true)\n              ])\n            ])\n          ]),\n          _: 1 /* STABLE */\n        }))\n      : _createCommentVNode(\"v-if\", true),\n    (!_unref(metaRequest).loading && data.value && data.value.length)\n      ? (_openBlock(), _createElementBlock(\"div\", {\n          key: 1,\n          class: _normalizeClass({ 'grid-sp': data.value[0].body && !_unref(metaRequest).cache })\n        }, [\n          (data.value[0].body)\n            ? (_openBlock(), _createBlock(Pagination, {\n                key: 0,\n                \"entries-per-page\": 3,\n                elements: data.value\n              }, {\n                elements: _withCtx(({ elements }) => [\n                  (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(elements, (rec, index) => {\n                    return (_openBlock(), _createBlock(Section, {\n                      key: rec.entry.url\n                    }, {\n                      default: _withCtx(() => [\n                        index\n                          ? (_openBlock(), _createBlock(HR, {\n                              key: 0,\n                              size: \"thin\"\n                            }))\n                          : _createCommentVNode(\"v-if\", true),\n                        _createVNode(ImageText, {\n                          href: rec.entry.url,\n                          image: rec.entry.image,\n                          \"image-type\": \"cover\"\n                        }, {\n                          default: _withCtx(() => [\n                            _createVNode(Header, { spacer: \"half\" }, {\n                              default: _withCtx(() => [\n                                _createVNode(MediaLink, {\n                                  href: rec.entry.url\n                                }, {\n                                  default: _withCtx(() => [\n                                    _createElementVNode(\"div\", _hoisted_5, [\n                                      _createVNode(StateDot, {\n                                        class: \"dot\",\n                                        status: rec.entry.list ? rec.entry.list.status : 0\n                                      }, null, 8 /* PROPS */, [\"status\"]),\n                                      _createTextVNode(\" \" + _toDisplayString(rec.entry.title), 1 /* TEXT */)\n                                    ])\n                                  ]),\n                                  _: 2 /* DYNAMIC */\n                                }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"href\"])\n                              ]),\n                              _: 2 /* DYNAMIC */\n                            }, 1024 /* DYNAMIC_SLOTS */),\n                            _createElementVNode(\"div\", null, [\n                              _createVNode(MediaLink, {\n                                href: rec.body.more.url\n                              }, {\n                                default: _withCtx(() => [\n                                  _createVNode(TextIcon, {\n                                    icon: \"open_in_new\",\n                                    position: \"after\",\n                                    spacer: \"small\"\n                                  }, {\n                                    default: _withCtx(() => [\n                                      _createTextVNode(\" Recommended by \"),\n                                      _createElementVNode(\"strong\", null, [\n                                        _createVNode(MediaLink, {\n                                          href: rec.user.href\n                                        }, {\n                                          default: _withCtx(() => [\n                                            _createTextVNode(_toDisplayString(rec.user.name), 1 /* TEXT */)\n                                          ]),\n                                          _: 2 /* DYNAMIC */\n                                        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"href\"])\n                                      ]),\n                                      (rec.body.more.number)\n                                        ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                                            _createTextVNode(\" and \"),\n                                            _createElementVNode(\"strong\", null, _toDisplayString(rec.body.more.number), 1 /* TEXT */),\n                                            _createTextVNode(\" more users \")\n                                          ], 64 /* STABLE_FRAGMENT */))\n                                        : _createCommentVNode(\"v-if\", true)\n                                    ]),\n                                    _: 2 /* DYNAMIC */\n                                  }, 1024 /* DYNAMIC_SLOTS */)\n                                ]),\n                                _: 2 /* DYNAMIC */\n                              }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"href\"])\n                            ]),\n                            _createElementVNode(\"div\", _hoisted_6, [\n                              _createVNode(Description, {\n                                height: \"dynamic\",\n                                minheight: \"34px\"\n                              }, {\n                                default: _withCtx(() => [\n                                  _createTextVNode(_toDisplayString(rec.body.text), 1 /* TEXT */)\n                                ]),\n                                _: 2 /* DYNAMIC */\n                              }, 1024 /* DYNAMIC_SLOTS */)\n                            ])\n                          ]),\n                          _: 2 /* DYNAMIC */\n                        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"href\", \"image\"])\n                      ]),\n                      _: 2 /* DYNAMIC */\n                    }, 1024 /* DYNAMIC_SLOTS */))\n                  }), 128 /* KEYED_FRAGMENT */))\n                ]),\n                _: 1 /* STABLE */\n              }, 8 /* PROPS */, [\"elements\"]))\n            : (_openBlock(), _createBlock(Pagination, {\n                key: 1,\n                \"entries-per-page\": _unref(breakpoint) === 'desktop' ? 6 : 4,\n                elements: data.value,\n                \"open-all\": true\n              }, {\n                elements: _withCtx(({ elements }) => [\n                  _createVNode(Section, null, {\n                    default: _withCtx(() => [\n                      _createVNode(Grid, {\n                        \"min-width-popup\": 100,\n                        \"min-width\": 130\n                      }, {\n                        default: _withCtx(() => [\n                          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(elements, (rec) => {\n                            return (_openBlock(), _createBlock(MediaLink, {\n                              key: rec.entry.title,\n                              class: \"rec\",\n                              href: rec.entry.url\n                            }, {\n                              default: _withCtx(() => [\n                                _createElementVNode(\"div\", _hoisted_7, [\n                                  _createVNode(ImageFit, {\n                                    mode: \"cover\",\n                                    src: rec.entry.image\n                                  }, null, 8 /* PROPS */, [\"src\"]),\n                                  (rec.stats)\n                                    ? (_openBlock(), _createBlock(PillSplit, {\n                                        key: 0,\n                                        class: \"users\",\n                                        left: false\n                                      }, {\n                                        right: _withCtx(() => [\n                                          _createVNode(TextIcon, {\n                                            icon: \"people\",\n                                            position: \"before\",\n                                            spacer: \"small\"\n                                          }, {\n                                            default: _withCtx(() => [\n                                              _createTextVNode(_toDisplayString(rec.stats.users), 1 /* TEXT */)\n                                            ]),\n                                            _: 2 /* DYNAMIC */\n                                          }, 1024 /* DYNAMIC_SLOTS */)\n                                        ]),\n                                        _: 2 /* DYNAMIC */\n                                      }, 1024 /* DYNAMIC_SLOTS */))\n                                    : _createCommentVNode(\"v-if\", true)\n                                ]),\n                                _createElementVNode(\"div\", null, [\n                                  _createElementVNode(\"div\", _hoisted_8, [\n                                    _createVNode(TextCutoff, null, {\n                                      default: _withCtx(() => [\n                                        _createTextVNode(_toDisplayString(rec.entry.title), 1 /* TEXT */)\n                                      ]),\n                                      _: 2 /* DYNAMIC */\n                                    }, 1024 /* DYNAMIC_SLOTS */)\n                                  ])\n                                ])\n                              ]),\n                              _: 2 /* DYNAMIC */\n                            }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"href\"]))\n                          }), 128 /* KEYED_FRAGMENT */))\n                        ]),\n                        _: 2 /* DYNAMIC */\n                      }, 1024 /* DYNAMIC_SLOTS */)\n                    ]),\n                    _: 2 /* DYNAMIC */\n                  }, 1024 /* DYNAMIC_SLOTS */)\n                ]),\n                _: 1 /* STABLE */\n              }, 8 /* PROPS */, [\"entries-per-page\", \"elements\"]))\n        ], 2 /* CLASS */))\n      : _createCommentVNode(\"v-if\", true),\n    (!_unref(metaRequest).loading && data.value && !data.value.length)\n      ? (_openBlock(), _createBlock(Section, { key: 2 }, {\n          default: _withCtx(() => [\n            _createVNode(Empty, {\n              card: true,\n              icon: \"egg_alt\"\n            })\n          ]),\n          _: 1 /* STABLE */\n        }))\n      : _createCommentVNode(\"v-if\", true)\n  ], 2 /* CLASS */))\n}\n}\n\n})","<template>\n  <div :class=\"{ stopLoading: !metaRequest.loading }\">\n    <Header :spacer=\"true\">{{ lang('minimalApp_Recommendations') }}</Header>\n    <Card\n      v-if=\"\n        metaRequest.loading ||\n        (!metaRequest.loading && !parameters.load && !metaRequest.cache && !recommendations.length)\n      \"\n      class=\"grid-sp\"\n    >\n      <div class=\"loading-placeholder\">\n        <ImageText href=\"\" image=\"\" image-type=\"cover\" :loading=\"true\">\n          <Header spacer=\"half\" class=\"skeleton-text\">\n            <MediaLink href=\"\"></MediaLink>\n          </Header>\n          <div class=\"skeleton-text\"></div>\n          <div class=\"text\">\n            <Description :loading=\"true\" height=\"dynamic\" minheight=\"34px\"></Description>\n          </div>\n        </ImageText>\n        <div class=\"load-button\">\n          <FormButton\n            v-if=\"!metaRequest.loading\"\n            padding=\"large\"\n            color=\"secondary\"\n            @click=\"parameters.load = true\"\n          >\n            {{ lang('Load') }}\n          </FormButton>\n        </div>\n      </div>\n    </Card>\n    <div\n      v-if=\"!metaRequest.loading && data && data.length\"\n      :class=\"{ 'grid-sp': data[0].body && !metaRequest.cache }\"\n    >\n      <Pagination v-if=\"data[0].body\" :entries-per-page=\"3\" :elements=\"data\">\n        <template #elements=\"{ elements }\">\n          <Section v-for=\"(rec, index) in elements\" :key=\"rec.entry.url\">\n            <HR v-if=\"index\" size=\"thin\" />\n            <ImageText :href=\"rec.entry.url\" :image=\"rec.entry.image\" image-type=\"cover\">\n              <Header spacer=\"half\">\n                <MediaLink :href=\"rec.entry.url\">\n                  <div class=\"head-dot\">\n                    <StateDot class=\"dot\" :status=\"rec.entry.list ? rec.entry.list.status : 0\" />\n                    {{ rec.entry.title }}\n                  </div>\n                </MediaLink>\n              </Header>\n              <div>\n                <MediaLink :href=\"rec.body.more.url\">\n                  <TextIcon icon=\"open_in_new\" position=\"after\" spacer=\"small\">\n                    Recommended by\n                    <strong>\n                      <MediaLink :href=\"rec.user.href\">{{ rec.user.name }}</MediaLink>\n                    </strong>\n                    <template v-if=\"rec.body.more.number\">\n                      and <strong>{{ rec.body.more.number }}</strong> more users\n                    </template>\n                  </TextIcon>\n                </MediaLink>\n              </div>\n              <div class=\"text\">\n                <Description height=\"dynamic\" minheight=\"34px\">{{ rec.body.text }}</Description>\n              </div>\n            </ImageText>\n          </Section>\n        </template>\n      </Pagination>\n      <Pagination\n        v-else\n        :entries-per-page=\"breakpoint === 'desktop' ? 6 : 4\"\n        :elements=\"data\"\n        :open-all=\"true\"\n      >\n        <template #elements=\"{ elements }\">\n          <Section>\n            <Grid :min-width-popup=\"100\" :min-width=\"130\">\n              <MediaLink\n                v-for=\"rec in elements\"\n                :key=\"rec.entry.title\"\n                class=\"rec\"\n                :href=\"rec.entry.url\"\n              >\n                <div class=\"rec-cover\">\n                  <ImageFit mode=\"cover\" :src=\"rec.entry.image\" />\n                  <PillSplit v-if=\"rec.stats\" class=\"users\" :left=\"false\">\n                    <template #right>\n                      <TextIcon icon=\"people\" position=\"before\" spacer=\"small\">\n                        {{ rec.stats.users }}\n                      </TextIcon>\n                    </template>\n                  </PillSplit>\n                </div>\n                <div>\n                  <div class=\"rec-name\">\n                    <TextCutoff>{{ rec.entry.title }}</TextCutoff>\n                  </div>\n                </div>\n              </MediaLink>\n            </Grid>\n          </Section>\n        </template>\n      </Pagination>\n    </div>\n    <Section v-if=\"!metaRequest.loading && data && !data.length\">\n      <Empty :card=\"true\" icon=\"egg_alt\" />\n    </Section>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { ref, computed, watch, PropType, inject } from 'vue';\nimport { createRequest } from '../../utils/reactive';\nimport Header from '../header.vue';\nimport { recommendationsMeta } from './overview-recommendations-meta';\nimport MediaLink from '../media-link.vue';\nimport Description from '../description.vue';\nimport Section from '../section.vue';\nimport FormButton from '../form/form-button.vue';\nimport Pagination from '../pagination.vue';\nimport ImageText from '../image-text.vue';\nimport HR from '../hr.vue';\nimport Empty from '../empty.vue';\nimport Card from '../card.vue';\nimport TextIcon from '../text-icon.vue';\nimport StateDot from '../state-dot.vue';\nimport ImageFit from '../image-fit.vue';\nimport Grid from '../grid.vue';\nimport TextCutoff from '../text-cutoff.vue';\nimport { Recommendation } from '../../../_provider/metaOverviewAbstract';\nimport PillSplit from '../pill-split.vue';\n\nconst breakpoint = inject('breakpoint');\n\nconst props = defineProps({\n  recommendations: {\n    type: Array as PropType<Recommendation[]>,\n    default: () => [],\n  },\n  malUrl: {\n    type: String,\n    required: true,\n  },\n});\n\nconst parameters = ref({\n  url: computed(() => props.malUrl),\n  load: false,\n});\n\nconst metaRequest = createRequest(parameters, params => recommendationsMeta(params.value.url), {\n  executeCondition: params => params.value.load && params.value.url,\n  cache: {\n    prefix: 'overview-recommendations',\n    ttl: 7 * 24 * 60 * 60 * 1000,\n    refetchTtl: 7 * 24 * 60 * 60 * 1000,\n    keyFn: params => params.value.url,\n  },\n});\n\nwatch(\n  () => props.malUrl,\n  () => {\n    parameters.value.load = false;\n  },\n);\n\nconst data = computed(() =>\n  props.recommendations && props.recommendations.length ? props.recommendations : metaRequest.data,\n);\n</script>\n\n<style lang=\"less\" scoped>\n@import '../../less/_globals.less';\n\n.text {\n  white-space: pre-line;\n  flex-grow: 1;\n}\n\n.grid-sp {\n  padding: 10px !important;\n}\n\n.text {\n  margin-top: @spacer-half;\n}\n\n.head-dot {\n  display: flex;\n  align-items: center;\n}\n\n.rec-cover {\n  .click-move-down();\n\n  position: relative;\n\n  .users {\n    position: absolute;\n    top: var(--size-spacer-half);\n    left: var(--size-spacer-half);\n  }\n}\n.rec-name {\n  font-weight: bold;\n  margin-top: 10px;\n}\n\n.skeleton-text {\n  .skeleton-text();\n\n  color: transparent;\n}\n\n.loading-placeholder {\n  position: relative;\n  .load-button {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    z-index: 3;\n  }\n}\n\n.stopLoading {\n  --cl-loading: 0;\n}\n\n:deep(.close-button-box) {\n  padding-right: calc(15px + (@normal-text * 6.25));\n}\n\n:deep(.description.close:not(.loading)) {\n  margin-left: calc((15px + (@normal-text * 6.25)) * -1);\n  padding-left: calc(15px + (@normal-text * 6.25));\n}\n</style>\n","import { Recommendation } from '../../../_provider/metaOverviewAbstract';\n\nexport async function recommendationsMeta(malUrl: string): Promise<Recommendation[]> {\n  const res: Recommendation[] = [];\n  const response = await api.request.xhr('GET', `${malUrl}/_/userrecs`);\n\n  try {\n    const recommendationsBlock = response.responseText\n      .split('Make a recommendation</a>')[1]\n      .split('</h2>')[1]\n      .split('<div class=\"mauto')[0];\n\n    j.$.each(j.$(j.$.parseHTML(recommendationsBlock)).filter('.borderClass'), (index, value) => {\n      const imageBlock = j.$(value).find('.picSurround');\n\n      const titleHref = imageBlock.find('a').attr('href');\n\n      const titleName = imageBlock.find('a > img').first().attr('alt');\n\n      let imageUrl = imageBlock.find('a > img').first().attr('data-src');\n      if (imageUrl) imageUrl = imageUrl.replace(/\\/r\\/\\d*x\\d*/g, '');\n\n      const username = j.$(value).find('.detail-user-recs-text').next().find('a').last().text();\n\n      const userHref = utils.absoluteLink(\n        j.$(value).find('.detail-user-recs-text').next().find('a').last().attr('href'),\n        'https://myanimelist.net',\n      );\n\n      const text = j\n        .$(value)\n        .find('.detail-user-recs-text')\n        .first()\n        .text()\n        .replace('read more', '')\n        .trim();\n\n      const moreUrl = utils.absoluteLink(\n        j.$(value).find('[title=\"Permalink\"]').attr('href'),\n        'https://myanimelist.net',\n      );\n\n      const moreNumber = Number(\n        j.$(value).find('.js-similar-recommendations-button strong').text() || 0,\n      );\n\n      res.push({\n        entry: {\n          title: titleName || '',\n          url: titleHref || '',\n          image: imageUrl || '',\n        },\n        user: {\n          name: username,\n          href: userHref,\n        },\n        body: {\n          text,\n          more: {\n            url: moreUrl,\n            number: moreNumber,\n          },\n        },\n      });\n    });\n\n    for (const recommendation in res) {\n      const type = utils.urlPart(res[recommendation].entry.url, 3);\n      const id = Number(utils.urlPart(res[recommendation].entry.url, 4));\n\n      // eslint-disable-next-line no-await-in-loop\n      const dbEntry = await api.request.database('entryByMalId', {\n        id,\n        type,\n      });\n      if (dbEntry) {\n        res[recommendation].entry.list = {\n          status: dbEntry.status,\n          score: dbEntry.score,\n          episode: dbEntry.watchedEp,\n        };\n      }\n    }\n  } catch (e) {\n    con.m('review').error(e);\n  }\n\n  return res;\n}\n","import script from \"./overview-recommendations.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./overview-recommendations.vue?vue&type=script&lang=ts&setup=true\"\n\nimport _style_0 from \"./overview-recommendations.vue?vue&type=style&index=0&id=54c69f08&inline&lang=less&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['styles',[_style_0]],['__scopeId',\"data-v-54c69f08\"],['__file',\"overview-recommendations.vue\"]])\n\nexport default __exports__","export default \"/* stylelint-disable prettier/prettier */\\n/* Aspect ratios */\\n/* Transitions */\\n/* Typography */\\n/* Shadows */\\n/* Fonts */\\n@keyframes skeleton-loading-malsync-54c69f08 {\\nto {\\n    transform: translateX(100%);\\n}\\n}\\n.text[data-v-54c69f08] {\\n  white-space: pre-line;\\n  flex-grow: 1;\\n}\\n.grid-sp[data-v-54c69f08] {\\n  padding: 10px !important;\\n}\\n.text[data-v-54c69f08] {\\n  margin-top: var(--size-spacer-half);\\n}\\n.head-dot[data-v-54c69f08] {\\n  display: flex;\\n  align-items: center;\\n}\\n.rec-cover[data-v-54c69f08] {\\n  transition: transform 0.25s ease;\\n  position: relative;\\n}\\n.rec-cover[data-v-54c69f08]:active {\\n  transition-delay: 0s !important;\\n  transform: translateY(3px);\\n}\\n.rec-cover .users[data-v-54c69f08] {\\n  position: absolute;\\n  top: var(--size-spacer-half);\\n  left: var(--size-spacer-half);\\n}\\n.rec-name[data-v-54c69f08] {\\n  font-weight: bold;\\n  margin-top: 10px;\\n}\\n.skeleton-text[data-v-54c69f08] {\\n  position: relative;\\n  overflow: hidden;\\n  transition: background-color 0.1s ease-in-out;\\n  background-color: var(--cl-backdrop);\\n  width: 20em;\\n  height: 1em;\\n  margin-bottom: 0.2em;\\n  border-radius: 0.25rem;\\n  max-width: 100%;\\n  color: transparent;\\n}\\n.skeleton-text[data-v-54c69f08]::after {\\n  opacity: var(--cl-loading);\\n  transition: opacity 0.25s ease-in-out;\\n  animation: skeleton-loading-malsync-54c69f08 1.5s infinite;\\n  content: '';\\n  height: 100%;\\n  left: 0;\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n  transform: translateX(-100%);\\n  z-index: 1;\\n  background: linear-gradient(90deg, hsla(0, 0%, 100%, 0), var(--cl-backdrop), hsla(0, 0%, 100%, 0));\\n  filter: brightness(1.15);\\n}\\n.loading-placeholder[data-v-54c69f08] {\\n  position: relative;\\n}\\n.loading-placeholder .load-button[data-v-54c69f08] {\\n  position: absolute;\\n  top: 50%;\\n  left: 50%;\\n  transform: translate(-50%, -50%);\\n  z-index: 3;\\n}\\n.stopLoading[data-v-54c69f08] {\\n  --cl-loading: 0;\\n}\\n[data-v-54c69f08] .close-button-box {\\n  padding-right: calc(15px + (var(--base-font-size) * 6.25));\\n}\\n[data-v-54c69f08] .description.close:not(.loading) {\\n  margin-left: calc((15px + (var(--base-font-size) * 6.25)) * -1);\\n  padding-left: calc(15px + (var(--base-font-size) * 6.25));\\n}\\n\"","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = (n: any) => (_pushScopeId(\"data-v-8ff0e694\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"grid\" }\nconst _hoisted_2 = { class: \"type\" }\n\nimport { PropType } from 'vue';\nimport { Overview } from '../../../_provider/metaOverviewAbstract';\nimport Header from '../header.vue';\nimport MediaLink from '../media-link.vue';\nimport StateDot from '../state-dot.vue';\nimport FormButton from '../form/form-button.vue';\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'overview-related',\n  props: {\n  related: {\n    type: Array as PropType<Overview['related']>,\n    required: false,\n    default: () => [],\n  },\n},\n  setup(__props) {\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", null, [\n    _createVNode(Header, { spacer: true }, {\n      default: _withCtx(() => [\n        _createTextVNode(_toDisplayString(_ctx.lang('overview_Related')), 1 /* TEXT */)\n      ]),\n      _: 1 /* STABLE */\n    }),\n    _createElementVNode(\"div\", _hoisted_1, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(__props.related, (relation) => {\n        return (_openBlock(), _createBlock(FormButton, {\n          key: relation.type,\n          link: relation.links.length === 1 ? relation.links[0].url : '',\n          \"hover-animation\": false,\n          tabindex: -1,\n          class: \"related-item\"\n        }, {\n          default: _withCtx(() => [\n            _createElementVNode(\"div\", _hoisted_2, _toDisplayString(relation.type), 1 /* TEXT */),\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(relation.links, (link) => {\n              return (_openBlock(), _createElementBlock(\"div\", {\n                key: link.id,\n                class: \"title\"\n              }, [\n                _createVNode(MediaLink, {\n                  href: link.url,\n                  class: \"link\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(StateDot, {\n                      status: link.list ? link.list.status : 0,\n                      \"relative-height\": true\n                    }, null, 8 /* PROPS */, [\"status\"]),\n                    _createElementVNode(\"span\", null, _toDisplayString(link.title), 1 /* TEXT */)\n                  ]),\n                  _: 2 /* DYNAMIC */\n                }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"href\"])\n              ]))\n            }), 128 /* KEYED_FRAGMENT */))\n          ]),\n          _: 2 /* DYNAMIC */\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"link\"]))\n      }), 128 /* KEYED_FRAGMENT */))\n    ])\n  ]))\n}\n}\n\n})","import script from \"./overview-related.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./overview-related.vue?vue&type=script&lang=ts&setup=true\"\n\nimport _style_0 from \"./overview-related.vue?vue&type=style&index=0&id=8ff0e694&inline&lang=less&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['styles',[_style_0]],['__scopeId',\"data-v-8ff0e694\"],['__file',\"overview-related.vue\"]])\n\nexport default __exports__","export default \"/* stylelint-disable prettier/prettier */\\n/* Aspect ratios */\\n/* Transitions */\\n/* Typography */\\n/* Shadows */\\n/* Fonts */\\n@keyframes skeleton-loading-malsync-8ff0e694 {\\nto {\\n    transform: translateX(100%);\\n}\\n}\\n.grid[data-v-8ff0e694] {\\n  grid-gap: var(--size-spacer-half);\\n  display: flex;\\n  flex-direction: column;\\n}\\n@media screen and (min-width: 900px) {\\n.grid[data-v-8ff0e694] {\\n    display: grid;\\n    grid-template-columns: repeat(2, 2fr);\\n    gap: var(--size-spacer);\\n}\\n}\\n.grid .related-item[data-v-8ff0e694] {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 10px;\\n}\\n.grid .type[data-v-8ff0e694] {\\n  font-weight: 600;\\n}\\n.grid .link[data-v-8ff0e694] {\\n  display: flex;\\n  align-items: center;\\n}\\n.grid .link:hover span[data-v-8ff0e694] {\\n  opacity: 0.6;\\n}\\n\"","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nimport ErrorGeneral from './error-general.vue';\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'error-meta',\n  props: {\n  metaRequest: {\n    type: Object,\n    default: () => ({}),\n  },\n},\n  setup(__props) {\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (!__props.metaRequest.loading && __props.metaRequest.error)\n    ? (_openBlock(), _createBlock(ErrorGeneral, { key: 0 }, {\n        default: _withCtx(() => [\n          _createTextVNode(_toDisplayString(__props.metaRequest.error.message || __props.metaRequest.error), 1 /* TEXT */)\n        ]),\n        _: 1 /* STABLE */\n      }))\n    : _createCommentVNode(\"v-if\", true)\n}\n}\n\n})","import script from \"./error-meta.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./error-meta.vue?vue&type=script&lang=ts&setup=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__file',\"error-meta.vue\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, unref as _unref, withCtx as _withCtx, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withModifiers as _withModifiers, normalizeClass as _normalizeClass, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, resolveDirective as _resolveDirective, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = (n: any) => (_pushScopeId(\"data-v-3a1ab92f\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 0,\n  class: \"overview\"\n}\nconst _hoisted_2 = { class: \"header-section\" }\nconst _hoisted_3 = { class: \"statusDotSection\" }\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"header-link material-icons\" }, \"open_in_new\", -1 /* HOISTED */))\nconst _hoisted_5 = { class: \"header-title\" }\nconst _hoisted_6 = { class: \"alt-titles\" }\nconst _hoisted_7 = { class: \"value\" }\n\nimport { computed, inject, PropType, reactive, ref, watch } from 'vue';\nimport { useRoute, useRouter } from 'vue-router';\nimport { pathToUrl } from '../../utils/slugs';\nimport { getOverview } from '../../_provider/metaDataFactory';\nimport { createRequest } from '../utils/reactive';\nimport OverviewImage from '../components/overview/overview-image.vue';\nimport Section from '../components/section.vue';\nimport Header from '../components/header.vue';\nimport StateDot from '../components/state-dot.vue';\nimport Description from '../components/description.vue';\nimport TextScroller from '../components/text-scroller.vue';\nimport OverviewUpdateUi from '../components/overview/overview-update-ui.vue';\nimport OverviewStreaming from '../components/overview/overview-streaming.vue';\nimport OverviewCharacters from '../components/overview/overview-characters.vue';\nimport OverviewReviews from '../components/overview/overview-reviews.vue';\nimport OverviewInfo from '../components/overview/overview-info.vue';\nimport OverviewRecommendations from '../components/overview/overview-recommendations.vue';\nimport OverviewRelated from '../components/overview/overview-related.vue';\nimport Modal from '../components/modal.vue';\nimport HR from '../components/hr.vue';\nimport { NotFoundError, UrlNotSupportedError } from '../../_provider/Errors';\nimport { getSingle } from '../../_provider/singleFactory';\nimport MediaLink from '../components/media-link.vue';\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nimport { SingleAbstract } from '../../_provider/singleAbstract';\nimport ErrorMeta from '../components/error/error-meta.vue';\nimport PillDark from '../components/pill-dark.vue';\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'overview',\n  props: {\n  type: {\n    type: String as PropType<'anime' | 'manga'>,\n    required: true,\n  },\n  slug: {\n    type: String,\n    required: true,\n  },\n},\n  setup(__props) {\n\nconst breakpoint = inject('breakpoint');\n\nconst route = useRoute();\nconst router = useRouter();\n\nconst titleModal = ref(false);\n\nconst hide = ref(true);\nsetTimeout(() => {\n  hide.value = false;\n}, 100);\n\nconst open404 = () => {\n  router.push({\n    name: 'NotFound',\n    params: { pathMatch: route.path.substring(1).split('/') },\n    query: route.query,\n    hash: route.hash,\n  });\n};\n\nconst props = __props;\n\nconst url = computed(() => {\n  try {\n    return props.slug ? pathToUrl(props) : '';\n  } catch (error) {\n    con.error(error);\n    open404();\n  }\n  return '';\n});\n\nconst parameters = ref({\n  url,\n  type: props.type as 'anime' | 'manga',\n});\n\nconst metaRequest = createRequest(parameters, async param => {\n  if (!param.value.url) return null;\n  const ov = await getOverview(param.value.url, param.value.type).init();\n  return ov.getMeta();\n});\n\nconst singleRequest = createRequest(parameters, async param => {\n  if (!param.value.url) return null;\n  const single = reactive(getSingle(param.value.url));\n  await single.update().catch(e => {\n    con.error(e);\n    return single;\n  });\n\n  single.initProgress();\n\n  return single;\n});\n\nwatch(\n  () => metaRequest.error,\n  error => {\n    if (error instanceof UrlNotSupportedError || error instanceof NotFoundError) {\n      open404();\n    }\n  },\n);\n\nwatch(\n  () => singleRequest.error,\n  error => {\n    if (error instanceof UrlNotSupportedError || error instanceof NotFoundError) {\n      open404();\n    }\n  },\n);\n\nconst cleanDescription = computed(() => {\n  if (!metaRequest.data) return '';\n  const { description } = metaRequest.data;\n  if (!description) return '';\n  return description.replace(/(< *\\/? *br *\\/? *>(\\r|\\n| )*){2,}/gim, '<br /><br />');\n});\n\nconst totalLoading = computed(() => {\n  if (!metaRequest.loading) return false;\n  return metaRequest.loading || singleRequest.loading;\n});\n\nreturn (_ctx: any,_cache: any) => {\n  const _directive_dompurify_html = _resolveDirective(\"dompurify-html\")!\n\n  return (!hide.value)\n    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createVNode(Section, { class: \"image-section fake\" }),\n        _createVNode(Section, { class: \"image-section real\" }, {\n          default: _withCtx(() => [\n            _createVNode(OverviewImage, {\n              class: \"image\",\n              single: _unref(singleRequest).data as null | SingleAbstract,\n              src: _unref(metaRequest).data?.imageLarge || _unref(singleRequest).data?.getImage() || '',\n              loading: _unref(metaRequest).loading\n            }, null, 8 /* PROPS */, [\"single\", \"src\", \"loading\"])\n          ]),\n          _: 1 /* STABLE */\n        }),\n        _createElementVNode(\"div\", _hoisted_2, [\n          _createVNode(Section, { spacer: \"half\" }, {\n            default: _withCtx(() => [\n              _createVNode(MediaLink, {\n                \"force-link\": true,\n                href: _unref(singleRequest).data?.getDisplayUrl() || ''\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(Header, {\n                    loading: _unref(metaRequest).loading,\n                    class: _normalizeClass([\"header-block\", {\n              hasTitle:\n                _unref(metaRequest).data &&\n                _unref(metaRequest).data.alternativeTitle &&\n                _unref(metaRequest).data.alternativeTitle.length,\n            }])\n                  }, {\n                    default: _withCtx(() => [\n                      _createElementVNode(\"div\", _hoisted_3, [\n                        _createVNode(StateDot, {\n                          class: \"dot\",\n                          status: \n                  !_unref(singleRequest).loading && _unref(singleRequest).data?.getStatus()\n                    ? _unref(singleRequest).data?.getStatus()\n                    : 0\n                \n                        }, null, 8 /* PROPS */, [\"status\"]),\n                        _hoisted_4\n                      ]),\n                      _createElementVNode(\"span\", _hoisted_5, [\n                        _createTextVNode(_toDisplayString(_unref(metaRequest).data?.title || _unref(singleRequest).data?.getTitle() || '') + \" \", 1 /* TEXT */),\n                        _createVNode(PillDark, {\n                          class: \"header-synonyms\",\n                          onClick: _cache[0] || (_cache[0] = _withModifiers(($event: any) => (titleModal.value = true), [\"prevent\"]))\n                        }, {\n                          default: _withCtx(() => [\n                            _createTextVNode(_toDisplayString(_ctx.lang('overview_synonyms')), 1 /* TEXT */)\n                          ]),\n                          _: 1 /* STABLE */\n                        })\n                      ])\n                    ]),\n                    _: 1 /* STABLE */\n                  }, 8 /* PROPS */, [\"loading\", \"class\"])\n                ]),\n                _: 1 /* STABLE */\n              }, 8 /* PROPS */, [\"href\"]),\n              (\n            _unref(metaRequest).data &&\n            _unref(metaRequest).data.alternativeTitle &&\n            _unref(metaRequest).data.alternativeTitle.length\n          )\n                ? (_openBlock(), _createBlock(Modal, {\n                    key: 0,\n                    modelValue: titleModal.value,\n                    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((titleModal).value = $event))\n                  }, {\n                    default: _withCtx(() => [\n                      _createElementVNode(\"div\", _hoisted_6, [\n                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList([...new Set((_unref(metaRequest)).data.alternativeTitle)], (altTitle) => {\n                          return (_openBlock(), _createElementBlock(\"div\", {\n                            key: altTitle,\n                            class: \"alt-title\"\n                          }, _toDisplayString(altTitle), 1 /* TEXT */))\n                        }), 128 /* KEYED_FRAGMENT */))\n                      ])\n                    ]),\n                    _: 1 /* STABLE */\n                  }, 8 /* PROPS */, [\"modelValue\"]))\n                : _createCommentVNode(\"v-if\", true)\n            ]),\n            _: 1 /* STABLE */\n          }),\n          _createVNode(ErrorMeta, { \"meta-request\": _unref(metaRequest) }, null, 8 /* PROPS */, [\"meta-request\"]),\n          (_unref(metaRequest).data?.statistics?.length || _unref(metaRequest).loading)\n            ? (_openBlock(), _createBlock(Section, {\n                key: 0,\n                spacer: \"half\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(TextScroller, {\n                    class: \"stats\",\n                    loading: _unref(metaRequest).loading\n                  }, {\n                    default: _withCtx(() => [\n                      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(metaRequest).data!.statistics, (stat) => {\n                        return (_openBlock(), _createElementBlock(\"span\", {\n                          key: stat.title,\n                          class: \"stats-block\"\n                        }, [\n                          _createTextVNode(_toDisplayString(stat.title) + \" \", 1 /* TEXT */),\n                          _createElementVNode(\"span\", _hoisted_7, _toDisplayString(stat.body), 1 /* TEXT */)\n                        ]))\n                      }), 128 /* KEYED_FRAGMENT */))\n                    ]),\n                    _: 1 /* STABLE */\n                  }, 8 /* PROPS */, [\"loading\"])\n                ]),\n                _: 1 /* STABLE */\n              }))\n            : _createCommentVNode(\"v-if\", true),\n          _createVNode(Section, { class: \"description-section\" }, {\n            default: _withCtx(() => [\n              _createVNode(Description, {\n                loading: totalLoading.value,\n                height: _unref(breakpoint) === 'desktop' ? 'dynamic' : 240,\n                fade: _unref(breakpoint) === 'mobile'\n              }, {\n                default: _withCtx(() => [\n                  _withDirectives(_createElementVNode(\"div\", {\n                    class: _normalizeClass([\"description-html\", { preLine: !cleanDescription.value.includes('<br') }]),\n                    dir: \"auto\"\n                  }, null, 2 /* CLASS */), [\n                    [_directive_dompurify_html, cleanDescription.value]\n                  ])\n                ]),\n                _: 1 /* STABLE */\n              }, 8 /* PROPS */, [\"loading\", \"height\", \"fade\"])\n            ]),\n            _: 1 /* STABLE */\n          })\n        ]),\n        (_unref(breakpoint) === 'desktop' || !totalLoading.value)\n          ? (_openBlock(), _createBlock(HR, {\n              key: 0,\n              class: \"header-split\"\n            }))\n          : _createCommentVNode(\"v-if\", true),\n        (_unref(breakpoint) === 'desktop' || !totalLoading.value)\n          ? (_openBlock(), _createBlock(Section, {\n              key: 1,\n              class: \"update-section\"\n            }, {\n              default: _withCtx(() => [\n                _createVNode(OverviewUpdateUi, {\n                  single: _unref(singleRequest).data as null | SingleAbstract,\n                  loading: totalLoading.value || _unref(singleRequest).loading,\n                  type: props.type\n                }, null, 8 /* PROPS */, [\"single\", \"loading\", \"type\"])\n              ]),\n              _: 1 /* STABLE */\n            }))\n          : _createCommentVNode(\"v-if\", true),\n        (_unref(breakpoint) === 'desktop' || (!totalLoading.value && !_unref(singleRequest).loading))\n          ? (_openBlock(), _createElementBlock(_Fragment, { key: 2 }, [\n              _createVNode(HR),\n              _createVNode(Section, { class: \"stream-section\" }, {\n                default: _withCtx(() => [\n                  _createVNode(OverviewStreaming, {\n                    type: props.type as 'anime',\n                    \"cache-key\": _unref(singleRequest).data && !totalLoading.value ? _unref(singleRequest).data!.getCacheKey() : '',\n                    title: _unref(singleRequest).data ? _unref(singleRequest).data!.getTitle() : '',\n                    \"alternative-title\": _unref(metaRequest).data?.alternativeTitle\n                  }, null, 8 /* PROPS */, [\"type\", \"cache-key\", \"title\", \"alternative-title\"])\n                ]),\n                _: 1 /* STABLE */\n              }),\n              (!totalLoading.value)\n                ? (_openBlock(), _createBlock(HR, { key: 0 }))\n                : _createCommentVNode(\"v-if\", true),\n              _createVNode(Section, {\n                loading: totalLoading.value,\n                class: \"additional-content\",\n                spacer: \"none\"\n              }, {\n                default: _withCtx(() => [\n                  (_unref(metaRequest).data?.related?.length)\n                    ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                        _createVNode(Section, null, {\n                          default: _withCtx(() => [\n                            _createVNode(OverviewRelated, {\n                              related: _unref(metaRequest).data!.related\n                            }, null, 8 /* PROPS */, [\"related\"])\n                          ]),\n                          _: 1 /* STABLE */\n                        }),\n                        _createVNode(HR)\n                      ], 64 /* STABLE_FRAGMENT */))\n                    : _createCommentVNode(\"v-if\", true),\n                  (_unref(metaRequest).data?.characters?.length)\n                    ? (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                        _createVNode(Section, null, {\n                          default: _withCtx(() => [\n                            _createVNode(OverviewCharacters, {\n                              characters: _unref(metaRequest).data!.characters\n                            }, null, 8 /* PROPS */, [\"characters\"])\n                          ]),\n                          _: 1 /* STABLE */\n                        }),\n                        _createVNode(HR)\n                      ], 64 /* STABLE_FRAGMENT */))\n                    : _createCommentVNode(\"v-if\", true),\n                  (\n            (_unref(metaRequest).data!.reviews && _unref(metaRequest).data!.reviews.length) ||\n            _unref(singleRequest).data?.getMalUrl()\n          )\n                    ? (_openBlock(), _createElementBlock(_Fragment, { key: 2 }, [\n                        _createVNode(Section, null, {\n                          default: _withCtx(() => [\n                            _createVNode(OverviewReviews, {\n                              reviews: _unref(metaRequest).data!.reviews,\n                              \"mal-url\": _unref(singleRequest).data ? _unref(singleRequest).data!.getMalUrl()! : ''\n                            }, null, 8 /* PROPS */, [\"reviews\", \"mal-url\"])\n                          ]),\n                          _: 1 /* STABLE */\n                        }),\n                        _createVNode(HR)\n                      ], 64 /* STABLE_FRAGMENT */))\n                    : _createCommentVNode(\"v-if\", true),\n                  (\n            (_unref(metaRequest).data!.recommendations && _unref(metaRequest).data!.recommendations.length) ||\n            _unref(singleRequest).data?.getMalUrl()\n          )\n                    ? (_openBlock(), _createBlock(Section, { key: 3 }, {\n                        default: _withCtx(() => [\n                          _createVNode(OverviewRecommendations, {\n                            recommendations: _unref(metaRequest).data!.recommendations,\n                            \"mal-url\": _unref(singleRequest).data ? _unref(singleRequest).data!.getMalUrl()! : ''\n                          }, null, 8 /* PROPS */, [\"recommendations\", \"mal-url\"])\n                        ]),\n                        _: 1 /* STABLE */\n                      }))\n                    : _createCommentVNode(\"v-if\", true)\n                ]),\n                _: 1 /* STABLE */\n              }, 8 /* PROPS */, [\"loading\"]),\n              (_unref(metaRequest).data && _unref(metaRequest).data!.info.length)\n                ? (_openBlock(), _createBlock(HR, { key: 1 }))\n                : _createCommentVNode(\"v-if\", true),\n              (_unref(metaRequest).data && _unref(metaRequest).data!.info.length)\n                ? (_openBlock(), _createBlock(Section, {\n                    key: 2,\n                    class: \"info-section\",\n                    loading: totalLoading.value\n                  }, {\n                    default: _withCtx(() => [\n                      _createVNode(OverviewInfo, {\n                        info: _unref(metaRequest).data!.info,\n                        single: _unref(singleRequest).data as null | SingleAbstract\n                      }, null, 8 /* PROPS */, [\"info\", \"single\"])\n                    ]),\n                    _: 1 /* STABLE */\n                  }, 8 /* PROPS */, [\"loading\"]))\n                : _createCommentVNode(\"v-if\", true)\n            ], 64 /* STABLE_FRAGMENT */))\n          : _createCommentVNode(\"v-if\", true)\n      ]))\n    : _createCommentVNode(\"v-if\", true)\n}\n}\n\n})","<template>\n  <div v-if=\"!hide\" class=\"overview\">\n    <Section class=\"image-section fake\" />\n    <Section class=\"image-section real\">\n      <OverviewImage\n        class=\"image\"\n        :single=\"singleRequest.data as null | SingleAbstract\"\n        :src=\"metaRequest.data?.imageLarge || singleRequest.data?.getImage() || ''\"\n        :loading=\"metaRequest.loading\"\n      />\n    </Section>\n    <div class=\"header-section\">\n      <Section spacer=\"half\">\n        <MediaLink :force-link=\"true\" :href=\"singleRequest.data?.getDisplayUrl() || ''\">\n          <Header\n            :loading=\"metaRequest.loading\"\n            class=\"header-block\"\n            :class=\"{\n              hasTitle:\n                metaRequest.data &&\n                metaRequest.data.alternativeTitle &&\n                metaRequest.data.alternativeTitle.length,\n            }\"\n          >\n            <div class=\"statusDotSection\">\n              <StateDot\n                class=\"dot\"\n                :status=\"\n                  !singleRequest.loading && singleRequest.data?.getStatus()\n                    ? singleRequest.data?.getStatus()\n                    : 0\n                \"\n              />\n              <span class=\"header-link material-icons\">open_in_new</span>\n            </div>\n            <span class=\"header-title\">\n              {{ metaRequest.data?.title || singleRequest.data?.getTitle() || '' }}\n              <PillDark class=\"header-synonyms\" @click.prevent=\"titleModal = true\">\n                {{ lang('overview_synonyms') }}\n              </PillDark>\n            </span>\n          </Header>\n        </MediaLink>\n        <Modal\n          v-if=\"\n            metaRequest.data &&\n            metaRequest.data.alternativeTitle &&\n            metaRequest.data.alternativeTitle.length\n          \"\n          v-model=\"titleModal\"\n        >\n          <div class=\"alt-titles\">\n            <div\n              v-for=\"altTitle in [...new Set(metaRequest.data.alternativeTitle)]\"\n              :key=\"altTitle\"\n              class=\"alt-title\"\n            >\n              {{ altTitle }}\n            </div>\n          </div>\n        </Modal>\n      </Section>\n      <ErrorMeta :meta-request=\"metaRequest\" />\n      <Section v-if=\"metaRequest.data?.statistics?.length || metaRequest.loading\" spacer=\"half\">\n        <TextScroller class=\"stats\" :loading=\"metaRequest.loading\">\n          <span v-for=\"stat in metaRequest.data!.statistics\" :key=\"stat.title\" class=\"stats-block\">\n            {{ stat.title }} <span class=\"value\">{{ stat.body }}</span>\n          </span>\n        </TextScroller>\n      </Section>\n      <Section class=\"description-section\">\n        <Description\n          :loading=\"totalLoading\"\n          :height=\"breakpoint === 'desktop' ? 'dynamic' : 240\"\n          :fade=\"breakpoint === 'mobile'\"\n        >\n          <div\n            v-dompurify-html=\"cleanDescription\"\n            class=\"description-html\"\n            dir=\"auto\"\n            :class=\"{ preLine: !cleanDescription.includes('<br') }\"\n          />\n        </Description>\n      </Section>\n    </div>\n    <HR v-if=\"breakpoint === 'desktop' || !totalLoading\" class=\"header-split\" />\n    <Section v-if=\"breakpoint === 'desktop' || !totalLoading\" class=\"update-section\">\n      <OverviewUpdateUi\n        :single=\"singleRequest.data as null | SingleAbstract\"\n        :loading=\"totalLoading || singleRequest.loading\"\n        :type=\"props.type\"\n      />\n    </Section>\n    <template v-if=\"breakpoint === 'desktop' || (!totalLoading && !singleRequest.loading)\">\n      <HR />\n      <Section class=\"stream-section\">\n        <OverviewStreaming\n          :type=\"props.type as 'anime'\"\n          :cache-key=\"singleRequest.data && !totalLoading ? singleRequest.data!.getCacheKey() : ''\"\n          :title=\"singleRequest.data ? singleRequest.data!.getTitle() : ''\"\n          :alternative-title=\"metaRequest.data?.alternativeTitle\"\n        />\n      </Section>\n      <HR v-if=\"!totalLoading\" />\n      <Section :loading=\"totalLoading\" class=\"additional-content\" spacer=\"none\">\n        <template v-if=\"metaRequest.data?.related?.length\">\n          <Section>\n            <OverviewRelated :related=\"metaRequest.data!.related\" />\n          </Section>\n          <HR />\n        </template>\n        <template v-if=\"metaRequest.data?.characters?.length\">\n          <Section>\n            <OverviewCharacters :characters=\"metaRequest.data!.characters\" />\n          </Section>\n          <HR />\n        </template>\n        <template\n          v-if=\"\n            (metaRequest.data!.reviews && metaRequest.data!.reviews.length) ||\n            singleRequest.data?.getMalUrl()\n          \"\n        >\n          <Section>\n            <OverviewReviews\n              :reviews=\"metaRequest.data!.reviews\"\n              :mal-url=\"singleRequest.data ? singleRequest.data!.getMalUrl()! : ''\"\n            />\n          </Section>\n          <HR />\n        </template>\n        <template\n          v-if=\"\n            (metaRequest.data!.recommendations && metaRequest.data!.recommendations.length) ||\n            singleRequest.data?.getMalUrl()\n          \"\n        >\n          <Section>\n            <OverviewRecommendations\n              :recommendations=\"metaRequest.data!.recommendations\"\n              :mal-url=\"singleRequest.data ? singleRequest.data!.getMalUrl()! : ''\"\n            />\n          </Section>\n        </template>\n      </Section>\n      <HR v-if=\"metaRequest.data && metaRequest.data!.info.length\" />\n      <Section\n        v-if=\"metaRequest.data && metaRequest.data!.info.length\"\n        class=\"info-section\"\n        :loading=\"totalLoading\"\n      >\n        <OverviewInfo\n          :info=\"metaRequest.data!.info\"\n          :single=\"singleRequest.data as null | SingleAbstract\"\n        />\n      </Section>\n    </template>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, inject, PropType, reactive, ref, watch } from 'vue';\nimport { useRoute, useRouter } from 'vue-router';\nimport { pathToUrl } from '../../utils/slugs';\nimport { getOverview } from '../../_provider/metaDataFactory';\nimport { createRequest } from '../utils/reactive';\nimport OverviewImage from '../components/overview/overview-image.vue';\nimport Section from '../components/section.vue';\nimport Header from '../components/header.vue';\nimport StateDot from '../components/state-dot.vue';\nimport Description from '../components/description.vue';\nimport TextScroller from '../components/text-scroller.vue';\nimport OverviewUpdateUi from '../components/overview/overview-update-ui.vue';\nimport OverviewStreaming from '../components/overview/overview-streaming.vue';\nimport OverviewCharacters from '../components/overview/overview-characters.vue';\nimport OverviewReviews from '../components/overview/overview-reviews.vue';\nimport OverviewInfo from '../components/overview/overview-info.vue';\nimport OverviewRecommendations from '../components/overview/overview-recommendations.vue';\nimport OverviewRelated from '../components/overview/overview-related.vue';\nimport Modal from '../components/modal.vue';\nimport HR from '../components/hr.vue';\nimport { NotFoundError, UrlNotSupportedError } from '../../_provider/Errors';\nimport { getSingle } from '../../_provider/singleFactory';\nimport MediaLink from '../components/media-link.vue';\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nimport { SingleAbstract } from '../../_provider/singleAbstract';\nimport ErrorMeta from '../components/error/error-meta.vue';\nimport PillDark from '../components/pill-dark.vue';\n\nconst breakpoint = inject('breakpoint');\n\nconst route = useRoute();\nconst router = useRouter();\n\nconst titleModal = ref(false);\n\nconst hide = ref(true);\nsetTimeout(() => {\n  hide.value = false;\n}, 100);\n\nconst open404 = () => {\n  router.push({\n    name: 'NotFound',\n    params: { pathMatch: route.path.substring(1).split('/') },\n    query: route.query,\n    hash: route.hash,\n  });\n};\n\nconst props = defineProps({\n  type: {\n    type: String as PropType<'anime' | 'manga'>,\n    required: true,\n  },\n  slug: {\n    type: String,\n    required: true,\n  },\n});\n\nconst url = computed(() => {\n  try {\n    return props.slug ? pathToUrl(props) : '';\n  } catch (error) {\n    con.error(error);\n    open404();\n  }\n  return '';\n});\n\nconst parameters = ref({\n  url,\n  type: props.type as 'anime' | 'manga',\n});\n\nconst metaRequest = createRequest(parameters, async param => {\n  if (!param.value.url) return null;\n  const ov = await getOverview(param.value.url, param.value.type).init();\n  return ov.getMeta();\n});\n\nconst singleRequest = createRequest(parameters, async param => {\n  if (!param.value.url) return null;\n  const single = reactive(getSingle(param.value.url));\n  await single.update().catch(e => {\n    con.error(e);\n    return single;\n  });\n\n  single.initProgress();\n\n  return single;\n});\n\nwatch(\n  () => metaRequest.error,\n  error => {\n    if (error instanceof UrlNotSupportedError || error instanceof NotFoundError) {\n      open404();\n    }\n  },\n);\n\nwatch(\n  () => singleRequest.error,\n  error => {\n    if (error instanceof UrlNotSupportedError || error instanceof NotFoundError) {\n      open404();\n    }\n  },\n);\n\nconst cleanDescription = computed(() => {\n  if (!metaRequest.data) return '';\n  const { description } = metaRequest.data;\n  if (!description) return '';\n  return description.replace(/(< *\\/? *br *\\/? *>(\\r|\\n| )*){2,}/gim, '<br /><br />');\n});\n\nconst totalLoading = computed(() => {\n  if (!metaRequest.loading) return false;\n  return metaRequest.loading || singleRequest.loading;\n});\n</script>\n\n<style lang=\"less\" scoped>\n@import '../less/_globals.less';\n.overview {\n  .stats {\n    color: var(--cl-light-text);\n    .stats-block {\n      display: inline-block;\n    }\n    .value {\n      font-weight: 600;\n      margin-right: 20px;\n    }\n  }\n\n  .header-block {\n    display: flex;\n    align-items: center;\n\n    .statusDotSection {\n      width: 32px;\n      height: 30px;\n      display: flex;\n      align-items: center;\n    }\n\n    .header-link {\n      display: none;\n      margin-inline-end: 0.5em;\n      color: var(--cl-secondary);\n    }\n\n    .header-title {\n      position: relative;\n      width: 100%;\n\n      .header-synonyms {\n        display: none;\n        font-size: var(--base-font-size);\n        font-weight: normal;\n        position: absolute;\n        top: 50%;\n        transform: translateY(-50%);\n        inset-inline-end: 0;\n      }\n    }\n\n    &.hasTitle {\n      .link();\n    }\n\n    &:hover {\n      .dot {\n        display: none;\n      }\n      .header-link {\n        display: flex;\n        position: relative;\n        max-width: 16px;\n        left: -3px;\n      }\n\n      .header-synonyms {\n        display: block;\n      }\n    }\n  }\n\n  .description-html {\n    &.preLine {\n      white-space: pre-line;\n    }\n  }\n\n  .fake {\n    display: none;\n  }\n\n  .__breakpoint-desktop__( {\n    display: grid;\n    grid-template-columns: 300px auto;\n    grid-template-rows: min-content auto auto auto max-content;\n    gap: 0 @spacer;\n\n    > hr {\n      display: none;\n    }\n\n    .image-section {\n      grid-row-start: 1;\n      grid-row-end: 3;\n      grid-column-start: 1;\n\n      &.fake {\n        display: block;\n        overflow: hidden;\n        visibility: hidden;\n        aspect-ratio: @aspect-ratio-cover;\n      }\n\n      &.real {\n        height: 0;\n      }\n    }\n\n    .header-section {\n      grid-column-start: 2;\n      grid-row-start: 1;\n      display: flex;\n      flex-direction: column;\n      overflow: hidden;\n\n      .description-section {\n        flex-grow: 1;\n      }\n    }\n\n    .stream-section {\n      grid-column-start: 2;\n      grid-row-start: 2;\n    }\n\n    .header-split {\n      display: block;\n      grid-column-start: 1;\n      grid-column-end: 3;\n      grid-row-start: 3;\n    }\n    .update-section {\n      grid-column-start: 1;\n      grid-row-start: 4;\n    }\n\n    .additional-content {\n      overflow: hidden;\n      grid-column-start: 2;\n      grid-row-start: 4;\n      grid-row-end: 7;\n    }\n\n    .info-section {\n      grid-column-start: 1;\n      grid-row-start: 5;\n    }\n\n  });\n}\n\n.alt-titles {\n  .border-radius();\n\n  background-color: var(--cl-foreground-solid);\n  color: var(--cl-text);\n  padding: 15px 10px;\n\n  .alt-title {\n    padding: 5px 15px;\n  }\n}\n</style>\n","import * as helper from './helper';\nimport { MetaOverview as LocalMeta } from './Local/metaOverview';\nimport { MetaOverview as MalMeta } from './MyAnimeList_hybrid/metaOverview';\nimport { MetaOverview as MalApiMeta } from './MyAnimeList_api/metaOverview';\nimport { MetaOverview as AniMeta } from './AniList/metaOverview';\nimport { MetaOverview as KitsuMeta } from './Kitsu/metaOverview';\nimport { MetaOverview as SimklMeta } from './Simkl/metaOverview';\nimport { MetaOverview as ShikiMeta } from './Shikimori/metaOverview';\n\nexport function getOverview(url, type, syncMode = '') {\n  if (!syncMode) {\n    syncMode = helper.getSyncMode(type);\n  }\n\n  if (/^local:\\/\\//i.test(url)) {\n    return new LocalMeta(url);\n  }\n  if (syncMode === 'ANILIST') {\n    return new AniMeta(url);\n  }\n  if (syncMode === 'KITSU') {\n    return new KitsuMeta(url);\n  }\n  if (syncMode === 'SIMKL') {\n    return new SimklMeta(url);\n  }\n  if (syncMode === 'SHIKI') {\n    return new ShikiMeta(url);\n  }\n  if (syncMode === 'MAL') {\n    return new MalMeta(url);\n  }\n  if (syncMode === 'MALAPI') {\n    return new MalApiMeta(url);\n  }\n\n  throw 'Unknown sync mode';\n}\n","import script from \"./overview.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./overview.vue?vue&type=script&lang=ts&setup=true\"\n\nimport _style_0 from \"./overview.vue?vue&type=style&index=0&id=3a1ab92f&inline&lang=less&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['styles',[_style_0]],['__scopeId',\"data-v-3a1ab92f\"],['__file',\"overview.vue\"]])\n\nexport default __exports__","export default \"/* stylelint-disable prettier/prettier */\\n/* Aspect ratios */\\n/* Transitions */\\n/* Typography */\\n/* Shadows */\\n/* Fonts */\\n@keyframes skeleton-loading-malsync-3a1ab92f {\\nto {\\n    transform: translateX(100%);\\n}\\n}\\n.overview .stats[data-v-3a1ab92f] {\\n  color: var(--cl-light-text);\\n}\\n.overview .stats .stats-block[data-v-3a1ab92f] {\\n  display: inline-block;\\n}\\n.overview .stats .value[data-v-3a1ab92f] {\\n  font-weight: 600;\\n  margin-right: 20px;\\n}\\n.overview .header-block[data-v-3a1ab92f] {\\n  display: flex;\\n  align-items: center;\\n}\\n.overview .header-block .statusDotSection[data-v-3a1ab92f] {\\n  width: 32px;\\n  height: 30px;\\n  display: flex;\\n  align-items: center;\\n}\\n.overview .header-block .header-link[data-v-3a1ab92f] {\\n  display: none;\\n  margin-inline-end: 0.5em;\\n  color: var(--cl-secondary);\\n}\\n.overview .header-block .header-title[data-v-3a1ab92f] {\\n  position: relative;\\n  width: 100%;\\n}\\n.overview .header-block .header-title .header-synonyms[data-v-3a1ab92f] {\\n  display: none;\\n  font-size: var(--base-font-size);\\n  font-weight: normal;\\n  position: absolute;\\n  top: 50%;\\n  transform: translateY(-50%);\\n  inset-inline-end: 0;\\n}\\n.overview .header-block.hasTitle[data-v-3a1ab92f] {\\n  cursor: pointer;\\n}\\n.overview .header-block:hover .dot[data-v-3a1ab92f] {\\n  display: none;\\n}\\n.overview .header-block:hover .header-link[data-v-3a1ab92f] {\\n  display: flex;\\n  position: relative;\\n  max-width: 16px;\\n  left: -3px;\\n}\\n.overview .header-block:hover .header-synonyms[data-v-3a1ab92f] {\\n  display: block;\\n}\\n.overview .description-html.preLine[data-v-3a1ab92f] {\\n  white-space: pre-line;\\n}\\n.overview .fake[data-v-3a1ab92f] {\\n  display: none;\\n}\\n@media screen and (min-width: 900px) {\\n.overview[data-v-3a1ab92f] {\\n    display: grid;\\n    grid-template-columns: 300px auto;\\n    grid-template-rows: min-content auto auto auto max-content;\\n    gap: 0 var(--size-spacer);\\n}\\n.overview > hr[data-v-3a1ab92f] {\\n    display: none;\\n}\\n.overview .image-section[data-v-3a1ab92f] {\\n    grid-row-start: 1;\\n    grid-row-end: 3;\\n    grid-column-start: 1;\\n}\\n.overview .image-section.fake[data-v-3a1ab92f] {\\n    display: block;\\n    overflow: hidden;\\n    visibility: hidden;\\n    aspect-ratio: 225/350;\\n}\\n.overview .image-section.real[data-v-3a1ab92f] {\\n    height: 0;\\n}\\n.overview .header-section[data-v-3a1ab92f] {\\n    grid-column-start: 2;\\n    grid-row-start: 1;\\n    display: flex;\\n    flex-direction: column;\\n    overflow: hidden;\\n}\\n.overview .header-section .description-section[data-v-3a1ab92f] {\\n    flex-grow: 1;\\n}\\n.overview .stream-section[data-v-3a1ab92f] {\\n    grid-column-start: 2;\\n    grid-row-start: 2;\\n}\\n.overview .header-split[data-v-3a1ab92f] {\\n    display: block;\\n    grid-column-start: 1;\\n    grid-column-end: 3;\\n    grid-row-start: 3;\\n}\\n.overview .update-section[data-v-3a1ab92f] {\\n    grid-column-start: 1;\\n    grid-row-start: 4;\\n}\\n.overview .additional-content[data-v-3a1ab92f] {\\n    overflow: hidden;\\n    grid-column-start: 2;\\n    grid-row-start: 4;\\n    grid-row-end: 7;\\n}\\n.overview .info-section[data-v-3a1ab92f] {\\n    grid-column-start: 1;\\n    grid-row-start: 5;\\n}\\n}\\n.alt-titles[data-v-3a1ab92f] {\\n  border-radius: 10px;\\n  background-color: var(--cl-foreground-solid);\\n  color: var(--cl-text);\\n  padding: 15px 10px;\\n}\\n.alt-titles .alt-title[data-v-3a1ab92f] {\\n  padding: 5px 15px;\\n}\\n\""],"names":["_hoisted_1","key","class","__name","props","loading","type","Boolean","default","fade","height","Number","String","minheight","setup","__props","_ctx","heightstyle","open","overflow","inner","calcOverflow","value","scrollHeight","clientHeight","_cache","close","dynamic","ref_key","ref","dir","$slots","animation","onClick","$event","lang","_","options","Array","required","min","max","interval","modelValue","require","color","disabled","emits","emit","__emit","picked","get","set","optionsComputed","map","option","toString","label","title","lazy","data","MetaOverviewAbstract","constructor","url","run","meta","alternativeTitle","description","image","imageLarge","characters","statistics","info","openingSongs","endingSongs","related","cacheObj","undefined","this","logger","con","m","init","getCache","hasValueAndIsNotEmpty","log","getValue","fillOverviewState","_init","setValue","getMeta","relation","link","links","dbEntry","api","request","database","id","list","status","score","episode","watchedEp","Cache","MetaOverview","super","utils","urlPart","match","malId","getData","xhr","then","response","responseText","split","replace","e","console","$","html","j","text","ending","pop","altTitle","tempHtml","parseHTML","find","toArray","i","getBaseText","trim","charArray","characterBlock","charHtml","each","index","regexDimensions","charImg","first","attr","test","handleMalImages","charObjLink","parent","push","img","name","subtext","stats","statsBlock","filter","slice","body","clone","children","remove","end","infoBlock","infoData","aTags","el","absoluteLink","textTags","length","getExternalLinks","openingBlock","openingData","author","endingBlock","endingData","relatedBlock","indexB","valueB","last","mediaTypeDefinition","airingStatusDefinition","sourceDefinition","ratingDefinition","apiCall","path","fields","synopsis","main_picture","medium","large","alternative_titles","prop","isArray","concat","mean","storage","rank","popularity","num_list_users","toLocaleString","num_scoring_users","media_type","format","num_episodes","num_chapters","num_volumes","start_date","end_date","start_season","season","year","broadcast","day_of_the_week","start_time","studios","forEach","authors","node","last_name","first_name","role","source","genres","average_episode_duration","rating","serialization","related_anime","relation_type","relation_type_formatted","related_manga","Object","keys","aniId","NaN","reviews","recommendations","selectId","selectQuery","isNaN","query","variables","toUpperCase","Media","userPreferred","coverImage","extraLarge","imageBanner","bannerImage","titles","chars","edges","charAt","toLowerCase","siteUrl","averageScore","favourites","rankings","allTime","context","episodes","duration","startDate","month","day","endDate","isMain","staff","ignore","includes","gen","external","externalLinks","site","relations","relationType","nodes","people","date","time","createdAt","user","avatar","href","mediaRecommendation","entry","users","kitsuId","kitsuSlug","animeI","animeInfo","kitsuRes","item","relationships","included","attributes","slug","message","res","canonicalTitle","posterImage","small","original","abbreviatedTitles","averageRating","ratingRank","popularityRank","userCount","subtype","episodeCount","episodeLength","ageRating","totalLength","an","tempEl","destination","call","errorHandling","simklId","parseInt","de","simkl","mal","ids","extended","overview","poster","en_title","ratings","votes","anime_type","total_episodes","airs","network","runtime","certification","roles","russian","description_html","english","japanese","synonyms","character","roles_russian","sort","a","b","indexOf","rates_statuses_stats","wat","red","com","kind","upperCaseFirstLetter","aired_on","person","element","relation_russian","manga","anime","values","rootHtml","state","Teleport","to","appear","_hoisted_2","_hoisted_3","src","single","imgModal","streaming","streamingEl","favicon","continueUrl","getStreamingUrl","resumeUrlObj","getResumeWatching","continueUrlObj","getContinueWatching","ep","getEpisode","progress","progressEl","getProgress","isAiring","hov","notLoading","right","left","reverse","getType","A","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","getProgressMode","setProgressMode","getProgressOptions","select","tabindex","padding","getProgressKey","slotProps","size","hoverValue","active","hoverActive","onMouseover","onMouseout","error","_directive_dompurify_html","n","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","singleLoading","volume","isAuthenticated","getVolume","setVolume","setEpisode","scoreModeStrategy","getScoreMode","valueToOptionValue","getAbsoluteScore","setAbsoluteScore","optionValueToValue","scoreTextField","getStatusCheckboxValue","handleStatusCheckbox","getCurrentEpisode","async","update","sync","delete","episodeLang","getLastError","getLastErrorMessage","notOnList","isOnList","getStatusCheckbox","currentTitle","suffix","getTotalEpisodes","placeholder","getPredictionText","getTotalVolumes","ui","module","validation","RegExp","pattern","getOptions","getScoreCheckbox","isDirty","onKeydown","cacheKey","search","parameters","streamRequest","param","Promise","resolve","cache","prefix","ttl","refetchTtl","groupIcon","group","Error","fn","searchFn","Set","l","spacer","icon","domain","onMousedown","char","mode","elements","entriesPerPage","openAll","page","pageElements","malUrl","load","metaRequest","params","reviewSection","block","userHref","userImage","username","reactionJson","rPeople","JSON","parse","num","rDate","rRating","moreText","textBlock","rText","reviewMeta","executeCondition","keyFn","stopLoading","grid","review","preLine","desc","card","getProgressCompleted","lastEp","timestamp","predicition","breakpoint","recommendationsBlock","imageBlock","titleHref","titleName","imageUrl","next","moreUrl","moreNumber","more","number","recommendation","recommendationsMeta","rec","position","route","router","titleModal","hide","setTimeout","open404","pathMatch","substring","hash","ov","syncMode","helper","getOverview","singleRequest","catch","initProgress","cleanDescription","totalLoading","getImage","getDisplayUrl","hasTitle","getStatus","getTitle","stat","getCacheKey","getMalUrl"],"sourceRoot":""}