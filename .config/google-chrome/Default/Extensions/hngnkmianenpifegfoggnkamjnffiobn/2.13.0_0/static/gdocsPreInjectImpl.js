(function (){var up=Object.create;var ln=Object.defineProperty;var lp=Object.getOwnPropertyDescriptor;var dp=Object.getOwnPropertyNames;var pp=Object.getPrototypeOf,fp=Object.prototype.hasOwnProperty;var mp=(t,e)=>()=>(t&&(e=t(t=0)),e);var b=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),gp=(t,e)=>{for(var r in e)ln(t,r,{get:e[r],enumerable:!0})},hp=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of dp(e))!fp.call(t,i)&&i!==r&&ln(t,i,{get:()=>e[i],enumerable:!(n=lp(e,i))||n.enumerable});return t};var Z=(t,e,r)=>(r=t!=null?up(pp(t)):{},hp(e||!t||!t.__esModule?ln(r,"default",{value:t,enumerable:!0}):r,t));var p,o=mp(()=>{p={NODE_ENV:"production",WRITER_ENV:"production"}});var Gi=b((FE,Ui)=>{"use strict";o();function Sp(){this.__data__=[],this.size=0}Ui.exports=Sp});var Yt=b((qE,Fi)=>{"use strict";o();function vp(t,e){return t===e||t!==t&&e!==e}Fi.exports=vp});var ut=b((VE,Bi)=>{"use strict";o();var yp=Yt();function _p(t,e){for(var r=t.length;r--;)if(yp(t[r][0],e))return r;return-1}Bi.exports=_p});var ji=b((WE,qi)=>{"use strict";o();var wp=ut(),Ep=Array.prototype,Tp=Ep.splice;function xp(t){var e=this.__data__,r=wp(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Tp.call(e,r,1),--this.size,!0}qi.exports=xp});var Hi=b(($E,Vi)=>{"use strict";o();var Ap=ut();function Cp(t){var e=this.__data__,r=Ap(e,t);return r<0?void 0:e[r][1]}Vi.exports=Cp});var zi=b((KE,Wi)=>{"use strict";o();var Ip=ut();function Op(t){return Ip(this.__data__,t)>-1}Wi.exports=Op});var Yi=b((JE,$i)=>{"use strict";o();var Np=ut();function Rp(t,e){var r=this.__data__,n=Np(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}$i.exports=Rp});var lt=b((ZE,Ki)=>{"use strict";o();var Pp=Gi(),Dp=ji(),kp=Hi(),Lp=zi(),Mp=Yi();function Le(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Le.prototype.clear=Pp;Le.prototype.delete=Dp;Le.prototype.get=kp;Le.prototype.has=Lp;Le.prototype.set=Mp;Ki.exports=Le});var Ji=b((tT,Xi)=>{"use strict";o();var Up=lt();function Gp(){this.__data__=new Up,this.size=0}Xi.exports=Gp});var Zi=b((nT,Qi)=>{"use strict";o();function Fp(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}Qi.exports=Fp});var to=b((oT,eo)=>{"use strict";o();function Bp(t){return this.__data__.get(t)}eo.exports=Bp});var no=b((aT,ro)=>{"use strict";o();function qp(t){return this.__data__.has(t)}ro.exports=qp});var dn=b((uT,io)=>{"use strict";o();var jp=typeof global=="object"&&global&&global.Object===Object&&global;io.exports=jp});var ne=b((dT,oo)=>{"use strict";o();var Vp=dn(),Hp=typeof self=="object"&&self&&self.Object===Object&&self,Wp=Vp||Hp||Function("return this")();oo.exports=Wp});var Me=b((fT,so)=>{"use strict";o();var zp=ne(),$p=zp.Symbol;so.exports=$p});var lo=b((gT,uo)=>{"use strict";o();var ao=Me(),co=Object.prototype,Yp=co.hasOwnProperty,Kp=co.toString,dt=ao?ao.toStringTag:void 0;function Xp(t){var e=Yp.call(t,dt),r=t[dt];try{t[dt]=void 0;var n=!0}catch{}var i=Kp.call(t);return n&&(e?t[dt]=r:delete t[dt]),i}uo.exports=Xp});var fo=b((bT,po)=>{"use strict";o();var Jp=Object.prototype,Qp=Jp.toString;function Zp(t){return Qp.call(t)}po.exports=Zp});var Ue=b((vT,ho)=>{"use strict";o();var mo=Me(),ef=lo(),tf=fo(),rf="[object Null]",nf="[object Undefined]",go=mo?mo.toStringTag:void 0;function of(t){return t==null?t===void 0?nf:rf:go&&go in Object(t)?ef(t):tf(t)}ho.exports=of});var xe=b((_T,bo)=>{"use strict";o();function sf(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}bo.exports=sf});var pn=b((ET,So)=>{"use strict";o();var af=Ue(),cf=xe(),uf="[object AsyncFunction]",lf="[object Function]",df="[object GeneratorFunction]",pf="[object Proxy]";function ff(t){if(!cf(t))return!1;var e=af(t);return e==lf||e==df||e==uf||e==pf}So.exports=ff});var yo=b((xT,vo)=>{"use strict";o();var mf=ne(),gf=mf["__core-js_shared__"];vo.exports=gf});var Eo=b((CT,wo)=>{"use strict";o();var fn=yo(),_o=function(){var t=/[^.]+$/.exec(fn&&fn.keys&&fn.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function hf(t){return!!_o&&_o in t}wo.exports=hf});var mn=b((OT,To)=>{"use strict";o();var bf=Function.prototype,Sf=bf.toString;function vf(t){if(t!=null){try{return Sf.call(t)}catch{}try{return t+""}catch{}}return""}To.exports=vf});var Ao=b((RT,xo)=>{"use strict";o();var yf=pn(),_f=Eo(),wf=xe(),Ef=mn(),Tf=/[\\^$.*+?()[\]{}|]/g,xf=/^\[object .+?Constructor\]$/,Af=Function.prototype,Cf=Object.prototype,If=Af.toString,Of=Cf.hasOwnProperty,Nf=RegExp("^"+If.call(Of).replace(Tf,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Rf(t){if(!wf(t)||_f(t))return!1;var e=yf(t)?Nf:xf;return e.test(Ef(t))}xo.exports=Rf});var Io=b((DT,Co)=>{"use strict";o();function Pf(t,e){return t?.[e]}Co.exports=Pf});var he=b((LT,Oo)=>{"use strict";o();var Df=Ao(),kf=Io();function Lf(t,e){var r=kf(t,e);return Df(r)?r:void 0}Oo.exports=Lf});var Kt=b((UT,No)=>{"use strict";o();var Mf=he(),Uf=ne(),Gf=Mf(Uf,"Map");No.exports=Gf});var pt=b((FT,Ro)=>{"use strict";o();var Ff=he(),Bf=Ff(Object,"create");Ro.exports=Bf});var ko=b((qT,Do)=>{"use strict";o();var Po=pt();function qf(){this.__data__=Po?Po(null):{},this.size=0}Do.exports=qf});var Mo=b((VT,Lo)=>{"use strict";o();function jf(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}Lo.exports=jf});var Go=b((WT,Uo)=>{"use strict";o();var Vf=pt(),Hf="__lodash_hash_undefined__",Wf=Object.prototype,zf=Wf.hasOwnProperty;function $f(t){var e=this.__data__;if(Vf){var r=e[t];return r===Hf?void 0:r}return zf.call(e,t)?e[t]:void 0}Uo.exports=$f});var Bo=b(($T,Fo)=>{"use strict";o();var Yf=pt(),Kf=Object.prototype,Xf=Kf.hasOwnProperty;function Jf(t){var e=this.__data__;return Yf?e[t]!==void 0:Xf.call(e,t)}Fo.exports=Jf});var jo=b((KT,qo)=>{"use strict";o();var Qf=pt(),Zf="__lodash_hash_undefined__";function em(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Qf&&e===void 0?Zf:e,this}qo.exports=em});var Ho=b((JT,Vo)=>{"use strict";o();var tm=ko(),rm=Mo(),nm=Go(),im=Bo(),om=jo();function Ge(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ge.prototype.clear=tm;Ge.prototype.delete=rm;Ge.prototype.get=nm;Ge.prototype.has=im;Ge.prototype.set=om;Vo.exports=Ge});var $o=b((ZT,zo)=>{"use strict";o();var Wo=Ho(),sm=lt(),am=Kt();function cm(){this.size=0,this.__data__={hash:new Wo,map:new(am||sm),string:new Wo}}zo.exports=cm});var Ko=b((tx,Yo)=>{"use strict";o();function um(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}Yo.exports=um});var ft=b((nx,Xo)=>{"use strict";o();var lm=Ko();function dm(t,e){var r=t.__data__;return lm(e)?r[typeof e=="string"?"string":"hash"]:r.map}Xo.exports=dm});var Qo=b((ox,Jo)=>{"use strict";o();var pm=ft();function fm(t){var e=pm(this,t).delete(t);return this.size-=e?1:0,e}Jo.exports=fm});var es=b((ax,Zo)=>{"use strict";o();var mm=ft();function gm(t){return mm(this,t).get(t)}Zo.exports=gm});var rs=b((ux,ts)=>{"use strict";o();var hm=ft();function bm(t){return hm(this,t).has(t)}ts.exports=bm});var is=b((dx,ns)=>{"use strict";o();var Sm=ft();function vm(t,e){var r=Sm(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}ns.exports=vm});var Xt=b((fx,os)=>{"use strict";o();var ym=$o(),_m=Qo(),wm=es(),Em=rs(),Tm=is();function Fe(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Fe.prototype.clear=ym;Fe.prototype.delete=_m;Fe.prototype.get=wm;Fe.prototype.has=Em;Fe.prototype.set=Tm;os.exports=Fe});var as=b((gx,ss)=>{"use strict";o();var xm=lt(),Am=Kt(),Cm=Xt(),Im=200;function Om(t,e){var r=this.__data__;if(r instanceof xm){var n=r.__data__;if(!Am||n.length<Im-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Cm(n)}return r.set(t,e),this.size=r.size,this}ss.exports=Om});var gn=b((bx,cs)=>{"use strict";o();var Nm=lt(),Rm=Ji(),Pm=Zi(),Dm=to(),km=no(),Lm=as();function Be(t){var e=this.__data__=new Nm(t);this.size=e.size}Be.prototype.clear=Rm;Be.prototype.delete=Pm;Be.prototype.get=Dm;Be.prototype.has=km;Be.prototype.set=Lm;cs.exports=Be});var ls=b((vx,us)=>{"use strict";o();var Mm="__lodash_hash_undefined__";function Um(t){return this.__data__.set(t,Mm),this}us.exports=Um});var ps=b((_x,ds)=>{"use strict";o();function Gm(t){return this.__data__.has(t)}ds.exports=Gm});var hn=b((Ex,fs)=>{"use strict";o();var Fm=Xt(),Bm=ls(),qm=ps();function Jt(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Fm;++e<r;)this.add(t[e])}Jt.prototype.add=Jt.prototype.push=Bm;Jt.prototype.has=qm;fs.exports=Jt});var gs=b((xx,ms)=>{"use strict";o();function jm(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}ms.exports=jm});var bn=b((Cx,hs)=>{"use strict";o();function Vm(t,e){return t.has(e)}hs.exports=Vm});var Sn=b((Ox,bs)=>{"use strict";o();var Hm=hn(),Wm=gs(),zm=bn(),$m=1,Ym=2;function Km(t,e,r,n,i,s){var a=r&$m,l=t.length,c=e.length;if(l!=c&&!(a&&c>l))return!1;var d=s.get(t),u=s.get(e);if(d&&u)return d==e&&u==t;var f=-1,m=!0,g=r&Ym?new Hm:void 0;for(s.set(t,e),s.set(e,t);++f<l;){var h=t[f],S=e[f];if(n)var y=a?n(S,h,f,e,t,s):n(h,S,f,t,e,s);if(y!==void 0){if(y)continue;m=!1;break}if(g){if(!Wm(e,function(v,_){if(!zm(g,_)&&(h===v||i(h,v,r,n,s)))return g.push(_)})){m=!1;break}}else if(!(h===S||i(h,S,r,n,s))){m=!1;break}}return s.delete(t),s.delete(e),m}bs.exports=Km});var vs=b((Rx,Ss)=>{"use strict";o();var Xm=ne(),Jm=Xm.Uint8Array;Ss.exports=Jm});var _s=b((Dx,ys)=>{"use strict";o();function Qm(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}ys.exports=Qm});var Qt=b((Lx,ws)=>{"use strict";o();function Zm(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}ws.exports=Zm});var Cs=b((Ux,As)=>{"use strict";o();var Es=Me(),Ts=vs(),eg=Yt(),tg=Sn(),rg=_s(),ng=Qt(),ig=1,og=2,sg="[object Boolean]",ag="[object Date]",cg="[object Error]",ug="[object Map]",lg="[object Number]",dg="[object RegExp]",pg="[object Set]",fg="[object String]",mg="[object Symbol]",gg="[object ArrayBuffer]",hg="[object DataView]",xs=Es?Es.prototype:void 0,vn=xs?xs.valueOf:void 0;function bg(t,e,r,n,i,s,a){switch(r){case hg:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case gg:return!(t.byteLength!=e.byteLength||!s(new Ts(t),new Ts(e)));case sg:case ag:case lg:return eg(+t,+e);case cg:return t.name==e.name&&t.message==e.message;case dg:case fg:return t==e+"";case ug:var l=rg;case pg:var c=n&ig;if(l||(l=ng),t.size!=e.size&&!c)return!1;var d=a.get(t);if(d)return d==e;n|=og,a.set(t,e);var u=tg(l(t),l(e),n,i,s,a);return a.delete(t),u;case mg:if(vn)return vn.call(t)==vn.call(e)}return!1}As.exports=bg});var yn=b((Fx,Is)=>{"use strict";o();function Sg(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}Is.exports=Sg});var re=b((qx,Os)=>{"use strict";o();var vg=Array.isArray;Os.exports=vg});var Rs=b((Vx,Ns)=>{"use strict";o();var yg=yn(),_g=re();function wg(t,e,r){var n=e(t);return _g(t)?n:yg(n,r(t))}Ns.exports=wg});var Ds=b((Wx,Ps)=>{"use strict";o();function Eg(t,e){for(var r=-1,n=t==null?0:t.length,i=0,s=[];++r<n;){var a=t[r];e(a,r,t)&&(s[i++]=a)}return s}Ps.exports=Eg});var Ls=b(($x,ks)=>{"use strict";o();function Tg(){return[]}ks.exports=Tg});var Gs=b((Kx,Us)=>{"use strict";o();var xg=Ds(),Ag=Ls(),Cg=Object.prototype,Ig=Cg.propertyIsEnumerable,Ms=Object.getOwnPropertySymbols,Og=Ms?function(t){return t==null?[]:(t=Object(t),xg(Ms(t),function(e){return Ig.call(t,e)}))}:Ag;Us.exports=Og});var Bs=b((Jx,Fs)=>{"use strict";o();function Ng(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}Fs.exports=Ng});var qe=b((Zx,qs)=>{"use strict";o();function Rg(t){return t!=null&&typeof t=="object"}qs.exports=Rg});var Vs=b((tA,js)=>{"use strict";o();var Pg=Ue(),Dg=qe(),kg="[object Arguments]";function Lg(t){return Dg(t)&&Pg(t)==kg}js.exports=Lg});var Zt=b((nA,zs)=>{"use strict";o();var Hs=Vs(),Mg=qe(),Ws=Object.prototype,Ug=Ws.hasOwnProperty,Gg=Ws.propertyIsEnumerable,Fg=Hs(function(){return arguments}())?Hs:function(t){return Mg(t)&&Ug.call(t,"callee")&&!Gg.call(t,"callee")};zs.exports=Fg});var Ys=b((oA,$s)=>{"use strict";o();function Bg(){return!1}$s.exports=Bg});var _n=b((mt,je)=>{"use strict";o();var qg=ne(),jg=Ys(),Js=typeof mt=="object"&&mt&&!mt.nodeType&&mt,Ks=Js&&typeof je=="object"&&je&&!je.nodeType&&je,Vg=Ks&&Ks.exports===Js,Xs=Vg?qg.Buffer:void 0,Hg=Xs?Xs.isBuffer:void 0,Wg=Hg||jg;je.exports=Wg});var er=b((cA,Qs)=>{"use strict";o();var zg=9007199254740991,$g=/^(?:0|[1-9]\d*)$/;function Yg(t,e){var r=typeof t;return e=e??zg,!!e&&(r=="number"||r!="symbol"&&$g.test(t))&&t>-1&&t%1==0&&t<e}Qs.exports=Yg});var tr=b((lA,Zs)=>{"use strict";o();var Kg=9007199254740991;function Xg(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Kg}Zs.exports=Xg});var ta=b((pA,ea)=>{"use strict";o();var Jg=Ue(),Qg=tr(),Zg=qe(),eh="[object Arguments]",th="[object Array]",rh="[object Boolean]",nh="[object Date]",ih="[object Error]",oh="[object Function]",sh="[object Map]",ah="[object Number]",ch="[object Object]",uh="[object RegExp]",lh="[object Set]",dh="[object String]",ph="[object WeakMap]",fh="[object ArrayBuffer]",mh="[object DataView]",gh="[object Float32Array]",hh="[object Float64Array]",bh="[object Int8Array]",Sh="[object Int16Array]",vh="[object Int32Array]",yh="[object Uint8Array]",_h="[object Uint8ClampedArray]",wh="[object Uint16Array]",Eh="[object Uint32Array]",U={};U[gh]=U[hh]=U[bh]=U[Sh]=U[vh]=U[yh]=U[_h]=U[wh]=U[Eh]=!0;U[eh]=U[th]=U[fh]=U[rh]=U[mh]=U[nh]=U[ih]=U[oh]=U[sh]=U[ah]=U[ch]=U[uh]=U[lh]=U[dh]=U[ph]=!1;function Th(t){return Zg(t)&&Qg(t.length)&&!!U[Jg(t)]}ea.exports=Th});var wn=b((mA,ra)=>{"use strict";o();function xh(t){return function(e){return t(e)}}ra.exports=xh});var ia=b((gt,Ve)=>{"use strict";o();var Ah=dn(),na=typeof gt=="object"&&gt&&!gt.nodeType&&gt,ht=na&&typeof Ve=="object"&&Ve&&!Ve.nodeType&&Ve,Ch=ht&&ht.exports===na,En=Ch&&Ah.process,Ih=function(){try{var t=ht&&ht.require&&ht.require("util").types;return t||En&&En.binding&&En.binding("util")}catch{}}();Ve.exports=Ih});var Tn=b((bA,aa)=>{"use strict";o();var Oh=ta(),Nh=wn(),oa=ia(),sa=oa&&oa.isTypedArray,Rh=sa?Nh(sa):Oh;aa.exports=Rh});var ua=b((vA,ca)=>{"use strict";o();var Ph=Bs(),Dh=Zt(),kh=re(),Lh=_n(),Mh=er(),Uh=Tn(),Gh=Object.prototype,Fh=Gh.hasOwnProperty;function Bh(t,e){var r=kh(t),n=!r&&Dh(t),i=!r&&!n&&Lh(t),s=!r&&!n&&!i&&Uh(t),a=r||n||i||s,l=a?Ph(t.length,String):[],c=l.length;for(var d in t)(e||Fh.call(t,d))&&!(a&&(d=="length"||i&&(d=="offset"||d=="parent")||s&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||Mh(d,c)))&&l.push(d);return l}ca.exports=Bh});var da=b((_A,la)=>{"use strict";o();var qh=Object.prototype;function jh(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||qh;return t===r}la.exports=jh});var fa=b((EA,pa)=>{"use strict";o();function Vh(t,e){return function(r){return t(e(r))}}pa.exports=Vh});var ga=b((xA,ma)=>{"use strict";o();var Hh=fa(),Wh=Hh(Object.keys,Object);ma.exports=Wh});var ba=b((CA,ha)=>{"use strict";o();var zh=da(),$h=ga(),Yh=Object.prototype,Kh=Yh.hasOwnProperty;function Xh(t){if(!zh(t))return $h(t);var e=[];for(var r in Object(t))Kh.call(t,r)&&r!="constructor"&&e.push(r);return e}ha.exports=Xh});var rr=b((OA,Sa)=>{"use strict";o();var Jh=pn(),Qh=tr();function Zh(t){return t!=null&&Qh(t.length)&&!Jh(t)}Sa.exports=Zh});var nr=b((RA,va)=>{"use strict";o();var eb=ua(),tb=ba(),rb=rr();function nb(t){return rb(t)?eb(t):tb(t)}va.exports=nb});var _a=b((DA,ya)=>{"use strict";o();var ib=Rs(),ob=Gs(),sb=nr();function ab(t){return ib(t,sb,ob)}ya.exports=ab});var Ta=b((LA,Ea)=>{"use strict";o();var wa=_a(),cb=1,ub=Object.prototype,lb=ub.hasOwnProperty;function db(t,e,r,n,i,s){var a=r&cb,l=wa(t),c=l.length,d=wa(e),u=d.length;if(c!=u&&!a)return!1;for(var f=c;f--;){var m=l[f];if(!(a?m in e:lb.call(e,m)))return!1}var g=s.get(t),h=s.get(e);if(g&&h)return g==e&&h==t;var S=!0;s.set(t,e),s.set(e,t);for(var y=a;++f<c;){m=l[f];var v=t[m],_=e[m];if(n)var T=a?n(_,v,m,e,t,s):n(v,_,m,t,e,s);if(!(T===void 0?v===_||i(v,_,r,n,s):T)){S=!1;break}y||(y=m=="constructor")}if(S&&!y){var w=t.constructor,x=e.constructor;w!=x&&"constructor"in t&&"constructor"in e&&!(typeof w=="function"&&w instanceof w&&typeof x=="function"&&x instanceof x)&&(S=!1)}return s.delete(t),s.delete(e),S}Ea.exports=db});var Aa=b((UA,xa)=>{"use strict";o();var pb=he(),fb=ne(),mb=pb(fb,"DataView");xa.exports=mb});var Ia=b((FA,Ca)=>{"use strict";o();var gb=he(),hb=ne(),bb=gb(hb,"Promise");Ca.exports=bb});var xn=b((qA,Oa)=>{"use strict";o();var Sb=he(),vb=ne(),yb=Sb(vb,"Set");Oa.exports=yb});var Ra=b((VA,Na)=>{"use strict";o();var _b=he(),wb=ne(),Eb=_b(wb,"WeakMap");Na.exports=Eb});var Fa=b((WA,Ga)=>{"use strict";o();var An=Aa(),Cn=Kt(),In=Ia(),On=xn(),Nn=Ra(),Ua=Ue(),He=mn(),Pa="[object Map]",Tb="[object Object]",Da="[object Promise]",ka="[object Set]",La="[object WeakMap]",Ma="[object DataView]",xb=He(An),Ab=He(Cn),Cb=He(In),Ib=He(On),Ob=He(Nn),Ae=Ua;(An&&Ae(new An(new ArrayBuffer(1)))!=Ma||Cn&&Ae(new Cn)!=Pa||In&&Ae(In.resolve())!=Da||On&&Ae(new On)!=ka||Nn&&Ae(new Nn)!=La)&&(Ae=function(t){var e=Ua(t),r=e==Tb?t.constructor:void 0,n=r?He(r):"";if(n)switch(n){case xb:return Ma;case Ab:return Pa;case Cb:return Da;case Ib:return ka;case Ob:return La}return e});Ga.exports=Ae});var $a=b(($A,za)=>{"use strict";o();var Rn=gn(),Nb=Sn(),Rb=Cs(),Pb=Ta(),Ba=Fa(),qa=re(),ja=_n(),Db=Tn(),kb=1,Va="[object Arguments]",Ha="[object Array]",ir="[object Object]",Lb=Object.prototype,Wa=Lb.hasOwnProperty;function Mb(t,e,r,n,i,s){var a=qa(t),l=qa(e),c=a?Ha:Ba(t),d=l?Ha:Ba(e);c=c==Va?ir:c,d=d==Va?ir:d;var u=c==ir,f=d==ir,m=c==d;if(m&&ja(t)){if(!ja(e))return!1;a=!0,u=!1}if(m&&!u)return s||(s=new Rn),a||Db(t)?Nb(t,e,r,n,i,s):Rb(t,e,c,r,n,i,s);if(!(r&kb)){var g=u&&Wa.call(t,"__wrapped__"),h=f&&Wa.call(e,"__wrapped__");if(g||h){var S=g?t.value():t,y=h?e.value():e;return s||(s=new Rn),i(S,y,r,n,s)}}return m?(s||(s=new Rn),Pb(t,e,r,n,i,s)):!1}za.exports=Mb});var or=b((KA,Xa)=>{"use strict";o();var Ub=$a(),Ya=qe();function Ka(t,e,r,n,i){return t===e?!0:t==null||e==null||!Ya(t)&&!Ya(e)?t!==t&&e!==e:Ub(t,e,r,n,Ka,i)}Xa.exports=Ka});var sr=b((JA,Ja)=>{"use strict";o();var Gb=or();function Fb(t,e){return Gb(t,e)}Ja.exports=Fb});var Za=b((ZA,Qa)=>{"use strict";o();var Bb=ne(),qb=function(){return Bb.Date.now()};Qa.exports=qb});var tc=b((tC,ec)=>{"use strict";o();var jb=/\s/;function Vb(t){for(var e=t.length;e--&&jb.test(t.charAt(e)););return e}ec.exports=Vb});var nc=b((nC,rc)=>{"use strict";o();var Hb=tc(),Wb=/^\s+/;function zb(t){return t&&t.slice(0,Hb(t)+1).replace(Wb,"")}rc.exports=zb});var We=b((oC,ic)=>{"use strict";o();var $b=Ue(),Yb=qe(),Kb="[object Symbol]";function Xb(t){return typeof t=="symbol"||Yb(t)&&$b(t)==Kb}ic.exports=Xb});var cc=b((aC,ac)=>{"use strict";o();var Jb=nc(),oc=xe(),Qb=We(),sc=NaN,Zb=/^[-+]0x[0-9a-f]+$/i,eS=/^0b[01]+$/i,tS=/^0o[0-7]+$/i,rS=parseInt;function nS(t){if(typeof t=="number")return t;if(Qb(t))return sc;if(oc(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=oc(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Jb(t);var r=eS.test(t);return r||tS.test(t)?rS(t.slice(2),r?2:8):Zb.test(t)?sc:+t}ac.exports=nS});var dc=b((uC,lc)=>{"use strict";o();var iS=xe(),Pn=Za(),uc=cc(),oS="Expected a function",sS=Math.max,aS=Math.min;function cS(t,e,r){var n,i,s,a,l,c,d=0,u=!1,f=!1,m=!0;if(typeof t!="function")throw new TypeError(oS);e=uc(e)||0,iS(r)&&(u=!!r.leading,f="maxWait"in r,s=f?sS(uc(r.maxWait)||0,e):s,m="trailing"in r?!!r.trailing:m);function g(E){var O=n,C=i;return n=i=void 0,d=E,a=t.apply(C,O),a}function h(E){return d=E,l=setTimeout(v,e),u?g(E):a}function S(E){var O=E-c,C=E-d,K=e-O;return f?aS(K,s-C):K}function y(E){var O=E-c,C=E-d;return c===void 0||O>=e||O<0||f&&C>=s}function v(){var E=Pn();if(y(E))return _(E);l=setTimeout(v,S(E))}function _(E){return l=void 0,m&&n?g(E):(n=i=void 0,a)}function T(){l!==void 0&&clearTimeout(l),d=0,n=c=i=l=void 0}function w(){return l===void 0?a:_(Pn())}function x(){var E=Pn(),O=y(E);if(n=arguments,i=this,c=E,O){if(l===void 0)return h(c);if(f)return clearTimeout(l),l=setTimeout(v,e),g(c)}return l===void 0&&(l=setTimeout(v,e)),a}return x.cancel=T,x.flush=w,x}lc.exports=cS});var fc=b((dC,pc)=>{"use strict";o();var ze=1e3,$e=ze*60,Ye=$e*60,Ce=Ye*24,uS=Ce*7,lS=Ce*365.25;pc.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return dS(t);if(r==="number"&&isFinite(t))return e.long?fS(t):pS(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function dS(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*lS;case"weeks":case"week":case"w":return r*uS;case"days":case"day":case"d":return r*Ce;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Ye;case"minutes":case"minute":case"mins":case"min":case"m":return r*$e;case"seconds":case"second":case"secs":case"sec":case"s":return r*ze;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function pS(t){var e=Math.abs(t);return e>=Ce?Math.round(t/Ce)+"d":e>=Ye?Math.round(t/Ye)+"h":e>=$e?Math.round(t/$e)+"m":e>=ze?Math.round(t/ze)+"s":t+"ms"}function fS(t){var e=Math.abs(t);return e>=Ce?ar(t,e,Ce,"day"):e>=Ye?ar(t,e,Ye,"hour"):e>=$e?ar(t,e,$e,"minute"):e>=ze?ar(t,e,ze,"second"):t+" ms"}function ar(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var gc=b((fC,mc)=>{"use strict";o();function mS(t){r.debug=r,r.default=r,r.coerce=c,r.disable=s,r.enable=i,r.enabled=a,r.humanize=fc(),r.destroy=d,Object.keys(t).forEach(u=>{r[u]=t[u]}),r.names=[],r.skips=[],r.formatters={};function e(u){let f=0;for(let m=0;m<u.length;m++)f=(f<<5)-f+u.charCodeAt(m),f|=0;return r.colors[Math.abs(f)%r.colors.length]}r.selectColor=e;function r(u){let f,m=null,g,h;function S(...y){if(!S.enabled)return;let v=S,_=Number(new Date),T=_-(f||_);v.diff=T,v.prev=f,v.curr=_,f=_,y[0]=r.coerce(y[0]),typeof y[0]!="string"&&y.unshift("%O");let w=0;y[0]=y[0].replace(/%([a-zA-Z%])/g,(E,O)=>{if(E==="%%")return"%";w++;let C=r.formatters[O];if(typeof C=="function"){let K=y[w];E=C.call(v,K),y.splice(w,1),w--}return E}),r.formatArgs.call(v,y),(v.log||r.log).apply(v,y)}return S.namespace=u,S.useColors=r.useColors(),S.color=r.selectColor(u),S.extend=n,S.destroy=r.destroy,Object.defineProperty(S,"enabled",{enumerable:!0,configurable:!1,get:()=>m!==null?m:(g!==r.namespaces&&(g=r.namespaces,h=r.enabled(u)),h),set:y=>{m=y}}),typeof r.init=="function"&&r.init(S),S}function n(u,f){let m=r(this.namespace+(typeof f>"u"?":":f)+u);return m.log=this.log,m}function i(u){r.save(u),r.namespaces=u,r.names=[],r.skips=[];let f,m=(typeof u=="string"?u:"").split(/[\s,]+/),g=m.length;for(f=0;f<g;f++)m[f]&&(u=m[f].replace(/\*/g,".*?"),u[0]==="-"?r.skips.push(new RegExp("^"+u.slice(1)+"$")):r.names.push(new RegExp("^"+u+"$")))}function s(){let u=[...r.names.map(l),...r.skips.map(l).map(f=>"-"+f)].join(",");return r.enable(""),u}function a(u){if(u[u.length-1]==="*")return!0;let f,m;for(f=0,m=r.skips.length;f<m;f++)if(r.skips[f].test(u))return!1;for(f=0,m=r.names.length;f<m;f++)if(r.names[f].test(u))return!0;return!1}function l(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function c(u){return u instanceof Error?u.stack||u.message:u}function d(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}mc.exports=mS});var hc=b((ee,cr)=>{"use strict";o();ee.formatArgs=hS;ee.save=bS;ee.load=SS;ee.useColors=gS;ee.storage=vS();ee.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();ee.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function gS(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function hS(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+cr.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),t.splice(n,0,e)}ee.log=console.debug||console.log||(()=>{});function bS(t){try{t?ee.storage.setItem("debug",t):ee.storage.removeItem("debug")}catch{}}function SS(){let t;try{t=ee.storage.getItem("debug")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=p.DEBUG),t}function vS(){try{return localStorage}catch{}}cr.exports=gc()(ee);var{formatters:yS}=cr.exports;yS.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var kn=b(mr=>{"use strict";o();Object.defineProperty(mr,"__esModule",{value:!0});function Sc(t){return t}mr.identity=Sc;function TS(){return Sc}mr.make=TS});var Gr=b((YD,eu)=>{"use strict";o();var Ev=re(),Tv=We(),xv=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Av=/^\w*$/;function Cv(t,e){if(Ev(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||Tv(t)?!0:Av.test(t)||!xv.test(t)||e!=null&&t in Object(e)}eu.exports=Cv});var nu=b((XD,ru)=>{"use strict";o();var tu=Xt(),Iv="Expected a function";function ai(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Iv);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var a=t.apply(this,n);return r.cache=s.set(i,a)||s,a};return r.cache=new(ai.Cache||tu),r}ai.Cache=tu;ru.exports=ai});var ou=b((QD,iu)=>{"use strict";o();var Ov=nu(),Nv=500;function Rv(t){var e=Ov(t,function(n){return r.size===Nv&&r.clear(),n}),r=e.cache;return e}iu.exports=Rv});var au=b((ek,su)=>{"use strict";o();var Pv=ou(),Dv=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kv=/\\(\\)?/g,Lv=Pv(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Dv,function(r,n,i,s){e.push(i?s.replace(kv,"$1"):n||r)}),e});su.exports=Lv});var ci=b((rk,cu)=>{"use strict";o();function Mv(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}cu.exports=Mv});var mu=b((ik,fu)=>{"use strict";o();var uu=Me(),Uv=ci(),Gv=re(),Fv=We(),Bv=1/0,lu=uu?uu.prototype:void 0,du=lu?lu.toString:void 0;function pu(t){if(typeof t=="string")return t;if(Gv(t))return Uv(t,pu)+"";if(Fv(t))return du?du.call(t):"";var e=t+"";return e=="0"&&1/t==-Bv?"-0":e}fu.exports=pu});var hu=b((sk,gu)=>{"use strict";o();var qv=mu();function jv(t){return t==null?"":qv(t)}gu.exports=jv});var Rt=b((ck,bu)=>{"use strict";o();var Vv=re(),Hv=Gr(),Wv=au(),zv=hu();function $v(t,e){return Vv(t)?t:Hv(t,e)?[t]:Wv(zv(t))}bu.exports=$v});var tt=b((lk,Su)=>{"use strict";o();var Yv=We(),Kv=1/0;function Xv(t){if(typeof t=="string"||Yv(t))return t;var e=t+"";return e=="0"&&1/t==-Kv?"-0":e}Su.exports=Xv});var Pt=b((pk,vu)=>{"use strict";o();var Jv=Rt(),Qv=tt();function Zv(t,e){e=Jv(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[Qv(e[r++])];return r&&r==n?t:void 0}vu.exports=Zv});var ui=b((mk,yu)=>{"use strict";o();var ey=he(),ty=function(){try{var t=ey(Object,"defineProperty");return t({},"",{}),t}catch{}}();yu.exports=ty});var Eu=b((hk,wu)=>{"use strict";o();var _u=ui();function ry(t,e,r){e=="__proto__"&&_u?_u(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}wu.exports=ry});var xu=b((Sk,Tu)=>{"use strict";o();var ny=Eu(),iy=Yt(),oy=Object.prototype,sy=oy.hasOwnProperty;function ay(t,e,r){var n=t[e];(!(sy.call(t,e)&&iy(n,r))||r===void 0&&!(e in t))&&ny(t,e,r)}Tu.exports=ay});var Iu=b((yk,Cu)=>{"use strict";o();var cy=xu(),uy=Rt(),ly=er(),Au=xe(),dy=tt();function py(t,e,r,n){if(!Au(t))return t;e=uy(e,t);for(var i=-1,s=e.length,a=s-1,l=t;l!=null&&++i<s;){var c=dy(e[i]),d=r;if(c==="__proto__"||c==="constructor"||c==="prototype")return t;if(i!=a){var u=l[c];d=n?n(u,c,l):void 0,d===void 0&&(d=Au(u)?u:ly(e[i+1])?[]:{})}cy(l,c,d),l=l[c]}return t}Cu.exports=py});var Nu=b((wk,Ou)=>{"use strict";o();var fy=Pt(),my=Iu(),gy=Rt();function hy(t,e,r){for(var n=-1,i=e.length,s={};++n<i;){var a=e[n],l=fy(t,a);r(l,a)&&my(s,gy(a,t),l)}return s}Ou.exports=hy});var Pu=b((Tk,Ru)=>{"use strict";o();function by(t,e){return t!=null&&e in Object(t)}Ru.exports=by});var ku=b((Ak,Du)=>{"use strict";o();var Sy=Rt(),vy=Zt(),yy=re(),_y=er(),wy=tr(),Ey=tt();function Ty(t,e,r){e=Sy(e,t);for(var n=-1,i=e.length,s=!1;++n<i;){var a=Ey(e[n]);if(!(s=t!=null&&r(t,a)))break;t=t[a]}return s||++n!=i?s:(i=t==null?0:t.length,!!i&&wy(i)&&_y(a,i)&&(yy(t)||vy(t)))}Du.exports=Ty});var li=b((Ik,Lu)=>{"use strict";o();var xy=Pu(),Ay=ku();function Cy(t,e){return t!=null&&Ay(t,e,xy)}Lu.exports=Cy});var Uu=b((Nk,Mu)=>{"use strict";o();var Iy=Nu(),Oy=li();function Ny(t,e){return Iy(t,e,function(r,n){return Oy(t,n)})}Mu.exports=Ny});var qu=b((Pk,Bu)=>{"use strict";o();var Gu=Me(),Ry=Zt(),Py=re(),Fu=Gu?Gu.isConcatSpreadable:void 0;function Dy(t){return Py(t)||Ry(t)||!!(Fu&&t&&t[Fu])}Bu.exports=Dy});var Hu=b((kk,Vu)=>{"use strict";o();var ky=yn(),Ly=qu();function ju(t,e,r,n,i){var s=-1,a=t.length;for(r||(r=Ly),i||(i=[]);++s<a;){var l=t[s];e>0&&r(l)?e>1?ju(l,e-1,r,n,i):ky(i,l):n||(i[i.length]=l)}return i}Vu.exports=ju});var zu=b((Mk,Wu)=>{"use strict";o();var My=Hu();function Uy(t){var e=t==null?0:t.length;return e?My(t,1):[]}Wu.exports=Uy});var Yu=b((Gk,$u)=>{"use strict";o();function Gy(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}$u.exports=Gy});var Ju=b((Bk,Xu)=>{"use strict";o();var Fy=Yu(),Ku=Math.max;function By(t,e,r){return e=Ku(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,s=Ku(n.length-e,0),a=Array(s);++i<s;)a[i]=n[e+i];i=-1;for(var l=Array(e+1);++i<e;)l[i]=n[i];return l[e]=r(a),Fy(t,this,l)}}Xu.exports=By});var Zu=b((jk,Qu)=>{"use strict";o();function qy(t){return function(){return t}}Qu.exports=qy});var Fr=b((Hk,el)=>{"use strict";o();function jy(t){return t}el.exports=jy});var nl=b((zk,rl)=>{"use strict";o();var Vy=Zu(),tl=ui(),Hy=Fr(),Wy=tl?function(t,e){return tl(t,"toString",{configurable:!0,enumerable:!1,value:Vy(e),writable:!0})}:Hy;rl.exports=Wy});var ol=b((Yk,il)=>{"use strict";o();var zy=800,$y=16,Yy=Date.now;function Ky(t){var e=0,r=0;return function(){var n=Yy(),i=$y-(n-r);if(r=n,i>0){if(++e>=zy)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}il.exports=Ky});var al=b((Xk,sl)=>{"use strict";o();var Xy=nl(),Jy=ol(),Qy=Jy(Xy);sl.exports=Qy});var ul=b((Qk,cl)=>{"use strict";o();var Zy=zu(),e_=Ju(),t_=al();function r_(t){return t_(e_(t,void 0,Zy),t+"")}cl.exports=r_});var dl=b((eL,ll)=>{"use strict";o();var n_=Uu(),i_=ul(),o_=i_(function(t,e){return t==null?{}:n_(t,e)});ll.exports=o_});var Si=b((Mt,Hr)=>{"use strict";o();(function(t,e){"use strict";var r="1.0.38",n="",i="?",s="function",a="undefined",l="object",c="string",d="major",u="model",f="name",m="type",g="vendor",h="version",S="architecture",y="console",v="mobile",_="tablet",T="smarttv",w="wearable",x="embedded",E=500,O="Amazon",C="Apple",K="ASUS",Ai="BlackBerry",Te="Browser",qt="Chrome",op="Edge",jt="Firefox",Vt="Google",Ci="Huawei",rn="LG",nn="Microsoft",Ii="Motorola",st="Opera",Ht="Samsung",Oi="Sharp",Wt="Sony",on="Xiaomi",sn="Zebra",Ni="Facebook",Ri="Chromium OS",Pi="Mac OS",sp=function(R,L){var I={};for(var M in R)L[M]&&L[M].length%2===0?I[M]=L[M].concat(R[M]):I[M]=R[M];return I},zt=function(R){for(var L={},I=0;I<R.length;I++)L[R[I].toUpperCase()]=R[I];return L},Di=function(R,L){return typeof R===c?at(L).indexOf(at(R))!==-1:!1},at=function(R){return R.toLowerCase()},ap=function(R){return typeof R===c?R.replace(/[^\d\.]/g,n).split(".")[0]:e},an=function(R,L){if(typeof R===c)return R=R.replace(/^\s\s*/,n),typeof L===a?R:R.substring(0,E)},ct=function(R,L){for(var I=0,M,le,ae,D,A,ce;I<L.length&&!A;){var un=L[I],Mi=L[I+1];for(M=le=0;M<un.length&&!A&&un[M];)if(A=un[M++].exec(R),A)for(ae=0;ae<Mi.length;ae++)ce=A[++le],D=Mi[ae],typeof D===l&&D.length>0?D.length===2?typeof D[1]==s?this[D[0]]=D[1].call(this,ce):this[D[0]]=D[1]:D.length===3?typeof D[1]===s&&!(D[1].exec&&D[1].test)?this[D[0]]=ce?D[1].call(this,ce,D[2]):e:this[D[0]]=ce?ce.replace(D[1],D[2]):e:D.length===4&&(this[D[0]]=ce?D[3].call(this,ce.replace(D[1],D[2])):e):this[D]=ce||e;I+=2}},cn=function(R,L){for(var I in L)if(typeof L[I]===l&&L[I].length>0){for(var M=0;M<L[I].length;M++)if(Di(L[I][M],R))return I===i?e:I}else if(Di(L[I],R))return I===i?e:I;return R},cp={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},ki={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Li={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[h,[f,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[h,[f,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[f,h],[/opios[\/ ]+([\w\.]+)/i],[h,[f,st+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[h,[f,st+" GX"]],[/\bopr\/([\w\.]+)/i],[h,[f,st]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[h,[f,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[f,h],[/\bddg\/([\w\.]+)/i],[h,[f,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[h,[f,"UC"+Te]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[h,[f,"WeChat"]],[/konqueror\/([\w\.]+)/i],[h,[f,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[h,[f,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[h,[f,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[h,[f,"Smart Lenovo "+Te]],[/(avast|avg)\/([\w\.]+)/i],[[f,/(.+)/,"$1 Secure "+Te],h],[/\bfocus\/([\w\.]+)/i],[h,[f,jt+" Focus"]],[/\bopt\/([\w\.]+)/i],[h,[f,st+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[h,[f,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[h,[f,"Dolphin"]],[/coast\/([\w\.]+)/i],[h,[f,st+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[h,[f,"MIUI "+Te]],[/fxios\/([-\w\.]+)/i],[h,[f,jt]],[/\bqihu|(qi?ho?o?|360)browser/i],[[f,"360 "+Te]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[f,/(.+)/,"$1 "+Te],h],[/samsungbrowser\/([\w\.]+)/i],[h,[f,Ht+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[f,/_/g," "],h],[/metasr[\/ ]?([\d\.]+)/i],[h,[f,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[f,"Sogou Mobile"],h],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[f,h],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[f],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[f,Ni],h],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[f,h],[/\bgsa\/([\w\.]+) .*safari\//i],[h,[f,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[h,[f,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[h,[f,qt+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[f,qt+" WebView"],h],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[h,[f,"Android "+Te]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[f,h],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[h,[f,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[h,f],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[f,[h,cn,cp]],[/(webkit|khtml)\/([\w\.]+)/i],[f,h],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[f,"Netscape"],h],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[h,[f,jt+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[f,h],[/(cobalt)\/([\w\.]+)/i],[f,[h,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[S,"amd64"]],[/(ia32(?=;))/i],[[S,at]],[/((?:i[346]|x)86)[;\)]/i],[[S,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[S,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[S,"armhf"]],[/windows (ce|mobile); ppc;/i],[[S,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[S,/ower/,n,at]],[/(sun4\w)[;\)]/i],[[S,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[S,at]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[u,[g,Ht],[m,_]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[u,[g,Ht],[m,v]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[u,[g,C],[m,v]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[u,[g,C],[m,_]],[/(macintosh);/i],[u,[g,C]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[u,[g,Oi],[m,v]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[u,[g,Ci],[m,_]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[u,[g,Ci],[m,v]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[u,/_/g," "],[g,on],[m,v]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[u,/_/g," "],[g,on],[m,_]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[u,[g,"OPPO"],[m,v]],[/\b(opd2\d{3}a?) bui/i],[u,[g,"OPPO"],[m,_]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[u,[g,"Vivo"],[m,v]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[u,[g,"Realme"],[m,v]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[u,[g,Ii],[m,v]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[u,[g,Ii],[m,_]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[u,[g,rn],[m,_]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[u,[g,rn],[m,v]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[u,[g,"Lenovo"],[m,_]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[u,/_/g," "],[g,"Nokia"],[m,v]],[/(pixel c)\b/i],[u,[g,Vt],[m,_]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[u,[g,Vt],[m,v]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[u,[g,Wt],[m,v]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[u,"Xperia Tablet"],[g,Wt],[m,_]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[u,[g,"OnePlus"],[m,v]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[u,[g,O],[m,_]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[u,/(.+)/g,"Fire Phone $1"],[g,O],[m,v]],[/(playbook);[-\w\),; ]+(rim)/i],[u,g,[m,_]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[u,[g,Ai],[m,v]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[u,[g,K],[m,_]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[u,[g,K],[m,v]],[/(nexus 9)/i],[u,[g,"HTC"],[m,_]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[g,[u,/_/g," "],[m,v]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[u,[g,"Acer"],[m,_]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[u,[g,"Meizu"],[m,v]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[u,[g,"Ulefone"],[m,v]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[g,u,[m,v]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[g,u,[m,_]],[/(surface duo)/i],[u,[g,nn],[m,_]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[u,[g,"Fairphone"],[m,v]],[/(u304aa)/i],[u,[g,"AT&T"],[m,v]],[/\bsie-(\w*)/i],[u,[g,"Siemens"],[m,v]],[/\b(rct\w+) b/i],[u,[g,"RCA"],[m,_]],[/\b(venue[\d ]{2,7}) b/i],[u,[g,"Dell"],[m,_]],[/\b(q(?:mv|ta)\w+) b/i],[u,[g,"Verizon"],[m,_]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[u,[g,"Barnes & Noble"],[m,_]],[/\b(tm\d{3}\w+) b/i],[u,[g,"NuVision"],[m,_]],[/\b(k88) b/i],[u,[g,"ZTE"],[m,_]],[/\b(nx\d{3}j) b/i],[u,[g,"ZTE"],[m,v]],[/\b(gen\d{3}) b.+49h/i],[u,[g,"Swiss"],[m,v]],[/\b(zur\d{3}) b/i],[u,[g,"Swiss"],[m,_]],[/\b((zeki)?tb.*\b) b/i],[u,[g,"Zeki"],[m,_]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[g,"Dragon Touch"],u,[m,_]],[/\b(ns-?\w{0,9}) b/i],[u,[g,"Insignia"],[m,_]],[/\b((nxa|next)-?\w{0,9}) b/i],[u,[g,"NextBook"],[m,_]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[g,"Voice"],u,[m,v]],[/\b(lvtel\-)?(v1[12]) b/i],[[g,"LvTel"],u,[m,v]],[/\b(ph-1) /i],[u,[g,"Essential"],[m,v]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[u,[g,"Envizen"],[m,_]],[/\b(trio[-\w\. ]+) b/i],[u,[g,"MachSpeed"],[m,_]],[/\btu_(1491) b/i],[u,[g,"Rotor"],[m,_]],[/(shield[\w ]+) b/i],[u,[g,"Nvidia"],[m,_]],[/(sprint) (\w+)/i],[g,u,[m,v]],[/(kin\.[onetw]{3})/i],[[u,/\./g," "],[g,nn],[m,v]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[u,[g,sn],[m,_]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[u,[g,sn],[m,v]],[/smart-tv.+(samsung)/i],[g,[m,T]],[/hbbtv.+maple;(\d+)/i],[[u,/^/,"SmartTV"],[g,Ht],[m,T]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[g,rn],[m,T]],[/(apple) ?tv/i],[g,[u,C+" TV"],[m,T]],[/crkey/i],[[u,qt+"cast"],[g,Vt],[m,T]],[/droid.+aft(\w+)( bui|\))/i],[u,[g,O],[m,T]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[u,[g,Oi],[m,T]],[/(bravia[\w ]+)( bui|\))/i],[u,[g,Wt],[m,T]],[/(mitv-\w{5}) bui/i],[u,[g,on],[m,T]],[/Hbbtv.*(technisat) (.*);/i],[g,u,[m,T]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[g,an],[u,an],[m,T]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[m,T]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[g,u,[m,y]],[/droid.+; (shield) bui/i],[u,[g,"Nvidia"],[m,y]],[/(playstation [345portablevi]+)/i],[u,[g,Wt],[m,y]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[u,[g,nn],[m,y]],[/((pebble))app/i],[g,u,[m,w]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[u,[g,C],[m,w]],[/droid.+; (glass) \d/i],[u,[g,Vt],[m,w]],[/droid.+; (wt63?0{2,3})\)/i],[u,[g,sn],[m,w]],[/(quest( \d| pro)?)/i],[u,[g,Ni],[m,w]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[g,[m,x]],[/(aeobc)\b/i],[u,[g,O],[m,x]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[u,[m,v]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[u,[m,_]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[m,_]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[m,v]],[/(android[-\w\. ]{0,9});.+buil/i],[u,[g,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[h,[f,op+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[h,[f,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[f,h],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[h,f]],os:[[/microsoft (windows) (vista|xp)/i],[f,h],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[f,[h,cn,ki]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[h,cn,ki],[f,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[h,/_/g,"."],[f,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[f,Pi],[h,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[h,f],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[f,h],[/\(bb(10);/i],[h,[f,Ai]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[h,[f,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[h,[f,jt+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[h,[f,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[h,[f,"watchOS"]],[/crkey\/([\d\.]+)/i],[h,[f,qt+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[f,Ri],h],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[f,h],[/(sunos) ?([\w\.\d]*)/i],[[f,"Solaris"],h],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[f,h]]},Q=function(R,L){if(typeof R===l&&(L=R,R=e),!(this instanceof Q))return new Q(R,L).getResult();var I=typeof t!==a&&t.navigator?t.navigator:e,M=R||(I&&I.userAgent?I.userAgent:n),le=I&&I.userAgentData?I.userAgentData:e,ae=L?sp(Li,L):Li,D=I&&I.userAgent==M;return this.getBrowser=function(){var A={};return A[f]=e,A[h]=e,ct.call(A,M,ae.browser),A[d]=ap(A[h]),D&&I&&I.brave&&typeof I.brave.isBrave==s&&(A[f]="Brave"),A},this.getCPU=function(){var A={};return A[S]=e,ct.call(A,M,ae.cpu),A},this.getDevice=function(){var A={};return A[g]=e,A[u]=e,A[m]=e,ct.call(A,M,ae.device),D&&!A[m]&&le&&le.mobile&&(A[m]=v),D&&A[u]=="Macintosh"&&I&&typeof I.standalone!==a&&I.maxTouchPoints&&I.maxTouchPoints>2&&(A[u]="iPad",A[m]=_),A},this.getEngine=function(){var A={};return A[f]=e,A[h]=e,ct.call(A,M,ae.engine),A},this.getOS=function(){var A={};return A[f]=e,A[h]=e,ct.call(A,M,ae.os),D&&!A[f]&&le&&le.platform&&le.platform!="Unknown"&&(A[f]=le.platform.replace(/chrome os/i,Ri).replace(/macos/i,Pi)),A},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return M},this.setUA=function(A){return M=typeof A===c&&A.length>E?an(A,E):A,this},this.setUA(M),this};Q.VERSION=r,Q.BROWSER=zt([f,h,d]),Q.CPU=zt([S]),Q.DEVICE=zt([u,g,m,y,v,T,_,w,x]),Q.ENGINE=Q.OS=zt([f,h]),typeof Mt!==a?(typeof Hr!==a&&Hr.exports&&(Mt=Hr.exports=Q),Mt.UAParser=Q):typeof define===s&&define.amd?define(function(){return Q}):typeof t!==a&&(t.UAParser=Q);var ke=typeof t!==a&&(t.jQuery||t.Zepto);if(ke&&!ke.ua){var $t=new Q;ke.ua=$t.getResult(),ke.ua.get=function(){return $t.getUA()},ke.ua.set=function(R){$t.setUA(R);var L=$t.getResult();for(var I in L)ke.ua[I]=L[I]}}})(typeof window=="object"?window:Mt)});var kl=b((Gt,Dl)=>{"use strict";o();function N(e){var e=e||{};this.Timeout=e.timeout||1,this.EditCost=e.editCost||4}var V=-1,j=1,F=0;N.Diff;N.prototype.main=function(t,e,r,n){typeof n>"u"&&(this.Timeout<=0?n=Number.MAX_VALUE:n=new Date().getTime()+this.Timeout*1e3);var i=n;if(t==null||e==null)throw new Error("Null input. (diff_main)");if(t==e)return t?[[F,t]]:[];typeof r>"u"&&(r=!0);var s=r,a=this.commonPrefix(t,e),l=t.substring(0,a);t=t.substring(a),e=e.substring(a),a=this.commonSuffix(t,e);var c=t.substring(t.length-a);t=t.substring(0,t.length-a),e=e.substring(0,e.length-a);var d=this.compute_(t,e,s,i);return l&&d.unshift([F,l]),c&&d.push([F,c]),this.cleanupMerge(d),d};N.prototype.compute_=function(t,e,r,n){var i;if(!t)return[[j,e]];if(!e)return[[V,t]];var s=t.length>e.length?t:e,a=t.length>e.length?e:t,l=s.indexOf(a);if(l!=-1)return i=[[j,s.substring(0,l)],[F,a],[j,s.substring(l+a.length)]],t.length>e.length&&(i[0][0]=i[2][0]=V),i;if(a.length==1)return[[V,t],[j,e]];var c=this.halfMatch_(t,e);if(c){var d=c[0],u=c[1],f=c[2],m=c[3],g=c[4],h=this.main(d,f,r,n),S=this.main(u,m,r,n);return h.concat([[F,g]],S)}return r&&t.length>100&&e.length>100?this.lineMode_(t,e,n):this.bisect_(t,e,n)};N.prototype.lineMode_=function(t,e,r){var n=this.linesToChars_(t,e);t=n.chars1,e=n.chars2;var i=n.lineArray,s=this.main(t,e,!1,r);this.charsToLines_(s,i),this.cleanupSemantic(s),s.push([F,""]);for(var a=0,l=0,c=0,d="",u="";a<s.length;){switch(s[a][0]){case j:c++,u+=s[a][1];break;case V:l++,d+=s[a][1];break;case F:if(l>=1&&c>=1){s.splice(a-l-c,l+c),a=a-l-c;for(var n=this.main(d,u,!1,r),f=n.length-1;f>=0;f--)s.splice(a,0,n[f]);a=a+n.length}c=0,l=0,d="",u="";break}a++}return s.pop(),s};N.prototype.bisect_=function(t,e,r){for(var n=t.length,i=e.length,s=Math.ceil((n+i)/2),a=s,l=2*s,c=new Array(l),d=new Array(l),u=0;u<l;u++)c[u]=-1,d[u]=-1;c[a+1]=0,d[a+1]=0;for(var f=n-i,m=f%2!=0,g=0,h=0,S=0,y=0,v=0;v<s&&!(new Date().getTime()>r);v++){for(var _=-v+g;_<=v-h;_+=2){var T=a+_,w;_==-v||_!=v&&c[T-1]<c[T+1]?w=c[T+1]:w=c[T-1]+1;for(var x=w-_;w<n&&x<i&&t.charAt(w)==e.charAt(x);)w++,x++;if(c[T]=w,w>n)h+=2;else if(x>i)g+=2;else if(m){var E=a+f-_;if(E>=0&&E<l&&d[E]!=-1){var O=n-d[E];if(w>=O)return this.bisectSplit_(t,e,w,x,r)}}}for(var C=-v+S;C<=v-y;C+=2){var E=a+C,O;C==-v||C!=v&&d[E-1]<d[E+1]?O=d[E+1]:O=d[E-1]+1;for(var K=O-C;O<n&&K<i&&t.charAt(n-O-1)==e.charAt(i-K-1);)O++,K++;if(d[E]=O,O>n)y+=2;else if(K>i)S+=2;else if(!m){var T=a+f-C;if(T>=0&&T<l&&c[T]!=-1){var w=c[T],x=a+w-T;if(O=n-O,w>=O)return this.bisectSplit_(t,e,w,x,r)}}}}return[[V,t],[j,e]]};N.prototype.bisectSplit_=function(t,e,r,n,i){var s=t.substring(0,r),a=e.substring(0,n),l=t.substring(r),c=e.substring(n),d=this.main(s,a,!1,i),u=this.main(l,c,!1,i);return d.concat(u)};N.prototype.linesToChars_=function(t,e){var r=[],n={};r[0]="";function i(l){for(var c="",d=0,u=-1,f=r.length;u<l.length-1;){u=l.indexOf(`
`,d),u==-1&&(u=l.length-1);var m=l.substring(d,u+1);d=u+1,(n.hasOwnProperty?n.hasOwnProperty(m):n[m]!==void 0)?c+=String.fromCharCode(n[m]):(c+=String.fromCharCode(f),n[m]=f,r[f++]=m)}return c}var s=i(t),a=i(e);return{chars1:s,chars2:a,lineArray:r}};N.prototype.charsToLines_=function(t,e){for(var r=0;r<t.length;r++){for(var n=t[r][1],i=[],s=0;s<n.length;s++)i[s]=e[n.charCodeAt(s)];t[r][1]=i.join("")}};N.prototype.commonPrefix=function(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;for(var r=0,n=Math.min(t.length,e.length),i=n,s=0;r<i;)t.substring(s,i)==e.substring(s,i)?(r=i,s=r):n=i,i=Math.floor((n-r)/2+r);return i};N.prototype.commonSuffix=function(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;for(var r=0,n=Math.min(t.length,e.length),i=n,s=0;r<i;)t.substring(t.length-i,t.length-s)==e.substring(e.length-i,e.length-s)?(r=i,s=r):n=i,i=Math.floor((n-r)/2+r);return i};N.prototype.commonOverlap_=function(t,e){var r=t.length,n=e.length;if(r==0||n==0)return 0;r>n?t=t.substring(r-n):r<n&&(e=e.substring(0,r));var i=Math.min(r,n);if(t==e)return i;for(var s=0,a=1;;){var l=t.substring(i-a),c=e.indexOf(l);if(c==-1)return s;a+=c,(c==0||t.substring(i-a)==e.substring(0,a))&&(s=a,a++)}};N.prototype.halfMatch_=function(t,e){if(this.Timeout<=0)return null;var r=t.length>e.length?t:e,n=t.length>e.length?e:t;if(r.length<4||n.length*2<r.length)return null;var i=this;function s(h,S,y){for(var v=h.substring(y,y+Math.floor(h.length/4)),_=-1,T="",w,x,E,O;(_=S.indexOf(v,_+1))!=-1;){var C=i.commonPrefix(h.substring(y),S.substring(_)),K=i.commonSuffix(h.substring(0,y),S.substring(0,_));T.length<K+C&&(T=S.substring(_-K,_)+S.substring(_,_+C),w=h.substring(0,y-K),x=h.substring(y+C),E=S.substring(0,_-K),O=S.substring(_+C))}return T.length*2>=h.length?[w,x,E,O,T]:null}var a=s(r,n,Math.ceil(r.length/4)),l=s(r,n,Math.ceil(r.length/2)),c;if(!a&&!l)return null;l?a?c=a[4].length>l[4].length?a:l:c=l:c=a;var d,u,f,m;t.length>e.length?(d=c[0],u=c[1],f=c[2],m=c[3]):(f=c[0],m=c[1],d=c[2],u=c[3]);var g=c[4];return[d,u,f,m,g]};N.prototype.cleanupSemantic=function(t){for(var e=!1,r=[],n=0,i=null,s=0,a=0,l=0,c=0,d=0;s<t.length;)t[s][0]==F?(r[n++]=s,a=c,l=d,c=0,d=0,i=t[s][1]):(t[s][0]==j?c+=t[s][1].length:d+=t[s][1].length,i&&i.length<=Math.max(a,l)&&i.length<=Math.max(c,d)&&(t.splice(r[n-1],0,[V,i]),t[r[n-1]+1][0]=j,n--,n--,s=n>0?r[n-1]:-1,a=0,l=0,c=0,d=0,i=null,e=!0)),s++;for(e&&this.cleanupMerge(t),this.cleanupSemanticLossless(t),s=1;s<t.length;){if(t[s-1][0]==V&&t[s][0]==j){var u=t[s-1][1],f=t[s][1],m=this.commonOverlap_(u,f),g=this.commonOverlap_(f,u);m>=g?(m>=u.length/2||m>=f.length/2)&&(t.splice(s,0,[F,f.substring(0,m)]),t[s-1][1]=u.substring(0,u.length-m),t[s+1][1]=f.substring(m),s++):(g>=u.length/2||g>=f.length/2)&&(t.splice(s,0,[F,u.substring(0,g)]),t[s-1][0]=j,t[s-1][1]=f.substring(0,f.length-g),t[s+1][0]=V,t[s+1][1]=u.substring(g),s++),s++}s++}};N.prototype.cleanupSemanticLossless=function(t){function e(g,h){if(!g||!h)return 6;var S=g.charAt(g.length-1),y=h.charAt(0),v=S.match(N.nonAlphaNumericRegex_),_=y.match(N.nonAlphaNumericRegex_),T=v&&S.match(N.whitespaceRegex_),w=_&&y.match(N.whitespaceRegex_),x=T&&S.match(N.linebreakRegex_),E=w&&y.match(N.linebreakRegex_),O=x&&g.match(N.blanklineEndRegex_),C=E&&h.match(N.blanklineStartRegex_);return O||C?5:x||E?4:v&&!T&&w?3:T||w?2:v||_?1:0}for(var r=1;r<t.length-1;){if(t[r-1][0]==F&&t[r+1][0]==F){var n=t[r-1][1],i=t[r][1],s=t[r+1][1],a=this.commonSuffix(n,i);if(a){var l=i.substring(i.length-a);n=n.substring(0,n.length-a),i=l+i.substring(0,i.length-a),s=l+s}for(var c=n,d=i,u=s,f=e(n,i)+e(i,s);i.charAt(0)===s.charAt(0);){n+=i.charAt(0),i=i.substring(1)+s.charAt(0),s=s.substring(1);var m=e(n,i)+e(i,s);m>=f&&(f=m,c=n,d=i,u=s)}t[r-1][1]!=c&&(c?t[r-1][1]=c:(t.splice(r-1,1),r--),t[r][1]=d,u?t[r+1][1]=u:(t.splice(r+1,1),r--))}r++}};N.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/;N.whitespaceRegex_=/\s/;N.linebreakRegex_=/[\r\n]/;N.blanklineEndRegex_=/\n\r?\n$/;N.blanklineStartRegex_=/^\r?\n\r?\n/;N.prototype.cleanupEfficiency=function(t){for(var e=!1,r=[],n=0,i=null,s=0,a=!1,l=!1,c=!1,d=!1;s<t.length;)t[s][0]==F?(t[s][1].length<this.EditCost&&(c||d)?(r[n++]=s,a=c,l=d,i=t[s][1]):(n=0,i=null),c=d=!1):(t[s][0]==V?d=!0:c=!0,i&&(a&&l&&c&&d||i.length<this.EditCost/2&&a+l+c+d==3)&&(t.splice(r[n-1],0,[V,i]),t[r[n-1]+1][0]=j,n--,i=null,a&&l?(c=d=!0,n=0):(n--,s=n>0?r[n-1]:-1,c=d=!1),e=!0)),s++;e&&this.cleanupMerge(t)};N.prototype.cleanupMerge=function(t){t.push([F,""]);for(var e=0,r=0,n=0,i="",s="",a;e<t.length;)switch(t[e][0]){case j:n++,s+=t[e][1],e++;break;case V:r++,i+=t[e][1],e++;break;case F:r+n>1?(r!==0&&n!==0&&(a=this.commonPrefix(s,i),a!==0&&(e-r-n>0&&t[e-r-n-1][0]==F?t[e-r-n-1][1]+=s.substring(0,a):(t.splice(0,0,[F,s.substring(0,a)]),e++),s=s.substring(a),i=i.substring(a)),a=this.commonSuffix(s,i),a!==0&&(t[e][1]=s.substring(s.length-a)+t[e][1],s=s.substring(0,s.length-a),i=i.substring(0,i.length-a))),r===0?t.splice(e-n,r+n,[j,s]):n===0?t.splice(e-r,r+n,[V,i]):t.splice(e-r-n,r+n,[V,i],[j,s]),e=e-r-n+(r?1:0)+(n?1:0)+1):e!==0&&t[e-1][0]==F?(t[e-1][1]+=t[e][1],t.splice(e,1)):e++,n=0,r=0,i="",s="";break}t[t.length-1][1]===""&&t.pop();var l=!1;for(e=1;e<t.length-1;)t[e-1][0]==F&&t[e+1][0]==F&&(t[e][1].substring(t[e][1].length-t[e-1][1].length)==t[e-1][1]?(t[e][1]=t[e-1][1]+t[e][1].substring(0,t[e][1].length-t[e-1][1].length),t[e+1][1]=t[e-1][1]+t[e+1][1],t.splice(e-1,1),l=!0):t[e][1].substring(0,t[e+1][1].length)==t[e+1][1]&&(t[e-1][1]+=t[e+1][1],t[e][1]=t[e][1].substring(t[e+1][1].length)+t[e+1][1],t.splice(e+1,1),l=!0)),e++;l&&this.cleanupMerge(t)};N.prototype.xIndex=function(t,e){var r=0,n=0,i=0,s=0,a;for(a=0;a<t.length&&(t[a][0]!==j&&(r+=t[a][1].length),t[a][0]!==V&&(n+=t[a][1].length),!(r>e));a++)i=r,s=n;return t.length!=a&&t[a][0]===V?s:s+(e-i)};N.prototype.prettyHtml=function(t){for(var e=[],r=/&/g,n=/</g,i=/>/g,s=/\n/g,a=0;a<t.length;a++){var l=t[a][0],c=t[a][1],d=c.replace(r,"&amp;").replace(n,"&lt;").replace(i,"&gt;").replace(s,"<br/>");switch(l){case j:e[a]="<ins>"+d+"</ins>";break;case V:e[a]="<del>"+d+"</del>";break;case F:e[a]="<span>"+d+"</span>";break}}return e.join("")};N.prototype.text1=function(t){for(var e=[],r=0;r<t.length;r++)t[r][0]!==j&&(e[r]=t[r][1]);return e.join("")};N.prototype.text2=function(t){for(var e=[],r=0;r<t.length;r++)t[r][0]!==V&&(e[r]=t[r][1]);return e.join("")};N.prototype.levenshtein=function(t){for(var e=0,r=0,n=0,i=0;i<t.length;i++){var s=t[i][0],a=t[i][1];switch(s){case j:r+=a.length;break;case V:n+=a.length;break;case F:e+=Math.max(r,n),r=0,n=0;break}}return e+=Math.max(r,n),e};N.prototype.toDelta=function(t){for(var e=[],r=0;r<t.length;r++)switch(t[r][0]){case j:e[r]="+"+encodeURI(t[r][1]);break;case V:e[r]="-"+t[r][1].length;break;case F:e[r]="="+t[r][1].length;break}return e.join("	").replace(/%20/g," ")};N.prototype.fromDelta=function(t,e){for(var r=[],n=0,i=0,s=e.split(/\t/g),a=0;a<s.length;a++){var l=s[a].substring(1);switch(s[a].charAt(0)){case"+":try{r[n++]=[j,decodeURI(l)]}catch{throw new Error("Illegal escape in diff_fromDelta: "+l)}break;case"-":case"=":var c=parseInt(l,10);if(isNaN(c)||c<0)throw new Error("Invalid number in diff_fromDelta: "+l);var d=t.substring(i,i+=c);s[a].charAt(0)=="="?r[n++]=[F,d]:r[n++]=[V,d];break;default:if(s[a])throw new Error("Invalid diff operation in diff_fromDelta: "+s[a])}}if(i!=t.length)throw new Error("Delta length ("+i+") does not equal source text length ("+t.length+").");return r};Gt.diff=N;Gt.DIFF_DELETE=V;Gt.DIFF_INSERT=j;Gt.DIFF_EQUAL=F;Dl.exports=N});var Ul=b((fF,Ml)=>{"use strict";o();function z_(t,e,r,n){for(var i=t.length,s=r+(n?1:-1);n?s--:++s<i;)if(e(t[s],s,t))return s;return-1}Ml.exports=z_});var Fl=b((gF,Gl)=>{"use strict";o();function $_(t){return t!==t}Gl.exports=$_});var ql=b((bF,Bl)=>{"use strict";o();function Y_(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}Bl.exports=Y_});var Vl=b((vF,jl)=>{"use strict";o();var K_=Ul(),X_=Fl(),J_=ql();function Q_(t,e,r){return e===e?J_(t,e,r):K_(t,X_,r)}jl.exports=Q_});var Wl=b((_F,Hl)=>{"use strict";o();var Z_=Vl();function ew(t,e){var r=t==null?0:t.length;return!!r&&Z_(t,e,0)>-1}Hl.exports=ew});var $l=b((EF,zl)=>{"use strict";o();function tw(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}zl.exports=tw});var Kl=b((xF,Yl)=>{"use strict";o();function rw(){}Yl.exports=rw});var Jl=b((CF,Xl)=>{"use strict";o();var _i=xn(),nw=Kl(),iw=Qt(),ow=1/0,sw=_i&&1/iw(new _i([,-0]))[1]==ow?function(t){return new _i(t)}:nw;Xl.exports=sw});var Zl=b((OF,Ql)=>{"use strict";o();var aw=hn(),cw=Wl(),uw=$l(),lw=bn(),dw=Jl(),pw=Qt(),fw=200;function mw(t,e,r){var n=-1,i=cw,s=t.length,a=!0,l=[],c=l;if(r)a=!1,i=uw;else if(s>=fw){var d=e?null:dw(t);if(d)return pw(d);a=!1,i=lw,c=new aw}else c=e?[]:l;e:for(;++n<s;){var u=t[n],f=e?e(u):u;if(u=r||u!==0?u:0,a&&f===f){for(var m=c.length;m--;)if(c[m]===f)continue e;e&&c.push(f),l.push(u)}else i(c,f,r)||(c!==l&&c.push(f),l.push(u))}return l}Ql.exports=mw});var td=b((RF,ed)=>{"use strict";o();var gw=Zl();function hw(t,e){return e=typeof e=="function"?e:void 0,t&&t.length?gw(t,void 0,e):[]}ed.exports=hw});var nd=b((DF,rd)=>{"use strict";o();var bw=gn(),Sw=or(),vw=1,yw=2;function _w(t,e,r,n){var i=r.length,s=i,a=!n;if(t==null)return!s;for(t=Object(t);i--;){var l=r[i];if(a&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++i<s;){l=r[i];var c=l[0],d=t[c],u=l[1];if(a&&l[2]){if(d===void 0&&!(c in t))return!1}else{var f=new bw;if(n)var m=n(d,u,c,t,e,f);if(!(m===void 0?Sw(u,d,vw|yw,n,f):m))return!1}}return!0}rd.exports=_w});var wi=b((LF,id)=>{"use strict";o();var ww=xe();function Ew(t){return t===t&&!ww(t)}id.exports=Ew});var sd=b((UF,od)=>{"use strict";o();var Tw=wi(),xw=nr();function Aw(t){for(var e=xw(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,Tw(i)]}return e}od.exports=Aw});var Ei=b((FF,ad)=>{"use strict";o();function Cw(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}ad.exports=Cw});var ud=b((qF,cd)=>{"use strict";o();var Iw=nd(),Ow=sd(),Nw=Ei();function Rw(t){var e=Ow(t);return e.length==1&&e[0][2]?Nw(e[0][0],e[0][1]):function(r){return r===t||Iw(r,t,e)}}cd.exports=Rw});var dd=b((VF,ld)=>{"use strict";o();var Pw=Pt();function Dw(t,e,r){var n=t==null?void 0:Pw(t,e);return n===void 0?r:n}ld.exports=Dw});var fd=b((WF,pd)=>{"use strict";o();var kw=or(),Lw=dd(),Mw=li(),Uw=Gr(),Gw=wi(),Fw=Ei(),Bw=tt(),qw=1,jw=2;function Vw(t,e){return Uw(t)&&Gw(e)?Fw(Bw(t),e):function(r){var n=Lw(r,t);return n===void 0&&n===e?Mw(r,t):kw(e,n,qw|jw)}}pd.exports=Vw});var gd=b(($F,md)=>{"use strict";o();function Hw(t){return function(e){return e?.[t]}}md.exports=Hw});var bd=b((KF,hd)=>{"use strict";o();var Ww=Pt();function zw(t){return function(e){return Ww(e,t)}}hd.exports=zw});var vd=b((JF,Sd)=>{"use strict";o();var $w=gd(),Yw=bd(),Kw=Gr(),Xw=tt();function Jw(t){return Kw(t)?$w(Xw(t)):Yw(t)}Sd.exports=Jw});var _d=b((ZF,yd)=>{"use strict";o();var Qw=ud(),Zw=fd(),eE=Fr(),tE=re(),rE=vd();function nE(t){return typeof t=="function"?t:t==null?eE:typeof t=="object"?tE(t)?Zw(t[0],t[1]):Qw(t):rE(t)}yd.exports=nE});var Ed=b((tB,wd)=>{"use strict";o();function iE(t){return function(e,r,n){for(var i=-1,s=Object(e),a=n(e),l=a.length;l--;){var c=a[t?l:++i];if(r(s[c],c,s)===!1)break}return e}}wd.exports=iE});var xd=b((nB,Td)=>{"use strict";o();var oE=Ed(),sE=oE();Td.exports=sE});var Cd=b((oB,Ad)=>{"use strict";o();var aE=xd(),cE=nr();function uE(t,e){return t&&aE(t,e,cE)}Ad.exports=uE});var Od=b((aB,Id)=>{"use strict";o();var lE=rr();function dE(t,e){return function(r,n){if(r==null)return r;if(!lE(r))return t(r,n);for(var i=r.length,s=e?i:-1,a=Object(r);(e?s--:++s<i)&&n(a[s],s,a)!==!1;);return r}}Id.exports=dE});var Rd=b((uB,Nd)=>{"use strict";o();var pE=Cd(),fE=Od(),mE=fE(pE);Nd.exports=mE});var Dd=b((dB,Pd)=>{"use strict";o();var gE=Rd(),hE=rr();function bE(t,e){var r=-1,n=hE(t)?Array(t.length):[];return gE(t,function(i,s,a){n[++r]=e(i,s,a)}),n}Pd.exports=bE});var Ld=b((fB,kd)=>{"use strict";o();function SE(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}kd.exports=SE});var Gd=b((gB,Ud)=>{"use strict";o();var Md=We();function vE(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,s=Md(t),a=e!==void 0,l=e===null,c=e===e,d=Md(e);if(!l&&!d&&!s&&t>e||s&&a&&c&&!l&&!d||n&&a&&c||!r&&c||!i)return 1;if(!n&&!s&&!d&&t<e||d&&r&&i&&!n&&!s||l&&r&&i||!a&&i||!c)return-1}return 0}Ud.exports=vE});var Bd=b((bB,Fd)=>{"use strict";o();var yE=Gd();function _E(t,e,r){for(var n=-1,i=t.criteria,s=e.criteria,a=i.length,l=r.length;++n<a;){var c=yE(i[n],s[n]);if(c){if(n>=l)return c;var d=r[n];return c*(d=="desc"?-1:1)}}return t.index-e.index}Fd.exports=_E});var jd=b((vB,qd)=>{"use strict";o();var Ti=ci(),wE=Pt(),EE=_d(),TE=Dd(),xE=Ld(),AE=wn(),CE=Bd(),IE=Fr(),OE=re();function NE(t,e,r){e.length?e=Ti(e,function(s){return OE(s)?function(a){return wE(a,s.length===1?s[0]:s)}:s}):e=[IE];var n=-1;e=Ti(e,AE(EE));var i=TE(t,function(s,a,l){var c=Ti(e,function(d){return d(s)});return{criteria:c,index:++n,value:s}});return xE(i,function(s,a){return CE(s,a,r)})}qd.exports=NE});var Wd=b((_B,Hd)=>{"use strict";o();var RE=jd(),Vd=re();function PE(t,e,r,n){return t==null?[]:(Vd(e)||(e=e==null?[]:[e]),r=n?void 0:r,Vd(r)||(r=r==null?[]:[r]),RE(t,e,r))}Hd.exports=PE});o();o();var ep=Z(sr()),tp=Z(dc()),rp=Z(hc());o();o();o();o();var ur=class t{static build(e){return new t(e,[])}constructor(e,r){this.type=null,this.source=e,this.target=r}create(e){return e}popType(){return e=>{let r=this.source.filter(i=>i!==e),n=[...this.target,e];return new t(r,n)}}assert(){if(this.source.length)throw new Error("source isn't empty");return this}};o();var lr=class{constructor(){this.promise=new Promise((e,r)=>{let n=this;n.resolve=e,n.reject=r})}};o();var k=class{constructor(...e){this.type=null,this.enum={},this.list=e,e.forEach(r=>{this.enum[r]=r})}[Symbol.iterator](){return this.list[Symbol.iterator]()}is(e){return e==null?!1:this.enum.hasOwnProperty(e)}get(e,r){return this.is(e)?e:r instanceof Function?r(e):r}matchPartial(e,r,n){var i;if(this.is(e))return(i=r[e])===null||i===void 0?void 0:i.call(r,n)}match(e,r,n){return this.matchPartial(e,r,n)}partialHash(e){return e}hash(e){return e}resolve(e,r=this.list){let n;return r.forEach(i=>{e[i]()&&!n&&(n=i)}),n}};o();o();var Dn={red:t=>t,gray:t=>t,magenta:t=>t};function bt(t,{lineFilter:e=r=>!/\(node:/.test(r)}={}){let r=String(t),n=t;if(typeof n=="object"&&n!==null&&typeof n.name=="string"&&typeof n.message=="string"&&typeof n.stack=="string"){let i=n;r=`${Dn.red(i.name)}: ${i.message.replace(new RegExp(`^${i.name}[: ]*`),"")}
${(i.stack||"").split(`
`).map(s=>s.trim()).filter(e).map(s=>s.startsWith(`${i.name}: ${i.message}`)?null:s.startsWith("at")?`  ${Dn.gray(s)}`:s).filter(Boolean).join(`
`)}`}if(typeof n=="object"&&n!=null){let i=Object.getOwnPropertyNames(n).filter(s=>s!=="stack"&&s!=="message");if(i.length>0){let s={};i.forEach(l=>{s[l]=n[l]});let a;try{a=JSON.stringify(s)}catch(l){a=["{","  the properties object couldn't be converted to JSON :(","","  the error that happened while stringifying it was:",bt(l).split(`
`).map(c=>`  ${c}`).join(`
`),"}"].join(`
`)}r+=Dn.magenta(`
The above error also had these properties on it:
`)+a}}return r}var Ke=class t extends Error{constructor(e,r){super("BaseError"),this.name="BaseError",this.message=`${bt(e)} ${r??""}`,r&&(this.cause=r),this.error=e instanceof t?e.error:e,Object.setPrototypeOf(this,t.prototype)}};o();var Ie=class t extends Error{constructor(e,r){super("ApiError"),this.name="ApiError",this.message=bt(e),this.error=e instanceof t?e.error:e,this.response=e instanceof t?e.response:r,Object.setPrototypeOf(this,t.prototype)}};o();var dr=class t extends Ie{constructor(e,r){super(e,r),this.name="ApiStreamError",Object.setPrototypeOf(this,t.prototype)}get text(){return this.error}get json(){try{return JSON.parse(this.error)}catch{return{error:this.error}}}};o();var pr=[];function bc(t){return pr.includes(t)?!1:(pr.push(t),!0)}var _S=(t,e)=>{let r=t.module?`${t.module}:${t.name}`:t.name;return`${e.toUpperCase()}:${r} -`};function wS(t){let e=new Map,r=i=>{let s=e.get(i);if(s)return s;let a=pr.map(d=>{var u;let f=((u=d.format)!==null&&u!==void 0?u:_S)(t,i);return d(f)}),l=a.length,c=d=>{pr.length!==l?(e.delete(i),r(i)(d)):a.forEach(u=>u(...d))};return e.set(i,c),c};return{log:(i,...s)=>r(i)(s)}}var ES=new k("trace","debug","log","info","warn","error");function X(t,e){let r=wS({name:t,module:e??""}),n={};for(let i of ES)n[i]=(...s)=>{n[i]=(...a)=>{r.log(i,...a)},n[i](...s)};return n.return=(i,...s)=>(r.log("return",...s,i),i),n}function fr(t){return e=>X(e,t)}var bI=X("Feature","ext-inline");o();o();o();o();o();var vc=Z(kn()),II=(0,vc.make)();function Oe(t,e="any:"){if(t)if(/^(\w+):\/\//i.test(t))try{return new URL(t)}catch{return}else return Oe(`${e}//${t}`,e)}o();o();o();o();var Ln=new k("offline","notlogged","expired","paused","blocked","restricted","disabled","active"),DI=ur.build(Ln.list).popType()("offline").popType()("active").popType()("notlogged").popType()("expired").popType()("paused").popType()("blocked").popType()("restricted").popType()("disabled"),kI=Ln.hash({offline:!0,notlogged:!1,expired:!0,paused:!1,blocked:!1,restricted:!1,disabled:!1,active:!0}),LI=new k("supported","blocked","beta"),MI=new k("en-us","en-au","en-ca","en-gb"),xS=new k("deleted","past_due","canceled"),UI=new k("SIGNED_OUT_BANNER_A","NEW_EXTENSION_VERSION_AVAILABLE_BANNER","DISABLE_ACTIONS","OUTDATED_POPUP"),GI=new k("tab","textfield_button","toolbar_button"),Mn=new k("chatModes"),FI=Mn.hash({chatModes:"ask_writer_modes"}),AS=Mn.hash({chatModes:"2.4.1"});o();o();o();var yc;function CS(){return chrome.runtime.getManifest()}var _c=()=>yc||(yc=CS());o();var IS=fr("ext-chrome"),be=t=>{let e=IS(t),r=e;return r.wrapPromise=(n,i)=>(e.debug(n,"pending"),i.then(s=>{e.debug("fullfield",s)},s=>{e.warn("rejected",s)}),i),r};o();var Un=function(t,e){return Un=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Un(t,e)};function Ec(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Un(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function OS(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(u){try{d(n.next(u))}catch(f){a(f)}}function c(u){try{d(n.throw(u))}catch(f){a(f)}}function d(u){u.done?s(u.value):i(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})}function NS(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(d){return function(u){return c([d,u])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(r=0)),r;)try{if(n=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,i=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){r.label=d[1];break}if(d[0]===6&&r.label<s[1]){r.label=s[1],s=d;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(d);break}s[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(u){d=[6,u],i=0}finally{n=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var RS=function(t){Ec(e,t);function e(r,n,i){var s=t.call(this,"PaginationError")||this;return s.error=r,s.index=n,s.retry=i,Object.setPrototypeOf(s,e.prototype),s}return e}(Error);var PS=function(t){Ec(e,t);function e(r,n,i){var s=t.call(this,r,n,function(){return i.exec().then(function(a){var l=a.data,c=a.index;return{data:l,index:c}})})||this;return s.task=i,Object.setPrototypeOf(s,e.prototype),s}return e}(RS),JI=function(){function t(e,r,n,i){this.index=e,this.value=r,this.transform=n,this.list=i}return t.prototype.exec=function(){var e=this,r=this.transform(this.value).then(function(n){var i={data:n,index:e.index,remove:function(){return e.remove()}};return i},function(n){throw new PS(n,e.index,e)});return this.remove=function(){return e.list.delete(r)},r},t}();var wc=function(){function t(){var e=this;this.promise=new Promise(function(r,n){e.resolve=r,e.reject=n})}return t}(),DS=function(){function t(e){var r;this.merge=e?.merge,this.collection=(r=e?.collection)!==null&&r!==void 0?r:[]}return t.prototype[Symbol.iterator]=function(){var e=this,r=this.smartIterator(void 0),n=r[0],i=r[1],s=function(){var a,l=n.next();return l.done?(a=e.smartIterator(i),n=a[0],i=a[1],n.next()):l};return{next:s}},t.prototype.smartIterator=function(e){if(!this.merge){if(typeof e=="number")throw Error("invalid meta value");var r=e??this.collection[Symbol.iterator]();return[r,r]}if(Array.isArray(this.collection)){if(e!==void 0&&typeof e!="number")throw Error("invalid meta value");var n=e===void 0?this.collection:this.collection.slice(e);return[this.merge(n)[Symbol.iterator](),this.collection.length]}if(typeof e=="number")throw Error("invalid meta value");var i=[],s=e??this.collection[Symbol.iterator]();do{var a=s.next(),l=a.done,c=a.value;if(l)break;i.push(c)}while(!0);return[this.merge(i)[Symbol.iterator](),s]},t}(),Tc=function(){function t(e){this.defer=t.promiseFlow(),this.data=[],this.collection=new DS({collection:this.data,merge:e?.merge})}return t.promiseFlow=function(){var e=new wc,r=!1;return{isRejected:function(){return r},resolve:function(n){return r?!1:(e.resolve(n),e=new wc,!0)},reject:function(n){return r?!1:(r=!0,e.reject(n),!0)},getPromise:function(){return e.promise}}},t.prototype[Symbol.asyncIterator]=function(){var e=this,r=this.collection[Symbol.iterator](),n=function(){return OS(e,void 0,void 0,function(){var i;return NS(this,function(s){switch(s.label){case 0:return this.defer&&this.defer.isRejected()?[4,this.defer.getPromise()]:[3,2];case 1:s.sent(),s.label=2;case 2:return i=r.next(),i.done&&this.defer?[4,this.defer.getPromise()]:[3,4];case 3:return s.sent(),[2,n()];case 4:return[2,i]}})})};return{next:n}},t.prototype.close=function(){return this.defer?(this.defer.resolve(!1),this.defer=void 0,!0):!1},t.prototype.resolve=function(e){return this.defer?(this.data.push(e),this.defer.resolve(!0),!0):!1},t.prototype.reject=function(e){return this.defer?(this.defer.reject(e),!0):!1},t}();o();o();o();o();o();var J=class{static mapResult(e,r){return e===null||typeof e=="string"?r(e):e.then(r)}constructor(e,r,n=e){this.name=e,this.storage=r,this.description=n}toSubscribe(e){var r,n;return(n=(r=this.storage()).subscribe)===null||n===void 0?void 0:n.call(r,(i,s,a)=>{this.name===i&&e(s,a)})}watch(e,r=(n,i)=>n===i){let n=null,i=!0,s=!0,a=c=>{i&&((s||!r(c,n))&&(s=!1,e(c)),n=c)};this.get(c=>{s&&a(c)});let l=this.subscribe(c=>{a(c)});return()=>{i=!1,l?.()}}getId(e,r){let{name:n}=this;this.name=`${this.name}:${e}`;try{return this.get(r)}finally{this.name=n}}setId(e,r,n){return this.set.call({name:`${this.name}:${e}`,storage:this.storage},r,n)}removeId(e,r){return this.remove.call({name:`${this.name}:${e}`,storage:this.storage},r)}};function gr(t){return t===null?null:t==="true"||t==="1"||t===!0||t===1}var St=class t extends J{constructor(){super(...arguments),this.TYPE="boolean"}clone(e,r){return new t(e,this.storage,r??this.description)}get(e){return J.mapResult(this.storage().getItem(this.name),n=>{let i=gr(n);return e?.(i),i})}set(e,r){return e===null?this.storage().removeItem(this.name,r):this.storage().setItem(this.name,e?"1":"0",r)}remove(e){return this.storage().removeItem(this.name,e)}subscribe(e){return this.toSubscribe((r,n)=>e(gr(r),gr(n)))}};St.str2bool=gr;o();function Gn(t){if(typeof t=="number")return t;if(t===null)return null;let e=parseFloat(t);return Number.isNaN(e)?null:e}var hr=class t extends J{constructor(){super(...arguments),this.TYPE="number"}clone(e,r){return new t(e,this.storage,r??this.description)}get(e){return J.mapResult(this.storage().getItem(this.name),r=>{let n=Gn(r);return e?.(n),n})}set(e,r){return this.storage().setItem(this.name,`${e}`,r)}remove(e){return this.storage().removeItem(this.name,e)}subscribe(e){return this.toSubscribe((r,n)=>e(Gn(r),Gn(n)))}};o();function kS(){function t(e,r){let n=e?Object.assign({},e):{};for(let i of Object.keys(r)){let s=i,a=e?e[s]:null,l=r[s];l&&(n[s]=l(a))}return n}return t}var Xe=class t extends J{constructor(){super(...arguments),this.TYPE="object",this.mutateObj=kS(),this.transform=t.str2obj}clone(e,r){return new t(e,this.storage,r??this.description)}static str2obj(e){if(e===null)return null;try{return JSON.parse(e)}catch{return null}}update(e,r){return J.mapResult(this.storage().getItem(this.name),n=>{if(n===null){let i=this.mutateObj(null,e);return this.set(i,r),null}try{let i=JSON.parse(n),s=this.mutateObj(i,e);return this.set(s,r),null}catch{let s=this.mutateObj(null,e);return this.set(s,r),null}})}get(e){return J.mapResult(this.storage().getItem(this.name),r=>{let n=this.transform(r);return e?.(n),n})}set(e,r){return this.storage().setItem(this.name,JSON.stringify(e),r)}remove(e){return this.storage().removeItem(this.name,e)}subscribe(e){return this.toSubscribe((r,n)=>e(this.transform(r),this.transform(n)))}};o();var br=class t extends J{constructor(){super(...arguments),this.TYPE="string"}clone(e,r){return new t(e,this.storage,r??this.description)}get(e){let r=this.storage().getItem(this.name);return J.mapResult(r,n=>(e?.(n),n))}set(e,r){return this.storage().setItem(this.name,e||"",r)}remove(e){return this.storage().removeItem(this.name,e)}subscribe(e){return this.toSubscribe(e)}};var Sr=class t{constructor(e){this.storage=e,this.string=(r,n=r)=>new br(r??"",this.storage,n),this.boolean=(r,n=r)=>new St(r??"",this.storage,n),this.number=(r,n=r)=>new hr(r??"",this.storage,n),this.object=(r,n=r)=>new Xe(r??"",this.storage,n),this.array=(r,n=r)=>this.object(r,n)}static build(e,r){let n=r(new t(e));return Object.keys(n).forEach(i=>{let s=n[i];s.name||(s.name=i)}),n}};o();o();var LS=be("createLocalStorage");function xc(){LS.debug("createLocalStorage");let t={getItem:e=>new Promise(r=>chrome.storage.local.get(e,n=>r(n[e]))),setItem:(e,r)=>new Promise(n=>chrome.storage.local.set({[e]:r},n)),removeItem:e=>chrome.storage.local.remove(e),subscribe(e){function r(n,i){Object.entries(n).forEach(([s,a])=>{e(s,a.newValue,a.oldValue)})}return chrome.storage.onChanged.addListener(r),()=>chrome.storage.onChanged.removeListener(r)}};return()=>t}o();var MS=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r},Je=be("sendMessage"),Ac=(t,e)=>!!(typeof t=="object"&&t&&e in t);function Fn({type:t,payload:e,streaming:r},n){let i=n&&"url"in n?n.url:"";return new Promise((s,a)=>{let l={type:t,payload:e,streaming:r},c=d=>{Je.debug(`send:receive (${t}) response:`,d,"payload:",e);let u=chrome.runtime.lastError;if(u){Je.error(`send:receive (${t}) response:`,d,"payload:",e,"error:",u,{url:i}),a(u);return}if(d==null){Je.error(`send:receive (${t}) response:Empty response`,"payload:",e,{url:i}),a(new Error(`Empty response (${t}) ${i}`));return}if(Ac(d,"error")){Je.error(`send:receive (${t}) response:`,d.error,"payload:",e,i),a(d.error);return}if(Ac(d,"data")){Je.debug(`send:receive(${t}) response:`,d.data,"payload:",e,i),s(d.data);return}Je.warn(`send:receive(${t}) response(Invalid response):`,d,"payload:",e,i),s(d)};if(n&&"url"in n){let{id:d,url:u}=n,f=MS(n,["id","url"]);chrome.tabs.sendMessage(d,l,f,c)}else chrome.runtime.sendMessage(l,n??{},c)})}o();function Cc(t){return chrome.runtime.onMessage.addListener(t),()=>chrome.runtime.onMessage.removeListener(t)}o();o();var Ic=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,r)=>(r&=63,r<36?e+=r.toString(36):r<62?e+=(r-26).toString(36).toUpperCase():r>62?e+="-":e+="_",e),"");var US=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(u){try{d(n.next(u))}catch(f){a(f)}}function c(u){try{d(n.throw(u))}catch(f){a(f)}}function d(u){u.done?s(u.value):i(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})},Ne=be("StreamRequest"),Oc="INTERNAL_STREAM_REQUEST_ABORT_MESSAGE",de=class t{[Symbol.asyncIterator](){let{next:e}=this.streamer[Symbol.asyncIterator]();return{next:()=>US(this,void 0,void 0,function*(){try{yield this.connectionPromise.promise}catch(r){let n=new Ke(r);throw this.streamer.reject(n),n}return e()})}}constructor(e){this.opts=e,this.id=Ic(8),this.connectionPromise=new lr,this.exec=(r,n,i)=>{var s;let{opts:{type:a,payload:l,cache:c},id:d}=this;if(c.has(d))throw Ne.warn("exec","id collision"),new Error("id collision");return c.set(d,this.streamer,i),r({type:a,payload:l,streaming:d},n&&n.id?{id:n.id,url:(s=n.url)!==null&&s!==void 0?s:""}:{}).then(this.connectionPromise.resolve,this.connectionPromise.reject),i&&c.subscribe(d,()=>{var u;r({type:Oc,payload:{abort:!0},streaming:d},n&&n.id?{id:n.id,url:(u=n.url)!==null&&u!==void 0?u:""}:{}).finally(()=>{t.streaming(c,d,{data:{type:"error",data:"abort"}})})}),this},Ne.debug("constructor"),this.streamer=new Tc({merge:e.merge})}static build(e){let{exec:r}=new t(e);return r}static payload({id:e,type:r,index:n,data:i}){return{type:r,streaming:e,payload:{index:n,data:i}}}static isStreamAbort(e,r,n,i){return e===Oc&&r?(i?.abort(),n({abort:!0}),!0):!1}static streaming(e,r,n){if(!n)return Ne.warn("streaming","Missing payload",{payload:n}),!1;let i=e.get(r);if(!i)return Ne.warn("streaming","streamer is missing"),!1;let s=n,{data:a}=s;return a?(Ne.debug("streaming",{id:r,payload:n}),a.type==="data"?i.resolve(a.data):a.type==="error"?(i.reject(new Ke(a.data)),e.delete(r)):a.type==="close"?(i.close(),e.delete(r)):Ne.warn("streaming","unreachable code",{data:a}),!0):(Ne.warn("streaming","data is missing",{data:a,payload:n}),!1)}};o();var Nc=be("StreamResponse"),vr=class{constructor(e){this.scope=e,Nc.debug("constructor")}exec(e,r,n,i,s,a){if(!n){i({error:"missing id"}),Nc.warn("exec","missing id");return}let l=new AbortController,c=a(n,l);i({data:"streaming"});let d=this.getPusher(e,r,n,s);this.scope(d,l).finally(()=>c())}getPusher(e,r,n,i){let s=0;return a=>{var l;let c=de.payload({id:n,type:r,data:a,index:s}),d=i(c,e&&e.id?{id:e.id,url:(l=e.url)!==null&&l!==void 0?l:""}:void 0);return s++,d}}};o();var vt=class{constructor(){this.streams=new Map}has(e){return this.streams.has(e)}set(e,r,n){n?this.streams.set(e,[r,n,new Set]):this.streams.set(e,r)}get(e){let r=this.streams.get(e);if(r)return Array.isArray(r)?r[0]:r}delete(e){let r=this.streams.get(e);return Array.isArray(r)&&r[2].forEach(n=>n()),this.streams.delete(e)}subscribe(e,r){let n=this.streams.get(e);if(!Array.isArray(n))return;let i=n[1],s=n[2];i.addEventListener("abort",r);let a=()=>{s.delete(a),i.removeEventListener("abort",r)};return s.add(a),a}};o();var FS=["0022","0027","00AB","00BB","2018","2019","201A","201C","201D","201E","2039","203A"],sO=new RegExp(`[${FS.map(t=>`\\u${t}`).join("")}]`,"g");var aO=new k("production","development","test");var cO=new k("site","global","local"),Rc="DISABLED_ONCE_123";o();o();o();o();var NO=X("identifier","ext-inline");o();o();o();o();o();o();o();var BS=Object.prototype.toString;function qS(t,e){return BS.call(t)===`[object ${e}]`}function yt(t){return qS(t,"Object")}function Re(t){return!!(t&&t.then&&typeof t.then=="function")}function Bn(t){return typeof t=="number"&&t!==t}o();function yr(t){return t&&t.Math==Math?t:void 0}var B=typeof globalThis=="object"&&yr(globalThis)||typeof window=="object"&&yr(window)||typeof self=="object"&&yr(self)||typeof global=="object"&&yr(global)||function(){return this}()||{};function _t(t,e,r){let n=r||B,i=n.__SENTRY__=n.__SENTRY__||{};return i[t]||(i[t]=e())}o();var _r=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;o();var jS="Sentry Logger ",qn=["debug","info","warn","error","log","assert","trace"],jn={};function wr(t){if(!("console"in B))return t();let e=B.console,r={},n=Object.keys(jn);n.forEach(i=>{let s=jn[i];r[i]=e[i],e[i]=s});try{return t()}finally{n.forEach(i=>{e[i]=r[i]})}}function VS(){let t=!1,e={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return _r?qn.forEach(r=>{e[r]=(...n)=>{t&&wr(()=>{B.console[r](`${jS}[${r}]:`,...n)})}}):qn.forEach(r=>{e[r]=()=>{}}),e}var P=VS();o();function H(t){return Vn(t,new Map)}function Vn(t,e){if(KS(t)){let r=e.get(t);if(r!==void 0)return r;let n={};e.set(t,n);for(let i of Object.keys(t))typeof t[i]<"u"&&(n[i]=Vn(t[i],e));return n}if(Array.isArray(t)){let r=e.get(t);if(r!==void 0)return r;let n=[];return e.set(t,n),t.forEach(i=>{n.push(Vn(i,e))}),n}return t}function KS(t){if(!yt(t))return!1;try{let e=Object.getPrototypeOf(t).constructor.name;return!e||e==="Object"}catch{return!0}}o();o();var Hn="<anonymous>";function Pc(t){try{return!t||typeof t!="function"?Hn:t.name||Hn}catch{return Hn}}var Er={},Dc={};function Tr(t,e){Er[t]=Er[t]||[],Er[t].push(e)}function xr(t,e){Dc[t]||(e(),Dc[t]=!0)}function Ar(t,e){let r=t&&Er[t];if(r)for(let n of r)try{n(e)}catch(i){_r&&P.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${Pc(n)}
Error:`,i)}}o();function W(){let t=B,e=t.crypto||t.msCrypto,r=()=>Math.random()*16;try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(r=()=>{let n=new Uint8Array(1);return e.getRandomValues(n),n[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(r()&15)>>n/4).toString(16))}function Wn(t){return Array.isArray(t)?t:[t]}o();var Cr=null;function zn(t){let e="error";Tr(e,t),xr(e,XS)}function XS(){Cr=B.onerror,B.onerror=function(t,e,r,n,i){return Ar("error",{column:n,error:i,line:r,msg:t,url:e}),Cr&&!Cr.__SENTRY_LOADER__?Cr.apply(this,arguments):!1},B.onerror.__SENTRY_INSTRUMENTED__=!0}o();var Ir=null;function $n(t){let e="unhandledrejection";Tr(e,t),xr(e,JS)}function JS(){Ir=B.onunhandledrejection,B.onunhandledrejection=function(t){return Ar("unhandledrejection",t),Ir&&!Ir.__SENTRY_LOADER__?Ir.apply(this,arguments):!0},B.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}o();o();function kc(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function Yn(){return!kc()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function pe(t,e){return t.require(e)}function Kn(t){let e;try{e=pe(module,t)}catch{}try{let{cwd:r}=pe(module,"process");e=pe(module,`${r()}/node_modules/${t}`)}catch{}return e}o();var fe;(function(t){t[t.PENDING=0]="PENDING";let r=1;t[t.RESOLVED=r]="RESOLVED";let n=2;t[t.REJECTED=n]="REJECTED"})(fe||(fe={}));var wt=class t{constructor(e){t.prototype.__init.call(this),t.prototype.__init2.call(this),t.prototype.__init3.call(this),t.prototype.__init4.call(this),this._state=fe.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(r){this._reject(r)}}then(e,r){return new t((n,i)=>{this._handlers.push([!1,s=>{if(!e)n(s);else try{n(e(s))}catch(a){i(a)}},s=>{if(!r)i(s);else try{n(r(s))}catch(a){i(a)}}]),this._executeHandlers()})}catch(e){return this.then(r=>r,e)}finally(e){return new t((r,n)=>{let i,s;return this.then(a=>{s=!1,i=a,e&&e()},a=>{s=!0,i=a,e&&e()}).then(()=>{if(s){n(i);return}r(i)})})}__init(){this._resolve=e=>{this._setResult(fe.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(fe.REJECTED,e)}}__init3(){this._setResult=(e,r)=>{if(this._state===fe.PENDING){if(Re(r)){r.then(this._resolve,this._reject);return}this._state=e,this._value=r,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===fe.PENDING)return;let e=this._handlers.slice();this._handlers=[],e.forEach(r=>{r[0]||(this._state===fe.RESOLVED&&r[1](this._value),this._state===fe.REJECTED&&r[2](this._value),r[0]=!0)})}}};o();var Lc=1e3;function Qe(){return Date.now()/Lc}function QS(){let{performance:t}=B;if(!t||!t.now)return Qe;let e=Date.now()-t.now(),r=t.timeOrigin==null?e:t.timeOrigin;return()=>(r+t.now())/Lc}var Se=QS();var Et,ZS=(()=>{let{performance:t}=B;if(!t||!t.now){Et="none";return}let e=3600*1e3,r=t.now(),n=Date.now(),i=t.timeOrigin?Math.abs(t.timeOrigin+r-n):e,s=i<e,a=t.timing&&t.timing.navigationStart,c=typeof a=="number"?Math.abs(a+r-n):e,d=c<e;return s||d?i<=c?(Et="timeOrigin",t.timeOrigin):(Et="navigationStart",a):(Et="dateNow",n)})();o();var Mc=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Xn(t=W(),e=W().substring(16),r){let n="";return r!==void 0&&(n=r?"-1":"-0"),`${t}-${e}${n}`}o();var G=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;o();o();var Or="production";o();o();function Uc(){return _t("globalEventProcessors",()=>[])}function Nr(t,e,r,n=0){return new wt((i,s)=>{let a=t[n];if(e===null||typeof a!="function")i(e);else{let l=a({...e},r);G&&a.id&&l===null&&P.log(`Event processor "${a.id}" dropped event`),Re(l)?l.then(c=>Nr(t,c,r,n+1).then(i)).then(null,s):Nr(t,l,r,n+1).then(i).then(null,s)}})}o();function Gc(t){let e=Se(),r={sid:W(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>ev(r)};return t&&Ze(r,t),r}function Ze(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||Se(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:W()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{let r=t.timestamp-t.started;t.duration=r>=0?r:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function Fc(t,e){let r={};e?r={status:e}:t.status==="ok"&&(r={status:"exited"}),Ze(t,r)}function ev(t){return H({sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}o();o();o();o();var qc=0,Jn=1;function et(t){let{spanId:e,traceId:r}=t.spanContext(),{data:n,op:i,parent_span_id:s,status:a,tags:l,origin:c}=te(t);return H({data:n,op:i,parent_span_id:s,span_id:e,status:a,tags:l,trace_id:r,origin:c})}function Rr(t){let{traceId:e,spanId:r}=t.spanContext(),n=Qn(t);return Xn(e,r,n)}function Pr(t){return typeof t=="number"?Bc(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?Bc(t.getTime()):Se()}function Bc(t){return t>9999999999?t/1e3:t}function te(t){return tv(t)?t.getSpanJSON():typeof t.toJSON=="function"?t.toJSON():{}}function tv(t){return typeof t.getSpanJSON=="function"}function Qn(t){let{traceFlags:e}=t.spanContext();return!!(e&Jn)}function Dr(){return ve().getClient()}function jc(){return ve().getScope()}o();function Pe(t){return t.transaction}function iv(t,e,r){let n=e.getOptions(),{publicKey:i}=e.getDsn()||{},{segment:s}=r&&r.getUser()||{},a=H({environment:n.environment||Or,release:n.release,user_segment:s,public_key:i,trace_id:t});return e.emit&&e.emit("createDsc",a),a}function Tt(t){let e=Dr();if(!e)return{};let r=iv(te(t).trace_id||"",e,jc()),n=Pe(t);if(!n)return r;let i=n&&n._frozenDynamicSamplingContext;if(i)return i;let{sampleRate:s,source:a}=n.metadata;s!=null&&(r.sample_rate=`${s}`);let l=te(n);return a&&a!=="url"&&(r.transaction=l.description),r.sampled=String(Qn(n)),e.emit&&e.emit("createDsc",r),r}function Vc(t,e){let{fingerprint:r,span:n,breadcrumbs:i,sdkProcessingMetadata:s}=e;ov(t,e),n&&cv(t,n),uv(t,r),sv(t,i),av(t,s)}function ov(t,e){let{extra:r,tags:n,user:i,contexts:s,level:a,transactionName:l}=e,c=H(r);c&&Object.keys(c).length&&(t.extra={...c,...t.extra});let d=H(n);d&&Object.keys(d).length&&(t.tags={...d,...t.tags});let u=H(i);u&&Object.keys(u).length&&(t.user={...u,...t.user});let f=H(s);f&&Object.keys(f).length&&(t.contexts={...f,...t.contexts}),a&&(t.level=a),l&&(t.transaction=l)}function sv(t,e){let r=[...t.breadcrumbs||[],...e];t.breadcrumbs=r.length?r:void 0}function av(t,e){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e}}function cv(t,e){t.contexts={trace:et(e),...t.contexts};let r=Pe(e);if(r){t.sdkProcessingMetadata={dynamicSamplingContext:Tt(e),...t.sdkProcessingMetadata};let n=te(r).description;n&&(t.tags={transaction:n,...t.tags})}}function uv(t,e){t.fingerprint=t.fingerprint?Wn(t.fingerprint):[],e&&(t.fingerprint=t.fingerprint.concat(e)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}var lv=100;var xt=class t{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=Hc()}static clone(e){return e?e.clone():new t}clone(){let e=new t;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._span=this._span,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e}setClient(e){this._client=e}getClient(){return this._client}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&Ze(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,r){return this._tags={...this._tags,[e]:r},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,r){return this._extra={...this._extra,[e]:r},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,r){return r===null?delete this._contexts[e]:this._contexts[e]=r,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){let e=this._span;return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;let r=typeof e=="function"?e(this):e;if(r instanceof t){let n=r.getScopeData();this._tags={...this._tags,...n.tags},this._extra={...this._extra,...n.extra},this._contexts={...this._contexts,...n.contexts},n.user&&Object.keys(n.user).length&&(this._user=n.user),n.level&&(this._level=n.level),n.fingerprint.length&&(this._fingerprint=n.fingerprint),r.getRequestSession()&&(this._requestSession=r.getRequestSession()),n.propagationContext&&(this._propagationContext=n.propagationContext)}else if(yt(r)){let n=e;this._tags={...this._tags,...n.tags},this._extra={...this._extra,...n.extra},this._contexts={...this._contexts,...n.contexts},n.user&&(this._user=n.user),n.level&&(this._level=n.level),n.fingerprint&&(this._fingerprint=n.fingerprint),n.requestSession&&(this._requestSession=n.requestSession),n.propagationContext&&(this._propagationContext=n.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=Hc(),this}addBreadcrumb(e,r){let n=typeof r=="number"?r:lv;if(n<=0)return this;let i={timestamp:Qe(),...e},s=this._breadcrumbs;return s.push(i),this._breadcrumbs=s.length>n?s.slice(-n):s,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){let{_breadcrumbs:e,_attachments:r,_contexts:n,_tags:i,_extra:s,_user:a,_level:l,_fingerprint:c,_eventProcessors:d,_propagationContext:u,_sdkProcessingMetadata:f,_transactionName:m,_span:g}=this;return{breadcrumbs:e,attachments:r,contexts:n,tags:i,extra:s,user:a,level:l,fingerprint:c||[],eventProcessors:d,propagationContext:u,sdkProcessingMetadata:f,transactionName:m,span:g}}applyToEvent(e,r={},n=[]){Vc(e,this.getScopeData());let i=[...n,...Uc(),...this._eventProcessors];return Nr(i,e,r)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,r){let n=r&&r.event_id?r.event_id:W();if(!this._client)return P.warn("No client configured on scope - will not capture exception!"),n;let i=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:i,...r,event_id:n},this),n}captureMessage(e,r,n){let i=n&&n.event_id?n.event_id:W();if(!this._client)return P.warn("No client configured on scope - will not capture message!"),i;let s=new Error(e);return this._client.captureMessage(e,r,{originalException:e,syntheticException:s,...n,event_id:i},this),i}captureEvent(e,r){let n=r&&r.event_id?r.event_id:W();return this._client?(this._client.captureEvent(e,{...r,event_id:n},this),n):(P.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}};function Hc(){return{traceId:W(),spanId:W().substring(16)}}o();var Wc="7.114.0";var zc=parseFloat(Wc),dv=100,At=class{constructor(e,r,n,i=zc){this._version=i;let s;r?s=r:(s=new xt,s.setClient(e));let a;n?a=n:(a=new xt,a.setClient(e)),this._stack=[{scope:s}],e&&this.bindClient(e),this._isolationScope=a}isOlderThan(e){return this._version<e}bindClient(e){let r=this.getStackTop();r.client=e,r.scope.setClient(e),e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){let e=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(e){let r=this.pushScope(),n;try{n=e(r)}catch(i){throw this.popScope(),i}return Re(n)?n.then(i=>(this.popScope(),i),i=>{throw this.popScope(),i}):(this.popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,r){let n=this._lastEventId=r&&r.event_id?r.event_id:W(),i=new Error("Sentry syntheticException");return this.getScope().captureException(e,{originalException:e,syntheticException:i,...r,event_id:n}),n}captureMessage(e,r,n){let i=this._lastEventId=n&&n.event_id?n.event_id:W(),s=new Error(e);return this.getScope().captureMessage(e,r,{originalException:e,syntheticException:s,...n,event_id:i}),i}captureEvent(e,r){let n=r&&r.event_id?r.event_id:W();return e.type||(this._lastEventId=n),this.getScope().captureEvent(e,{...r,event_id:n}),n}lastEventId(){return this._lastEventId}addBreadcrumb(e,r){let{scope:n,client:i}=this.getStackTop();if(!i)return;let{beforeBreadcrumb:s=null,maxBreadcrumbs:a=dv}=i.getOptions&&i.getOptions()||{};if(a<=0)return;let c={timestamp:Qe(),...e},d=s?wr(()=>s(c,r)):c;d!==null&&(i.emit&&i.emit("beforeAddBreadcrumb",d,r),n.addBreadcrumb(d,a))}setUser(e){this.getScope().setUser(e),this.getIsolationScope().setUser(e)}setTags(e){this.getScope().setTags(e),this.getIsolationScope().setTags(e)}setExtras(e){this.getScope().setExtras(e),this.getIsolationScope().setExtras(e)}setTag(e,r){this.getScope().setTag(e,r),this.getIsolationScope().setTag(e,r)}setExtra(e,r){this.getScope().setExtra(e,r),this.getIsolationScope().setExtra(e,r)}setContext(e,r){this.getScope().setContext(e,r),this.getIsolationScope().setContext(e,r)}configureScope(e){let{scope:r,client:n}=this.getStackTop();n&&e(r)}run(e){let r=Zn(this);try{e(this)}finally{Zn(r)}}getIntegration(e){let r=this.getClient();if(!r)return null;try{return r.getIntegration(e)}catch{return G&&P.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,r){let n=this._callExtensionMethod("startTransaction",e,r);return G&&!n&&(this.getClient()?P.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):P.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),n}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){let r=this.getStackTop().scope,n=r.getSession();n&&Fc(n),this._sendSessionUpdate(),r.setSession()}startSession(e){let{scope:r,client:n}=this.getStackTop(),{release:i,environment:s=Or}=n&&n.getOptions()||{},{userAgent:a}=B.navigator||{},l=Gc({release:i,environment:s,user:r.getUser(),...a&&{userAgent:a},...e}),c=r.getSession&&r.getSession();return c&&c.status==="ok"&&Ze(c,{status:"exited"}),this.endSession(),r.setSession(l),l}shouldSendDefaultPii(){let e=this.getClient(),r=e&&e.getOptions();return!!(r&&r.sendDefaultPii)}_sendSessionUpdate(){let{scope:e,client:r}=this.getStackTop(),n=e.getSession();n&&r&&r.captureSession&&r.captureSession(n)}_callExtensionMethod(e,...r){let i=me().__SENTRY__;if(i&&i.extensions&&typeof i.extensions[e]=="function")return i.extensions[e].apply(this,r);G&&P.warn(`Extension method ${e} couldn't be found, doing nothing.`)}};function me(){return B.__SENTRY__=B.__SENTRY__||{extensions:{},hub:void 0},B}function Zn(t){let e=me(),r=kr(e);return ei(e,t),r}function ve(){let t=me();if(t.__SENTRY__&&t.__SENTRY__.acs){let e=t.__SENTRY__.acs.getCurrentHub();if(e)return e}return pv(t)}function pv(t=me()){return(!fv(t)||kr(t).isOlderThan(zc))&&ei(t,new At),kr(t)}function fv(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function kr(t){return _t("hub",()=>new At,t)}function ei(t,e){if(!t)return!1;let r=t.__SENTRY__=t.__SENTRY__||{};return r.hub=e,!0}o();o();function ti(t){return(t||ve()).getScope().getTransaction()}var $c=!1;function Yc(){$c||($c=!0,zn(ri),$n(ri))}function ri(){let t=ti();if(t){let e="internal_error";G&&P.log(`[Tracing] Transaction: ${e} -> Global error occured`),t.setStatus(e)}}ri.tag="sentry_tracingErrorCallback";o();o();o();var ni;(function(t){let e="ok";t.Ok=e;let r="deadline_exceeded";t.DeadlineExceeded=r;let n="unauthenticated";t.Unauthenticated=n;let i="permission_denied";t.PermissionDenied=i;let s="not_found";t.NotFound=s;let a="resource_exhausted";t.ResourceExhausted=a;let l="invalid_argument";t.InvalidArgument=l;let c="unimplemented";t.Unimplemented=c;let d="unavailable";t.Unavailable=d;let u="internal_error";t.InternalError=u;let f="unknown_error";t.UnknownError=f;let m="cancelled";t.Cancelled=m;let g="already_exists";t.AlreadyExists=g;let h="failed_precondition";t.FailedPrecondition=h;let S="aborted";t.Aborted=S;let y="out_of_range";t.OutOfRange=y;let v="data_loss";t.DataLoss=v})(ni||(ni={}));function mv(t){if(t<400&&t>=100)return"ok";if(t>=400&&t<500)switch(t){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(t>=500&&t<600)switch(t){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}function Kc(t,e){t.setTag("http.status_code",String(e)),t.setData("http.response.status_code",e);let r=mv(e);r!=="unknown_error"&&t.setStatus(r)}o();o();function ii(t){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;let e=Dr(),r=t||e&&e.getOptions();return!!r&&(r.enableTracing||"tracesSampleRate"in r||"tracesSampler"in r)}var gv="_sentryScope",hv="_sentryIsolationScope";function Xc(t){return{scope:t[gv],isolationScope:t[hv]}}var Jc;function bv(t){return Jc?Jc.get(t):void 0}function Lr(t){let e=bv(t);if(!e)return;let r={};for(let[,[n,i]]of e)r[n]||(r[n]=[]),r[n].push(H(i));return r}o();var Mr="sentry.source",ye="sentry.sample_rate",Ct="sentry.op",It="sentry.origin",Qc="profile_id";var Ur=class{constructor(e=1e3){this._maxlen=e,this.spans=[]}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}},Ot=class t{constructor(e={}){this._traceId=e.traceId||W(),this._spanId=e.spanId||W().substring(16),this._startTime=e.startTimestamp||Se(),this.tags=e.tags?{...e.tags}:{},this.data=e.data?{...e.data}:{},this.instrumenter=e.instrumenter||"sentry",this._attributes={},this.setAttributes({[It]:e.origin||"manual",[Ct]:e.op,...e.attributes}),this._name=e.name||e.description,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.status&&(this._status=e.status),e.endTimestamp&&(this._endTime=e.endTimestamp),e.exclusiveTime!==void 0&&(this._exclusiveTime=e.exclusiveTime),this._measurements=e.measurements?{...e.measurements}:{}}get name(){return this._name||""}set name(e){this.updateName(e)}get description(){return this._name}set description(e){this._name=e}get traceId(){return this._traceId}set traceId(e){this._traceId=e}get spanId(){return this._spanId}set spanId(e){this._spanId=e}set parentSpanId(e){this._parentSpanId=e}get parentSpanId(){return this._parentSpanId}get sampled(){return this._sampled}set sampled(e){this._sampled=e}get attributes(){return this._attributes}set attributes(e){this._attributes=e}get startTimestamp(){return this._startTime}set startTimestamp(e){this._startTime=e}get endTimestamp(){return this._endTime}set endTimestamp(e){this._endTime=e}get status(){return this._status}set status(e){this._status=e}get op(){return this._attributes[Ct]}set op(e){this.setAttribute(Ct,e)}get origin(){return this._attributes[It]}set origin(e){this.setAttribute(It,e)}spanContext(){let{_spanId:e,_traceId:r,_sampled:n}=this;return{spanId:e,traceId:r,traceFlags:n?Jn:qc}}startChild(e){let r=new t({...e,parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId});r.spanRecorder=this.spanRecorder,r.spanRecorder&&r.spanRecorder.add(r);let n=Pe(this);if(r.transaction=n,G&&n){let i=e&&e.op||"< unknown op >",s=te(r).description||"< unknown name >",a=n.spanContext().spanId,l=`[Tracing] Starting '${i}' span on transaction '${s}' (${a}).`;P.log(l),this._logMessage=l}return r}setTag(e,r){return this.tags={...this.tags,[e]:r},this}setData(e,r){return this.data={...this.data,[e]:r},this}setAttribute(e,r){r===void 0?delete this._attributes[e]:this._attributes[e]=r}setAttributes(e){Object.keys(e).forEach(r=>this.setAttribute(r,e[r]))}setStatus(e){return this._status=e,this}setHttpStatus(e){return Kc(this,e),this}setName(e){this.updateName(e)}updateName(e){return this._name=e,this}isSuccess(){return this._status==="ok"}finish(e){return this.end(e)}end(e){if(this._endTime)return;let r=Pe(this);if(G&&r&&r.spanContext().spanId!==this._spanId){let n=this._logMessage;n&&P.log(n.replace("Starting","Finishing"))}this._endTime=Pr(e)}toTraceparent(){return Rr(this)}toContext(){return H({data:this._getData(),description:this._name,endTimestamp:this._endTime,op:this.op,parentSpanId:this._parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this._startTime,status:this._status,tags:this.tags,traceId:this._traceId})}updateWithContext(e){return this.data=e.data||{},this._name=e.name||e.description,this._endTime=e.endTimestamp,this.op=e.op,this._parentSpanId=e.parentSpanId,this._sampled=e.sampled,this._spanId=e.spanId||this._spanId,this._startTime=e.startTimestamp||this._startTime,this._status=e.status,this.tags=e.tags||{},this._traceId=e.traceId||this._traceId,this}getTraceContext(){return et(this)}getSpanJSON(){return H({data:this._getData(),description:this._name,op:this._attributes[Ct],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:this._status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[It],_metrics_summary:Lr(this),profile_id:this._attributes[Qc],exclusive_time:this._exclusiveTime,measurements:Object.keys(this._measurements).length>0?this._measurements:void 0})}isRecording(){return!this._endTime&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){let{data:e,_attributes:r}=this,n=Object.keys(e).length>0,i=Object.keys(r).length>0;if(!(!n&&!i))return n&&i?{...e,...r}:n?e:r}};o();var Nt=class extends Ot{constructor(e,r){super(e),this._contexts={},this._hub=r||ve(),this._name=e.name||"",this._metadata={...e.metadata},this._trimEnd=e.trimEnd,this.transaction=this;let n=this._metadata.dynamicSamplingContext;n&&(this._frozenDynamicSamplingContext={...n})}get name(){return this._name}set name(e){this.setName(e)}get metadata(){return{source:"custom",spanMetadata:{},...this._metadata,...this._attributes[Mr]&&{source:this._attributes[Mr]},...this._attributes[ye]&&{sampleRate:this._attributes[ye]}}}set metadata(e){this._metadata=e}setName(e,r="custom"){this._name=e,this.setAttribute(Mr,r)}updateName(e){return this._name=e,this}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new Ur(e)),this.spanRecorder.add(this)}setContext(e,r){r===null?delete this._contexts[e]:this._contexts[e]=r}setMeasurement(e,r,n=""){this._measurements[e]={value:r,unit:n}}setMetadata(e){this._metadata={...this._metadata,...e}}end(e){let r=Pr(e),n=this._finishTransaction(r);if(n)return this._hub.captureEvent(n)}toContext(){let e=super.toContext();return H({...e,name:this._name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this._name=e.name||"",this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){return Tt(this)}setHub(e){this._hub=e}getProfileId(){if(this._contexts!==void 0&&this._contexts.profile!==void 0)return this._contexts.profile.profile_id}_finishTransaction(e){if(this._endTime!==void 0)return;this._name||(G&&P.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>"),super.end(e);let r=this._hub.getClient();if(r&&r.emit&&r.emit("finishTransaction",this),this._sampled!==!0){G&&P.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),r&&r.recordDroppedEvent("sample_rate","transaction");return}let n=this.spanRecorder?this.spanRecorder.spans.filter(u=>u!==this&&te(u).timestamp):[];if(this._trimEnd&&n.length>0){let u=n.map(f=>te(f).timestamp).filter(Boolean);this._endTime=u.reduce((f,m)=>f>m?f:m)}let{scope:i,isolationScope:s}=Xc(this),{metadata:a}=this,{source:l}=a,c={contexts:{...this._contexts,trace:et(this)},spans:n,start_timestamp:this._startTime,tags:this.tags,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{...a,capturedSpanScope:i,capturedSpanIsolationScope:s,...H({dynamicSamplingContext:Tt(this)})},_metrics_summary:Lr(this),...l&&{transaction_info:{source:l}}};return Object.keys(this._measurements).length>0&&(G&&P.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),c.measurements=this._measurements),G&&P.log(`[Tracing] Finishing ${this.op} transaction: ${this._name}.`),c}};o();function Zc(t,e,r){if(!ii(e))return t.sampled=!1,t;if(t.sampled!==void 0)return t.setAttribute(ye,Number(t.sampled)),t;let n;return typeof e.tracesSampler=="function"?(n=e.tracesSampler(r),t.setAttribute(ye,Number(n))):r.parentSampled!==void 0?n=r.parentSampled:typeof e.tracesSampleRate<"u"?(n=e.tracesSampleRate,t.setAttribute(ye,Number(n))):(n=1,t.setAttribute(ye,n)),Sv(n)?n?(t.sampled=Math.random()<n,t.sampled?(G&&P.log(`[Tracing] starting ${t.op} transaction - ${te(t).description}`),t):(G&&P.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(n)})`),t)):(G&&P.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),t.sampled=!1,t):(G&&P.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)}function Sv(t){return Bn(t)||!(typeof t=="number"||typeof t=="boolean")?(G&&P.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`),!1):t<0||t>1?(G&&P.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${t}.`),!1):!0}function vv(){let e=this.getScope().getSpan();return e?{"sentry-trace":Rr(e)}:{}}function yv(t,e){let r=this.getClient(),n=r&&r.getOptions()||{},i=n.instrumenter||"sentry",s=t.instrumenter||"sentry";i!==s&&(G&&P.error(`A transaction was started with instrumenter=\`${s}\`, but the SDK is configured with the \`${i}\` instrumenter.
The transaction will not be sampled. Please use the ${i} instrumentation to start transactions.`),t.sampled=!1);let a=new Nt(t,this);return a=Zc(a,n,{name:t.name,parentSampled:t.parentSampled,transactionContext:t,attributes:{...t.data,...t.attributes},...e}),a.isRecording()&&a.initSpanRecorder(n._experiments&&n._experiments.maxSpans),r&&r.emit&&r.emit("startTransaction",a),a}function oi(){let t=me();t.__SENTRY__&&(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=yv),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=vv),Yc())}o();function wv(){let t=me();if(!t.__SENTRY__)return;let e={mongodb(){let n=pe(module,"./node/integrations/mongo");return new n.Mongo},mongoose(){let n=pe(module,"./node/integrations/mongo");return new n.Mongo},mysql(){let n=pe(module,"./node/integrations/mysql");return new n.Mysql},pg(){let n=pe(module,"./node/integrations/postgres");return new n.Postgres}},r=Object.keys(e).filter(n=>!!Kn(n)).map(n=>{try{return e[n]()}catch{return}}).filter(n=>n);r.length>0&&(t.__SENTRY__.integrations=[...t.__SENTRY__.integrations||[],...r])}function si(){oi(),Yn()&&wv()}(typeof __SENTRY_TRACING__>"u"||__SENTRY_TRACING__)&&si();var VD=X("sentry","ext-inline");o();o();var w_=Z(dl());o();o();o();o();o();o();async function fl(t,e){let r=t.getReader(),n;for(;!(n=await r.read()).done;)e(n.value)}function ml(t){let e,r,n,i=!1;return function(a){e===void 0?(e=a,r=0,n=-1):e=s_(e,a);let l=e.length,c=0;for(;r<l;){i&&(e[r]===10&&(c=++r),i=!1);let d=-1;for(;r<l&&d===-1;++r)switch(e[r]){case 58:n===-1&&(n=r-c);break;case 13:i=!0;case 10:d=r;break}if(d===-1)break;t(e.subarray(c,d),n),c=r,n=-1}c===l?e=void 0:c!==0&&(e=e.subarray(c),r-=c)}}function gl(t,e,r){let n=pl(),i=new TextDecoder;return function(a,l){if(a.length===0)t?.(n),n=pl();else if(l>0){let c=i.decode(a.subarray(0,l)),d=l+(a[l+1]===32?2:1),u=i.decode(a.subarray(d));switch(c){case"data":n.data=n.data?n.data+`
`+u:u;break;case"event":n.event=u;break;case"id":e?.(n.id=u);break;case"retry":let f=parseInt(u,10);isNaN(f)||r?.(n.retry=f);break}}}}function s_(t,e){let r=new Uint8Array(t.length+e.length);return r.set(t),r.set(e,t.length),r}function pl(){return{data:"",event:"",id:"",retry:void 0}}var a_=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r},_e="text/event-stream",c_=1e3,hl="last-event-id";function di(t,e){var{signal:r,headers:n,onopen:i,onmessage:s,onclose:a,onerror:l,openWhenHidden:c,fetch:d}=e,u=a_(e,["signal","headers","onopen","onmessage","onclose","onerror","openWhenHidden","fetch"]);return new Promise((f,m)=>{let g=Object.assign({},n);g.accept||(g.accept=_e);let h;function S(){h.abort(),document.hidden||x()}typeof document<"u"&&!c&&document.addEventListener("visibilitychange",S);let y=c_,v=0;function _(){typeof document<"u"&&!c&&document.removeEventListener("visibilitychange",S),clearTimeout(v),h.abort()}r?.addEventListener("abort",()=>{_(),f()});let T=d??fetch,w=i??u_;async function x(){var E;h=new AbortController;try{let O=await T(t,Object.assign(Object.assign({},u),{headers:g,signal:h.signal}));await w(O),await fl(O.body,ml(gl(s,C=>{C?g[hl]=C:delete g[hl]},C=>{y=C}))),a?.(),_(),f()}catch(O){if(!h.signal.aborted)try{let C=(E=l?.(O))!==null&&E!==void 0?E:y;clearTimeout(v),v=setTimeout(x,C)}catch(C){_(),m(C)}}}x()})}function u_(t){let e=t.headers.get("content-type");if(!e?.startsWith(_e))throw new Error(`Expected content-type to be ${_e}, Actual: ${e}`)}o();var l_={"Content-Type":"application/json"};function mi(t){let{fetch:e=globalThis.fetch,querySerializer:r,bodySerializer:n,...i}=t??{},s=i.baseUrl??"";s.endsWith("/")&&(s=s.slice(0,-1));async function a(l,c){let{fetch:d=e,headers:u,body:f,params:m={},parseAs:g="json",querySerializer:h=r??d_,bodySerializer:S=n??p_,...y}=c||{},v=f_(l,{baseUrl:s,params:m,querySerializer:h}),_=m_(l_,t?.headers,u,m.header),T={redirect:"follow",...i,...y,headers:_};f&&(T.body=S(f)),T.body instanceof FormData&&_.delete("Content-Type");let w=await d(v,T);if(w.status===204||w.headers.get("Content-Length")==="0")return w.ok?{data:{},response:w}:{error:{},response:w};if(w.ok){if(g==="stream")return{data:w.clone().body,response:w};let E=w.clone();return{data:typeof E[g]=="function"?await E[g]():await E.text(),response:w}}let x={};try{x=await w.clone().json()}catch{x=await w.clone().text()}return{error:x,response:w}}return{async GET(l,c){return a(l,{...c,method:"GET"})},async PUT(l,c){return a(l,{...c,method:"PUT"})},async POST(l,c){return a(l,{...c,method:"POST"})},async DELETE(l,c){return a(l,{...c,method:"DELETE"})},async OPTIONS(l,c){return a(l,{...c,method:"OPTIONS"})},async HEAD(l,c){return a(l,{...c,method:"HEAD"})},async PATCH(l,c){return a(l,{...c,method:"PATCH"})},async TRACE(l,c){return a(l,{...c,method:"TRACE"})}}}function d_(t){let e=[];if(t&&typeof t=="object")for(let[r,n]of Object.entries(t)){let i=fi([r],n);i&&e.push(i)}return e.join("&")}function fi(t,e){if(e!=null){if(typeof e=="string")return`${pi(t)}=${encodeURIComponent(e)}`;if(typeof e=="number"||typeof e=="boolean")return`${pi(t)}=${String(e)}`;if(Array.isArray(e)){if(!e.length)return;let r=[];for(let n of e){let i=fi(t,n);i!==void 0&&r.push(i)}return r.join("&")}if(typeof e=="object"){if(!Object.keys(e).length)return;let r=[];for(let[n,i]of Object.entries(e))if(i!=null){let s=fi([...t,n],i);s!==void 0&&r.push(s)}return r.join("&")}return encodeURIComponent(`${pi(t)}=${String(e)}`)}}function pi(t){let e=t[0];for(let r of t.slice(1))e+=`[${r}]`;return e}function p_(t){return JSON.stringify(t)}function f_(t,e){let r=`${e.baseUrl}${t}`;if(e.params.path)for(let[i,s]of Object.entries(e.params.path))r=r.replace(`{${i}}`,encodeURIComponent(String(s)));let n=e.querySerializer(e.params.query??{});return n&&(r+=`?${n}`),r}function m_(...t){let e=new Headers;for(let r of t){if(!r||typeof r!="object")continue;let n=r instanceof Headers?r.entries():Object.entries(r);for(let[i,s]of n)s===null?e.delete(i):s!==void 0&&e.set(i,s)}return e}o();function gi(t,e,r,n){return new Promise((i,s)=>{let a=0,l=(c,d)=>{if(a<t.length){let u=t[a];a++,u(c,d,l)}else n(c,d).then(i,s)};l(e,r??{})})}o();function Dt(t){if(t instanceof Headers){let e={};return t.forEach((r,n)=>{e[n]=r}),e}else if(Array.isArray(t)){let e={};return t.forEach(([r,n])=>{e[r]=n}),e}else return t}o();var g_=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(u){try{d(n.next(u))}catch(f){a(f)}}function c(u){try{d(n.throw(u))}catch(f){a(f)}}function d(u){u.done?s(u.value):i(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})},Br=class{constructor(){this.promise=new Promise((e,r)=>{let n=this;n.resolve=e,n.reject=r})}};function hi(t){let e=[new Br],r=()=>e[e.length-1],n={reject(s){r().reject(s)},resolve(s){let a=r();e.push(new Br),a.resolve(s)},close(){r().resolve(null)}};return{iterator:{[Symbol.asyncIterator](){let s=0;return{next:()=>g_(this,void 0,void 0,function*(){s===0&&t?.().catch(c=>{e[e.length-1].reject(c)});let l=yield e[s].promise;return s++,l===null?{done:!0,value:void 0}:{done:!1,value:l}})}}},ctrl:n}}var h_=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(u){try{d(n.next(u))}catch(f){a(f)}}function c(u){try{d(n.throw(u))}catch(f){a(f)}}function d(u){u.done?s(u.value):i(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})},b_=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function S_(t){if("error"in t)throw new Ie(t.error,t.response);return t}var bi="__response_$_";function bl(t){var{middleware:e,createClient:r=mi,fetchEventSource:n=di,fetch:i=globalThis.fetch}=t,s=b_(t,["middleware","createClient","fetchEventSource","fetch"]);let a=(h,S)=>i(h,S).then(y=>{if(S?.headers&&Dt(S.headers).accept===_e){let v=new Headers(y.headers);v.set("Content-Length","0");let _=new Response(y.body,{headers:v,status:y.status,statusText:y.statusText});return _[bi]=y,_}return y}),l=e?(h,S)=>gi(e,h,S,a):a,c=r(Object.assign({fetch:l},s)),d={},u=h=>{var S,y;let v=(y=(S=h?.method)===null||S===void 0?void 0:S.toUpperCase())!==null&&y!==void 0?y:"GET";return c[v]},f=(h,S)=>u(S)(h,S).then(({response:y,error:v})=>{if(bi in y)return y[bi];if(v)throw new Ie(v,y);return y}),m=(h,S)=>n(h,Object.assign(Object.assign({},S),{fetch:f}));return Object.keys(c).forEach(h=>{d[h]=(..._)=>c[h](..._).then(S_),d[h.toLowerCase()]=d[h];let S=h.charAt(0).toUpperCase()+h.toLowerCase().slice(1),y=(_,T)=>m(_,Object.assign({method:h.toUpperCase(),openWhenHidden:!0,onopen(w){return h_(this,void 0,void 0,function*(){if(!w.ok&&w.status>=300){let x=yield w.clone().text().catch(()=>w.statusText);throw new dr(x,w)}})}},T));d[`stream${S}`]=y;let v=(_,T)=>{let w,{signal:x}=T,{ctrl:E,iterator:O}=hi(()=>y(_,Object.assign(Object.assign({},T),{onclose(){w&&x?.removeEventListener("abort",w),w=void 0,E.close()},onmessage:C=>{E.resolve(C)},onerror:C=>{throw w&&x?.removeEventListener("abort",w),w=void 0,E.reject(C),C}})));return x&&(w=()=>E.reject(x.reason),x.addEventListener("abort",w)),O};d[`streamIter${S}`]=v}),{api:d,fetch:l,fetchEventSource:m}}var ie=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function Sl(t){var{clientId:e,clientVersion:r}=t,n=ie(t,["clientId","clientVersion"]);let{api:i,fetch:s,fetchEventSource:a}=bl(n);return{clientVersion:r,clientId:e,api:i,fetch:s,fetchEventSource:a,request:{updateSuggestionsLanguage:c=>{var{languageCode:d}=c,u=ie(c,["languageCode"]);return i.put("/api/styleguide/organization/{organizationId}/team/{teamId}/language",{params:{path:u},body:{languageCode:d}})},getPortalSettings:c=>i.get("/api/portal/organizations/{organizationId}/settings",{params:{path:c}}),sendIdentify:({traits:c})=>i.post("/api/analytics/identify",{body:{traits:c}}),trackEvent:(c,d)=>i.post("/api/analytics/track",{params:{},body:{eventName:c,properties:d}}),trackAnonymousEvent:c=>i.post("/api/analytics/anonymous/track",{params:{},body:{eventName:c,properties:{}}}),trackOrganizationEvent:(c,d,u)=>i.post("/api/analytics/organization/{organizationId}/track",{params:{path:{organizationId:c}},body:{eventName:d,properties:u}}),login:c=>i.put("/api/auth/login/password",{params:{},body:c}),sendUsage:c=>i.post("/v3/user/usage/event",{body:{eventType:c,extensionType:e,extensionVersion:r}}),getExtensionConfig:c=>i.get("/api/organization/v2/{organizationId}/extension/config",{params:{path:c}}),getWorkspaceById:c=>i.get("/api/projects/{workspaceId}",{params:{path:c}}),fetchWorkspaces:c=>i.get("/v3/organizations/{organizationId}/workspaces",{params:{path:c}}),fetchWorkspacesNew:c=>i.get("/api/organization/v2/{organizationId}/team/my",{params:{path:c}}),fetchStyleGuide:c=>i.get("/api/styleguide/organization/{organizationId}/project/{projectId}/persona/{personaId}",{params:{path:c}}),addTermBank:(c,{body:d})=>i.post("/api/terminology/organization/{organizationId}/term-bank/{termBankId}/term",{params:{path:c},body:d}),contextCheckWord:({organizationId:c,preContextText:d,postContextText:u,mode:f,text:m})=>i.post("/api/autocorrect/v2/{organizationId}/correction",{params:{path:{organizationId:c}},body:{preContextText:d,postContextText:u,mode:f,text:m}}),getMyOrganization:(c,d={})=>i.get("/api/organization/v2/my",d),getProfile:(c,d={})=>i.get("/api/user/v2/profile",d),getPermissions:(c,d={})=>i.get("/api/auth/permission",d),getSubscription:c=>i.get("/api/billing/organizations/{organizationId}/subscription",{params:{path:c}}),resendConfirmation:c=>i.get("/api/user/v2/confirmation/resend",{}),snippetShortcut:c=>i.get("/api/terminology/organization/{organizationId}/team/{teamId}/snippet/shortcut/{shortcut}",{params:{path:c}}),getSnippetShortcut:c=>{var{shortcuts:d}=c,u=ie(c,["shortcuts"]);return i.put("/api/terminology/organization/{organizationId}/team/{teamId}/snippet/shortcut/get",{params:{path:u},body:{shortcuts:d}})},setDocumentContent:c=>{var{organizationId:d,workspaceId:u,personaId:f,documentId:m}=c,g=ie(c,["organizationId","workspaceId","personaId","documentId"]);return i.post("/api/content/organization/{organizationId}/workspace/{workspaceId}/persona/{personaId}/document/{documentId}/content",{params:{path:{organizationId:d,workspaceId:u,personaId:f,documentId:m}},body:g})},reportFragment:({organizationId:c,workspaceId:d,personaId:u,documentId:f})=>i.post("/api/content/organization/{organizationId}/workspace/{workspaceId}/persona/{personaId}/document/{documentId}/fragment",{params:{path:{organizationId:c,workspaceId:d,personaId:u,documentId:f}}}),getDomainStatus:c=>i.get("/api/organization/v2/extension/domain/status",{params:{query:c}}),setDocumentDelta:c=>{var{delta:d}=c,u=ie(c,["delta"]);return i.post("/api/content/organization/{organizationId}/workspace/{workspaceId}/persona/{personaId}/document/{documentId}/delta/fragmented",{params:{path:u},body:{delta:d}})},reportSnippetApply:c=>i.put("/api/terminology/organization/{organizationId}/team/{teamId}/snippet/{snippetId}/apply",{params:{path:c}}),invalidateAuthToken:(c,d={})=>i.put("/api/auth/token/user/invalidate",d),getReWritePrompts:c=>i.get("/api/template/organization/{organizationId}/team/{teamId}/rewrite/prompt",{params:{path:c}}),createAuthBuffer:c=>i.post("/api/auth/buffer",{}),getAuthBuffer:c=>i.put("/api/auth/buffer/get",{body:c}),postAuthAppInit:c=>i.post("/api/auth/app/init",{body:c}),createAppCodeExchange:c=>i.put("/api/auth/app/code/exchange",{body:c}),autowriteStream:(c,d)=>{var{organizationId:u,teamId:f}=c,m=ie(c,["organizationId","teamId"]);return i.streamPost("/api/generation/organization/{organizationId}/team/{teamId}/autowrite/stream",Object.assign(Object.assign({params:{path:{organizationId:u,teamId:f}}},d),{body:m}))},commandGenerateStream:(c,d)=>{var{organizationId:u,teamId:f}=c,m=ie(c,["organizationId","teamId"]);return i.streamPost("/api/generation/organization/{organizationId}/team/{teamId}/command/generate/stream",Object.assign(Object.assign({},d),{params:{path:{organizationId:u,teamId:f}},body:m}))},generateCommandContent:(c,d)=>{var{organizationId:u,teamId:f}=c,m=ie(c,["organizationId","teamId"]);return i.post("/api/generation/organization/{organizationId}/team/{teamId}/command/generate",Object.assign(Object.assign({},d),{params:{path:{organizationId:u,teamId:f}},body:m}))},getCommandsList:({organizationId:c,teamId:d})=>i.get("/api/generation/organization/{organizationId}/team/{teamId}/command",{params:{path:{organizationId:c,teamId:d}}}),getUserPrompts:({organizationId:c,teamId:d})=>i.get("/api/generation/organization/{organizationId}/team/{teamId}/prompt",{params:{path:{organizationId:c,teamId:d}}}),getKnowledgeFiles:c=>{var{organizationId:d,teamId:u}=c,f=ie(c,["organizationId","teamId"]);return i.get("/api/media/organization/{organizationId}/team/{teamId}/knowledge",{params:{path:{organizationId:d,teamId:u},query:f}})},getIssueEnrichment:c=>i.get("/api/content/organization/{organizationId}/team/{teamId}/document/{documentId}/issue/{issueId}/enrich",{params:{path:c}}),askKnowledgeGraph:c=>{var{organizationId:d,teamId:u}=c,f=ie(c,["organizationId","teamId"]);return i.post("/api/ask/organization/{organizationId}/team/{teamId}/knowledge",{params:{path:{organizationId:d,teamId:u}},body:f})},getRewriteSuggestions:c=>{var{organizationId:d,teamId:u}=c,f=ie(c,["organizationId","teamId"]);return i.post("/api/template/organization/{organizationId}/team/{teamId}/rewrite/v2",{params:{path:{organizationId:d,teamId:u}},body:f})}}}}var kt={};gp(kt,{applyMiddleware:()=>gi,createFetchEmulation:()=>v_,header2obj:()=>Dt,streamIterator:()=>hi});o();o();var vl=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(u){try{d(n.next(u))}catch(f){a(f)}}function c(u){try{d(n.throw(u))}catch(f){a(f)}}function d(u){u.done?s(u.value):i(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};function v_(t){return(r,n)=>vl(this,void 0,void 0,function*(){var i,s;let a=(s=Dt((i=n?.headers)!==null&&i!==void 0?i:{}).accept)!==null&&s!==void 0?s:"application/json",l=new TextEncoder,c=g=>a===_e?`id: ${new Date().toLocaleTimeString()}
data: ${g}

`:g,d=yield t(r,n,a),u=Array.isArray(d)?d[1]:d,f=Object.assign({headers:new Headers({"content-type":a}),status:200,statusText:"OK"},Array.isArray(d)?d[0]:void 0),m=new ReadableStream({start(g){return vl(this,void 0,void 0,function*(){try{yield u(h=>{if(typeof h=="string"){let S=l.encode(c(h));g.enqueue(S)}else if(h.type==="binary")g.enqueue(h.data);else{let S=c(JSON.stringify(h.data)),y=l.encode(S);g.enqueue(y)}}),g.close()}catch(h){g.error(h)}})}});return new Response(m,f)})}o();var z=new k("DEFAULT","CHROME_EXTENSION","EDGE_EXTENSION","GOOGLE_DOCS_PLUGIN","OUTLOOK_PLUGIN","POWER_POINT_PLUGIN","WORD_PLUGIN","FIGMA_PLUGIN","CONTENTFUL_PLUGIN","WINDOWS_APP","MACOS_APP","EMBED","PLAYGROUND"),$=new k("ChromePlugin","GoogleDocsPlugin","OutlookPlugin","PowerPointPlugin","WordPlugin","FigmaPlugin","Contentful","Edge","QordobaFE","Unknown","Embed","Playground","WindowsApp","MacApp"),wl=z.hash({CHROME_EXTENSION:$.enum.ChromePlugin,GOOGLE_DOCS_PLUGIN:$.enum.GoogleDocsPlugin,OUTLOOK_PLUGIN:$.enum.OutlookPlugin,POWER_POINT_PLUGIN:$.enum.PowerPointPlugin,WORD_PLUGIN:$.enum.WordPlugin,FIGMA_PLUGIN:$.enum.FigmaPlugin,CONTENTFUL_PLUGIN:$.enum.Contentful,EDGE_EXTENSION:$.enum.Edge,DEFAULT:$.enum.QordobaFE,WINDOWS_APP:$.enum.WindowsApp,MACOS_APP:$.enum.MacApp,EMBED:$.enum.Embed,PLAYGROUND:$.enum.Playground}),XL=$.hash({ChromePlugin:z.enum.CHROME_EXTENSION,GoogleDocsPlugin:z.enum.GOOGLE_DOCS_PLUGIN,OutlookPlugin:z.enum.OUTLOOK_PLUGIN,PowerPointPlugin:z.enum.POWER_POINT_PLUGIN,WordPlugin:z.enum.WORD_PLUGIN,FigmaPlugin:z.enum.FIGMA_PLUGIN,Contentful:z.enum.CONTENTFUL_PLUGIN,Edge:z.enum.EDGE_EXTENSION,QordobaFE:z.enum.DEFAULT,Unknown:z.enum.DEFAULT,Embed:z.enum.DEFAULT,Playground:z.enum.DEFAULT,WindowsApp:z.enum.WINDOWS_APP,MacApp:z.enum.MACOS_APP}),yl;(function(t){t.DEFAULT="DEFAULT",t.CHROME_EXTENSION="CHROME_EXTENSION",t.EDGE_EXTENSION="EDGE_EXTENSION",t.GOOGLE_DOCS_PLUGIN="GOOGLE_DOCS_PLUGIN",t.OUTLOOK_PLUGIN="OUTLOOK_PLUGIN",t.POWER_POINT_PLUGIN="POWER_POINT_PLUGIN",t.WORD_PLUGIN="WORD_PLUGIN",t.FIGMA_PLUGIN="FIGMA_PLUGIN",t.CONTENTFUL_PLUGIN="CONTENTFUL_PLUGIN"})(yl||(yl={}));var _l;(function(t){t.OPEN="open",t.PREVIEW="preview"})(_l||(_l={}));o();var El={firstTimeGoogleSSOLogin:"[Signup] First time Google SSO login",invitedUserSignup:"[Signup] Invited User Signup",startedNewTrial:"[Subscription] Started New Trial",userJoined:"[Subscription] Invited User Signed Up",viewJoinOrCreateOrgPage:"[Domain Discoverability] Viewed Join or Create Own Org Page",footerInstallChromeExtClicked:"[Dashboard Footer] Install Chrome Ext Clicked",footerInstallWordExtClicked:"[Dashboard Footer] Install Word Clicked",footerInstallOutlookExtClicked:"[Dashboard Footer] Install Outlook Clicked",installChromeExtClicked:"[Chrome Ext Popup] Install Chrome Ext Clicked",installWordOutlookExtClicked:"[Chrome Ext Popup] Install Word/Outlook Clicked",chromeWindowDismissed:"[Chrome Ext Popup] Popup Dismissed",clickAdminPanel:"[Navigation] Clicked Admin Panel",clickPurchaseProNow:"[Billing v2] Clicked Purchase Pro Now",clickPurchaseTeamNow:"[Billing v2] Clicked Purchase Team Now",clickStartTeamTrial:"[Billing v2] Clicked Start Team Trial",clickStartProTrial:"[Billing v2] Clicked Start Pro Trial",clickedContactSales:"[Billing v2] Clicked Contact Sales",signedUp:"[Signup v2] Signed Up",dashboardViewed:"[Dashboard] Viewed Dashboard",suggestionsPunctuationViewed:"[Suggestions] Viewed Punctuation",suggestionsWritingStyleViewed:"[Suggestions] Viewed Writing Style",suggestionsClarityViewed:"[Suggestions] Viewed Clarity",suggestionsInclusivityViewed:"[Suggestions] Viewed Inclusivity",suggestionsDeliveryViewed:"[Suggestions] Viewed Delivery",suggestionsPlagiarismViewed:"[Suggestions] Viewed Plagiarism",suggestionsComplianceViewed:"[Suggestions] Viewed Compliance",suggestionsGeneralViewed:"[Suggestions] Viewed General",suggestionsCustomRulesViewed:"[Suggestions] Viewed Custom Rules",suggestionsPunctuationUpdated:"[Suggestions] Updated Punctuation",suggestionsWritingStyleUpdated:"[Suggestions] Updated Writing Style",suggestionsClarityUpdated:"[Suggestions] Updated Clarity",suggestionsInclusivityUpdated:"[Suggestions] Updated Inclusivity",suggestionsDeliveryUpdated:"[Suggestions] Updated Delivery",suggestionsPlagiarismUpdated:"[Suggestions] Updated Plagiarism",suggestionsComplianceUpdated:"[Suggestions] Updated Compliance",suggestionsGeneralUpdated:"[Suggestions] Updated General",suggestionsReWriteUpdated:"[Suggestions] Updated ReWrite",magicLinksUpdated:"[Suggestions] Updated Magic Links",termsViewed:"[Terms] Viewed Terms",termAdded:"[Terms] Added a Term",termEdited:"[Terms] Edited a Term",snippetsViewed:"[Snippets] Viewed Snippets",snippetAdded:"[Snippets] Added a Snippet",teammateInvited:"[Teammates] Invited a Teammate",snippetEdited:"[Snippets] Edited a Snippet",teammatesViewed:"[Teammates] Viewed Teammates",profileViewed:"[Profile] Viewed Profile",billingViewed:"[Billing] Viewed Billing",appsViewed:"[Apps] Viewed Apps",autoJoinCreatedOwnOrg:"[Domain Discoverability] Created Own Org",autoJoinSelectJoinOrg:"[Domain Discoverability] Selected Join Existing Org",securityViewed:"[Admin] Viewed Security",peopleViewed:"[Admin] Viewed People",accountViewed:"[Admin] Viewed Account",allTeamsViewed:"[Admin] Viewed All Teams",ssoViewed:"[Admin] Viewed Single Sign-on",enabledDataRetention:"[Admin] Enabled Custom Data Retention",disabledDataRetention:"[Admin] Disabled Custom Data Retention",modifiedDataRetention:"[Admin] Modified Custom Data Retention",canceledDataRetention:"[Admin] Canceled Custom Data Retention",openDocument:"[Docs] Opened a Doc",createDocument:"[Docs] Created a New Doc",startWithCoWrite:"[Docs] Clicked Start from CoWrite",onboardingQuestionnaire:"[Signup] Viewed Onboarding Questionnaire",onboardingQuestionnairePage2SubmitClicked:"[Signup] Clicked \u201CLet\u2019s go\u201D on Onboarding Questionnaire Page 2",subscriptionStartedNewTeamTrial:"[Subscription] Started New Team Trial",subscriptionStartedNewProTrial:"[Subscription] Started New Pro Trial",subscriptionStartedNewFreeAccount:"[Subscription] Started New Free Account",clickedChromeExtAnnouncement:"[Global Nav] Clicked Chrome Ext Announcement",tutorialViewedWelcomeStep:"[Tutorial] Viewed Welcome Step",tutorialViewedSuggestionsStep:"[Tutorial] Viewed Suggestions Step",tutorialViewedTermsStep:"[Tutorial] Viewed Terms Step",tutorialViewedSnippetsStep:"[Tutorial] Viewed Snippets Step",tutorialViewedAppsStep:"[Tutorial] Viewed Apps Step",tutorialViewedStyleguideStep:"[Tutorial] Viewed Styleguide Step",tutorialViewsDemoDocStep:"[Tutorial] Viewed Demo Doc Step",tutorialCompleted:"[Tutorial] Completed Tutorial",tutorialSkipped:"[Tutorial] Skipped Tutorial",tutorialRestarted:"[Tutorial] Restarted Tutorial",tutorialExited:"[Tutorial] Exited Tutorial",clickedInstallChromeExt:"[Apps] Clicked Install Chrome Ext",clickedInstallWordExt:"[Apps] Clicked Install Word Ext",clickedInstallOutlookExt:"[Apps] Clicked Install Outlook Ext",clickedInstallEdgeExt:"[Apps] Clicked Install Edge Ext",clickedInstallMacExt:"[Apps] Clicked Install Mac Ext",clickedInstallWinExt:"[Apps] Clicked Install Windows Ext",clickedInstallContentfulExt:"[Apps] Clicked Install Contentful Ext",clickedInstallFigmaExt:"[Apps] Clicked Install Figma Ext",educationalModulesTermsClickedQuickStartVideo:"[Educational Modules] Terms: Clicked Quick Start Video",educationalModulesTermsClickedAddTerm:"[Educational Modules] Terms: Clicked Add a Term",educationalModulesTermsClickedImportTerms:"[Educational Modules] Terms: Clicked Import Terms",educationalModulesSnippetsClickedQuickStartVideo:"[Educational Modules] Snippets: Clicked Quick Start Video",educationalModulesSnippetsClickedAddTerm:"[Educational Modules] Snippets: Clicked Add a Term",refreshScore:"[Editor] Refresh Clicked",startTeamTrial:"[Billing v2] Clicked Start Team Trial",purchasePro:"[Billing v2] Clicked Purchase Pro Now",filteredSuggestions:"[Editor] Filtered Suggestions",suggestionAccepted:"[Suggestions] Suggestion Accepted",suggestionIgnored:"[Suggestions] Suggestion Ignored",suggestionFlagged:"[Suggestions] Suggestion Flagged",suggestionViewed:"[Suggestions] Suggestion Viewed",suggestionAddedToTermBank:"[Suggestions] Suggestion Added to Terms",snippetClicked:"[Snippets] Clicked on a Snippet ",snippetTriggered:"[Snippets] Triggered Snippet",signupViewedAppConsentPage:"[Signup] Viewed App Consent Page",signupClickedAllowAccessOnAppConsent:"[Signup] Clicked Allow Access on App Consent",contentRephrased:"[NLG] Rephrased Content",contentRegenerated:"[NLG] Rephrased Content Regenerated",rephrasedContentAccepted:"[NLG] Rephrased Content Accepted",rephrasedContentCopied:"[NLG] Rephrased Content Copied",triggerAutoWrite:"[NLG] Triggered Keep Writing",coWriteViewedCategoryAll:"[NLG] Viewed Template Library: All",coWriteViewedCategoryProduct:"[NLG] Viewed Template Library: Product",coWriteViewedCategoryMarketing:"[NLG] Viewed Template Library: Marketing",coWriteViewedCategorySupport:"[NLG] Viewed Template Library: Support",coWriteViewedCategoryHR:"[NLG] Viewed Template Library: HR",coWriteViewedCategoryEmployeeComms:"[NLG] Viewed Template Library: Employee Comms",coWriteViewedCategoryAdvertising:"[NLG] Viewed Template Library: Advertising",coWriteViewedCategoryRecruiting:"[NLG] Viewed Template Library: Recruiting",coWriteViewedCategoryExternalComms:"[NLG] Viewed Template Library: External Comms",coWriteViewedCategorySales:"[NLG] Viewed Template Library: Sales",coWriteViewedCategoryCustom:"[NLG] Viewed Template Library: Custom",coWriteViewedCategoryGeneral:"[NLG] Viewed Template Library: General",coWriteViewedCustomTemplateRequestForm:"[NLG] Viewed Custom Template Request Form",coWriteContactSalesCustomTemplates:"[NLG] Clicked Contact Sales on Custom Templates",coWriteContactSalesSEOBlogBuilder:"[NLG] Clicked Contact Sales on SEO Blog Builder",coWriteContactSalesTemplateLibrary:"[NLG] Clicked Contact Sales on Template Library",coWriteTemplateSearch:"[NLG] Searched Templates",coWriteTemplateOpened:"[NLG] Opened Template",coWriteViewedSeoBlogBuilderStep1:"[NLG] Viewed SEO Blog Builder: Step 1",coWriteViewedSeoBlogBuilderStep2:"[NLG] Viewed SEO Blog Builder: Step 2",coWriteViewedSeoBlogBuilderStep3:"[NLG] Viewed SEO Blog Builder: Step 3",coWriteSeoBlogBuilderGeneratedMoreTitles:"[NLG] SEO Blog Builder: Generated More Titles",coWriteSeoBlogBuilderGeneratedNewOutline:"[NLG] SEO Blog Builder: Generated New Outline",coWriteSeoBlogBuilderGeneratedRegeneratedPoints:"[NLG] SEO Blog Builder: Regenerated Points",coWriteSeoBlogBuilderGeneratedGeneratedContent:"[NLG] SEO Blog Builder: Generated Content",cowriteAnnouncementDismissed:"[Cowrite Announcement] Popup Dismissed",cowriteAnnouncementClicked:"[Cowrite Announcement] Ideate with Cowrite clicked",coWriteHighlightsOpened:"[NLG] Opened Highlights",coWriteHighlightsRegeneratedMeta:"[NLG] Regenerated Meta Description",coWriteHighlightsRegeneratedSummary:"[NLG] Regenerated Summary",coWriteHighlightsRegeneratedLinkedIn:"[NLG] Regenerated LI Post",coWriteHighlightsRegeneratedTwitter:"[NLG] Regenerated Twitter Post",coWriteHighlightsCopiedMeta:"[NLG] Copied Meta Description",coWriteHighlightsCopiedSummary:"[NLG] Copied Summary",coWriteHighlightsCopiedLinkedIn:"[NLG] Copied LI Post",coWriteHighlightsCopiedTwitter:"[NLG] Copied Twitter Post",magicLinksContactSales:"[NLG] Magic links Upgrade now Clicked",commandsOpened:"[Commands] Opened Commands",commandsEntered:"[Commands] Entered Freeform Command",commandsGeneratedNew:"[Commands] Generated New",commandsGeneratedFromText:"[Commands] Generated From Text",commandsEnteredReWrite:"[Commands] Entered ReWrite Command",commandsSelectedReWrite:"[Commands] Selected a ReWrite Option",commandsEnteredKeepWriting:"[Commands] Entered Keep Writing",commandsEnteredAskKnowledgeGraph:"[Commands] Entered Ask Knowledge Graph",commandsClickedRewrite:"[Commands] Clicked Rewrite",commandsCopiedRewriteSuggestion:"[Commands] Copied Rewrite Suggestion",commandsReplacedTextWithRewriteSuggestion:"[Commands] Replaced Text with Rewrite Suggestion",commandsClickedShowMoreRewriteSuggestions:"[Commands] Clicked Show More Rewrite Suggestions",commandsClickedRegenerate:"[Commands] Clicked Regenerate",commandsNavigatedTheArrows:"[Commands] Navigated the Arrows",commandsClickedKeepWriting:"[Commands] Clicked Keep Writing",commandsClickedMenuItem:"[Commands] Selected a Command Option",commandsNavigateOutputs:"[Commands] Navigated Previous Outputs",commandsClickedInsert:"[Commands] Clicked Insert Button",commandsClickedCopy:"[Commands] Clicked Copy Button",commandsClosedWidget:"[Commands] Closed Commands Widget",commandsClickedRewriteButton:"[Commands] Clicked Rewrite Button",billingTeamTrialExtension:"[Subscriptions] Accepted Team Trial Extension",magciLinksViewPage:"[Magic Links] Viewed Magic Links Setup",magciLinksAddDomain:"[Magic Links] Added a Domain",magciLinksValidateDomain:"[Magic Links] Clicked Validate Domain",magciLinksManageCrawls:"[Magic Links] Clicked Manage Crawls",magciLinksCrawlAll:"[Magic Links] Clicked Crawl Now on All Domains",magciLinksCrawl:"[Magic Links] Clicked Crawl Now on a Domain",magicLinksUserClickedIcon:"[Magic Links] Opened Magic Links",magicLinksClickedSuggestions:"[Magic Links] Accepted Link Suggestion",magicLinksHighlightedText:"[Magic Links] Highlighted Editor Text",magicLinksSearchedKeyword:"[Magic Links] Searched for Keywords",magicLinksAddedCustomURL:"[Magic Links] Added a Custom URL",termsClickedImportCSV:"[Terms] Clicked Import CSV",termsClickedLearnMore:"[Terms] Clicked Learn more",termsUploadedFile:"[Terms] Uploaded a File",termsClickedImport:"[Terms] Clicked Import Terms",termsImportSucceeded:"[Terms] Import Succeeded",snippetsClickedImportCSV:"[Snippets] Clicked Import CSV",snippetsClickedLearnMore:"[Snippets] Clicked Learn more",snippetsUploadedFile:"[Snippets] Uploaded a File",snippetsTriggered:"[Snippets] Triggered a Snippet",snippetsClickedImport:"[Snippets] Clicked Import Snippets",snippetsImportSucceeded:"[Snippets] Import Succeeded",billingGroupClickedLearnMore:"[BillingGroup] Clicked Learn more",billingGroupUploadedFile:"[BillingGroup] Uploaded a File",billingGroupClickedImport:"[BillingGroup] Clicked Import Snippets",billingGroupImportSucceeded:"[BillingGroup] Import Succeeded",claimDetectionTriggered:"[Claim Detection] Triggered Claim Detection",viewedDraftsPage:"[Drafts] Viewed Drafts Table",viewedDraft:"[Drafts] Viewed Draft",previewedDraft:"[Drafts] Previewed Draft",filteredDrafts:"[Drafts] Filtered Drafts Table",searchedDrafts:"[Drafts] Searched Drafts",copyDraft:"[Drafts] Copied Text",rateDraft:"[Drafts] Clicked Rate Draft",deleteDraft:"[Drafts] Deleted Draft",showDraftInputs:"[Drafts] Clicked Show Inputs",useDraftInNewDoc:"[Drafts] Used in New Doc",learningCenterWatchedVideo1:"[Learning Center] Watched Video 1",learningCenterWatchedVideo2:"[Learning Center] Watched Video 2",learningCenterWatchedVideo3:"[Learning Center] Watched Video 3",learningCenterWatchedVideo4:"[Learning Center] Watched Video 4",learningCenterWatchedVideo5:"[Learning Center] Watched Video 5",learningCenterWatchedVideo6:"[Learning Center] Watched Video 6",learningCenterClickedWebinars:"[Learning Center] Clicked Webinars",learningCenterClickedGuides:"[Learning Center] Clicked Guides",learningCenterClickedSupportCenter:"[Learning Center] Clicked Support Center",learningCenterClickedWhatsNew:"[Learning Center] Clicked What\u2019s New",learningCenterHidTray:"[Learning Center] Hid Onboarding Video Tray",learningCenterOpened:"[Learning Center] Opened Learning Center",learningCenterOpenedAskWriterAnything:"[Learning Center] Opened AWA",learningCenterOpenedRecaps:"[Learning Center] Opened Recaps",learningCenterOpenedBlogBuilder:"[Learning Center] Opened Blog Builder",learningCenterViewedWebinars:"[Learning Center] Viewed Webinars page",learningCenterClickedWebinarCTA:"[Learning Center] Webinars: Clicked Register/Watch Now",openedAskWriterSession:"[Ask Writer] Opened Ask Writer Session",addedSource:"[Ask Writer] Added a Source",removedSource:"[Ask Writer] Removed a Source",openedSessionPanel:"[Ask Writer] Opened Sessions Panel",enteredMessage:"[Ask Writer] Entered a Message",openedPastSourcesModal:"[Ask Writer] Opened Past Sources Modal",searchPastSources:"[Ask Writer] Searched Past Sources",startedNewSession:"[Ask Writer] Started New Session",searchedSessions:"[Ask Writer] Searched Sessions",deletedSession:"[Ask Writer] Deleted a Session",clearedSession:"[Ask Writer] Cleared a Session",viewedContributingSources:"[Ask Writer] Viewed Contributing Sources",openedContributingSource:"[Ask Writer] Opened a Contributing Source",copiedOutput:"[Ask Writer] Copied an Output",clickedSendOutputToDoc:"[Ask Writer] Clicked Send Output to Doc",chatAppOpenedSession:"[Chat App] Opened Chat App Session",chatAppAddedSource:"[Chat App] Added a Source",chatAppRemovedSource:"[Chat App] Removed a Source",chatAppOpenedSessionPanel:"[Chat App] Opened Sessions Panel",chatAppEnteredMessage:"[Chat App] Entered a Message",chatAppOpenedPastSourcesModal:"[Chat App] Opened Past Sources Modal",chatAppSearchPastSources:"[Chat App] Searched Past Sources",chatAppStartedNewSession:"[Chat App] Started New Session",chatAppSearchedSessions:"[Chat App] Searched Sessions",chatAppDeletedSession:"[Chat App] Deleted a Session",chatAppClearedSession:"[Chat App] Cleared a Session",chatAppViewedContributingSources:"[Chat App] Viewed Contributing Sources",chatAppOpenedContributingSource:"[Chat App] Opened a Contributing Source",chatAppCopiedOutput:"[Chat App] Copied an Output",chatAppClickedSendOutputToDoc:"[Chat App] Clicked Send Output to Doc",chatAppFlaggedMessage:"[Chat App] Clicked Send Output to Doc",viewedPromptLibrary:"[Prompt Library] Viewed Prompt Library",copiedPrompt:"[Prompt Library] Copied Prompt",insertedPromptInAskWriter:"[Prompt Library] Inserted Prompt in Ask Writer",viewedSubcategory:"[Prompt Library] Viewed Sub-Category",searchedPromptLibrary:"[Prompt Library] Searched Prompt Library",autocorrectOn:"[Chrome Ext] Autocorrect Toggled On",autocorrectOff:"[Chrome Ext] Autocorrect Toggled Off",showSituationalBannerA:"[Chrome Banner A] Viewed Banner",clickSignInSituationalBannerA:"[Chrome Banner A] Clicked Sign in",showSituationalBannerB:"[Chrome Banner B] Viewed Banner",clickSignUpSituationalBannerB:"[Chrome Banner B] Clicked Sign up",viewedOnboardingSlide1:"[Chrome Ext] Viewed Onboarding Slide 1",viewedOnboardingSlide2:"[Chrome Ext] Viewed Onboarding Slide 2",viewedOnboardingSlide3:"[Chrome Ext] Viewed Onboarding Slide 3",viewedOnboardingSlide4:"[Chrome Ext] Viewed Onboarding Slide 4",viewedOnboardingSlide5:"[Chrome Ext] Viewed Onboarding Slide 5",viewedOnboardingSlide6:"[Chrome Ext] Viewed Onboarding Slide 6",viewedOnboardingSlide7:"[Chrome Ext] Viewed Onboarding Slide 7",activatedSidebar:"[Chrome Ext] Activated Sidebar",closedSidebar:"[Chrome Ext] Closed Sidebar",extWriterTabEnabled:"[Chrome Ext] Writer Tab Enabled",extWriterTabDisabled:"[Chrome Ext] Writer Tab Disabled",extOutdatedBrowserTooltipViewed:"[Chrome Ext] Outdated Browser Tooltip Viewed",openTour:"[Chrome Ext] Opened In-App Tour",closedTour:"[Chrome Ext] Closed In-App Tour",finishedTour:"[Chrome Ext] Finished In-App Tour",appConsoleAppDeployed:"[Application Console] App Deployed",appConsoleAppDeleted:"[Application Console] App Deleted",appConsoleAppUndeployed:"[Application Console] App Undeployed",appConsoleAppContentGenerated:"[Application Console] Generate Content",appConsoleSessionEndedDeployed:"[Application Console] Session ended with app undeployed",appConsoleDraftCreated:"[Application Console] Draft created",appConsoleDraftEdited:"[Application Console] Draft edited",appConsoleCopyAppClicked:"[Application Console] Copy app clicked",appConsoleShareAppClicked:"[Application Console] Share URL clicked",appConsoleFilterAppsUsed:"[Application Console] Filter app list used",appConsoleInputDeleted:"[Application Console] Input deleted",appConsolePromptDeleted:"[Application Console] Prompt deleted",appLibraryAllAppsShortcutClicked:"[App Library] Clicked All Apps Shortcut",appLibraryAllAppsOpened:"[App Library] Opened All Apps",appLibraryCustomAppsOpened:"[App Library] Opened Custom Apps",appLibraryFavoritesOpened:"[App Library] Opened Favorites",appLibraryFeaturedOpened:"[App Library] Opened Featured",appLibraryAppCategoryFilterClicked:"[App Library] Clicked an App Category Filter",appLibraryAppSearched:"[App Library] Searched for an App",appLibraryAppPreviewed:"[App Library] Previewed App",appLibraryAppOpened:"[App Library] Opened App",appLibraryAppFavorited:"[App Library] Favorited an App",appLibraryGridViewToggled:"[App Library] Toggled to Grid View",appLibraryListViewToggled:"[App Library] Toggled to List View",appLibraryRelatedAppOpened:"[App Library] Opened a Related App",appLibraryAppGuildeViewed:"[App Library] Viewed App Guide",voiceAddClicked:"[Voice] Clicked Add a Voice",voiceCalibrationSelected:"[Voice] Selected Calibration Method",voiceAddedTextForAnalysis:"[Voice] Added Text for Analysis",voiceCreated:"[Voice] Created a New Voice",voiceDeleted:"[Voice] Deleted Voice",voiceEdited:"[Voice] Edited Voice",voiceSetAsDefault:"[Voice] Set Voice as Default",createdNewTeamPrompt:"[Team Prompts] Created a new Team Prompt",saveTeamPromptsAw:'[Team Prompts] Clicked "Save to Team Prompts" from AW',saveTeamPromptsWp:'[Team Prompts] Clicked "Save to Team Prompts" from Writer Prompt Library',insertedTeamPrompt:"[Team Prompts] Inserted a Team Prompt",copiedTeamPrompt:"[Team Prompts] Copied a Team Prompts",aiStudioPeopleInvitedUser:"[AI Studio Admin] Invited user",aiStudioPeopleChangedUserRole:"[AI Studio Admin] Changed user role",aiStudioPeopleDeletedUser:"[AI Studio Admin] Deleted user",aiStudioPeopleRemovedUser:"[AI Studio Admin] Removed user from AI Studio",aiStudioPeopleOrgAdminAssigned:"[AI Studio Admin] Org admin assigned",aiStudioPeopleOrgAdminUnassigned:"[AI Studio Admin] Org admin unassigned",aiStudioAccountOnly:"[AI Studio Subscription] Started New AI Studio only account",aiStudioOrgAdminOptedIntoAIStudio:"[AI Studio Subscription] Org admin opted into AI Studio",knowledgeGraphViewedPage:"[Knowledge Graph] Viewed Knowledge Graph Page",knowledgeGraphAddedGraph:"[Knowledge Graph] Added a Graph",knowledgeGraphUploadedFiles:"[Knowledge Graph] Uploaded Files",knowledgeGraphSyncedDataConnector:"[Knowledge Graph] Synced a Data Connector",knowledgeGraphSelectedAssetsToSync:"[Knowledge Graph] Selected Assets to Sync",oAuthAppsViewedPage:"[OAuth Apps] Viewed OAuth apps page",oAuthAppsAddedApp:"[OAuth Apps] Added an OAuth app",templatesViewedPage:"[AI Studio Templates] Template viewed",templatesCopiedPage:"[AI Studio Templates] Template copied",apiAppsApiKeyAdded:"[AI Studio API/Framework Builder] Api key added",apiAppsApiKeyRevoked:"[AI Studio API/Framework Builder] Api key revoked",apiAppsAppDeleted:"[AI Studio API/Framework Builder] Api app deleted",apiAppsCapabilityChanged:"[AI Studio API/Framework Builder] Api capability changed",frameworkKeyRevoked:"[AI Studio API/Framework Builder] Framework key revoked",frameworkKeyAdded:"[AI Studio API/Framework Builder] Framework key added",frameworkCapabilityChanged:"[AI Studio API/Framework Builder] Framework capability changed",aiStudioHomepageAppCreated:"[AI Studio Homepage] app created",aiStudioHomepageAppDeleted:"[AI Studio Homepage] app deleted",aiStudioHomepageApiAppCreated:"[AI Studio Homepage] api app created",aiStudioHomepageAppImported:"[AI Studio Homepage] app imported",aiStudioAppBuilderAppRenamed:"[AI Studio App Builder] App renamed",aiStudioAppBuilderAppUnlocked:"[AI Studio App Builder] App unlocked",aiStudioAppBuilderAppChangesPushed:"[AI Studio App Builder] App changes pushed",aiStudioAppBuilderAppChangesCancelled:"[AI Studio App Builder] App changes cancelled",aiStudioDeployPlaygroundDeployEnabled:"[AI Studio Deploy] Playground deploy enabled",aiStudioDeployPlaygroundDeployDisabled:"[AI Studio Deploy] Playground deploy disabled",aiStudioDeployEmbedDeployEnabled:"[AI Studio Deploy] Embed deploy enabled",aiStudioDeployEmbedDeployDisabled:"[AI Studio Deploy] Embed deploy disabled",aiStudioDeployEmbedSnippetCopied:"[AI Studio Deploy] Embed snippet copied",aiStudioDeployEmbedSnippetCopiedWithoutAllowlist:"[AI Studio Deploy] Embed snippet copied without allowlist",aiStudioDeployEmbedAllowlistAdded:"[AI Studio Deploy] Embed allowlist added",aiStudioDeployEmbedAllowlistRemoved:"[AI Studio Deploy] Embed allowlist removed",aiStudioDeployEmbedRefreshed:"[AI Studio Deploy] Embed refreshed",aiStudioBillingAddedPaymentMethod:"[AI Studio Billing] Added payment method",aiStudioBillingAddedToBalance:"[AI Studio Billing] Added to balance",aiStudioBillingAutochargeEnabled:"[AI Studio Billing] Autocharge enabled",aiStudioBillingAutochargeDisabled:"[AI Studio Billing] Autocharge disabled",aiStudioBillingUpdateUsageLimits:"[AI Studio Billing] Usage limits updated",aiStudioVoiceAddClicked:"[AI Studio Voice] Clicked Add a Voice",aiStudioVoiceCalibrationSelected:"[AI Studio Voice] Selected Calibration Method",aiStudioVoiceAddedTextForAnalysis:"[AI Studio Voice] Added Text for Analysis",aiStudioVoiceCreated:"[AI Studio Voice] Created a New Voice",aiStudioVoiceDeleted:"[AI Studio Voice] Deleted Voice",aiStudioVoiceEdited:"[AI Studio Voice] Edited Voice",aiStudioVoiceSetAsDefault:"[AI Studio Voice] Set Voice as Default",aiStudioKnowledgeGraphViewedPage:"[AI Studio Knowledge Graph] Viewed Knowledge Graph Page",aiStudioKnowledgeGraphAddedGraph:"[AI Studio Knowledge Graph] Added a Graph",aiStudioKnowledgeGraphUploadedFiles:"[AI Studio Knowledge Graph] Uploaded Files",aiStudioKnowledgeGraphSyncedDataConnector:"[AI Studio Knowledge Graph] Synced a Data Connector",aiStudioKnowledgeGraphSelectedAssetsToSync:"[AI Studio Knowledge Graph] Selected Assets to Sync",reportingAiUsageViewedPage:"[AiUsage Report] Viewed AI Usage Report Page",reportingAiUsageDownloaded:"[AiUsage Report] Downloaded AI Usage Report",reportingAdminAuditLogViewedPage:"[Admin Audit Log Report] Viewed Admin Audit Log Report Page",reportingAdminAuditLogDownloaded:"[Admin Audit Log Report] Downloaded Admin Audit Log Report",reportingUserActivityViewedPage:"[User Activity Report] Viewed User Activity Report Page",reportingUserActivityDownloaded:"[User Activity Report] Downloaded User Activity Report"};o();o();var we=class{};o();var y_=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(u){try{d(n.next(u))}catch(f){a(f)}}function c(u){try{d(n.throw(u))}catch(f){a(f)}}function d(u){u.done?s(u.value):i(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})},qr=class extends we{constructor(e=typeof window<"u"?window.dataLayer:void 0){super(),this.dataLayer=e}trackGtmActivity(e){return y_(this,void 0,void 0,function*(){var r;(r=this.dataLayer)===null||r===void 0||r.push(e)})}};o();var Lt=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(u){try{d(n.next(u))}catch(f){a(f)}}function c(u){try{d(n.throw(u))}catch(f){a(f)}}function d(u){u.done?s(u.value):i(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})},jr=class t extends we{constructor(e){super(),this.api=e}track(e,r){return Lt(this,void 0,void 0,function*(){yield this.api.post(t.encodeUrl("/api/analytics/track"),{params:{},body:{eventName:e,properties:r}})})}trackAnonymousEvent(e){return Lt(this,void 0,void 0,function*(){yield this.api.post(t.encodeUrl("/api/analytics/anonymous/track"),{params:{},body:{eventName:e,properties:{}}})})}trackOrganizationEvent(e,r,n){return Lt(this,void 0,void 0,function*(){yield this.api.post(t.encodeUrl("/api/analytics/organization/{organizationId}/track"),{params:{path:{organizationId:e}},body:{eventName:r,properties:n}})})}identify(e,r){return Lt(this,void 0,void 0,function*(){yield this.api.post("/api/analytics/organization/{organizationId}/identify",{params:{path:{organizationId:e}},body:{traits:r}})})}page(e){return Lt(this,void 0,void 0,function*(){yield this.api.post("/api/analytics/page",{body:e})})}static encodeUrl(e){return e.replace("/analytics","/anlytcs")}};o();function Tl(t){return X(t,"analytics-utils")}o();var Vr=class t{constructor(e){this.ctx=e;let r={};Object.entries(e).forEach(([n,i])=>{typeof i=="function"?Object.defineProperty(r,n,{enumerable:!0,configurable:!0,get:i}):r[n]=i}),this.context=r}clone(e){return new t(Object.assign(Object.assign({},this.ctx),e))}};o();var xl=Z(Si());var Wr=class t extends Vr{constructor(e){var r,{integrationType:n,clientId:i=t.getClientId(n),userAgent:s=(r=(typeof window<"u"?window:globalThis).navigator)===null||r===void 0?void 0:r.userAgent,domain:a=(typeof window<"u"?window:globalThis).location.hostname}=e;let l=s?new xl.default(s).getResult():void 0;super({integration_type:n,client_id:i,"x-system":l?.os.name,"x-system-ver":l?.os.version,"x-browser":l?.browser.name,"x-browser-ver":l?.browser.version,"x-domain":a})}static getClientId(e){return z.is(e)?wl[e]:$.enum.Unknown}};var rt=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(u){try{d(n.next(u))}catch(f){a(f)}}function c(u){try{d(n.throw(u))}catch(f){a(f)}}function d(u){u.done?s(u.value):i(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})},nt=Tl("AnalyticsService"),Ut=class t{constructor(e,r){var n;let i=typeof r=="string"?r:r.integrationType,s=typeof r=="string"?void 0:r.clientId;this.ctx=(n=typeof r=="string"?void 0:r.context)!==null&&n!==void 0?n:new Wr({integrationType:i,clientId:s}),Array.isArray(e)?this.adapters=[...e]:e instanceof we?this.adapters=[e]:this.adapters=[new jr(e),new qr]}withContext(e){let r=this.ctx.clone(e);return new t(this.adapters,{integrationType:this.integrationType,clientId:this.clientId,context:r})}addAdapter(e){return this.adapters.push(e),()=>{let r=this.adapters.filter(n=>n!==e);r.length!==this.adapters.length&&(this.adapters=r)}}track(e,r){return rt(this,void 0,void 0,function*(){nt.debug("track",{eventName:e,activityProperties:r});let n=Object.assign(Object.assign({},r),this.ctx.context);yield Promise.all(this.adapters.map(i=>{var s;return(s=i.track)===null||s===void 0?void 0:s.call(i,e,n)}))})}trackAnonymousEvent(e){return rt(this,void 0,void 0,function*(){nt.debug("trackAnonymousEvent",{eventName:e}),yield Promise.all(this.adapters.map(r=>{var n;return(n=r.trackAnonymousEvent)===null||n===void 0?void 0:n.call(r,e)}))})}trackOrganizationEvent(e,r,n){return rt(this,void 0,void 0,function*(){nt.debug("trackOrganizationEvent",{organizationId:e,eventName:r,activityProperties:n});let i=Object.assign(Object.assign({},n),this.ctx.context);yield Promise.all(this.adapters.map(s=>{var a;return(a=s.trackOrganizationEvent)===null||a===void 0?void 0:a.call(s,e,r,i)}))})}trackGtmActivity(e){return rt(this,void 0,void 0,function*(){nt.debug("trackGtmActivity",{params:e,context:this.ctx.context}),yield Promise.all(this.adapters.map(r=>{var n;return(n=r.trackGtmActivity)===null||n===void 0?void 0:n.call(r,e)}))})}identify(e,r){return rt(this,void 0,void 0,function*(){nt.debug("identify",r),yield Promise.all(this.adapters.map(n=>{var i;return(i=n.identify)===null||i===void 0?void 0:i.call(n,e,r)}))})}page(e){return rt(this,void 0,void 0,function*(){nt.debug("page",e),yield Promise.all(this.adapters.map(r=>{var n;return(n=r.page)===null||n===void 0?void 0:n.call(r,e)}))})}get clientId(){return this.ctx.context.client_id}get integrationType(){return this.ctx.context.integration_type}};Ut.EV=El;o();var Cl=Z(Si());var Al=new k("chrome","edge"),zr=class t{static read(e=globalThis.navigator.userAgent,r=_c().version){return(!this.inst||this.inst.ua!==e)&&(this.inst=new t(e,r)),this.inst}constructor(e,r){this.clientVersion=r;let i=new Cl.default(e).getResult();i.browser.name==="Edge"?(this.platform=Al.enum.edge,this.clientId=$.enum.Edge,this.integrationType=z.enum.EDGE_EXTENSION):(this.platform=Al.enum.chrome,this.clientId=$.enum.ChromePlugin,this.integrationType=z.enum.CHROME_EXTENSION),this.ua=i.ua,this.browser=i.browser,this.device=i.device,this.engine=i.engine,this.os=i.os,this.cpu=i.cpu}};o();function Il(t,e){return Object.assign({message:t},e)}function q(t){return{type:()=>Il(t,{type:"message"}),stream:e=>Il(t,{merge:e,type:"stream"})}}var Ol={createUpdateTab:q("QRDB-CREATE-UPDATE-TAB").type(),sidepanelAnalytics:q("QRDB-SIDEPANEL-ANALITICS").type(),sidepanelHeartBeat:q("QRDB-SIDEPANEL-HEART-BEAT").type(),announcement:q("QRDB-ANNOUNCEMENT").type(),devReload:q("QRDB-EXTENTION-RELOAD").type(),isContentInitialized:q("QRDB-IS-CONTENT-INITIALIZED").type(),logout:q("QRDB-LOGOUT").type(),sendIdentify:q("QRDB-SEND_IDENTITY").type(),showOnboardingModal:q("QRDB-ONBOARDING-MODAL").type(),showOnboardingFlow:q("QRDB-ONBOARDING-FLOW").type(),updateSignedOutBannerLastShowBannerDate:q("QRDB-UPDATE_SIGNED_OUT_BANNER_LAST_SHOW_BANNER_DATE").type(),openWriterTab:q("QRDB-OPEN-WRITER-TAB").type(),requestFetch:q("QRDB-REQUEST-FETCH").type(),requestFetchStream:q("QRDB-REQUEST-FETCH-STREAM").stream(t=>t),generateDocumentId:q("QRDB-GENERATE-DOCUMENT-ID").type(),injectContentScriptIntoFrame:q("QRDB-INJECT-CONTENT-SCRIPT-INTO-FRAME").type(),toggleSidePanel:q("QRDB-TOGGLE-SIDE-PANEL").type(),sidebarPanelEvent:q("QRDB-SIDEBAR-PANEL-EVENT").type(),notification:q("QRDB-NOTIFICATION").type(),sidebarContentEvent:q("QRDB-SIDEBAR-CONTENT-EVENT").type(),tabId:q("QRDB-TAB-ID").type(),server:q("QRDB-SERVER-PAYLOAD").type()};var $r=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(u){try{d(n.next(u))}catch(f){a(f)}}function c(u){try{d(n.throw(u))}catch(f){a(f)}}function d(u){u.done?s(u.value):i(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})},__=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r},ge=X("messageBus","ext-inline");function E_(t,e,r=new vt){return ge.debug("convert",t),Object.keys(t).reduce((n,i)=>{let s=i,a=t[s],{message:l,type:c}=a;return n[s]={send:(d,u)=>(ge.debug(`send ${i}(${l}) payload:`,d),c==="stream"?de.build({payload:d,type:l,cache:r,merge:a.merge})(e,void 0,u):e({type:l,payload:d},void 0)),sendTo:(d,u,f)=>{let{id:m,url:g,frameId:h,documentId:S}=d;return!m||!g?Promise.reject(new Error("tabId missing")):g.startsWith("http://")||g.startsWith("https://")?(ge.debug(`sendTo(${m}) ${i}(${l})`,u),c==="stream"?de.build({payload:u,type:l,cache:r,merge:a.merge})(e,d,f):e({type:l,payload:u},{id:m,url:g,frameId:h,documentId:S})):(ge.debug("sendTo","invalid url:",g),Promise.resolve(void 0))}},n},{})}function T_(t){let e=new vt,r=E_(t,Fn,e),n=c=>Object.keys(t).find(d=>t[d].message===c),i=[],s=c=>{let d=n(c);return i.reduce((u,f)=>(d&&f[d]&&u.push(f[d]),u),[])},a;return{messageBus:r,connect:c=>{if(i.push(c),!a){let d=x_(e,s);a=()=>{d(),a=void 0}}return a}}}function x_(t,e){ge.debug("connectMessageBus");let r=new Map,n=(a,l)=>(r.set(a,l),()=>r.delete(a)),s=Cc((a,l,c)=>{let d=a?.type,u=a?.payload,f=a?.streaming;if(!d)return!1;let m=y=>{ge.debug(`(${d}) response:`,y?.data,"payload:",u?.payload),c(y)};if(f&&de.isStreamAbort(d,f,m,r.get(f)))return!0;if(f&&t.has(f)&&de.streaming(t,f,u))return m({data:"streaming"}),!0;let g=e(d).reduce((y,v)=>(v instanceof Function?y.push(v):v.guard?v.guard(u,l)&&y.push(v.load):y.push(v.load),y),[]);if(!g.length)return!1;function h(y,v){var _;for(let T of y){let w=!1;try{let x=T(u,l,{type:d,abort:()=>{w=!0}});if(w)continue;ge.debug(`(${d})`,a,l),x instanceof vr?!w&&x.exec((_=l.tab)!==null&&_!==void 0?_:void 0,d,f,v,Fn,n):x instanceof Promise?x.then(E=>{!w&&v({data:E})},E=>{!w&&v({error:E})}):!w&&v({data:x})}catch(x){!w&&v({error:x})}}}let S=!1;return h(g,y=>{S||(S=!0,m(y))}),!0});return()=>s()}function Rl(t){return $r(this,void 0,void 0,function*(){if(t){if(t instanceof File){let e=yield t.arrayBuffer();return{file:[Array.from(new Uint8Array(e).values()),t.name,t.type]}}else if(typeof t=="object"&&Object.keys(t)){let e={},r=Object.keys(t).map(n=>$r(this,void 0,void 0,function*(){let i=yield Rl(t[n]);e[n]=i}));return yield Promise.all(r),e}}return t})}var A_=()=>{let t=T_(Ol),e=kt.createFetchEmulation((n,...i)=>$r(void 0,[n,...i],void 0,function*(s,a={}){let{signal:l,window:c,body:d}=a,u=__(a,["signal","window","body"]),f=yield Rl(d),m=a.headers?kt.header2obj(a.headers):{};if(m.accept!=="text/event-stream"){let g=yield Nl.requestFetch.send({url:s,init:Object.assign(Object.assign({},u),{headers:m,body:f})},l??void 0);if(!g)throw new Error("empty response");let{data:h,response:S}=g;return[S,y=>y({type:"binary",data:new Uint8Array(h)})]}try{let h=Nl.requestFetchStream.send({url:s,init:Object.assign(Object.assign({},u),{body:f})},l??void 0)[Symbol.asyncIterator](),S=yield h.next();if(S.done)throw new Error("done");let{value:y}=S;if(y.type==="response")return[y.data,_=>$r(void 0,void 0,void 0,function*(){try{for(;!S.done;){if(S=yield h.next(),S.done)continue;let{value:T}=S;if(T.type==="response")throw new Error("unreachable");_({type:"binary",data:new Uint8Array(T.data)})}}catch(T){throw ge.error("fetch.parse",T),T}})];throw new Error("invalid response")}catch(g){throw ge.error("fetch",g),g}})),r=n=>{let{clientId:i,clientVersion:s,integrationType:a}=zr.read(),l=Sl({clientId:i,clientVersion:s,baseUrl:n,fetch:e}),c=new Ut(l.api,{integrationType:a,clientId:i});return{requestService:l,analyticsService:c,fetch:e}};return Object.assign(Object.assign({},t),{buildServices:r})},{messageBus:Nl,connect:GM,buildServices:FM}=A_();o();o();o();var C_="\xA0",zM=new RegExp(C_,"g");o();o();o();o();o();var n1=Sr.build(xc(),t=>{let e={env:t.string("env","env"),sidepanel:t.boolean("sidepanel","sidepanel"),offlineModeDebug:t.boolean("offlineModeDebug","offlineModeDebug"),featureFlags:t.object("featureFlags"),sidepanelAvailableDebug:t.boolean("sidepanelAvailableDebug","sidepanelAvailableDebug"),organizationId:t.number("organizationId","organizationId"),organizationIdGdocs:t.number("organizationIdGdocs","organizationIdGdocs"),teamId:t.number("teamId","teamId"),tabInfo:t.object("tabInfo"),seenAnnouncements:t.object("announcements","Announcements"),inlineMessage:t.array("inlineMessage","Inline messages"),isAllowedPermissions:t.boolean("isAllowedPermissions","default true"),sidebarDefaultStatItem:t.string("sidebarDefaultStatItem"),hasSeenOnboardingFlow:t.boolean("hasSeenOnboardingFlow","Shows that user has seen onboarding tutorial"),settingsUser:t.object("settingsUser","Keeps user settings: highlight flags"),situationalBannersLastShowBannerDate:t.string("situationalBannersLastShowBannerDate","Keeps information about last entered for sign out banner"),situationalBannersPreviouslyEntered:t.boolean("situationalBannersPreviouslyEntered"),situationalBannersOrder:t.number("situationalBannersOrder","Keeps information about sign out banner"),hasSeenGDocsBeta:t.boolean("hasSeenGDocsBeta","Shows that user has seen gdocs welcome popup"),hasSeenContentful:t.boolean("hasSeenContentful","Shows that user has seen contentful welcome popup"),showContentfulPopup:t.boolean("showContentfulPopup","Shows contentful welcome popup"),domainsState:t.object("domainsState","Keeps information about disabled domains"),debugBackground:t.string("debugBackground","Allow to configure logger output for background script"),userId:t.number("userId","Id of user"),commandsWidgetHistoryData:t.array("commandsWidgetHistoryData","History of commands widget prompts and content"),sidePanelButtonState:t.object("sidePanelButtonState","Side panel button state")};return e.domainsState.transform=r=>{let n=Xe.str2obj(r);return n===null||O_(n)?n:I_(n)},e});function I_(t){return{v:1,o:t}}function O_(t){return!!t&&typeof t=="object"&&"v"in t&&t.v===1}o();var u1=new k("init","show","hide");o();o();var oe=new k("always","never","optInPerPage"),b1=oe.hash({always:!1,never:!1,optInPerPage:!0});o();o();function Yr(t){return t.host.replace(/^www./,"")}function Pl(t,e){if(t.href===e.href)return;if(e.search){for(let[i,s]of e.searchParams)if(t.searchParams.get(s)!==i)return"searchParams matching";if(Yr(t)===Yr(e)&&t.pathname===e.pathname)return"searchParams strict matching"}if(e.protocol!=="any:"&&t.protocol!==e.protocol)return"invalid protocol";if(e.pathname&&t.pathname.indexOf(e.pathname)!==0)return"pathname matching";let r=Yr(t),n=Yr(e);if(r!==n&&!r.includes(n))return"host matching"}var it=class{constructor(e,r){this.pattern=e,this.checkContentRule=r,this.url=Oe(e)}match(e){return this.pattern==="*"?!0:this.url?Pl(e,this.url)===void 0:!1}};it.checkStatus=(t,e,r)=>{var n;if(!e.length)return r;let i=e.find(s=>s.match(t));return(n=i?.checkContentRule)!==null&&n!==void 0?n:r};o();var Kr=Z(kn());var N_=(0,Kr.make)(),R_=(0,Kr.make)(),P_=new k("Always","Never","UserOptsIn"),D_=(0,Kr.make)(),ot=class t{static toHash({userId:e,orgId:r}){return D_([e,r].join("_"))}toSerialize(){return R_(this.data)}static restore(e){return new t(e)}static makeUrlPath(e){return N_(e.pathname+e.search)}static getDomainStateRef(e,r){var n,i;return(n=e?.o)!==null&&n!==void 0?n:(i=e?.d)===null||i===void 0?void 0:i[r]}static getDomainStateValue(e,r,n){let i=t.getDomainStateRef(e,r);return i?.[n.hostname]}static updateDomainState(e,r,n,i){let s=t.getDomainStateRef(e,r),a=i(s?.[n.hostname]);return{v:1,d:Object.assign(Object.assign({},e?.d),{[r]:Object.assign(Object.assign({},s),{[n.hostname]:a})})}}static addOptInUrl(e,r){var n;let i=t.makeUrlPath(e),s=!r?.paths||!r.paths.includes(i)?((n=r?.paths)!==null&&n!==void 0?n:[]).concat(i):r?.paths,a=r?.ignorePaths?r.ignorePaths.filter(l=>l!==i):void 0;return Object.assign(Object.assign({},r),{disabled:!1,paths:s,ignorePaths:a})}static deleteOptInUrl(e,r){var n;let i=t.makeUrlPath(e),s=r?.paths?r.paths.filter(l=>l!==i):void 0,a=!r?.ignorePaths||!r.ignorePaths.includes(i)?((n=r?.ignorePaths)!==null&&n!==void 0?n:[]).concat(i):r?.ignorePaths;return Object.assign(Object.assign({},r),{disabled:!1,paths:s?.length?s:void 0,ignorePaths:a})}static ignoreOptInUrl(e,r){var n;let i=t.makeUrlPath(e),s=r?.paths?r.paths.filter(l=>l!==i):void 0,a=!r?.ignorePaths||!r.ignorePaths.includes(i)?((n=r?.ignorePaths)!==null&&n!==void 0?n:[]).concat(i):r?.ignorePaths;return Object.assign(Object.assign({},r),{disabled:!1,paths:s,ignorePaths:a})}constructor(e){var r,n;this.data=e,this.defaultCheckContentRule=e?.defaultExtensionContentCheckMode?t.RULES_MAP[e.defaultExtensionContentCheckMode]:oe.enum.always,this.rules=(n=(r=e?.patterns)===null||r===void 0?void 0:r.map(i=>{let s=t.RULES_MAP[i.extensionContentCheckMode];return new it(i.pattern,s)}))!==null&&n!==void 0?n:[]}checkStatus(e,r){return r==="enterprise"||r==="team"?it.checkStatus(e,this.rules,this.defaultCheckContentRule):oe.enum.always}isEnabled(e,r,n,i){let s=this.checkStatus(r,n);return oe.match(s,{[oe.enum.never]:()=>!1,[oe.enum.always]:l=>!l?.disabled,[oe.enum.optInPerPage]:l=>{var c;let d=t.makeUrlPath(r);return!!(!((c=l?.paths)===null||c===void 0)&&c.includes(d))}},t.getDomainStateValue(i,e,r))}};ot.RULES_MAP=P_.hash({Always:oe.enum.always,UserOptsIn:oe.enum.optInPerPage,Never:oe.enum.never});o();o();o();o();o();o();var q1=X("textUtils","@writercolab-dom");o();o();o();o();o();o();o();o();o();o();o();var MU=X("copySnippet","ext-inline");o();o();var zU=new k("writer-banner-container","qordoba-popups","qordoba-plugin","qordoba-highlight","qordoba-button","qordoba-inline-root","writer-modal-container","qordoba-mirror","writer-side-panel-button");o();o();o();o();o();o();o();o();o();var gG=X("measurePerf","ext-inline");o();o();var Ee=fr("ext-gdocs");o();var Xr=class{constructor(e){this.listeners=new Map,this.preventMiddlewares=new Map,this.ctx=new Proxy(e,{get:(r,n)=>{let i=this.get(r,n);return typeof i=="function"?(...s)=>this.apply(r,n,i,s):i},set:(r,n,i)=>this.set(r,n,i)})}get(e,r){return Reflect.get(e,r)}apply(e,r,n,i){let s=this.listeners.get(r),a=this.preventMiddlewares.get(r);return a?.(i)?!1:(s&&s(i),n.apply(e,i))}set(e,r,n){let i=this.listeners.get(r);return i&&i(n),Reflect.set(e,r,n)}listen(e,r){this.listeners.set(e,r)}prevent(e,r){this.preventMiddlewares.set(e,r)}};var ue=Ee("ProxyCanvas"),Jr=class t{static overwriteCanvas(e){ue.debug("overwriteCanvas");let r=globalThis.HTMLCanvasElement.prototype.getContext;return globalThis.HTMLCanvasElement.prototype.getContext=function(...n){var i;ue.debug("overwriteCanvas:getContext",n);let s=r.apply(this,n);return n[0]==="2d"&&(!((i=s?.getTransform)===null||i===void 0)&&i.call(s).is2D)?e(s):s},globalThis.document.querySelectorAll("canvas").forEach(n=>{ue.debug("overwriteCanvas:postinterception",n),n.getContext("2d")}),()=>{ue.debug("overwriteCanvas:dispose"),globalThis.HTMLCanvasElement.prototype.getContext=r}}static build(e){return new t(e).dispose}constructor(e){this.opts=e,this.ctxMap=new Map,ue.debug("constructor");let r=t.overwriteCanvas(n=>{if(this.opts.validateContext(n)){ue.debug("overwriteCanvas:intercepted",n);let i=this.get(n);return ue.debug("overwriteCanvas:intercepted:result",i),i.ctx}return n});this.dispose=()=>{ue.debug("dispose"),this.ctxMap.clear(),r()}}get(e){if(this.ctxMap.has(e))return ue.debug("get:ctxMap",e),this.ctxMap.get(e);let r=new Xr(e);return this.opts.handle(r,e),this.ctxMap.set(e,r),ue.debug("get:new",r),r}};o();var Ll=Z(kl());o();var L_=[8236,8237].map(t=>String.fromCharCode(t)),M_=new RegExp(`[${L_.join("")}]`,"g"),U_="\x85",G_="\f",F_="",B_="",q_="",j_="",V_="",H_=[F_,B_,q_,j_,V_,G_,U_];function vi(t){return t=t.replace(/\n\r/g,`
`),t=t.replace(/\p{Zl}/gu,`
`),t=t.replace(/\p{Zp}/gu,`
`),t=t.replace(/\p{Zs}/gu," "),t=t.replace(/\t/g," "),t=t.replace(/\v/g,`
`),t=t.replace(/\p{Cs}/gu,""),t=t.replace(/\p{Co}/gu,""),t=t.replace(/\p{Cf}/gu,""),t=t.replace(/\p{Cn}/gu,""),t=t.replace(new RegExp(H_.join("|"),"gu"),""),t=t.replace(M_,""),t}var yi=Ee("Context2dTextExtractor"),W_=new Set(["version","title","lang","translate","dir","dataset","hidden","tabIndex","accessKey","draggable","spellcheck","contentEditable","isContentEditable","offsetParent","offsetTop","offsetLeft","offsetWidth","offsetHeight","style","innerText","outerText","onabort","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextmenu","oncuechange","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onpause","onplay","onplaying","onprogress","onratechange","onreset","onresize","onscroll","onseeked","onseeking","onselect","onstalled","onsubmit","onsuspend","ontimeupdate","ontoggle","onvolumechange","onwaiting","onwheel","ongotpointercapture","onlostpointercapture","onpointerdown","onpointermove","onpointerup","onpointercancel","onpointerover","onpointerout","onpointerenter","onpointerleave","click","focus","blur","onauxclick","nonce","namespaceURI","prefix","localName","tagName","id","className","classList","slot","attributes","shadowRoot","assignedSlot","innerHTML","outerHTML","scrollTop","scrollLeft","scrollWidth","scrollHeight","clientTop","clientLeft","clientWidth","clientHeight","onbeforecopy","onbeforecut","onbeforepaste","oncopy","oncut","onpaste","onsearch","onselectstart","previousElementSibling","nextElementSibling","children","firstElementChild","lastElementChild","childElementCount","onwebkitfullscreenchange","onwebkitfullscreenerror","setPointerCapture","releasePointerCapture","hasPointerCapture","hasAttributes","getAttributeNames","getAttribute","getAttributeNS","setAttribute","setAttributeNS","removeAttribute","removeAttributeNS","hasAttribute","hasAttributeNS","getAttributeNode","getAttributeNodeNS","setAttributeNode","setAttributeNodeNS","removeAttributeNode","closest","matches","webkitMatchesSelector","attachShadow","getElementsByTagName","getElementsByTagNameNS","getElementsByClassName","insertAdjacentElement","insertAdjacentText","insertAdjacentHTML","requestPointerLock","getClientRects","getBoundingClientRect","scrollIntoView","scrollIntoViewIfNeeded","createShadowRoot","getDestinationInsertionPoints","animate","remove","querySelector","querySelectorAll","webkitRequestFullScreen","webkitRequestFullscreen","scroll","scrollTo","scrollBy","before","after","replaceWith","prepend","append","ELEMENT_NODE","ATTRIBUTE_NODE","TEXT_NODE","CDATA_SECTION_NODE","ENTITY_REFERENCE_NODE","ENTITY_NODE","PROCESSING_INSTRUCTION_NODE","COMMENT_NODE","DOCUMENT_NODE","DOCUMENT_TYPE_NODE","DOCUMENT_FRAGMENT_NODE","NOTATION_NODE","DOCUMENT_POSITION_DISCONNECTED","DOCUMENT_POSITION_PRECEDING","DOCUMENT_POSITION_FOLLOWING","DOCUMENT_POSITION_CONTAINS","DOCUMENT_POSITION_CONTAINED_BY","DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC","nodeType","nodeName","baseURI","isConnected","ownerDocument","parentNode","parentElement","childNodes","firstChild","lastChild","previousSibling","nextSibling","nodeValue","textContent","hasChildNodes","getRootNode","normalize","cloneNode","isEqualNode","isSameNode","compareDocumentPosition","contains","lookupPrefix","lookupNamespaceURI","isDefaultNamespace","insertBefore","appendChild","replaceChild","removeChild","addEventListener","removeEventListener","dispatchEvent"]),Ft=class t{static hasValue(e){return"nodeType"in e&&"nodeName"in e}static isTextValue(e,r){return typeof r=="string"&&r.charAt(0)===""}constructor(e){this.wnd=e,this.currentText=""}getTextDelta(e){var r;try{let n=(r=this.getDocumentText(e))!==null&&r!==void 0?r:"",i=new Ll.default,s=i.main(this.currentText,n),a=i.toDelta(s);return this.currentText=n,a}catch{return""}}getDocumentText(e){let{wnd:r}=this;if(r.KX_kixApp===void 0)return;let n=this.extractText(r.KX_kixApp,e);if(!n){yi.info("getDocumentText empty");return}try{let{results:i}=n,s=i.filter(l=>!t.IGNORE_TEXT_PATH.some(c=>l.path.includes(c))).map(l=>l.value);if(!s.length)return yi.info("getDocumentText empty"),"";let a=s.reduce((l,c)=>c.length>l.length?c:l);return vi(a)}catch(i){yi.error("getDocumentText error",i);return}}extractText(e,r){let n=new Set,i=[],s=0;function a(l,c,d,u){if(s++,l==="prototype"||c instanceof Window||u>r)return;let f=d.concat(l);try{if(t.isTextValue(l,c)){i.push({path:f,value:c});return}}catch{}c!==null&&!n.has(c)&&(n.add(c),Array.isArray(c)?c.forEach((m,g)=>{try{a(g.toString(),m,f,u+1)}catch{}}):c instanceof Object&&(t.hasValue(c)&&c.nodeType===1?Object.getOwnPropertyNames(e).filter(g=>!W_.has(g)):Object.getOwnPropertyNames(c)).forEach(g=>{try{a(g,c[g],f,u+1)}catch{}}))}return Object.getOwnPropertyNames(e).forEach(l=>{try{a(l,e[l],[],0)}catch{}}),{results:i,iterations:s}}};Ft.IGNORE_TEXT_PATH=["docs-canvas-action-button","documentSize-under-soft-limit","link","collaborator-activity"];o();o();o();var Xd=Z(td()),Jd=Z(sr()),Qd=Z(Wd());o();var Qr="kix-canvas-tile-content",zd="kix-rotatingtilemanager-content",Zr="data-writer-proxy",$d=/rgba\((\d+), (\d+), (\d+), 0\.\d+\)/,xi={strokeStyle:["#dd0000","#4285f4"],fillStyle:["#fce8e6","#e8f0fe"]},Yd="rgba(118, 167, 250, 0.5)",De=new k("GDocsNotifySubscribe","GDocsNotifyText","GDocsNotifyFullText","GDocsNotifySelection","GDocsNotifyStrokeLines","GDocsNotifyReload","GDocsClearSelection","GDocsRequestSelection","GDocsRequestFullText");o();function Kd(t,e){let r=t.x,n=r+t.w,i=t.y,s=i+t.h,{x:a,y:l}=e,c=r<=a&&a<=n,d=i<=l&&l<=s;return c&&d}var se=class t{static orderAst(e,r){return(0,Qd.default)(e,r,"asc")}static normalizeAst(e){return(0,Xd.default)(e.concat(),Jd.default)}static isSuggestionsModeStrikeLine(e){return typeof e.strokeStyle=="string"&&Math.round(e.lineWidth)===3&&$d.test(e.strokeStyle)}static isNativeSpellingDrawStyle(e,r){return typeof r!="string"||!(e in xi)?!1:xi[e].includes(r)}static isSelectionFillRect(e){return e.fillStyle===Yd}static isClearAreaFillRect(e){return e.x===0}static filterClearRect(e,r){return r.filter(n=>!Kd(e,n))}constructor(e){this.opts=e,this.textAst=[],this.strokeLineAst=[],this.stack=t.initialStack}get id(){return this.opts.id}get node(){return this.opts.node}get zIndex(){return this.node.style.zIndex}get isCompactMode(){var e;return(e=this.node.parentElement)===null||e===void 0?void 0:e.classList.contains("kix-page-canvas-compact-mode")}get canvasRects(){if(!this.node.parentElement)return{x:0,y:0,w:0,h:0};let{offsetTop:e,offsetWidth:r,offsetHeight:n,offsetLeft:i}=this.node.parentElement;return{x:i,y:e,w:r,h:n}}getTextAst(){return t.normalizeAst(this.textAst)}getStrokeLineAst(){return t.normalizeAst(this.strokeLineAst)}getClearArea(e){let{x:r,y:n,w:i,h:s}=e,{scale:a}=this.stack.data,[l,c]=a,d=c/window.devicePixelRatio,{y:u}=this.canvasRects;return{x:r/l,y:n/c+u/d,w:i/l,h:s/c}}isCompactModeCanvasReset(e){return this.isCompactMode&&e.y===0}filterAstByClearRect(e){let{textAst:r,strokeLineAst:n}=this;if(this.isCompactModeCanvasReset(e)){this.reset(),this.opts.clearSelection();return}let i=this.getClearArea(e);this.textAst=t.filterClearRect(i,r),this.strokeLineAst=t.filterClearRect(i,n),this.opts.filterSelection(i)}reset(){this.textAst=[],this.strokeLineAst=[],this.stack=t.initialStack}pushTextAst(e,r){if(!this.textAst)return;let n=this.textAst.findIndex(({x:s,y:a})=>e.x===s&&e.y===a),i={text:e.text,x:e.x,y:e.y,textFont:r};n===-1?this.textAst.push(i):this.textAst[n]=i}push(e){let{transform:r,font:n}=this.stack.data;e.type==="font"&&(this.stack.data.font=e.value,this.stack.prev&&(this.stack.prev.data.font=e.value)),e.type==="scale"&&(this.stack.data[e.type]=[e.x,e.y],this.stack.prev&&(this.stack.prev.data[e.type]=[e.x,e.y]));let i=r[4],s=r[5];if(e.type==="transform"&&(this.stack.data.transform=e.args),(e.type==="clearRect"||e.type==="fillText"||e.type==="moveTo"||e.type==="lineTo")&&(e.x+=i,e.y+=s),e.type==="save"){let{data:a}=this.stack,l=this.stack;this.stack={data:Object.assign({},a),prev:l}}if(e.type==="restore"&&this.stack.prev&&(this.stack=this.stack.prev),e.type==="fillText"&&this.pushTextAst(e,n),e.type==="clearRect"&&this.filterAstByClearRect(e),e.type==="stroke"||e.type==="moveTo"||e.type==="lineTo"){let{type:a}=e,{strokeLine:l}=this.stack.data;a==="stroke"&&l?.from&&l?.to?(t.isSuggestionsModeStrikeLine(e)&&this.strokeLineAst.push({from:l.from,to:l.to,x:l.from.x,y:l.from.y,strokeStyle:e.strokeStyle,lineWidth:e.lineWidth}),this.stack.data.strokeLine={}):a==="moveTo"?this.stack.data.strokeLine.from={x:e.x,y:e.y}:a==="lineTo"&&(this.stack.data.strokeLine.to={x:e.x,y:e.y})}if(e.type==="fillRect"){if(t.isSelectionFillRect(e)){this.opts.pushSelection(e);return}t.isClearAreaFillRect(e)&&this.filterAstByClearRect(e)}this.stack.prev||this.opts.notifyUpdate()}};se.initialStack={data:{scale:[1,1],transform:[1,0,0,1,0,0],strokeLine:{from:void 0,to:void 0},font:"10px sans-serif"},prev:void 0};var DE=Ee("Context2dLogger");function kE(t){let e={},r={},n=(l,c)=>{var d,u,f;return(u=(d=r[l])===null||d===void 0?void 0:d.get(c))!==null&&u!==void 0?u:(f=e[l])===null||f===void 0?void 0:f.get(c)},i=(l,c,d)=>{var u;((u=r[l])!==null&&u!==void 0?u:r[l]=new Map).set(c,d)};return{resolve:(l,c)=>{let{hash:d,builder:u,equal:f}=t[l],m=d(...c),g=n(l,m);if(!g||f(g,c)){let h=u.apply(null,c);return i(l,m,h),h}else return u.apply(g,c),i(l,m,g),g},next:()=>{e=r,r={}}}}var en=class extends se{constructor(e,r){super(r),this.fab=kE({fillText:{equal(n,[i]){return n.text===i},hash(n,i,s){return`${i}:${s}`},builder(n,i,s){return this?(this.text=n,this.x=i,this.y=s,this):{type:"fillText",text:n,x:i,y:s}}}}),DE.debug("constructor",{proxy:e,opts:r}),e.listen("font",n=>{this.push({type:"font",value:n})}),e.listen("fillText",n=>{let i=this.fab.resolve("fillText",n);this.push(i)}),e.listen("clearRect",n=>{let[i,s,a,l]=n;this.push({type:"clearRect",x:i,y:s,w:a,h:l})}),e.listen("fillRect",n=>{let[i,s,a,l]=n,{fillStyle:c}=e.ctx;this.push({type:"fillRect",x:i,y:s,w:a,h:l,fillStyle:c})}),e.listen("scale",n=>{let[i,s]=n;this.push({type:"scale",x:i,y:s})}),e.listen("transform",n=>{this.push({type:"transform",args:n})}),e.listen("save",()=>{this.push({type:"save"})}),e.listen("restore",()=>{this.push({type:"restore"})}),e.listen("moveTo",n=>{let[i,s]=n;this.push({type:"moveTo",x:i,y:s})}),e.listen("lineTo",n=>{let[i,s]=n;this.push({type:"lineTo",x:i,y:s})}),e.listen("stroke",()=>{let{strokeStyle:n,lineWidth:i}=e.ctx;this.push({type:"stroke",strokeStyle:n,lineWidth:i})}),e.prevent("fillRect",()=>{let{fillStyle:n}=e.ctx;return se.isNativeSpellingDrawStyle("fillStyle",n)}),e.prevent("stroke",()=>{let{strokeStyle:n}=e.ctx;return se.isNativeSpellingDrawStyle("strokeStyle",n)})}};var tn=class{constructor(e){this.opts=e,this.id=0,this.loggers=new Set,this.canvasElementsObserver=new MutationObserver(r=>{r.map(i=>i.removedNodes).flat().length>0&&this.resetLoggers()}),this._selectionAst=[]}init(){let e=window.document.querySelector(`.${zd}`);e&&this.canvasElementsObserver.observe(e,{childList:!0})}next(){this.loggers.forEach(e=>e.fab.next())}get currentId(){return this.id}get sortedLoggers(){return[...this.loggers].sort((e,r)=>+e.zIndex-+r.zIndex)}get textAst(){return this.sortedLoggers.map(e=>e.getTextAst()).flat()}get strokeLineAst(){return this.sortedLoggers.map(e=>e.getStrokeLineAst()).flat()}get selectionAst(){let e=se.normalizeAst(this._selectionAst);return se.orderAst(e,["y"])}create(e,r){this.id+=1;let n=new en(e,{id:`${this.id}`,node:r,notifyUpdate:()=>this.opts.notifyUpdate(),pushSelection:i=>this.pushSelection(i),filterSelection:i=>this.filterSelection(i),clearSelection:()=>this.clearSelection()});this.loggers.add(n)}pushSelection(e){if(!this._selectionAst)return;let r=this._selectionAst.findIndex(({x:i,y:s})=>e.x===i&&e.y===s),n={x:e.x,y:e.y,w:e.w,h:e.h};r===-1?this._selectionAst.push(n):this._selectionAst[r]=n}filterSelection(e){this._selectionAst=se.filterClearRect(e,this._selectionAst)}clearSelection(){this._selectionAst=[]}resetLoggers(){let e=window.document.querySelectorAll(`canvas.${Qr}`),r=[];e.forEach(n=>{let i=n.getAttribute(Zr);i&&r.push(i)}),this.clearSelection(),this.loggers.forEach(n=>{r.includes(n.id)||n.reset()})}disable(){this.canvasElementsObserver.disconnect(),this.resetLoggers()}};o();var LE=Z(sr());o();o();var Bt=class t{static getScrollArea(){return window.document.querySelector(".kix-appview-editor")}constructor(){this.saveScrollAndReload=()=>{let e=t.getScrollArea();e&&localStorage.setItem(t.scrollStorageKey,JSON.stringify(e.scrollTop)),window.location.reload()},this.setScrollAndClear=e=>{let r=t.getScrollArea();r&&(r.scrollTo(0,e),localStorage.removeItem(t.scrollStorageKey))},this.handleReadyStateChange=e=>{window.document.readyState==="complete"&&(this.setScrollAndClear(e),window.document.removeEventListener("readystatechange",()=>this.handleReadyStateChange(e)))},this.restoreScroll=()=>{var e;let r=parseInt((e=localStorage.getItem(t.scrollStorageKey))!==null&&e!==void 0?e:"0",10);if(!(r<=0)){if(window.document.readyState==="complete"){this.setScrollAndClear(r);return}window.document.addEventListener("readystatechange",()=>this.handleReadyStateChange(r))}}}};Bt.scrollStorageKey="_gdocs_canvas_writer_last_scroll";var Y=Ee("init");function ME(t,e){if(!e||t.length!==e.length)return!1;for(let r=0,n=t.length;r<n;r++)if(t[r].text!==e[r].text||t[r].x!==e[r].x||t[r].y!==e[r].y||t[r].textFont!==e[r].textFont)return!1;return!0}function Zd(t=15,e){bc(rp.default),Y.debug("start");let r="0",n=new Ft(window),i=!1,s=(0,tp.default)(()=>{i&&(Y.debug("notifyUpdate"),u(),m())},250),a=new tn({notifyUpdate:s}),l=Jr.build({handle:(S,y)=>{Y.debug("ProxyCanvas.build"),a.create(S,y.canvas),y.canvas.setAttribute(Zr,`${a.currentId}`)},validateContext:S=>{Y.debug("ProxyCanvas.validate");let y=window.document.querySelector("#docs-revisions-sidebar"),v=y&&y.style.display!=="none";if(v)return Y.debug("ProxyCanvas.validate","isRevHistoryMode",{isRevHistoryMode:v}),!1;let _=!!window.document.querySelector(".read-mode-titlebar-border");return _?(Y.debug("ProxyCanvas.validate","isReadOnlyMode",{isReadOnlyMode:_}),!1):S.canvas.classList.contains(Qr)?!0:(Y.debug("ProxyCanvas.validate","wrong canvas element",S.canvas.classList),!1)}}),c=(S,y)=>({id:r,type:S,payload:y}),d;function u(S=!1){let y=n.getTextDelta(t),v=c(De.enum.GDocsNotifyText,{textDelta:y,textAst:a.textAst});(S||v.payload.textDelta!==d?.textDelta||!ME(v.payload.textAst,d?.textAst))&&(window.postMessage(v),d=v.payload,a.next())}let f;function m(S=!1){let y=c(De.enum.GDocsNotifyStrokeLines,{strokeLineAst:a.strokeLineAst});!(0,ep.default)(f,y.payload)||S?(Y.debug("sendStrokeLinesUpdate",{msg:y}),window.postMessage(y),f=y.payload):Y.debug("sendStrokeLinesUpdate:cache(not send)",{msg:y})}function g(){var S;Y.debug("sendFullTextUpdate");let y=(S=n.getDocumentText(t))!==null&&S!==void 0?S:"";window.postMessage(c(De.enum.GDocsNotifyFullText,{text:y}))}function h(){Y.debug("sendSelectionUpdate"),window.postMessage(c(De.enum.GDocsNotifySelection,{selectionAst:a.selectionAst}))}return window.addEventListener("message",S=>{typeof S.data=="object"&&S.data.id===r&&De.matchPartial(S.data.type,{GDocsNotifySubscribe:()=>{Y.debug("receive","GDocsNotifySubscribe"),!i&&(i=!0,a.init(),g(),u(!0),m())},GDocsRequestFullText:()=>{Y.debug("receive","GDocsRequestFullText"),g(),u(!0)},GDocsRequestSelection:()=>{Y.debug("receive","GDocsRequestSelection"),h()},GDocsClearSelection:()=>{Y.debug("receive","GDocsClearSelection"),a.clearSelection()},GDocsNotifyReload:({isDomainDisabled:y})=>{Y.debug("receive","GDocsNotifyReload"),y?e.saveScrollAndReload():a.disable()}},S.data.payload)}),{dispose:l}}function np(){var t,e,r,n,i;let s=new Bt;try{Y.debug("init");let a=JSON.parse((t=localStorage.getItem("_gdocs_canvas_writer_domain_state"))!==null&&t!==void 0?t:"{}"),l=JSON.parse((e=localStorage.getItem("_gdocs_canvas_writer_organization_id"))!==null&&e!==void 0?e:""),c=JSON.parse((r=localStorage.getItem("_gdocs_canvas_writer_user_id"))!==null&&r!==void 0?r:""),d=Oe(window.location.href),u=!!sessionStorage.getItem(Rc),f=d?ot.getDomainStateValue(a,ot.toHash({userId:c,orgId:l}),d):void 0,m=(n=f?.disabled)!==null&&n!==void 0?n:!1;if(m){Y.debug("init","isHostDisabled",{isHostDisabled:m}),u||window.addEventListener("message",S=>{S.data.type===De.enum.GDocsNotifySubscribe&&s.saveScrollAndReload()});return}let g=15,h=parseInt((i=localStorage.getItem("_gdocs_canvas_depth_writer"))!==null&&i!==void 0?i:"15",10);Number.isNaN(h)||(g=h),Zd(g,s)}catch(a){Y.debug("init.err",a),Zd(15,s)}finally{s.restoreScroll()}}o();function ip(t){t instanceof Function?t(globalThis):(t.configure?.(globalThis),t.run?.(globalThis))}ip(()=>{np()});
})();