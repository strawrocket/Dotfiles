import{U as n,R as p,H as h,J as u}from"./index-5ad58ea9.js";import{e as c,Y as i}from"./constants-e5712b98.js";async function w(a,r){var o;const t=r;t.append("token",a);const e=(o=(await p.post(`${i.DOMAIN}${i.ROUTES.EXTRACT_TEXT_DOC_CHAT}&firebase_token=true`,t)).data)==null?void 0:o.detail;if(e.status==="error")throw e.error;return e}const T=async(a,r,t)=>{const s=await n.post(c.ROUTES.USER_CHAT_HISTORY,{ENTRY_PER_PAGE:t,page:r});if(s.data.status==="error")throw s.data.error;return s.data.data},f=async(a,r)=>{try{const t=await n.post(c.ROUTES.SEARCH_DECISION_WEB_ACCESS_THREAD,{action:r.action,chatId:r.chatId,mode:"VANILLA_CHAT",model:r.model});if(t.data.status==="error")throw t.data.error;return t.data.data}catch{return null}},A=async(a,r,t,s,e)=>{const o=await n.post(c.ROUTES.CLEAN_WEBPAGE_DOM,{chatId:s,dom:r,namespace:e,webpage:t});if(o.data.status==="error")throw o.data.error;return o.data},_=async(a,r,t,s,e,o)=>{const d=await n.post("/feedback",{callingSite:s,email:e,feedback:t,query:a,request_id:o||null,result:r});if(d.data.status==="error")throw d.data.error;return d.data},y=async(a,r,t,s,e)=>{try{const o=await n.post(c.ROUTES.GENERATE_SHARE_ID,{chatId:r,email:t,lastMessageId:s,title:e});if(o.data.status==="error")throw o.data.error;return o.data.data}catch{return null}},m=async(a,r)=>{try{const t=await h.post("/deleteSharedChat",{chatId:r});if(t.data.status==="error")throw t.data.error;return t.data.data}catch{return!1}},R=async()=>{try{const a=await u.get("/user/getUserPrompts");if(a.data.status==="error")throw new Error(a.data.error);return a.data}catch{return null}},S=async a=>{try{const r=await u.post("/user/addUserPrompt",a);if(r.data.status==="error")throw new Error(r.data.error);return r.data}catch{return null}};async function C(a,r){var s;const t=new FormData;t.append("file",a);try{return(await n.post("/files",t,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(e){throw console.error("Error uploading file",((s=e.response)==null?void 0:s.data)||e.message),e}}export{y as a,C as b,A as c,m as d,_ as e,T as f,R as g,f as h,S as s,w as u};
