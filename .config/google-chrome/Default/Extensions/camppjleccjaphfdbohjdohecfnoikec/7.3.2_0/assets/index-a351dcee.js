import{r as c,j as e,p as j,d as p}from"./constants-e5712b98.js";import{L as y}from"./motion-ec7ce7e0.js";import{a as N}from"./index-c40a070c.js";import{u as I}from"./button-e2ac6183.js";import{c as b}from"./index-f8d4d59a.js";import{c as f}from"./createReactComponent-85aa5d18.js";import{f as C}from"./analytics-e24f0cc0.js";import{o as u,j as _}from"./index-5ad58ea9.js";import{u as L}from"./i18n-6c9556b7.js";import{a as m}from"./useOnClickOutside-cc638742.js";var w=f("gift","IconGift",[["path",{d:"M3 8m0 1a1 1 0 0 1 1 -1h16a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-16a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M12 8l0 13",key:"svg-1"}],["path",{d:"M19 12v7a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-7",key:"svg-2"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0 -5a4.8 8 0 0 1 4.5 5a4.8 8 0 0 1 4.5 -5a2.5 2.5 0 0 1 0 5",key:"svg-3"}]]),h=f("infinity","IconInfinity",[["path",{d:"M9.828 9.172a4 4 0 1 0 0 5.656a10 10 0 0 0 2.172 -2.828a10 10 0 0 1 2.172 -2.828a4 4 0 1 1 0 5.656a10 10 0 0 1 -2.172 -2.828a10 10 0 0 0 -2.172 -2.828",key:"svg-0"}]]),z=f("triangle-filled","IconTriangleFilled",[["path",{d:"M12 1.67a2.914 2.914 0 0 0 -2.492 1.403l-8.11 13.537a2.914 2.914 0 0 0 2.484 4.385h16.225a2.914 2.914 0 0 0 2.503 -4.371l-8.116 -13.546a2.917 2.917 0 0 0 -2.494 -1.408z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}]]);const E=c.createContext(null),G=o=>!o.isLayoutDirty&&o.willUpdate(!1);function g(){const o=new Set,t=new WeakMap,r=()=>o.forEach(G);return{add:n=>{o.add(n),t.set(n,n.addEventListener("willUpdate",r))},remove:n=>{o.delete(n);const l=t.get(n);l&&(l(),t.delete(n)),r()},dirty:r}}const k=o=>o===!0,M=o=>k(o===!0)||o==="id",W=({children:o,id:t,inherit:r=!0})=>{const n=c.useContext(y),l=c.useContext(E),[a,d]=N(),i=c.useRef(null),s=n.id||l;i.current===null&&(M(r)&&s&&(t=t?s+"-"+t:s),i.current={id:t,group:k(r)&&n.group||g()});const v=c.useMemo(()=>({...i.current,forceRender:a}),[d]);return c.createElement(y.Provider,{value:v},o)};function x({children:o,position:t="bottom",uiOverrides:r,zIndex:n=50}){return e.jsxs("div",{style:{zIndex:n},className:b("center-with-flex plain-text-color font-inter pointer-events-none absolute left-1/2 box-border flex  -translate-x-1/2 flex-col items-stretch gap-1 rounded-lg bg-zinc-200 p-1.5 text-sm font-normal subpixel-antialiased opacity-0 transition duration-300 will-change-contents [perspective:1px] group-hover:opacity-100 group-hover:delay-300 dark:bg-zinc-700",t==="bottom"&&"-bottom-3 translate-y-3/4 group-hover:translate-y-full",t==="top"&&"-top-3 -translate-y-3/4 group-hover:-translate-y-full",t==="top-left"&&"!left-0 -top-3 !translate-x-0 -translate-y-3/4 group-hover:-translate-y-full",r),children:[e.jsx(z,{className:b("absolute left-2/4 z-[100] -translate-x-2/4 text-zinc-200 dark:text-zinc-700",t==="bottom"&&"-top-2.5",t==="top"&&"-bottom-2.5 rotate-180",t==="top-left"&&"!left-3 -bottom-2.5 !translate-x-0 rotate-180")}),e.jsx("div",{className:"z-[100] whitespace-pre",children:o})]})}const $=c.memo(({extraHandler:o,queryCTA:t,usageDetails:r})=>{var d,i;const{t:n}=L(),l=I(),a=c.useCallback(()=>{let s=r.limit-r.used;return s<0&&(s=0),s>5e4&&(s=1/0),s},[r]);return(i=(d=l.details)==null?void 0:d.apiKey)!=null&&i.isEnabled?e.jsx("span",{className:"flex cursor-pointer items-center justify-center gap-1 rounded border border-sky-500 px-1 py-1 dark:border-sky-600",onClick:()=>u(p+"?from=query-count-badge-chat-header"),children:e.jsxs("span",{className:"group relative flex items-center px-1 text-sky-700 dark:text-sky-200",children:[e.jsx(m,{className:"res-icon-big"}),n("query_count_badge.key"),e.jsx(x,{children:n("query_count_badge.openai_key")})]})}):(r==null?void 0:r.type)===j.PAID?e.jsx("span",{className:"flex cursor-pointer items-center justify-center gap-2 rounded border border-amber-500 p-1 dark:border-amber-600",onClick:()=>u(p+"?from=query-count-badge-chat-header"),children:e.jsxs("span",{className:"group relative flex items-center px-1 text-amber-700 dark:text-amber-200",children:[e.jsx(m,{className:"res-icon-big"}),a()===1/0?e.jsx(h,{className:"res-icon-small"}):a(),e.jsx(x,{children:`${a()===1/0?"Infinite":a()} queries left`})]})}):r!=null&&r.type&&_(r.type)?e.jsx("span",{className:"flex cursor-pointer items-center justify-center gap-1 rounded border border-sky-500 px-1 py-1 dark:border-sky-600",onClick:()=>u(p+"?from=query-count-badge-chat-header"),children:e.jsxs("span",{className:"group relative flex items-center px-1 text-sky-700 dark:text-sky-200",children:[e.jsx(m,{className:"res-icon-big"}),n("query_count_badge.work"),e.jsx(x,{children:n("query_count_badge.business_plan")})]})}):e.jsxs("span",{className:"border-cornblue-600 dark:border-cornblue-600 flex cursor-pointer items-center justify-center gap-2 rounded border p-1",children:[e.jsxs("span",{className:"text-cornblue-700 dark:text-cornblue-200 group relative flex items-center px-1",onClick:()=>u(p+"?from=query-count-badge-chat-header"),children:[e.jsx(m,{className:"res-icon-big"}),a()===1/0?e.jsx(h,{className:"res-icon-small"}):a(),e.jsx(x,{children:`${a()===1/0?"Infinite":a()} queries left`})]}),t&&e.jsxs("button",{type:"button",onClick:()=>{o?o():u(t.url),C({eventData:t.text,eventName:"QueryCTAButton",eventType:"Button",feature:"QueryBadgeCount",firedFromFile:"components/queryBadgeCount"})},className:"c-transition-colors text-cornblue-100 flex gap-2 rounded-full bg-gradient-to-r from-violet-600 to-indigo-600 p-1 px-2 py-0.5 text-center text-sm",children:[e.jsx(w,{className:"res-icon-small dark:text-cornblue-100"}),e.jsx("span",{className:"pt-[2px]",children:t.text})]})]})});export{W as L,$ as Q,x as T};
