import{R as ne,c as wt,r as o,j as e,J as K,d as St,m as ke,n as Et,o as It,A as Pt,p as zt,f as at,P as Ne,O as ce,S as y,a as Ct,e as Tt,E as _t}from"./constants-e5712b98.js";import{u as Oe}from"./button-e2ac6183.js";import{c as u}from"./index-f8d4d59a.js";import{Y as At,o as Ae,j as et,B as Mt,b as Lt,Z as Rt,T as Dt,G as tt,d as he,D as Ot,p as Ft}from"./index-5ad58ea9.js";import{F as Bt}from"./index-39819034.js";import{T as Ut}from"./index-d6d87676.js";import{b as lt,u as qt,d as Gt}from"./index-f00bab01.js";import{a as ct,f as Z,b as De}from"./analytics-e24f0cc0.js";import{P as Vt}from"./useMedia-c48a250e.js";import{u as Kt}from"./useSSE-d3d13984.js";import{L as Wt}from"./languageLogoMap-b1afba5a.js";import{P as Ht}from"./index-52d9b6b3.js";import{F as Qt}from"./foyerLogo-8a2dc06a.js";import{u as dt,I as Xt,a as Me,b as Yt,c as $t,d as Jt}from"./useOnClickOutside-cc638742.js";import{g as ut,j as Zt,k as pt,l as de,a as ft,m as je,h as mt,S as rt,e as nt,n as er,d as tr,c as rr,f as we,o as Le,R as st,i as nr,b as sr,I as or}from"./fuzzysort-48427cba.js";import{u as xe}from"./i18n-6c9556b7.js";import{I as Fe}from"./IconX-5b78e9ec.js";import{I as Ee}from"./IconCheck-f452d2aa.js";import{v as bt}from"./v4-4a60fe23.js";import{A as se}from"./index-c40a070c.js";import{m as j}from"./motion-ec7ce7e0.js";import{c as ir}from"./createReactComponent-85aa5d18.js";import{a as ot,I as ar}from"./IconSend-07f8814c.js";import{I as it}from"./IconReload-9b2d2e3d.js";import{I as Se}from"./IconChevronRight-89acbc25.js";import{I as lr}from"./IconLanguage-a0ed4545.js";import{I as cr}from"./IconSettings-58104ccf.js";var dr=ir("octagon","IconOctagon",[["path",{d:"M12.802 2.165l5.575 2.389c.48 .206 .863 .589 1.07 1.07l2.388 5.574c.22 .512 .22 1.092 0 1.604l-2.389 5.575c-.206 .48 -.589 .863 -1.07 1.07l-5.574 2.388c-.512 .22 -1.092 .22 -1.604 0l-5.575 -2.389a2.036 2.036 0 0 1 -1.07 -1.07l-2.388 -5.574a2.036 2.036 0 0 1 0 -1.604l2.389 -5.575c.206 -.48 .589 -.863 1.07 -1.07l5.574 -2.388a2.036 2.036 0 0 1 1.604 0z",key:"svg-0"}]]);const Re=(f,s)=>{const c=ne.useMemo(()=>new wt({area:"local"}),[]),[i=null,t]=Vt({instance:c,key:s}),n=ne.useCallback(async x=>{await t({...i,[f]:x})},[f,t,i]);return ne.useMemo(()=>({[f]:{setSharedState:n,state:(i==null?void 0:i[f])||null}}),[f,n,i])};function ur(f){const[s,c]=o.useState(!1),i=o.useMemo(()=>new IntersectionObserver(([t])=>c(t.isIntersecting)),[f]);return o.useEffect(()=>(i.observe(f.current),()=>i.disconnect()),[]),s}function pr(f){var D,te,ie,W,ae;const{t:s}=xe(),{...c}=ne.useContext(lt),[i,t]=ne.useState(!1),{host:n,setActiveWindow:x,toggleFeature:p}=f,b=o.useRef(null),m=o.useRef(null);ur(b);const P=o.useRef(null),g=o.useRef(null),R=o.useRef(`dot-menu-portal-${bt()}`);dt(g,()=>t(!1));const w=Oe(),C=Object.keys(ke);o.useEffect(()=>{i&&ct({page_location:"components/fabStrip",page_title:"Dot Menu FabStrip"})},[i]);const oe=v=>{if(C.includes(v)){w.update({aiLanguage:v});return}Z({eventData:v,eventName:"SwitchLanguage",eventType:"Button",feature:"Dot Menu",firedFromFile:"features/chat/components/header"}),w.update({aiLanguage:"AUTO"})},U=()=>{Z({eventName:"OpenOptionsPage",eventType:"Button",feature:K[n],firedFromFile:"components/fabStrip/dotMenu"}),Mt.runtime.sendMessage({action:Pt.OPEN_OPTIONS_PAGE}),t(!1)};function ee(){var v,q,T,G,L;return(q=(v=w.details)==null?void 0:v.apiKey)!=null&&q.isEnabled?e.jsxs("div",{className:"flex items-center",children:[e.jsx(Me,{className:"res-icon-big fill-blue-400 text-blue-400"}),s("dotmenu.key")]}):((T=c.usageDetails)==null?void 0:T.type)===zt.PAID?e.jsx("div",{className:"flex items-center justify-center rounded-md border-2 border-amber-400 px-2 py-0.5 text-xs font-medium text-zinc-800 transition-colors duration-300 ease-in-out dark:border-amber-500 dark:text-zinc-100",children:e.jsx("span",{className:"whitespace-nowrap text-zinc-50",children:s("dotmenu.pro")})}):(G=c.usageDetails)!=null&&G.type&&et((L=c.usageDetails)==null?void 0:L.type)?e.jsxs("div",{className:"flex items-center",children:[e.jsx(Me,{className:"res-icon-big fill-blue-400 text-blue-400"}),s("dotmenu.work")]}):e.jsx("div",{onClick:()=>{Z({eventName:"GoProButton",eventType:"Button",feature:K[n],firedFromFile:"components/fabStrip/dotMenu"}),Ae(at+"?from=go-pro-three-dot-menu-fabstrip")},className:"bg-btn-gradient flex cursor-pointer items-center justify-center rounded-md bg-right-bottom px-2 py-0.5 text-xs font-medium transition-all duration-500 [background-size:400%_400%] hover:bg-left-top",children:e.jsx("span",{className:"whitespace-nowrap text-zinc-50",children:s("dotmenu.go_pro")})})}return e.jsxs("div",{className:u({"relative flex items-center text-gray-800 dark:text-gray-200":!0}),ref:b,children:[e.jsx("button",{id:"three-dot-menu",type:"button",ref:m,onMouseDownCapture:v=>{i&&(v.preventDefault(),v.stopPropagation())},onClick:()=>{t(!i)},children:e.jsx(Xt,{})}),e.jsx(Ht,{selector:{mountAsHtmlChild:!0},shouldMount:i,id:R.current,className:"merlin dot-menu-fab-strip-portal",groupBy:"dot-menu-fab-strip-portal-group",websiteOverride:!0,children:e.jsx(se,{children:e.jsxs(j.div,{ref:g,className:u("dark:bg-background my-2 flex h-fit w-48 flex-col rounded-lg border border-zinc-200 bg-zinc-100 text-sm shadow-lg dark:border-zinc-700 dark:text-zinc-100"),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"fixed",...At(m,{height:200,width:200},10,!1)},children:[e.jsxs("div",{className:"flex w-full justify-between px-2 py-1",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"h-5 w-5 cursor-pointer",onClick:()=>{Z({eventData:"Merlin Dashboard",eventName:"OpenPage",eventType:"Button",feature:K[n],firedFromFile:"components/fabStrip/dotMenu"}),Ae(St+"?from=go-pro-three-dot-menu-fabstrip"),t(!1)},children:e.jsx(Qt,{})}),e.jsx("div",{children:s("merlin")})]}),e.jsx("div",{children:c.isAuthenticated&&e.jsx(e.Fragment,{children:ee()})})]}),e.jsx("span",{className:u({"w-full border-b border-b-zinc-200 dark:border-b-zinc-800":!0})}),c.isAuthenticated&&e.jsx(e.Fragment,{children:!et((D=c.usageDetails)==null?void 0:D.type)&&!((ie=(te=w.details)==null?void 0:te.apiKey)!=null&&ie.isEnabled)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:u("flex w-full items-center justify-between px-2 py-0.5",{}),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Me,{className:"res-icon-big fill-amber-400 text-amber-400"}),((W=c.usageDetails)==null?void 0:W.limit)-((ae=c.usageDetails)==null?void 0:ae.used)]}),e.jsx("div",{children:s("dotmenu.queries_left")})]}),e.jsx("span",{className:u({"w-full border-b border-b-zinc-200 dark:border-b-zinc-800":!0})})]})}),e.jsxs("div",{ref:P,className:"language-dropdown group/language-dropdown relative flex w-full cursor-pointer items-center justify-between px-2 py-0.5 hover:bg-zinc-300 dark:hover:bg-zinc-800",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(lr,{className:"h-4 w-4 text-zinc-600 dark:text-zinc-300"}),s("dotmenu.lang")]}),e.jsx("div",{children:e.jsx(Se,{className:"h-4 w-4 text-zinc-600 dark:text-zinc-300"})}),e.jsx(se,{children:e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{delay:.1}},className:"c-hide group-hover/language-dropdown:c-show absolute right-[100%] top-0 h-fit w-48 flex-col overflow-hidden rounded-lg",children:e.jsx("div",{className:"merlinExt-custom-scrollbar scrollbar-w-1 dark:bg-background flex h-[121px] w-full scroll-m-1 flex-col gap-1 overflow-y-auto overflow-x-hidden scroll-smooth rounded border border-zinc-200 bg-zinc-100 text-sm text-zinc-700 dark:border-zinc-700 dark:text-zinc-100",children:C.map((v,q)=>{var T;return e.jsxs("div",{className:"flex cursor-pointer items-center justify-between px-2 py-0.5 text-sm hover:bg-zinc-200 hover:dark:bg-zinc-800",onClick:()=>oe(v),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Wt,{language:v}),ke[v]]}),ke[((T=w.details)==null?void 0:T.aiLanguage)??"AUTO"]==ke[v]&&e.jsx(Ee,{size:20,strokeWidth:4,color:"green"})]},q)})})})})]}),e.jsxs(e.Fragment,{children:[e.jsxs("button",{type:"button",className:u("flex w-full cursor-pointer appearance-none items-center gap-2 px-2 py-0.5 hover:bg-zinc-300 dark:hover:bg-zinc-800"),onClick:()=>{x&&x(pe.SAVED_PROMPTS),t(!1)},children:[e.jsx(ut,{className:u({"h-4 w-4 text-zinc-600 dark:text-zinc-300":!0})}),e.jsx("div",{children:s("dotmenu.all_prompts")})]}),e.jsx("span",{className:u({"w-full border-b border-b-zinc-200 dark:border-b-zinc-800":!0})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:u("group/disable relative flex w-full cursor-pointer items-center justify-between px-2 py-0.5 hover:bg-zinc-300 dark:hover:bg-zinc-800"),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Yt,{className:u({"h-4 w-4 text-zinc-600 dark:text-zinc-300":!0})}),s("dotmenu.disable")]}),e.jsx("div",{children:e.jsx(Se,{className:u({"h-4 w-4 text-zinc-600 dark:text-zinc-300":!0})})}),e.jsx(se,{children:e.jsx(j.div,{className:u("c-hide group-hover/disable:c-show dark:bg-background absolute right-[100%] top-0 flex h-fit w-48 flex-col overflow-hidden rounded-lg bg-zinc-100 text-sm text-zinc-800 dark:border dark:border-zinc-700 dark:text-zinc-200"),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:e.jsx("div",{className:u("flex w-full cursor-pointer items-center justify-between px-2 py-0.5 hover:bg-zinc-300 dark:hover:bg-zinc-800"),onClick:()=>{Z({eventName:"DisableFeature",eventType:"Button",feature:K[n],firedFromFile:"components/fabStrip/dotMenu"}),w.update(v=>{var q;return{...v,[n]:{isEnabled:(q=v[n])==null?void 0:q.isEnabled}}}),p()},children:s("dotmenu.forever")})})})]}),e.jsxs("button",{type:"button",onClick:U,className:u({"flex w-full cursor-pointer appearance-none items-center gap-2 px-2 py-0.5 transition-colors duration-300 ease-in-out hover:bg-zinc-300 dark:bg-inherit dark:hover:bg-zinc-800":!0}),children:[e.jsx("div",{children:e.jsx(cr,{className:u({"h-4 w-4 text-zinc-600 dark:text-zinc-300":!0})})}),e.jsx("p",{children:s("dotmenu.settings")})]})]}),e.jsxs(e.Fragment,{children:[e.jsx("span",{className:u({"w-full border-b border-b-zinc-200 dark:border-b-zinc-800":!0})}),e.jsxs("div",{children:[e.jsxs("div",{className:u("flex w-full cursor-pointer items-center gap-2 px-2 py-0.5 hover:bg-zinc-300 dark:hover:bg-zinc-800"),onClick:()=>{Z({eventData:"Product Wiki",eventName:"OpenPage",eventType:"Button",feature:K[n],firedFromFile:"components/fabStrip/dotMenu"}),window.open(Et,"_blank"),t(!1)},children:[e.jsx($t,{className:u({"h-4 w-4 text-zinc-600 dark:text-zinc-300":!0})}),e.jsx("div",{children:s("dotmenu.product_wiki")})]}),e.jsxs("div",{className:u("pt-0,5 group/support relative flex w-full cursor-pointer items-center justify-between rounded-b-lg px-2 pb-1 hover:bg-zinc-300 dark:hover:bg-zinc-800"),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Jt,{className:u({"h-4 w-4 text-zinc-600 dark:text-zinc-300":!0})}),s("dotmenu.support")]}),e.jsx("div",{children:e.jsx(Se,{className:u({"h-4 w-4 text-zinc-600 dark:text-zinc-300":!0})})}),e.jsx(se,{children:e.jsxs(j.div,{className:u("group-hover/support:c-show c-hide dark:bg-background absolute bottom-0 right-[100%] flex h-fit w-48 flex-col overflow-hidden rounded-lg bg-zinc-100 text-sm text-zinc-800 dark:border dark:border-zinc-700 dark:text-zinc-200"),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[e.jsx("a",{className:u("flex w-full cursor-pointer appearance-none items-center justify-between px-2 py-0.5 hover:bg-zinc-300 dark:hover:bg-zinc-800"),target:"_blank",onClick:()=>{var v;Z({eventData:"Mail Us",eventName:"OpenPage",eventType:"Button",feature:K[n],firedFromFile:"components/fabStrip/dotMenu"}),Ae(((v=c.usageDetails)==null?void 0:v.type)==="PAID"?"mailto:urgent-support@getmerlin.in":"mailto:support@getmerlin.in"),t(!1)},rel:"noreferrer",children:s("dotmenu.mail")}),e.jsx("div",{className:u("flex w-full cursor-pointer items-center justify-between px-2 py-0.5 hover:bg-zinc-300 dark:hover:bg-zinc-800"),onClick:()=>{Z({eventData:"Feedback Page",eventName:"OpenPage",eventType:"Button",feature:K[n],firedFromFile:"components/fabStrip/dotMenu"}),window.open(It,"_blank"),t(!1)},children:s("dotmenu.feedback")})]})})]})]})]})]})})})]})}const Be=o.createContext(null),fr=({children:f,isWebpage:s=!1})=>{const[c,i]=o.useState({editPrompt:!1,id:null}),[t,n]=o.useState({activeUI:"",isCollapsed:!s,isVisible:s}),[x,p]=o.useState({activeUI:"",isCollapsed:!s,isVisible:!0});return e.jsx(Be.Provider,{value:{editorState:c,isWebpage:s,leftUI:t,rightUI:x,setEditorState:i,setLeftUI:n,setRightUI:p},children:f})};function Ue(f=Ne.FALLBACK){const s=qt();return Gt({...Lt,select:i=>{const t=s.getQueryData(Rt.queryKey)??Dt;let n=[],x=[];Object.keys(t).includes(f)?(n=[...t[f]],x=[...t[f]]):(n=[...t[Ne.FALLBACK]],x=[...t[Ne.FALLBACK]]),i.userMade.forEach(m=>{const{id:P,promptName:g,promptTag:R,promptText:w}=m,C={content:w,id:P,name:g};R&&R===f?x=[C,...x]:x.push(C)});const p=[],b=[];return i.pinnedPromptIds.forEach(m=>{const P=i.userMade.find(w=>w.id===m);if(P){p.push(P);return}let g=null;const R=n.find((w,C)=>(g=C,i.userMade.length+C+""===m));if(R){p.push({id:i.userMade.length+g+"",promptName:R.name,promptTag:f,promptText:R.content,type:"merlin"});return}}),i.userMade.forEach(m=>{i.pinnedPromptIds.includes(m.id)||b.push(m)}),n.forEach((m,P)=>{i.pinnedPromptIds.includes(i.userMade.length+P+"")||b.push({id:i.userMade.length+P+"",promptName:m.name,promptTag:f,promptText:m.content,type:"merlin"})}),{...i,featureConfigPlusUserSavedPromptsForStrip:x,featurePromptsConfig:n,pinnedPrompts:p,unPinnedPrompts:b}}})}function mr(f){const{t:s}=xe(),{changeActiveWindow:c,from:i="DEFAULT",host:t,promptsFor:n,userPrompt:x}=f,{editorState:p,isWebpage:b,setEditorState:m,setLeftUI:P}=o.useContext(Be),g=Ue(),R=Zt(),w=pt(),[C,oe]=o.useState(""),[U,ee]=o.useState(x?x.toString():""),D=o.useRef(null),te=o.useRef(null);function ie(){i==="FAB_STRIP"?c(""):P({activeUI:"",isCollapsed:!1,isVisible:!1})}function W(){i==="FAB_STRIP"?c("Saved Prompts"):P({activeUI:"Saved Prompts",isCollapsed:!1,isVisible:!0})}o.useEffect(()=>{if(t==="twitter"){try{D.current.addEventListener("click",de),te.current.addEventListener("click",de)}catch{}return()=>{try{D.current.removeEventListener("click",de),te.current.removeEventListener("click",de)}catch{}}}},[]),o.useEffect(()=>{var N,E,re;if(p.editPrompt){const h=(N=g.data)==null?void 0:N.userMade.findIndex(k=>k.id===p.id);h&&(oe(((E=g.data)==null?void 0:E.userMade[h].promptName)??""),ee((re=g.data)==null?void 0:re.userMade[h].promptText))}return()=>{p.editPrompt&&m({editPrompt:!1,id:null})}},[]);const[ae,v]=o.useState(!1),[q,T]=o.useState(!1),[G,L]=o.useState(!1);async function H(){const N=tt(n??"");try{const E=await R.mutateAsync({id:bt(),promptName:C,promptTag:N,promptText:U});v(!1),L(!0),setTimeout(()=>{L(!1),W()},1e3)}catch{T(!0),v(!1),setTimeout(()=>{T(!1)},1e3)}}async function V(){var E,re,h,k,_;const N=tt(n??"");try{const O=(E=g.data)==null?void 0:E.userMade.findIndex(le=>le.id===p.id),F=(h=(re=g.data)==null?void 0:re.userMade[O])==null?void 0:h.type;if(F&&F==="merlin"){H();return}const X={id:(k=g.data)==null?void 0:k.userMade[O].id,promptName:C,promptTag:((_=g.data)==null?void 0:_.userMade[O].promptTag)??N,promptText:U},A=await w.mutateAsync(X);v(!1),L(!0),setTimeout(()=>{m({editPrompt:!1,id:null}),L(!1),W()},1e3)}catch{T(!0),v(!1),setTimeout(()=>{T(!1)},1e3)}}function fe(){return G?e.jsx("div",{className:"center-with-flex merlinExt-custom-scrollbar scrollbar-w-1 flex-1 overflow-y-auto overflow-x-hidden p-2",children:e.jsx("span",{className:"text-lg",children:p.editPrompt?s("prompt.edited"):s("prompt.added")})}):q?e.jsx("div",{className:"center-with-flex merlinExt-custom-scrollbar scrollbar-w-1 flex-1 overflow-y-auto overflow-x-hidden p-2",children:e.jsxs("span",{className:"text-lg",children:[s("fab_strip.failed_to_save"),"("]})}):ae?e.jsx("div",{className:"center-with-flex merlinExt-custom-scrollbar scrollbar-w-1 flex-1 overflow-y-auto overflow-x-hidden p-2",children:e.jsx("span",{className:"merlinExt-circular-loader"})}):e.jsxs("form",{onSubmit:N=>{if(N.preventDefault(),C.trim().length===0||U.trim().length===0)return!1;p.editPrompt?V():H(),v(!0)},className:"flex h-full flex-1 flex-col items-stretch justify-between gap-3",children:[e.jsxs("div",{className:"",children:[e.jsx("div",{className:"res-small-text mb-1 font-medium text-zinc-500",children:s("fab_strip.name")}),e.jsx("input",{ref:D,required:!0,type:"text",value:C,onChange:N=>oe(N.target.value),onInput:N=>{const E=N.target;E.checkValidity()&&E.value.trim().length===0?E.setCustomValidity("Please provide a prompt name"):E.setCustomValidity("")},placeholder:s("prompt.short_name"),autoFocus:!0,minLength:2,maxLength:40,className:"focus-visible:ring-cornblue-800 w-full rounded bg-zinc-100 p-3 outline-none dark:bg-zinc-800"})]}),e.jsxs("div",{className:"flex flex-1 flex-col items-stretch",children:[e.jsx("div",{className:"res-small-text mb-1 font-medium text-zinc-500",children:s("fab_strip.desc")}),e.jsx("textarea",{ref:te,required:!0,value:U,onChange:N=>ee(N.target.value),onInput:N=>{const E=N.target;E.checkValidity()&&E.value.trim().length===0?E.setCustomValidity("Please provide a prompt description"):E.setCustomValidity("")},placeholder:s("prompt.eg"),minLength:2,maxLength:8e3,className:"focus-visible:ring-cornblue-800 box-border h-full w-full flex-1 resize-none rounded bg-zinc-100 p-3 outline-none dark:bg-zinc-800"})]}),e.jsx("div",{className:"flex items-center justify-center gap-2",children:e.jsxs("button",{type:"submit",id:"save",className:"c-transition-colors flex items-center justify-center gap-1 rounded-lg bg-transparent px-3 py-2 hover:bg-zinc-400 dark:hover:bg-zinc-800",children:[e.jsx(Ee,{className:"res-icon-small"}),e.jsx("span",{children:s("fab_strip.save")})]})})]})}return e.jsxs(e.Fragment,{children:[!b&&e.jsxs("div",{className:"font-inter flex items-stretch justify-between border-b border-b-zinc-800 px-3 py-2",children:[p.editPrompt&&e.jsx("button",{type:"button",onClick:()=>W(),children:e.jsx(ft,{className:"res-icon-big"})}),e.jsx("span",{className:"flex items-center gap-1",children:p.editPrompt?e.jsxs(e.Fragment,{children:[e.jsx(je,{className:"res-icon-big"}),e.jsx("span",{className:"res-text-medium font-medium",children:s("fab_strip.edit_prompt")})]}):e.jsxs(e.Fragment,{children:[e.jsx(mt,{className:"res-icon-big"}),e.jsx("span",{className:"res-text-medium font-medium",children:s("fab_strip.save_prompt")})]})}),e.jsx("button",{type:"button",onClick:()=>ie(),children:e.jsx(Fe,{className:"res-icon-big"})})]}),e.jsx("div",{className:"res-small-text flex h-full flex-1 flex-col items-stretch bg-zinc-200 p-3 dark:bg-zinc-700",children:fe()})]})}function br(f){const{t:s}=xe(),c=ne.useRef(null),{handleCustomPrompt:i,host:t="none",setActiveWindow:n,setValue:x,value:p}=f,b=m=>{m.stopPropagation(),m.preventDefault(),x(m.target.value)};return ne.useEffect(()=>{c.current.style.height="auto",c.current.style.height=`${Math.min(c.current.scrollHeight+2,80)}px`},[p]),ne.useEffect(()=>{try{setTimeout(()=>{c.current.focus()},100)}catch{}},[]),ne.useEffect(()=>{if(t==="twitter"){const m=c.current;try{m.addEventListener("click",de)}catch{}return()=>{try{m.removeEventListener("click",de)}catch{}}}},[]),e.jsxs("div",{className:"center-with-flex border-cornblue-500 dark:border-cornblue-400 relative flex w-full appearance-none items-center justify-between gap-1 overflow-hidden truncate whitespace-nowrap rounded-2xl  border  px-2 py-[5.5px] text-sm text-zinc-700 outline-none transition-[colors,box-shadow] duration-300 placeholder:text-zinc-400 dark:text-zinc-200 dark:placeholder:text-zinc-400 ",children:[e.jsx("textarea",{value:p,ref:c,onChange:b,rows:1,style:{overflow:"auto",resize:"none",width:"100%"},className:"h-full resize-none border-none bg-inherit text-inherit outline-none placeholder:max-w-[90%] placeholder:truncate ",placeholder:s("fab_strip.personalized"),onKeyDown:m=>{m.shiftKey&&m.key==="Enter"||m.key==="Enter"&&(De({feature:K[t],firedFromFile:"components/fabStrip",prompt_text:p,prompt_type:"Custom"}),i(p),m.stopPropagation())}}),t!=="facebook"&&e.jsx(mt,{onClick:()=>{n(pe.SAVE_PROMPT)},className:"text-cornblue-500 dark:text-cornblue-200 h-5 w-5 cursor-pointer"})]})}const xt=f=>{var t,n;const s=Oe();return{model:(n=(t=s.details)==null?void 0:t[f])==null?void 0:n.preferredAIModel,updateModel:x=>{s.update(p=>({...p,[f]:{...p==null?void 0:p[f],preferredAIModel:x.id}}))}}};function xr(f){const{host:s,isTwitterModal:c=!1,mountOn:i="NONE",promptsFor:t,value:n}=f,[x,p]=o.useState(!1),{updateModel:b}=xt(s),m=o.useRef(null);return dt(m,ne.useCallback(()=>p(!1),[])),e.jsxs("div",{className:u({"relative flex items-center text-gray-800 dark:text-gray-200":!0}),ref:m,children:[e.jsxs("button",{className:"ml-2 rounded-full border border-gray-300 p-2 hover:bg-gray-100 dark:border-gray-700 dark:hover:bg-gray-800",type:"button",onClick:()=>{p(!x)},children:[(n==null?void 0:n.name)===ce.GPT_4.name&&e.jsx(rt,{className:"h-4 w-4"}),(n==null?void 0:n.name)===ce.GPT_3.name&&e.jsx(nt,{className:"h-4 w-4"})]}),e.jsx(se,{children:x&&e.jsxs(j.div,{className:u("absolute bottom-[45px] right-2 flex h-fit w-32 flex-col rounded-lg bg-zinc-200 text-sm shadow-lg dark:border dark:border-zinc-700 dark:bg-zinc-700",{"bottom-[4px] right-8":c||i===y.FACEBOOK.PERSONAL.POST,"top-[120%]":t===Ne.TWEET&&!c}),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[e.jsx("div",{onClick:()=>{b(ce.GPT_3),p(!x)},className:"w-full cursor-pointer justify-between rounded-t-lg px-2 py-1 hover:bg-zinc-300 dark:hover:bg-zinc-800",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"flex flex-1 items-center",children:[e.jsx("span",{className:"mr-2",children:e.jsx(nt,{className:"h-4 w-4"})}),ce.GPT_3.name]}),(n==null?void 0:n.name)===ce.GPT_3.name&&e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(Ee,{className:"h-4 w-4"})})]})}),e.jsx("span",{className:u({"w-full border-b border-b-zinc-200 dark:border-b-zinc-800":!0})}),e.jsx("div",{onClick:()=>{b(ce.GPT_4),p(!x)},className:"w-full cursor-pointer justify-between rounded-b-lg px-2 py-1 hover:bg-zinc-300 dark:hover:bg-zinc-800",children:e.jsxs("div",{className:"flex  gap-2",children:[e.jsxs("div",{className:"flex flex-1 items-center",children:[e.jsx("span",{className:"mr-2",children:e.jsx(rt,{className:"h-4 w-4"})}),ce.GPT_4.name]}),(n==null?void 0:n.name)===ce.GPT_4.name&&e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(Ee,{className:"h-4 w-4"})})]})})]})})]})}function hr(f){var E,re;const{t:s}=xe(),{changeActiveWindow:c,from:i="DEFAULT",host:t,updateUserPrompt:n}=f,[x,p]=o.useState(""),b=Ue(i),m=pt(),P=er(),{isWebpage:g,setEditorState:R,setLeftUI:w}=o.useContext(Be),[C,oe]=o.useState(!1),U=o.useRef(null),ee=o.useRef((E=b.data)==null?void 0:E.pinnedPrompts),D=o.useRef((re=b.data)==null?void 0:re.pinnedPrompts);o.useEffect(()=>{if(t==="twitter"){try{U.current.addEventListener("click",de)}catch{}return()=>{try{U.current.removeEventListener("click",de)}catch{}}}},[]);function te(h){W(),R({editPrompt:!0,id:h})}function ie(){i==="FAB_STRIP"?c(""):w({activeUI:"",isCollapsed:!1,isVisible:!1})}function W(){i==="FAB_STRIP"?c("Edit your prompt"):w({activeUI:"Edit your prompt",isCollapsed:!1,isVisible:!0})}async function ae(h){return P.mutateAsync({id:h})}const v=async h=>{var _;const k=[...((_=b.data)==null?void 0:_.pinnedPromptIds)??[],h.id];m.mutate({pinnedPromptIds:k})},q=async h=>{var _;const k=(_=b.data)==null?void 0:_.pinnedPromptIds.filter(O=>O!==h.id);m.mutate({pinnedPromptIds:k})},T=async h=>{ee.current=h},G=async h=>{m.mutateAsync({pinnedPromptIds:h})};function L(h,k){const _=[];return nr.go(h,k,{keys:["promptName","promptText"],scoreFn:F=>Math.max(F[0]?F[0].score:-1e3,F[1]?F[1].score-100:-1e3)}).forEach(F=>_.push(F.obj)),_}const H=()=>{oe(!0)},V=()=>{var O,F;oe(!1);const h=(O=ee.current)==null?void 0:O.map(X=>X.id),k=((F=D.current)==null?void 0:F.map(X=>X.id))??[];!(h!=null&&h.every((X,A)=>X===k[A]))&&(G(h),D.current=[...ee.current??[]])},fe=()=>{var h;return(h=b.data)==null?void 0:h.pinnedPrompts.map(k=>e.jsx(st.Item,{value:k,onDragStart:H,onDragEnd:V,children:e.jsxs("div",{className:"font-hanken dark:bg-background group relative min-h-[90px] items-stretch overflow-hidden rounded-[4px] bg-zinc-50",children:[e.jsxs("div",{onClick:()=>{C||n(k.promptText,!0)},className:"z-10 flex w-[92%] cursor-pointer flex-col items-stretch gap-1 p-3 transition-[width] group-hover:w-[90%]",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("span",{className:"truncate text-ellipsis whitespace-nowrap font-semibold",children:[k.promptName,(k==null?void 0:k.type)==="merlin"?" (by merlin)":""]})}),e.jsx("div",{className:"line-clamp-2 text-ellipsis",children:k.promptText})]}),e.jsxs("div",{className:"absolute right-[5px] top-1/2 flex h-[90%] w-[10%] -translate-y-1/2 flex-col items-center justify-center gap-[3px]",children:[e.jsx("div",{className:"absolute left-0 top-0 h-full w-full translate-x-[116%] rounded-[4px] bg-zinc-200 p-2 transition-all group-hover:translate-x-0 dark:bg-zinc-700"}),e.jsxs("div",{className:"relative top-0 z-10 flex w-full translate-x-[116%] flex-col items-center justify-center gap-[3px] transition-all group-hover:translate-x-0",children:[e.jsx("button",{type:"button",className:"dark:hover:bg-background rounded-sm p-[2px] hover:bg-zinc-50",onClick:()=>te(k.id),children:e.jsx(je,{size:16,className:"res-icon-small"})}),e.jsx("button",{onClick:()=>ae(k.id),type:"button",className:"dark:hover:bg-background rounded-sm p-[2px] hover:bg-zinc-50",children:e.jsx(we,{size:16,className:"res-icon-small"})})]}),e.jsx("button",{className:"dark:hover:bg-background z-10 rounded-sm p-[2px] hover:bg-zinc-50",type:"button",onClick:()=>q(k),children:e.jsx(Le,{size:16,className:"res-icon-small"})})]})]})},k.id))};function N(){var h,k,_,O,F,X,A,le,ge,ve;return b.isPending?e.jsx("div",{className:"center-with-flex flex-1",children:e.jsx("span",{className:"merlinExt-circular-loader"})}):b.isError?e.jsx("div",{className:"center-with-flex flex-1",children:"Failed to load your saved prompts"}):((h=b.data)==null?void 0:h.userMade.length)>0||((k=b.data)==null?void 0:k.pinnedPrompts.length)>0?x!==""?e.jsx(e.Fragment,{children:L(x,[...((_=b.data)==null?void 0:_.unPinnedPrompts)??[],...((O=b.data)==null?void 0:O.pinnedPrompts)??[]]).map(S=>e.jsx(j.div,{children:e.jsxs("div",{className:"font-hanken dark:bg-background group relative min-h-[90px] items-stretch overflow-hidden rounded-[4px] bg-zinc-50",children:[e.jsxs("div",{onClick:()=>{n(S.promptText,!0)},className:"flex w-full cursor-pointer flex-col items-stretch gap-1 p-3 transition-[width] group-hover:w-[90%]",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("span",{className:"truncate text-ellipsis whitespace-nowrap font-semibold",children:[S.promptName,(S==null?void 0:S.type)==="merlin"?" (by merlin)":""]})}),e.jsx("div",{className:"line-clamp-2 text-ellipsis",children:S.promptText})]}),e.jsxs("div",{className:"absolute right-[5px] top-1/2 flex h-[90%] w-[10%] -translate-y-1/2 translate-x-[116%] flex-col items-center justify-center gap-[3px] rounded-[4px] bg-zinc-200 p-2 transition-all group-hover:-translate-y-1/2 group-hover:translate-x-0 dark:bg-zinc-700",children:[e.jsx("button",{type:"button",className:"dark:hover:bg-background rounded-sm p-[2px] hover:bg-zinc-50",onClick:()=>te(S.id),children:e.jsx(je,{size:16,className:"res-icon-small"})}),e.jsx("button",{onClick:()=>ae(S.id),type:"button",className:"dark:hover:bg-background rounded-sm p-[2px] hover:bg-zinc-50",children:e.jsx(we,{size:16,className:"res-icon-small"})}),e.jsx("button",{className:"dark:hover:bg-background rounded-sm p-[2px] hover:bg-zinc-50",type:"button",onClick:()=>v(S),children:e.jsx(Le,{size:16,className:"res-icon-small"})})]})]})},S.id))}):e.jsxs(e.Fragment,{children:[((F=b.data)==null?void 0:F.pinnedPrompts.length)>0&&e.jsx("div",{style:{overflow:((X=b.data)==null?void 0:X.userMade.length)>0?"hidden":"initial"},className:"table overflow-hidden",children:e.jsx(st.Group,{axis:"y",values:(A=b.data)==null?void 0:A.pinnedPrompts,onReorder:T,className:"flex flex-col gap-2",children:fe()})}),((le=b.data)==null?void 0:le.pinnedPrompts.length)>0&&((ge=b.data)==null?void 0:ge.userMade.length)>0&&e.jsx(j.div,{className:"relative w-full py-1",children:e.jsx("div",{className:"dark:bg-background absolute left-0 top-1/2 h-[2px] w-full -translate-y-1/2 bg-zinc-300"})}),e.jsx("div",{className:"flex flex-col gap-2",children:(ve=b.data)==null?void 0:ve.unPinnedPrompts.map(S=>e.jsx(j.div,{layoutId:S.id,children:e.jsxs("div",{className:"font-hanken dark:bg-background group relative min-h-[90px] items-stretch overflow-hidden rounded-[4px] bg-zinc-50",children:[e.jsxs("div",{onClick:()=>{n(S.promptText,!0)},className:"flex w-full cursor-pointer flex-col items-stretch gap-1 p-3 transition-[width] group-hover:w-[90%]",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("span",{className:"truncate text-ellipsis whitespace-nowrap font-semibold",children:[S.promptName,(S==null?void 0:S.type)==="merlin"?" (by merlin)":""]})}),e.jsx("div",{className:"line-clamp-2 text-ellipsis",children:S.promptText})]}),e.jsxs("div",{className:"absolute right-[5px] top-1/2 flex h-[90%] w-[10%] -translate-y-1/2 translate-x-[116%] flex-col items-center justify-center gap-[3px] rounded-[4px] bg-zinc-200 p-2 transition-all group-hover:-translate-y-1/2 group-hover:translate-x-0 dark:bg-zinc-700",children:[e.jsx("button",{type:"button",className:"dark:hover:bg-background rounded-sm p-[2px] hover:bg-zinc-50",onClick:()=>te(S.id),children:e.jsx(je,{size:16,className:"res-icon-small"})}),e.jsx("button",{onClick:()=>ae(S.id),type:"button",className:"dark:hover:bg-background rounded-sm p-[2px] hover:bg-zinc-50",children:e.jsx(we,{size:16,className:"res-icon-small"})}),e.jsx("button",{className:"dark:hover:bg-background rounded-sm p-[2px] hover:bg-zinc-50",type:"button",onClick:()=>v(S),children:e.jsx(Le,{size:16,className:"res-icon-small"})})]})]})},S.id))})]}):e.jsxs("div",{className:"center-with-flex flex-1 flex-col",children:[e.jsxs("div",{children:[s("fab_strip.no_prev_prompt"),"("]}),e.jsx("div",{className:"mb-4",children:s("fab_strip.add_new_prompt")})]})}return e.jsxs(e.Fragment,{children:[!g&&e.jsxs("div",{className:"font-inter flex items-stretch justify-between border-b border-b-zinc-200 px-3 py-2 dark:border-b-zinc-800",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ut,{className:"res-icon-big"}),e.jsx("span",{className:"res-text-medium font-medium",children:s("fab_strip.saved_prompt")})]}),e.jsx("button",{type:"button",onClick:()=>ie(),children:e.jsx(Fe,{className:"res-icon-big"})})]}),e.jsxs("div",{className:"font-inter flex items-center justify-between gap-1 px-3 dark:bg-zinc-800",children:[e.jsx(tr,{className:"res-icon-big"}),e.jsx("input",{ref:U,type:"text",value:x,autoFocus:!0,onChange:h=>p(h.target.value),className:"w-full flex-1 bg-transparent p-2 focus-visible:outline-none dark:bg-zinc-800",placeholder:s("prompt.search_prompt")})]}),e.jsx("div",{className:"res-small-text merlinExt-custom-scrollbar scrollbar-w-1 flex h-full flex-col gap-2 overflow-y-auto bg-zinc-200 p-2 dark:bg-zinc-700",children:e.jsx(se,{children:N()})}),e.jsx("div",{className:"font-inter flex items-center justify-center rounded-b-lg px-3 py-1 dark:bg-zinc-800",children:e.jsxs("button",{type:"button",className:"c-transition-colors flex items-center justify-center gap-1 self-center rounded-md bg-transparent px-2 py-2 hover:bg-zinc-400 dark:hover:bg-zinc-700",onClick:()=>W(),children:[e.jsx(rr,{className:"res-icon-small"}),e.jsx("div",{className:"text-sm",children:s("fab_strip.add_prompt")})]})})]})}function gr({stopGenerating:f}){const{t:s}=xe();return e.jsxs("button",{type:"button",className:"center-with-flex border-cornblue-500 text-cornblue-500 hover:border-cornblue-600 hover:bg-cornblue-100 focus-visible:ring-cornblue-400 active:border-cornblue-700 disabled:border-cornblue-200 dark:border-cornblue-400 dark:text-cornblue-200 dark:hover:bg-cornblue-300/50 dark:focus-visible:text-cornblue-300 dark:focus-visible:ring-cornblue-500 dark:active:bg-cornblue-300/30 dark:disabled:border-cornblue-800 relative gap-1 overflow-hidden truncate whitespace-nowrap rounded-full border px-2 py-1 text-sm font-semibold ring-0 transition-[background-color,box-shadow] duration-300 focus-visible:outline-none focus-visible:ring",onClick:()=>{Z({eventName:"StopGeneratingButton",eventType:"Button",feature:"merlinOnSocialMedia",firedFromFile:"components/fabStrip"}),f()},children:[e.jsx(dr,{strokeWidth:0,size:"18px",fill:"red"}),s("fab_strip.stop_gen")]})}function vr(f){const{handleStripBtn:s,host:c="NONE",id:i,prompt:t,promptsFor:n,setCustomPromptActive:x,setTextareaValue:p}=f;function b(m){x(!0),p(m)}return e.jsxs("div",{className:"border-cornblue-500 text-cornblue-500 hover:border-cornblue-600  active:border-cornblue-700 disabled:border-cornblue-200 disabled:text-cornblue-200 dark:border-cornblue-400 dark:text-cornblue-200 dark:active:text-cornblue-100 dark:disabled:border-cornblue-800 dark:disabled:text-cornblue-800  flex max-w-[180px] items-center text-ellipsis whitespace-nowrap rounded-full border text-sm font-semibold transition-colors duration-300 ease-in-out",children:[e.jsx("button",{type:"button",onClick:()=>{c!=="twitter"&&s(t)},onMouseDownCapture:()=>{c==="twitter"&&s(t)},className:u({"border-cornblue-500 hover:border-cornblue-600 hover:bg-cornblue-100 focus-visible:ring-cornblue-400 active:border-cornblue-700 disabled:border-cornblue-200 dark:border-cornblue-400 dark:hover:bg-cornblue-300/50 dark:focus-visible:text-cornblue-300 dark:focus-visible:ring-cornblue-500 dark:active:bg-cornblue-300/30 dark:disabled:border-cornblue-800 truncate rounded-l-full border-r px-2 py-1  ring-0 transition-[background-color,box-shadow] duration-300 focus-visible:outline-none focus-visible:ring":!0}),children:f.children}),e.jsx("button",{type:"button",onClick:()=>b(t),className:u({"hover:bg-cornblue-100 focus-visible:ring-cornblue-400 dark:hover:bg-cornblue-300/50 dark:focus-visible:text-cornblue-300 dark:focus-visible:ring-cornblue-500 dark:active:bg-cornblue-300/30 h-full rounded-r-full  p-1 ring-0 transition-[background-color,box-shadow] duration-300 focus-visible:outline-none focus-visible:ring":!0}),children:e.jsx(sr,{className:"res-icon-big"})})]})}const pe={NONE:"",SAVE_PROMPT:"Edit your prompt",SAVED_PROMPTS:"Saved Prompts"};function Hr(f){var Ye,$e,Je,Ze;const{t:s}=xe(),{contextData:c,editor:i,host:t,mountOn:n,promptsFor:x,setTextareaValue:p,textareaValue:b,toggleStrip:m}=f,P=Ue(x),{...g}=o.useContext(lt),R=Oe(),[w,C]=o.useState(null),[oe,U]=o.useState(!1),[ee,D]=o.useState(!1),[te,ie]=o.useState(null),{model:W,updateModel:ae}=xt(t),v=o.useRef(null),q=o.useRef([]),T=o.useRef(null),G=o.useRef(null),L=o.useRef(null),H=o.useRef(null),V=o.useRef(null),[fe,N]=o.useState("none"),[E,re]=o.useState(!1),[h,k]=o.useState(""),[_,O]=o.useState(!1),[F,X]=o.useState(0),[A,le]=o.useState("left"),[ge,ve]=o.useState(""),[S,ht]=o.useState(""),[gt,vt]=o.useState(null);function qe(){if(V.current){const r=V.current.scrollLeft===0,a=Math.ceil(V.current.scrollLeft)>=V.current.scrollWidth-V.current.clientWidth;r&&le("left"),a&&le("right"),r&&a&&le("both"),!a&&!r&&le("none")}}function Ge(r){Object.values(pe).includes(r)?N(r):(console.error("Invalid window name passed to changeActiveWindow"),N(pe.NONE))}function Ie(r,a=!0){a&&D(!0),p(r),k(r),N(pe.NONE)}function Ve(){const{parentNode:r}=i,a=r.querySelector(".DraftEditor-root > .DraftEditor-editorContainer > .public-DraftEditor-content").querySelector(".public-DraftStyleDefault-block > span");T.current=a}function Pe(){var a,l,d,B;let r;n===y.LINKEDIN.COMMENT_REPLY||n===y.LINKEDIN.COMMENT?(l=(a=i.parentElement)==null?void 0:a.querySelector('div.ql-editor[contenteditable="true"][role="textbox"]'))!=null&&l.querySelector("p:last-child")?r=(B=(d=i.parentElement)==null?void 0:d.querySelector('div.ql-editor[contenteditable="true"][role="textbox"]'))==null?void 0:B.querySelector("p:last-child"):r=i.parentElement.querySelector('div.ql-editor[contenteditable="true"][role="textbox"]'):n===y.LINKEDIN.POST?r=i.closest(".share-box").querySelector(".ql-editor"):n===y.LINKEDIN.MESSAGE?r=i.parentNode.querySelector(".msg-form__contenteditable"):n===y.LINKEDIN.INVITE&&(r=i.parentNode.querySelector("textarea")),G.current=r}function yt(){const r=i.parentElement.parentElement,a='div[contenteditable="true"][role="textbox"]',l='div[aria-autocomplete="list"][aria-expanded="false"][contenteditable="true"][role="combobox"]',d='textarea[aria-busy="false"][aria-disabled="false"][aria-invalid="true"]',B="textarea";let z;r.querySelector(a)&&(z=r.querySelector(a)),r.querySelector(l)&&(z=r.querySelector(l)),r.querySelector(d)&&(z=r.querySelector(d)),r.querySelector(B)&&(z=r.querySelector(B)),v.current=z}function kt(){const r=i.parentElement,a='[dir="ltr"][role="textbox"][contenteditable="true"]';if(r.querySelector(a)){const l=r.querySelector(a);T.current=l}}const{handleSSE:M}=Kt(`${Tt.DOMAIN}/generative/${t}?generativeVersion=1.1`,"handleSSE",{method:"POST",onError:r=>{C(r)},onMessage:r=>{let l=JSON.parse(r.data).data.content;if(ht(d=>d+l),t==="twitter"){Ve();const d=T.current;l=l.replaceAll(`
`," "),new Promise(B=>setTimeout(()=>{he(d,l),B(null)},0))}else if(t==="linkedin"){Pe();const d=G.current;n===y.LINKEDIN.INVITE?(d.focus(),d.value+=l):n===y.LINKEDIN.MESSAGE?he(d,l):d.textContent+=l}else if(t==="facebook"){const d=v.current;if(n===y.FACEBOOK.BUSINESS.AD||n===y.FACEBOOK.BUSINESS.MESSAGE){d.focus(),d.value+=l;const B=new Event("input",{bubbles:!0});d.dispatchEvent(B)}else he(d,l)}else if(t==="outlook")he(T.current,l);else{H.current||(H.current=L.current),q.current.includes(H.current)||q.current.push(H.current),H.current.textContent+=l;const d=L.current.querySelector(".gmail_quote"),B=L.current.querySelector(".gmail_signature");if(l.includes(`
`)){const z=L.current.querySelector("br");z&&z.remove();const I=document.createElement("p"),ue=L.current;if(B){const J=H.current;J.parentElement.insertBefore(I,J.nextSibling)}else if(d){const J=d.parentNode.childNodes,_e=Array.prototype.indexOf.call(J,d);ue.insertBefore(I,ue.childNodes[_e])}else ue.appendChild(I);H.current=I}}},onOpen:async r=>{r.ok&&r.headers.get("X-Request-Id")&&vt(r.headers.get("X-Request-Id")),n===y.LINKEDIN.MESSAGE&&he(G.current,"")}});function Ke(r){const a=V.current,l=a.offsetWidth,d={left:-l+60,right:l-60};a.scrollBy(d[r],0),setTimeout(()=>{qe()},350)}async function We(){if(Z({eventName:"ClearButton",eventType:"Button",feature:K[t],firedFromFile:"components/fabStrip"}),C(null),p(""),t==="linkedin"){Pe();const r=G.current;n===y.LINKEDIN.MESSAGE?r.textContent="":n===y.LINKEDIN.INVITE?(r.value="",G.current.focus(),G.current.blur()):n===y.LINKEDIN.COMMENT_REPLY||n===y.LINKEDIN.COMMENT?r.closest('div.ql-editor[contenteditable="true"][role="textbox"]').innerHTML="":r.textContent="",M.setStatus("idle");return}if(t==="gmail"){q.current.forEach(r=>{r.textContent=""}),M.setStatus("idle");return}t==="outlook"&&(T.current.textContent="",M.setStatus("idle"))}function He(){Z({eventName:"GoBackButton",eventType:"Button",feature:K[t],firedFromFile:"components/fabStrip"}),M.setStatus("idle"),b&&D(!0)}function Qe(){Z({eventName:"RegenerateButton",eventType:"Button",feature:K[t],firedFromFile:"components/fabStrip"}),C(null),M.reset(),We(),me(te)}async function me(r,a=W==null?void 0:W.id){var B;if(t==="twitter"&&Ve(),t==="linkedin"){Pe();const z=G.current;try{z.textContent!==""&&(z.innerHTML+=`

`)}catch{}}if(t==="gmail"){let z=null;z=i.closest(".iN").querySelector('.editable[role="textbox"]'),L.current=z;const I=L.current;if(I==null?void 0:I.querySelector(".gmail_quote")){const J=document.createElement("div");I.insertBefore(J,I.childNodes[0]),H.current=J}else{const J=I.querySelector("div");H.current=J}}t==="facebook"&&yt(),t==="outlook"&&kt(),ie(r);let l=!1;typeof c=="object"?Object.values(c).filter(I=>!I).length>Object.values(c).length/2&&(l=!0):l=(c==null?void 0:c.length)===0;let d="";if(l){const z=Ot(),I=Ft.sanitize(z,{ADD_TAGS:["merlin-component"],FORBID_ATTR:["data-*"],FORBID_CONTENTS:["script"],FORBID_TAGS:["style","noscript","script","aside","code","pre","svg","img","iframe","video"],USE_PROFILES:{html:!0}}),ue='<merlin-component data-artdeco-is-focused="true" class="merlin fabStrip" id="merlin-fabStrip"></merlin-component>',J=I.indexOf(ue);if(J!==-1){const _e=Math.max(0,J-Math.floor(262144)),jt=Math.min(I.length,J+ue.length+Math.floor(512*1024/2));let ye=I.slice(_e,jt);for(;ye.length>512*1024;)ye=ye.slice(0,512*1024);d=ye}else d=I.slice(-1024*1024)}M.execute({context:c,language:((B=R.details)==null?void 0:B.aiLanguage)??"AUTO",modelId:a,mountOn:n,query:r,...d&&{sanitizedDomForContext:d.replaceAll(/\s\s+/g," ")}}),ve(JSON.stringify({contextData:c,feature:n,mountOn:n,prompt:r})),De({feature:K[t],firedFromFile:"components/fabStrip",prompt_text:r,prompt_type:"Saved"})}function Xe(r){r&&(ie(r),me(r),D(!1),U(!1))}o.useEffect(()=>{if(t==="linkedin"){const{parentNode:r}=i,a=new MutationObserver(l=>{for(const d of l){const{parentNode:B}=i,z=B.querySelector(".comments-comment-box__form-container .comments-comment-box__form .comments-comment-box__submit-button");try{z&&z.addEventListener("click",()=>{He()})}catch{}}});return a.observe(r,{attributes:!0,childList:!0,subtree:!0}),()=>{a.disconnect()}}qe()},[]),o.useEffect(()=>{if(t==="twitter"){const a=i.parentElement.closest('[aria-labelledby="modal-header"]');re(!!a)}},[]),o.useEffect(()=>{if(t==="linkedin"&&n===y.LINKEDIN.INVITE&&M.status==="success")try{G.current.blur()}catch{}},[M.status]),o.useEffect(()=>{if(V.current){const r=V.current.offsetWidth;V.current.scrollWidth>r?O(!0):O(!1)}},[V.current,(Ye=P.data)==null?void 0:Ye.featureConfigPlusUserSavedPromptsForStrip]);const ze=o.useRef(null),Ce=o.useRef(null),Te=ne.useRef(null);o.useEffect(()=>{if(t==="gmail"){let r=null;const a=i.closest(".h7.ie");if(a){const l=a.querySelector(".adn.ads");l&&(r=l.getAttribute("data-message-id"))}Ce.current=r;return}if(t==="facebook"){const r=document.querySelector('div[role="main"].x9f619.x1n2onr6.x1ja2u2z.x78zum5.x1iyjqo2.xs83m0k.xeuugli.xl56j7k.x1qjc9v5.xozqiw3.x1q0g3np.x1iplk16.x1xfsgkm.xqmdsaz.x1mtsufr.x1w9j1nh .x9f619.x1n2onr6.x1ja2u2z.x78zum5.xdt5ytf.x2lah0s.x193iq5w.xeuugli');r&&(ze.current=r.getAttribute("data-message-id"));return}if(t==="linkedin"&&n===y.LINKEDIN.INVITE){const r=document.querySelector(".scaffold-layout__main");if(r){const a=r.querySelector(".pv-top-card");if(a){const l=a.getAttribute("data-member-id")||"linkedin";Te.current=l}}}},[i]);const{[ze.current]:Y}=Re(ze.current,"facebook"),{[Ce.current]:Q}=Re(Ce.current,"gmail"),{[Te.current]:$}=Re(Te.current,"linkedin"),be=o.useRef(!1);o.useEffect(()=>{var r;t==="gmail"&&!g.isLoading&&g.isAuthenticated&&!be.current&&(Q.state&&((r=Q.state)==null?void 0:r.status)==="loading"&&(be.current=!0),(async()=>{var a,l,d;Q.state&&((a=Q.state)==null?void 0:a.status)==="loading"&&await me(Q.state.prompt,(d=(l=Q.state)==null?void 0:l.model)==null?void 0:d.id)})())},[($e=Q.state)==null?void 0:$e.status]),o.useEffect(()=>{var r;t==="facebook"&&!g.isLoading&&g.isAuthenticated&&!be.current&&(Y.state&&((r=Y.state)==null?void 0:r.status)==="loading"&&(be.current=!0),(async()=>{var a,l,d;Y.state&&((a=Y.state)==null?void 0:a.status)==="loading"&&await me(Y.state.prompt,(d=(l=Y.state)==null?void 0:l.model)==null?void 0:d.id)})())},[(Je=Y.state)==null?void 0:Je.status]),o.useEffect(()=>{var r;t==="linkedin"&&n===y.LINKEDIN.INVITE&&!g.isLoading&&g.isAuthenticated&&!be.current&&($.state&&((r=$.state)==null?void 0:r.status)==="loading"&&(be.current=!0),(async()=>{var a,l,d;$.state&&((a=$.state)==null?void 0:a.status)==="loading"&&await me($.state.prompt,(d=(l=$.state)==null?void 0:l.model)==null?void 0:d.id)})())},[(Ze=$.state)==null?void 0:Ze.status]),o.useEffect(()=>{(async()=>{var r;t==="gmail"&&Q.state&&M.status==="success"&&Q.state.status==="loading"&&(p((r=Q.state)==null?void 0:r.prompt),await Q.setSharedState({prompt:null,status:"idle"})),t==="facebook"&&Y.state&&M.status==="success"&&Y.state.status==="loading"&&await Y.setSharedState({prompt:null,status:"idle"}),t==="linkedin"&&n===y.LINKEDIN.INVITE&&$.state&&M.status==="success"&&$.state.status==="loading"&&await $.setSharedState({prompt:null,status:"idle"})})()},[M.status]),o.useEffect(()=>{g.isAuthenticated&&ct({page_location:"components/fabStrip",page_title:K[t]+" FabStrip"})},[g.isAuthenticated]),o.useEffect(()=>()=>{(async()=>(t==="gmail"&&Q.state&&await Q.setSharedState({prompt:null,status:"idle"}),t==="facebook"&&Y.state&&await Y.setSharedState({prompt:null,status:"idle"}),t==="linkedin"&&n===y.LINKEDIN.INVITE&&$.state&&await $.setSharedState({prompt:null,status:"idle"})))()},[]);function Nt(){var r,a;return w&&w.type===_t.RATE_LIMITED?e.jsx(j.span,{initial:{opacity:0},animate:{opacity:1,transition:{duration:.3}},children:e.jsxs("button",{type:"button",className:"center-with-flex border-cornblue-500 text-cornblue-500 hover:border-cornblue-600 hover:bg-cornblue-100 focus-visible:ring-cornblue-400 active:border-cornblue-700 disabled:border-cornblue-200 dark:border-cornblue-400 dark:text-cornblue-200 dark:hover:bg-cornblue-300/50 dark:focus-visible:text-cornblue-300 dark:focus-visible:ring-cornblue-500 dark:active:bg-cornblue-300/30 dark:disabled:border-cornblue-800 relative gap-1 overflow-hidden truncate whitespace-nowrap rounded-full border px-2 py-1 text-sm font-semibold ring-0 transition-[background-color,box-shadow] duration-300 focus-visible:outline-none focus-visible:ring",onClick:()=>window.open(at+"?from=out-of-queries-fabstrip","_blank"),children:[s("fab_strip.out_of_queries")," ",e.jsx("span",{className:"underline",children:s("fab_strip.merlin_pro")})," ",s("fab_strip.for_more")]})}):M.status==="streaming"||M.loading?e.jsxs("span",{className:"flex items-center justify-end gap-2 py-1",children:[e.jsx(j.span,{initial:{opacity:0,y:-10},animate:{opacity:1,transition:{delay:.1,duration:.3},y:0},children:e.jsx(gr,{stopGenerating:async()=>{M.close(),p(""),t==="gmail"&&await Q.setSharedState({prompt:null,status:"idle"}),t==="facebook"&&await Y.setSharedState({prompt:null,status:"idle"}),t==="linkedin"&&n===y.LINKEDIN.INVITE&&await $.setSharedState({prompt:null,status:"idle"})}})}),e.jsx(j.span,{initial:{opacity:0,y:-10},animate:{opacity:1,transition:{delay:.2,duration:.3},y:0},children:e.jsxs("span",{children:[s("fab_strip.writing"),"..."]})})]},"loading"):M.status==="success"&&n!==y.LINKEDIN.MESSAGE&&t!=="twitter"&&t!=="facebook"?e.jsxs("span",{className:"text-cornblue-500 dark:text-cornblue-200 flex items-stretch justify-end gap-2 py-1 text-sm font-semibold",children:[e.jsx(j.span,{initial:{opacity:0},animate:{opacity:1,transition:{duration:.3}},children:e.jsxs("button",{type:"button",className:"center-with-flex border-cornblue-500 hover:border-cornblue-600 hover:bg-cornblue-100 focus-visible:ring-cornblue-400 active:border-cornblue-700 disabled:border-cornblue-200 dark:border-cornblue-400 dark:hover:bg-cornblue-300/50 dark:focus-visible:text-cornblue-300 dark:focus-visible:ring-cornblue-500 dark:active:bg-cornblue-300/30 dark:disabled:border-cornblue-800 relative gap-1 overflow-hidden truncate whitespace-nowrap rounded-full rounded-l-full border px-2 py-1 ring-0 transition-[background-color,box-shadow] duration-300 focus-visible:outline-none focus-visible:ring",onClick:()=>He(),children:[n!==y.FACEBOOK.PERSONAL.MESSAGE&&e.jsx(ot,{size:20,strokeWidth:1.5}),s("fab_strip.go_back")]})}),e.jsx(j.span,{initial:{opacity:0},animate:{opacity:1,transition:{duration:.3}},children:e.jsxs("button",{type:"button",className:"center-with-flex border-cornblue-500 hover:border-cornblue-600 hover:bg-cornblue-100 focus-visible:ring-cornblue-400 active:border-cornblue-700 disabled:border-cornblue-200 dark:border-cornblue-400 dark:hover:bg-cornblue-300/50 dark:focus-visible:text-cornblue-300 dark:focus-visible:ring-cornblue-500 dark:active:bg-cornblue-300/30 dark:disabled:border-cornblue-800 relative gap-1 overflow-hidden truncate whitespace-nowrap rounded-full rounded-l-full border px-2 py-1 ring-0 transition-[background-color,box-shadow] duration-300 focus-visible:outline-none focus-visible:ring",onClick:()=>We(),children:[e.jsx(we,{size:20,strokeWidth:1.5}),s("fab_strip.clear")]})}),e.jsx(j.span,{initial:{opacity:0},animate:{opacity:1,transition:{duration:.3}},children:e.jsxs("button",{type:"button",className:"center-with-flex border-cornblue-500 hover:border-cornblue-600 hover:bg-cornblue-100 focus-visible:ring-cornblue-400 active:border-cornblue-700 disabled:border-cornblue-200 dark:border-cornblue-400 dark:hover:bg-cornblue-300/50 dark:focus-visible:text-cornblue-300 dark:focus-visible:ring-cornblue-500 dark:active:bg-cornblue-300/30 dark:disabled:border-cornblue-800 relative gap-1 overflow-hidden truncate whitespace-nowrap rounded-full rounded-l-full border px-2 py-1 ring-0 transition-[background-color,box-shadow] duration-300 focus-visible:outline-none focus-visible:ring",onClick:()=>Qe(),children:[e.jsx(it,{size:20,strokeWidth:1.5}),s("fab_strip.regen")]})})]},"success"):M.status==="error"||w?e.jsxs("span",{className:"flex items-stretch justify-end gap-2 py-1",children:[e.jsxs(j.span,{initial:{opacity:0,y:-10},animate:{opacity:1,transition:{delay:0*.1+.3,duration:.3},y:0},className:"group",children:[(w==null?void 0:w.message)&&e.jsxs("div",{className:"res-tiny-text absolute bottom-[120%] left-2/4 z-50 -mr-2 -mt-2 w-fit max-w-full -translate-x-2/4 font-medium opacity-0 transition-all duration-300 group-hover:opacity-100 group-hover:will-change-transform",children:[e.jsx("div",{className:"relative break-words rounded-lg bg-gray-100 px-2 py-1.5 text-center text-zinc-700 dark:bg-gray-800 dark:text-zinc-200",children:w.message}),e.jsx("div",{className:"absolute -bottom-1 left-1/2 -z-10 h-3 w-3 -translate-x-1/2 rotate-45 transform bg-gray-100 dark:bg-gray-800"})]}),e.jsxs("button",{type:"button",className:"center-with-flex relative cursor-default gap-1 overflow-hidden whitespace-nowrap rounded-full border-2 border-rose-500 bg-rose-100 px-2 py-1 text-sm text-rose-500 dark:border-rose-600 dark:bg-rose-900 dark:text-rose-100",children:[e.jsx(or,{size:20,strokeWidth:1.5}),s("external_mount.something_wrong")]})]}),e.jsx(j.span,{initial:{opacity:0,y:-10},animate:{opacity:1,transition:{delay:1*.1+.3,duration:.3},y:0},children:e.jsxs("button",{type:"button",className:"center-with-flex border-cornblue-500 hover:border-cornblue-600 hover:bg-cornblue-100 focus-visible:ring-cornblue-400 active:border-cornblue-700 disabled:border-cornblue-200 dark:border-cornblue-400 dark:hover:bg-cornblue-300/50 dark:focus-visible:text-cornblue-300 dark:focus-visible:ring-cornblue-500 dark:active:bg-cornblue-300/30 dark:disabled:border-cornblue-800 relative gap-1 overflow-hidden truncate whitespace-nowrap rounded-full rounded-l-full border px-2 py-1 ring-0 transition-[colors,box-shadow] duration-300 focus-visible:outline-none focus-visible:ring",onClick:()=>Qe(),children:[e.jsx(it,{size:20,strokeWidth:1.5}),s("external_mount.retry")]})})]},"error"):(r=P.data)!=null&&r.featureConfigPlusUserSavedPromptsForStrip?ee?e.jsxs(j.div,{className:"center-with-flex min-h-[33px] w-full gap-2",initial:{opacity:0,y:-10},animate:{opacity:1,transition:{delay:.4,duration:.3},y:0},children:[e.jsx(j.button,{initial:{opacity:0,y:-10},animate:{opacity:1,transition:{delay:.6,duration:.3},y:0},className:"appearance-none",onClick:()=>{D(!1),Ie("",!1)},children:e.jsx(ft,{className:"text-cornblue-500 dark:text-cornblue-200 h-5 w-5"})}),e.jsx(br,{value:b,setValue:Ie,setActiveWindow:N,host:t,handleCustomPrompt:Xe}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(j.button,{initial:{opacity:0,y:-10},animate:{opacity:1,transition:{delay:.5,duration:.3},y:0},className:"appearance-none",onClick:()=>{De({feature:K[t],firedFromFile:"components/fabStrip",prompt_text:b,prompt_type:"Custom"}),Xe(b)},children:e.jsx(ar,{className:"text-cornblue-500 dark:text-cornblue-200 h-5 w-5"})})})]}):e.jsxs(e.Fragment,{children:[e.jsx(se,{children:e.jsx(j.button,{initial:{opacity:0,y:-10},animate:{opacity:1,transition:{delay:0*.1+.3,duration:.3},y:0},exit:{opacity:0,y:-10},onClick:()=>Ke("left"),disabled:A==="left"||A==="both",className:u("center-with-flex",A==="left"||A==="both"?"text-gray-500 focus-visible:outline-none":"text-cornblue-500 focus-visible:outline-cornblue-400 dark:text-cornblue-200 dark:focus-visible:text-cornblue-300 dark:focus-visible:outline-cornblue-500 rounded-full outline-none transition-[background-color,outline] duration-300 ease-in-out focus-visible:outline-2 focus-visible:outline-offset-0"),id:"leftBtn",children:e.jsx(ot,{size:20,className:u("rounded-full transition-colors duration-200 ease-in-out",A==="left"||A==="both"?"":"hover:bg-cornblue-100 dark:hover:bg-cornblue-300/50 bg-transparent")})})}),e.jsx("span",{ref:V,className:u({"merlinExt-custom-scrollbar scrollbar-h-1 flex snap-x scroll-px-0.5 items-stretch justify-between gap-2 overflow-x-auto scroll-smooth px-0.5 py-1":!0,"pr-1":!_}),children:(a=P.data)==null?void 0:a.featureConfigPlusUserSavedPromptsForStrip.map((l,d)=>e.jsx(j.span,{className:"snap-start",initial:{opacity:0,y:-10},animate:{opacity:1,transition:{delay:d*.1+.4,duration:.3},y:0},children:e.jsx(vr,{id:d,prompt:l.content,promptsFor:x,handleStripBtn:me,setTextareaValue:p,setCustomPromptActive:D,host:t,children:l.name})},d))}),e.jsx(se,{children:_&&e.jsx(j.button,{initial:{opacity:0,y:-10},animate:{opacity:1,transition:{delay:4*.1+.3,duration:.3},y:0},exit:{opacity:0,y:-10},onClick:()=>Ke("right"),disabled:A==="right"||A==="both",className:u("center-with-flex",A==="right"||A==="both"?"text-gray-500 focus-visible:outline-none":"text-cornblue-500 focus-visible:outline-cornblue-400 dark:text-cornblue-200 dark:focus-visible:text-cornblue-300 dark:focus-visible:outline-cornblue-500 rounded-full outline-none transition-[background-color,outline] duration-300 ease-in-out focus-visible:outline-2 focus-visible:outline-offset-0"),id:"rightBtn",children:e.jsx(Se,{size:20,className:u("rounded-full transition-colors duration-200 ease-in-out",A==="right"||A==="both"?"":"hover:bg-cornblue-100 dark:hover:bg-cornblue-300/50 bg-transparent")})})}),e.jsxs("div",{className:"center-with-flex",children:[e.jsx(j.button,{initial:{opacity:0,y:-10},animate:{opacity:1,transition:{delay:5*.1+.3,duration:.3},y:0},exit:{opacity:0},className:u("center-with-flex border-cornblue-500 text-cornblue-500 hover:border-cornblue-600 hover:bg-cornblue-100 focus-visible:ring-cornblue-400 active:border-cornblue-700 disabled:border-cornblue-200 dark:border-cornblue-400 dark:text-cornblue-200 dark:hover:bg-cornblue-300/50 dark:focus-visible:text-cornblue-300 dark:focus-visible:ring-cornblue-500 dark:active:bg-cornblue-300/30 dark:disabled:border-cornblue-800 gap-1 rounded-full border px-2 py-1 text-sm font-semibold ring-0 transition-[background-color,box-shadow] duration-300 focus-visible:outline-none focus-visible:ring"),onMouseEnter:()=>{U(!0)},onMouseLeave:()=>{U(!1)},onMouseDownCapture:()=>{D(!0),U(!1)},children:s("external_mount.create")}),e.jsx(se,{children:oe&&e.jsx(Ut,{text:s("external_mount.create_prompt"),className:u("absolute -top-[34px] z-[99999] text-xs font-medium",t==="facebook"&&"right-[0px]",(n===y.GMAIL.GMAIL_COMPOSE||n===y.GMAIL.GMAIL_REPLY)&&"right-[50px]",n===y.GMAIL.GMAIL_EXTERNAL_MOUNT&&"right- left-[48%] w-fit")})})]})]}):e.jsx("span",{className:u({"flex items-stretch justify-end gap-2 py-1":!0}),children:e.jsx(j.span,{initial:{opacity:0,y:-10},animate:{opacity:1,transition:{delay:.3,duration:.3},y:0},children:e.jsxs("span",{children:[s("external_mount.loading"),"..."]})})})}return e.jsx(fr,{children:e.jsxs(se,{children:[e.jsxs(j.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:u("center-with-flex merlin-fab-strip flex gap-1 px-1",{"bg-white":t==="gmail","items-stretch":!ee,"mt-3":n===y.LINKEDIN.INVITE,"plain-text-color":t!=="gmail","pt-[6px]":ee,"px-2 pl-4":n===y.LINKEDIN.COMMENT,"px-5":n===y.LINKEDIN.POST}),children:[!g.isLoading&&g.isAuthenticated&&e.jsxs("div",{className:u({"flex flex-1 items-stretch justify-end gap-1 overflow-hidden":!0,"justify-start":n===y.GMAIL.GMAIL_EXTERNAL_MOUNT}),children:[Nt(),fe===pe.SAVE_PROMPT&&e.jsx("div",{className:"dark:bg-background fixed left-2/4 top-2/4 z-[2147483647] flex h-[40vh] min-h-[420px] w-[30vw] max-w-[360px] -translate-x-2/4 -translate-y-2/4 flex-col items-stretch rounded-lg border border-zinc-200 bg-zinc-50 dark:border-zinc-800",children:e.jsx(mr,{userPrompt:h||b,changeActiveWindow:Ge,host:t,from:"FAB_STRIP",setUserPromptsUpdated:X,promptsFor:x})}),fe===pe.SAVED_PROMPTS&&e.jsx("div",{className:"dark:bg-background fixed left-2/4 top-2/4 z-[2147483647] flex h-[40vh] min-h-[420px] w-[30vw] max-w-[360px] -translate-x-2/4 -translate-y-2/4 flex-col items-stretch rounded-lg border border-zinc-200 bg-zinc-50 dark:border-zinc-800",children:e.jsx(hr,{changeActiveWindow:Ge,updateUserPrompt:Ie,host:t,from:"FAB_STRIP",setUserPromptsUpdated:X,promptsFor:x})})]}),!g.isLoading&&!g.isAuthenticated&&n!==y.GMAIL.GMAIL_EXTERNAL_MOUNT&&e.jsx(j.span,{className:u({"ml-auto py-1":!0}),initial:{opacity:0},animate:{opacity:1,transition:{duration:.3}},children:e.jsx("button",{type:"button",className:"center-with-flex border-cornblue-500 text-cornblue-500 hover:border-cornblue-600 hover:bg-cornblue-100 focus-visible:ring-cornblue-400 active:border-cornblue-700 disabled:border-cornblue-200 dark:border-cornblue-400 dark:text-cornblue-200 dark:hover:bg-cornblue-300/50 dark:focus-visible:text-cornblue-300 dark:focus-visible:ring-cornblue-500 dark:active:bg-cornblue-300/30 dark:disabled:border-cornblue-800 relative gap-1 overflow-hidden truncate whitespace-nowrap rounded-full border px-2 py-1 text-sm font-semibold ring-0 transition-[background-color,box-shadow] duration-300 focus-visible:outline-none focus-visible:ring",onClick:()=>{Z({eventData:"Merlin Login",eventName:"OpenPage",eventType:"Button",feature:K[t],firedFromFile:"components/fabStrip"}),window.open(Ct,"_blank")},children:s("external_mount.login")})}),n!==y.GMAIL.GMAIL_EXTERNAL_MOUNT&&e.jsxs("div",{className:u({"flex items-stretch justify-between gap-1":!0}),children:[e.jsx(xr,{position:f.dotMenuPosition,promptsFor:x,isTwitterModal:!1,setActiveWindow:N,host:t,value:W}),e.jsx(pr,{position:f.dotMenuPosition,promptsFor:x,mountOn:n,isTwitterModal:E,setActiveWindow:N,host:t}),t==="gmail"&&e.jsx("button",{type:"button",onClick:()=>m(R.details,R.update,!1),children:e.jsx(Fe,{className:u({"res-icon-big":!0})})})]})]}),M.status==="success"&&e.jsx("div",{className:"m-2",children:e.jsx(Bt,{queryTerms:ge,promptResult:S,callingSite:window.location.href,email:!g.email||g.email===""?"EMAIL_NOT_FOUND":g.email,requestId:gt})})]})})}export{fr as C,pr as D,br as E,Hr as F,xr as G,mr as S,xt as a,hr as b,vr as c,Re as u};
