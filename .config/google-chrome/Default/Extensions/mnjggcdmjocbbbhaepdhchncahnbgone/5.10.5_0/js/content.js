/*! For license information please see content.js.LICENSE.txt */
(()=>{"use strict";var e={2551:(e,t,n)=>{var o=n(6540),i=n(9982);function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var c=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function m(e,t,n,o,i,r,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=o,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=r,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,o){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:o||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,o){if(null==t||function(e,t,n,o){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!o&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,o))return!0;if(o)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,o)&&(n=null),o||null===i?function(e){return!!d.call(h,e)||!d.call(f,e)&&(p.test(e)?h[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,o=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,o?e.setAttributeNS(o,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var S=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),k=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),M=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),_=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var A=Symbol.iterator;function O(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=A&&e[A]||e["@@iterator"])?e:null}var B,R=Object.assign;function F(e){if(void 0===B)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||""}return"\n"+B+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var o=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){o=e}e.call(t.prototype)}else{try{throw Error()}catch(e){o=e}e()}}catch(t){if(t&&o&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),r=o.stack.split("\n"),s=i.length-1,a=r.length-1;1<=s&&0<=a&&i[s]!==r[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==r[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==r[a]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return V(e.type,!1);case 11:return V(e.type.render,!1);case 1:return V(e.type,!0);default:return""}}function j(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case T:return"Fragment";case k:return"Portal";case x:return"Profiler";case C:return"StrictMode";case N:return"Suspense";case P:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case M:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case L:return null!==(t=e.displayName||null)?t:j(e.type)||"Memo";case _:t=e._payload,e=e._init;try{return j(e(t))}catch(e){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return j(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function $(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,r=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){o=""+e,r.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(e){o=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o="";return e&&(o=q(e)?e.checked?"true":"false":e.value),(e=o)!==n&&(t.setValue(e),!0)}function K(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function G(e,t){var n=t.checked;return R({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,o=null!=t.checked?t.checked:t.defaultChecked;n=$(null!=t.value?t.value:n),e._wrapperState={initialChecked:o,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=$(t.value),o=t.type;if(null!=n)"number"===o?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===o||"reset"===o)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!("submit"!==o&&"reset"!==o||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,o){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&o&&(e[n].defaultSelected=!0)}else{for(n=""+$(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(o&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function oe(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(r(91));return R({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(r(92));if(te(n)){if(1<n.length)throw Error(r(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:$(n)}}function re(e,t){var n=$(t.value),o=$(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=o&&(e.defaultValue=""+o)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,o){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function pe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var o=0===n.indexOf("--"),i=me(n,t[n],o);"float"===n&&(n="cssFloat"),o?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(r(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(r(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(r(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Se=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Te=null,Ce=null;function xe(e){if(e=Si(e)){if("function"!=typeof ke)throw Error(r(280));var t=e.stateNode;t&&(t=ki(t),ke(e.stateNode,e.type,t))}}function Ee(e){Te?Ce?Ce.push(e):Ce=[e]:Te=e}function Me(){if(Te){var e=Te,t=Ce;if(Ce=Te=null,xe(e),t)for(e=0;e<t.length;e++)xe(t[e])}}function Ie(e,t){return e(t)}function Ne(){}var Pe=!1;function Le(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ie(e,t,n)}finally{Pe=!1,(null!==Te||null!==Ce)&&(Ne(),Me())}}function _e(e,t){var n=e.stateNode;if(null===n)return null;var o=ki(n);if(null===o)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(o=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!o;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(r(231,t,typeof n));return n}var De=!1;if(c)try{var Ae={};Object.defineProperty(Ae,"passive",{get:function(){De=!0}}),window.addEventListener("test",Ae,Ae),window.removeEventListener("test",Ae,Ae)}catch(ce){De=!1}function Oe(e,t,n,o,i,r,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var Be=!1,Re=null,Fe=!1,Ue=null,Ve={onError:function(e){Be=!0,Re=e}};function ze(e,t,n,o,i,r,s,a,l){Be=!1,Re=null,Oe.apply(Ve,arguments)}function je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function $e(e){if(je(e)!==e)throw Error(r(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=je(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,o=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(o=i.return)){n=o;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return $e(i),e;if(s===o)return $e(i),t;s=s.sibling}throw Error(r(188))}if(n.return!==o.return)n=i,o=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,o=s;break}if(l===o){a=!0,o=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,o=i;break}if(l===o){a=!0,o=s,n=i;break}l=l.sibling}if(!a)throw Error(r(189))}}if(n.alternate!==o)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ye=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,Ge=i.unstable_shouldYield,Qe=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,ot=i.unstable_IdlePriority,it=null,rt=null,st=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2,ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var n=e.pendingLanes;if(0===n)return 0;var o=0,i=e.suspendedLanes,r=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?o=dt(a):0!=(r&=s)&&(o=dt(r))}else 0!=(s=n&~i)?o=dt(s):0!==r&&(o=dt(r));if(0===o)return 0;if(0!==t&&t!==o&&!(t&i)&&((i=o&-o)>=(r=t&-t)||16===i&&4194240&r))return t;if(4&o&&(o|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=o;0<t;)i=1<<(n=31-st(t)),o|=e[n],t&=~i;return o}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return!(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var o=31-st(n),i=1<<o;i&t|e[o]&t&&(e[o]|=t),n&=~i}}var bt=0;function St(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var wt,kt,Tt,Ct,xt,Et=!1,Mt=[],It=null,Nt=null,Pt=null,Lt=new Map,_t=new Map,Dt=[],At="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_t.delete(t.pointerId)}}function Bt(e,t,n,o,i,r){return null===e||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:o,nativeEvent:r,targetContainers:[i]},null!==t&&null!==(t=Si(t))&&kt(t),e):(e.eventSystemFlags|=o,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Rt(e){var t=bi(e.target);if(null!==t){var n=je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void xt(e.priority,(function(){Tt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Si(n))&&kt(t),e.blockedOn=n,!1;var o=new(n=e.nativeEvent).constructor(n.type,n);Se=o,n.target.dispatchEvent(o),Se=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){Et=!1,null!==It&&Ft(It)&&(It=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==Pt&&Ft(Pt)&&(Pt=null),Lt.forEach(Ut),_t.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function jt(e){function t(t){return zt(t,e)}if(0<Mt.length){zt(Mt[0],e);for(var n=1;n<Mt.length;n++){var o=Mt[n];o.blockedOn===e&&(o.blockedOn=null)}}for(null!==It&&zt(It,e),null!==Nt&&zt(Nt,e),null!==Pt&&zt(Pt,e),Lt.forEach(t),_t.forEach(t),n=0;n<Dt.length;n++)(o=Dt[n]).blockedOn===e&&(o.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Rt(n),null===n.blockedOn&&Dt.shift()}var Ht=S.ReactCurrentBatchConfig,$t=!0;function qt(e,t,n,o){var i=bt,r=Ht.transition;Ht.transition=null;try{bt=1,Yt(e,t,n,o)}finally{bt=i,Ht.transition=r}}function Wt(e,t,n,o){var i=bt,r=Ht.transition;Ht.transition=null;try{bt=4,Yt(e,t,n,o)}finally{bt=i,Ht.transition=r}}function Yt(e,t,n,o){if($t){var i=Gt(e,t,n,o);if(null===i)qo(e,t,o,Kt,n),Ot(e,o);else if(function(e,t,n,o,i){switch(t){case"focusin":return It=Bt(It,e,t,n,o,i),!0;case"dragenter":return Nt=Bt(Nt,e,t,n,o,i),!0;case"mouseover":return Pt=Bt(Pt,e,t,n,o,i),!0;case"pointerover":var r=i.pointerId;return Lt.set(r,Bt(Lt.get(r)||null,e,t,n,o,i)),!0;case"gotpointercapture":return r=i.pointerId,_t.set(r,Bt(_t.get(r)||null,e,t,n,o,i)),!0}return!1}(i,e,t,n,o))o.stopPropagation();else if(Ot(e,o),4&t&&-1<At.indexOf(e)){for(;null!==i;){var r=Si(i);if(null!==r&&wt(r),null===(r=Gt(e,t,n,o))&&qo(e,t,o,Kt,n),r===i)break;i=r}null!==i&&o.stopPropagation()}else qo(e,t,o,null,n)}}var Kt=null;function Gt(e,t,n,o){if(Kt=null,null!==(e=bi(e=we(o))))if(null===(t=je(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case ot:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,o=n.length,i="value"in Xt?Xt.value:Xt.textContent,r=i.length;for(e=0;e<o&&n[e]===i[e];e++);var s=o-e;for(t=1;t<=s&&n[o-t]===i[r-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function on(){return!1}function rn(e){function t(t,n,o,i,r){for(var s in this._reactName=t,this._targetInst=o,this.type=n,this.nativeEvent=i,this.target=r,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:on,this.isPropagationStopped=on,this}return R(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=rn(un),dn=R({},un,{view:0,detail:0}),pn=rn(dn),fn=R({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),hn=rn(fn),mn=rn(R({},fn,{dataTransfer:0})),gn=rn(R({},dn,{relatedTarget:0})),vn=rn(R({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=R({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=rn(yn),Sn=rn(R({},un,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function xn(){return Cn}var En=R({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Mn=rn(En),In=rn(R({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=rn(R({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xn})),Pn=rn(R({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ln=R({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_n=rn(Ln),Dn=[9,13,27,32],An=c&&"CompositionEvent"in window,On=null;c&&"documentMode"in document&&(On=document.documentMode);var Bn=c&&"TextEvent"in window&&!On,Rn=c&&(!An||On&&8<On&&11>=On),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var jn=!1,Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function qn(e,t,n,o){Ee(o),0<(t=Yo(t,"onChange")).length&&(n=new cn("onChange","change",null,n,o),e.push({event:n,listeners:t}))}var Wn=null,Yn=null;function Kn(e){Uo(e,0)}function Gn(e){if(Y(wi(e)))return e}function Qn(e,t){if("change"===e)return t}var Xn=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var eo=document.createElement("div");eo.setAttribute("oninput","return;"),Zn="function"==typeof eo.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function to(){Wn&&(Wn.detachEvent("onpropertychange",no),Yn=Wn=null)}function no(e){if("value"===e.propertyName&&Gn(Yn)){var t=[];qn(t,Yn,e,we(e)),Le(Kn,t)}}function oo(e,t,n){"focusin"===e?(to(),Yn=n,(Wn=t).attachEvent("onpropertychange",no)):"focusout"===e&&to()}function io(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(Yn)}function ro(e,t){if("click"===e)return Gn(t)}function so(e,t){if("input"===e||"change"===e)return Gn(t)}var ao="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function lo(e,t){if(ao(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var i=n[o];if(!d.call(t,i)||!ao(e[i],t[i]))return!1}return!0}function uo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function co(e,t){var n,o=uo(e);for(e=0;o;){if(3===o.nodeType){if(n=e+o.textContent.length,e<=t&&n>=t)return{node:o,offset:t-e};e=n}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=uo(o)}}function po(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?po(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fo(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function ho(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mo(e){var t=fo(),n=e.focusedElem,o=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&po(n.ownerDocument.documentElement,n)){if(null!==o&&ho(n))if(t=o.start,void 0===(e=o.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,r=Math.min(o.start,i);o=void 0===o.end?r:Math.min(o.end,i),!e.extend&&r>o&&(i=o,o=r,r=i),i=co(n,r);var s=co(n,o);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),r>o?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var go=c&&"documentMode"in document&&11>=document.documentMode,vo=null,yo=null,bo=null,So=!1;function wo(e,t,n){var o=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;So||null==vo||vo!==K(o)||(o="selectionStart"in(o=vo)&&ho(o)?{start:o.selectionStart,end:o.selectionEnd}:{anchorNode:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset},bo&&lo(bo,o)||(bo=o,0<(o=Yo(yo,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:o}),t.target=vo)))}function ko(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var To={animationend:ko("Animation","AnimationEnd"),animationiteration:ko("Animation","AnimationIteration"),animationstart:ko("Animation","AnimationStart"),transitionend:ko("Transition","TransitionEnd")},Co={},xo={};function Eo(e){if(Co[e])return Co[e];if(!To[e])return e;var t,n=To[e];for(t in n)if(n.hasOwnProperty(t)&&t in xo)return Co[e]=n[t];return e}c&&(xo=document.createElement("div").style,"AnimationEvent"in window||(delete To.animationend.animation,delete To.animationiteration.animation,delete To.animationstart.animation),"TransitionEvent"in window||delete To.transitionend.transition);var Mo=Eo("animationend"),Io=Eo("animationiteration"),No=Eo("animationstart"),Po=Eo("transitionend"),Lo=new Map,_o="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Do(e,t){Lo.set(e,t),l(t,[e])}for(var Ao=0;Ao<_o.length;Ao++){var Oo=_o[Ao];Do(Oo.toLowerCase(),"on"+(Oo[0].toUpperCase()+Oo.slice(1)))}Do(Mo,"onAnimationEnd"),Do(Io,"onAnimationIteration"),Do(No,"onAnimationStart"),Do("dblclick","onDoubleClick"),Do("focusin","onFocus"),Do("focusout","onBlur"),Do(Po,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ro=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bo));function Fo(e,t,n){var o=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,o,i,s,a,l,u){if(ze.apply(this,arguments),Be){if(!Be)throw Error(r(198));var c=Re;Be=!1,Re=null,Fe||(Fe=!0,Ue=c)}}(o,t,void 0,e),e.currentTarget=null}function Uo(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var o=e[n],i=o.event;o=o.listeners;e:{var r=void 0;if(t)for(var s=o.length-1;0<=s;s--){var a=o[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==r&&i.isPropagationStopped())break e;Fo(i,a,u),r=l}else for(s=0;s<o.length;s++){if(l=(a=o[s]).instance,u=a.currentTarget,a=a.listener,l!==r&&i.isPropagationStopped())break e;Fo(i,a,u),r=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Vo(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var o=e+"__bubble";n.has(o)||($o(t,e,2,!1),n.add(o))}function zo(e,t,n){var o=0;t&&(o|=4),$o(n,e,o,t)}var jo="_reactListening"+Math.random().toString(36).slice(2);function Ho(e){if(!e[jo]){e[jo]=!0,s.forEach((function(t){"selectionchange"!==t&&(Ro.has(t)||zo(t,!1,e),zo(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[jo]||(t[jo]=!0,zo("selectionchange",!1,t))}}function $o(e,t,n,o){switch(Qt(t)){case 1:var i=qt;break;case 4:i=Wt;break;default:i=Yt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),o?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qo(e,t,n,o,i){var r=o;if(!(1&t||2&t||null===o))e:for(;;){if(null===o)return;var s=o.tag;if(3===s||4===s){var a=o.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=o.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=bi(a)))return;if(5===(l=s.tag)||6===l){o=r=s;continue e}a=a.parentNode}}o=o.return}Le((function(){var o=r,i=we(n),s=[];e:{var a=Lo.get(e);if(void 0!==a){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Mn;break;case"focusin":u="focus",l=gn;break;case"focusout":u="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nn;break;case Mo:case Io:case No:l=vn;break;case Po:l=Pn;break;case"scroll":l=pn;break;case"wheel":l=_n;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var c=!!(4&t),d=!c&&"scroll"===e,p=c?null!==a?a+"Capture":null:a;c=[];for(var f,h=o;null!==h;){var m=(f=h).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==p&&null!=(m=_e(h,p))&&c.push(Wo(h,m,f))),d)break;h=h.return}0<c.length&&(a=new l(a,u,null,n,i),s.push({event:a,listeners:c}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Se||!(u=n.relatedTarget||n.fromElement)||!bi(u)&&!u[mi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=o,null!==(u=(u=n.relatedTarget||n.toElement)?bi(u):null)&&(u!==(d=je(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=o),l!==u)){if(c=hn,m="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(c=In,m="onPointerLeave",p="onPointerEnter",h="pointer"),d=null==l?a:wi(l),f=null==u?a:wi(u),(a=new c(m,h+"leave",l,n,i)).target=d,a.relatedTarget=f,m=null,bi(i)===o&&((c=new c(p,h+"enter",u,n,i)).target=f,c.relatedTarget=d,m=c),d=m,l&&u)e:{for(p=u,h=0,f=c=l;f;f=Ko(f))h++;for(f=0,m=p;m;m=Ko(m))f++;for(;0<h-f;)c=Ko(c),h--;for(;0<f-h;)p=Ko(p),f--;for(;h--;){if(c===p||null!==p&&c===p.alternate)break e;c=Ko(c),p=Ko(p)}c=null}else c=null;null!==l&&Go(s,a,l,c,!1),null!==u&&null!==d&&Go(s,d,u,c,!0)}if("select"===(l=(a=o?wi(o):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Qn;else if($n(a))if(Xn)g=so;else{g=io;var v=oo}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=ro);switch(g&&(g=g(e,o))?qn(s,g,n,i):(v&&v(e,a,o),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=o?wi(o):window,e){case"focusin":($n(v)||"true"===v.contentEditable)&&(vo=v,yo=o,bo=null);break;case"focusout":bo=yo=vo=null;break;case"mousedown":So=!0;break;case"contextmenu":case"mouseup":case"dragend":So=!1,wo(s,n,i);break;case"selectionchange":if(go)break;case"keydown":case"keyup":wo(s,n,i)}var y;if(An)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else jn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Rn&&"ko"!==n.locale&&(jn||"onCompositionStart"!==b?"onCompositionEnd"===b&&jn&&(y=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,jn=!0)),0<(v=Yo(o,b)).length&&(b=new Sn(b,e,null,n,i),s.push({event:b,listeners:v}),(y||null!==(y=zn(n)))&&(b.data=y))),(y=Bn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(jn)return"compositionend"===e||!An&&Vn(e,t)?(e=en(),Zt=Jt=Xt=null,jn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(o=Yo(o,"onBeforeInput")).length&&(i=new Sn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:o}),i.data=y)}Uo(s,t)}))}function Wo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yo(e,t){for(var n=t+"Capture",o=[];null!==e;){var i=e,r=i.stateNode;5===i.tag&&null!==r&&(i=r,null!=(r=_e(e,n))&&o.unshift(Wo(e,r,i)),null!=(r=_e(e,t))&&o.push(Wo(e,r,i))),e=e.return}return o}function Ko(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Go(e,t,n,o,i){for(var r=t._reactName,s=[];null!==n&&n!==o;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===o)break;5===a.tag&&null!==u&&(a=u,i?null!=(l=_e(n,r))&&s.unshift(Wo(n,l,a)):i||null!=(l=_e(n,r))&&s.push(Wo(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Qo=/\r\n?/g,Xo=/\u0000|\uFFFD/g;function Jo(e){return("string"==typeof e?e:""+e).replace(Qo,"\n").replace(Xo,"")}function Zo(e,t,n){if(t=Jo(t),Jo(e)!==t&&n)throw Error(r(425))}function ei(){}var ti=null,ni=null;function oi(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ii="function"==typeof setTimeout?setTimeout:void 0,ri="function"==typeof clearTimeout?clearTimeout:void 0,si="function"==typeof Promise?Promise:void 0,ai="function"==typeof queueMicrotask?queueMicrotask:void 0!==si?function(e){return si.resolve(null).then(e).catch(li)}:ii;function li(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,o=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===o)return e.removeChild(i),void jt(t);o--}else"$"!==n&&"$?"!==n&&"$!"!==n||o++;n=i}while(n);jt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function di(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var pi=Math.random().toString(36).slice(2),fi="__reactFiber$"+pi,hi="__reactProps$"+pi,mi="__reactContainer$"+pi,gi="__reactEvents$"+pi,vi="__reactListeners$"+pi,yi="__reactHandles$"+pi;function bi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=di(e);null!==e;){if(n=e[fi])return n;e=di(e)}return t}n=(e=n).parentNode}return null}function Si(e){return!(e=e[fi]||e[mi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(r(33))}function ki(e){return e[hi]||null}var Ti=[],Ci=-1;function xi(e){return{current:e}}function Ei(e){0>Ci||(e.current=Ti[Ci],Ti[Ci]=null,Ci--)}function Mi(e,t){Ci++,Ti[Ci]=e.current,e.current=t}var Ii={},Ni=xi(Ii),Pi=xi(!1),Li=Ii;function _i(e,t){var n=e.type.contextTypes;if(!n)return Ii;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var i,r={};for(i in n)r[i]=t[i];return o&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function Di(e){return null!=e.childContextTypes}function Ai(){Ei(Pi),Ei(Ni)}function Oi(e,t,n){if(Ni.current!==Ii)throw Error(r(168));Mi(Ni,t),Mi(Pi,n)}function Bi(e,t,n){var o=e.stateNode;if(t=t.childContextTypes,"function"!=typeof o.getChildContext)return n;for(var i in o=o.getChildContext())if(!(i in t))throw Error(r(108,H(e)||"Unknown",i));return R({},n,o)}function Ri(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Li=Ni.current,Mi(Ni,e),Mi(Pi,Pi.current),!0}function Fi(e,t,n){var o=e.stateNode;if(!o)throw Error(r(169));n?(e=Bi(e,t,Li),o.__reactInternalMemoizedMergedChildContext=e,Ei(Pi),Ei(Ni),Mi(Ni,e)):Ei(Pi),Mi(Pi,n)}var Ui=null,Vi=!1,zi=!1;function ji(e){null===Ui?Ui=[e]:Ui.push(e)}function Hi(){if(!zi&&null!==Ui){zi=!0;var e=0,t=bt;try{var n=Ui;for(bt=1;e<n.length;e++){var o=n[e];do{o=o(!0)}while(null!==o)}Ui=null,Vi=!1}catch(t){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ye(Ze,Hi),t}finally{bt=t,zi=!1}}return null}var $i=[],qi=0,Wi=null,Yi=0,Ki=[],Gi=0,Qi=null,Xi=1,Ji="";function Zi(e,t){$i[qi++]=Yi,$i[qi++]=Wi,Wi=e,Yi=t}function er(e,t,n){Ki[Gi++]=Xi,Ki[Gi++]=Ji,Ki[Gi++]=Qi,Qi=e;var o=Xi;e=Ji;var i=32-st(o)-1;o&=~(1<<i),n+=1;var r=32-st(t)+i;if(30<r){var s=i-i%5;r=(o&(1<<s)-1).toString(32),o>>=s,i-=s,Xi=1<<32-st(t)+i|n<<i|o,Ji=r+e}else Xi=1<<r|n<<i|o,Ji=e}function tr(e){null!==e.return&&(Zi(e,1),er(e,1,0))}function nr(e){for(;e===Wi;)Wi=$i[--qi],$i[qi]=null,Yi=$i[--qi],$i[qi]=null;for(;e===Qi;)Qi=Ki[--Gi],Ki[Gi]=null,Ji=Ki[--Gi],Ki[Gi]=null,Xi=Ki[--Gi],Ki[Gi]=null}var or=null,ir=null,rr=!1,sr=null;function ar(e,t){var n=_u(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function lr(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,or=e,ir=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,or=e,ir=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Xi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=_u(18,null,null,0)).stateNode=t,n.return=e,e.child=n,or=e,ir=null,!0);default:return!1}}function ur(e){return!(!(1&e.mode)||128&e.flags)}function cr(e){if(rr){var t=ir;if(t){var n=t;if(!lr(e,t)){if(ur(e))throw Error(r(418));t=ci(n.nextSibling);var o=or;t&&lr(e,t)?ar(o,n):(e.flags=-4097&e.flags|2,rr=!1,or=e)}}else{if(ur(e))throw Error(r(418));e.flags=-4097&e.flags|2,rr=!1,or=e}}}function dr(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;or=e}function pr(e){if(e!==or)return!1;if(!rr)return dr(e),rr=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!oi(e.type,e.memoizedProps)),t&&(t=ir)){if(ur(e))throw fr(),Error(r(418));for(;t;)ar(e,t),t=ci(t.nextSibling)}if(dr(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ir=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ir=null}}else ir=or?ci(e.stateNode.nextSibling):null;return!0}function fr(){for(var e=ir;e;)e=ci(e.nextSibling)}function hr(){ir=or=null,rr=!1}function mr(e){null===sr?sr=[e]:sr.push(e)}var gr=S.ReactCurrentBatchConfig;function vr(e,t){if(e&&e.defaultProps){for(var n in t=R({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yr=xi(null),br=null,Sr=null,wr=null;function kr(){wr=Sr=br=null}function Tr(e){var t=yr.current;Ei(yr),e._currentValue=t}function Cr(e,t,n){for(;null!==e;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==o&&(o.childLanes|=t)):null!==o&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===n)break;e=e.return}}function xr(e,t){br=e,wr=Sr=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(!!(e.lanes&t)&&(Sa=!0),e.firstContext=null)}function Er(e){var t=e._currentValue;if(wr!==e)if(e={context:e,memoizedValue:t,next:null},null===Sr){if(null===br)throw Error(r(308));Sr=e,br.dependencies={lanes:0,firstContext:e}}else Sr=Sr.next=e;return t}var Mr=null;function Ir(e){null===Mr?Mr=[e]:Mr.push(e)}function Nr(e,t,n,o){var i=t.interleaved;return null===i?(n.next=n,Ir(t)):(n.next=i.next,i.next=n),t.interleaved=n,Pr(e,o)}function Pr(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Lr=!1;function _r(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ar(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Or(e,t,n){var o=e.updateQueue;if(null===o)return null;if(o=o.shared,2&Nl){var i=o.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),o.pending=t,Pr(e,n)}return null===(i=o.interleaved)?(t.next=t,Ir(o)):(t.next=i.next,i.next=t),o.interleaved=t,Pr(e,n)}function Br(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var o=t.lanes;n|=o&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Rr(e,t){var n=e.updateQueue,o=e.alternate;if(null!==o&&n===(o=o.updateQueue)){var i=null,r=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===r?i=r=s:r=r.next=s,n=n.next}while(null!==n);null===r?i=r=t:r=r.next=t}else i=r=t;return n={baseState:o.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:o.shared,effects:o.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fr(e,t,n,o){var i=e.updateQueue;Lr=!1;var r=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,u=l.next;l.next=null,null===s?r=u:s.next=u,s=l;var c=e.alternate;null!==c&&(a=(c=c.updateQueue).lastBaseUpdate)!==s&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l)}if(null!==r){var d=i.baseState;for(s=0,c=u=l=null,a=r;;){var p=a.lane,f=a.eventTime;if((o&p)===p){null!==c&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var h=e,m=a;switch(p=t,f=n,m.tag){case 1:if("function"==typeof(h=m.payload)){d=h.call(f,d,p);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null==(p="function"==typeof(h=m.payload)?h.call(f,d,p):h))break e;d=R({},d,p);break e;case 2:Lr=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(p=i.effects)?i.effects=[a]:p.push(a))}else f={eventTime:f,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=f,l=d):c=c.next=f,s|=p;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(p=a).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}if(null===c&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===r&&(i.shared.lanes=0);Rl|=s,e.lanes=s,e.memoizedState=d}}function Ur(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var o=e[t],i=o.callback;if(null!==i){if(o.callback=null,o=n,"function"!=typeof i)throw Error(r(191,i));i.call(o)}}}var Vr=(new o.Component).refs;function zr(e,t,n,o){n=null==(n=n(o,t=e.memoizedState))?t:R({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var jr={isMounted:function(e){return!!(e=e._reactInternals)&&je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var o=tu(),i=nu(e),r=Ar(o,i);r.payload=t,null!=n&&(r.callback=n),null!==(t=Or(e,r,i))&&(ou(t,e,i,o),Br(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var o=tu(),i=nu(e),r=Ar(o,i);r.tag=1,r.payload=t,null!=n&&(r.callback=n),null!==(t=Or(e,r,i))&&(ou(t,e,i,o),Br(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tu(),o=nu(e),i=Ar(n,o);i.tag=2,null!=t&&(i.callback=t),null!==(t=Or(e,i,o))&&(ou(t,e,o,n),Br(t,e,o))}};function Hr(e,t,n,o,i,r,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(o,r,s):!(t.prototype&&t.prototype.isPureReactComponent&&lo(n,o)&&lo(i,r))}function $r(e,t,n){var o=!1,i=Ii,r=t.contextType;return"object"==typeof r&&null!==r?r=Er(r):(i=Di(t)?Li:Ni.current,r=(o=null!=(o=t.contextTypes))?_i(e,i):Ii),t=new t(n,r),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=jr,e.stateNode=t,t._reactInternals=e,o&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=r),t}function qr(e,t,n,o){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,o),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&jr.enqueueReplaceState(t,t.state,null)}function Wr(e,t,n,o){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Vr,_r(e);var r=t.contextType;"object"==typeof r&&null!==r?i.context=Er(r):(r=Di(t)?Li:Ni.current,i.context=_i(e,r)),i.state=e.memoizedState,"function"==typeof(r=t.getDerivedStateFromProps)&&(zr(e,t,r,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&jr.enqueueReplaceState(i,i.state,null),Fr(e,n,i,o),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function Yr(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(r(309));var o=n.stateNode}if(!o)throw Error(r(147,e));var i=o,s=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;t===Vr&&(t=i.refs={}),null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!=typeof e)throw Error(r(284));if(!n._owner)throw Error(r(290,e))}return e}function Kr(e,t){throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Gr(e){return(0,e._init)(e._payload)}function Qr(e){function t(t,n){if(e){var o=t.deletions;null===o?(t.deletions=[n],t.flags|=16):o.push(n)}}function n(n,o){if(!e)return null;for(;null!==o;)t(n,o),o=o.sibling;return null}function o(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Au(e,t)).index=0,e.sibling=null,e}function s(t,n,o){return t.index=o,e?null!==(o=t.alternate)?(o=o.index)<n?(t.flags|=2,n):o:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,o){return null===t||6!==t.tag?((t=Fu(n,e.mode,o)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,o){var r=n.type;return r===T?d(e,t,n.props.children,o,n.key):null!==t&&(t.elementType===r||"object"==typeof r&&null!==r&&r.$$typeof===_&&Gr(r)===t.type)?((o=i(t,n.props)).ref=Yr(e,t,n),o.return=e,o):((o=Ou(n.type,n.key,n.props,null,e.mode,o)).ref=Yr(e,t,n),o.return=e,o)}function c(e,t,n,o){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uu(n,e.mode,o)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,o,r){return null===t||7!==t.tag?((t=Bu(n,e.mode,o,r)).return=e,t):((t=i(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Fu(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Ou(t.type,t.key,t.props,null,e.mode,n)).ref=Yr(e,null,t),n.return=e,n;case k:return(t=Uu(t,e.mode,n)).return=e,t;case _:return p(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Bu(t,e.mode,n,null)).return=e,t;Kr(e,t)}return null}function f(e,t,n,o){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:l(e,t,""+n,o);if("object"==typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?u(e,t,n,o):null;case k:return n.key===i?c(e,t,n,o):null;case _:return f(e,t,(i=n._init)(n._payload),o)}if(te(n)||O(n))return null!==i?null:d(e,t,n,o,null);Kr(e,n)}return null}function h(e,t,n,o,i){if("string"==typeof o&&""!==o||"number"==typeof o)return l(t,e=e.get(n)||null,""+o,i);if("object"==typeof o&&null!==o){switch(o.$$typeof){case w:return u(t,e=e.get(null===o.key?n:o.key)||null,o,i);case k:return c(t,e=e.get(null===o.key?n:o.key)||null,o,i);case _:return h(e,t,n,(0,o._init)(o._payload),i)}if(te(o)||O(o))return d(t,e=e.get(n)||null,o,i,null);Kr(t,o)}return null}function m(i,r,a,l){for(var u=null,c=null,d=r,m=r=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,a[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),r=s(v,r,m),null===c?u=v:c.sibling=v,c=v,d=g}if(m===a.length)return n(i,d),rr&&Zi(i,m),u;if(null===d){for(;m<a.length;m++)null!==(d=p(i,a[m],l))&&(r=s(d,r,m),null===c?u=d:c.sibling=d,c=d);return rr&&Zi(i,m),u}for(d=o(i,d);m<a.length;m++)null!==(g=h(d,i,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),r=s(g,r,m),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach((function(e){return t(i,e)})),rr&&Zi(i,m),u}function g(i,a,l,u){var c=O(l);if("function"!=typeof c)throw Error(r(150));if(null==(l=c.call(l)))throw Error(r(151));for(var d=c=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,u);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),a=s(b,a,g),null===d?c=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),rr&&Zi(i,g),c;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=p(i,y.value,u))&&(a=s(y,a,g),null===d?c=y:d.sibling=y,d=y);return rr&&Zi(i,g),c}for(m=o(i,m);!y.done;g++,y=l.next())null!==(y=h(m,i,g,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=s(y,a,g),null===d?c=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),rr&&Zi(i,g),c}return function e(o,r,s,l){if("object"==typeof s&&null!==s&&s.type===T&&null===s.key&&(s=s.props.children),"object"==typeof s&&null!==s){switch(s.$$typeof){case w:e:{for(var u=s.key,c=r;null!==c;){if(c.key===u){if((u=s.type)===T){if(7===c.tag){n(o,c.sibling),(r=i(c,s.props.children)).return=o,o=r;break e}}else if(c.elementType===u||"object"==typeof u&&null!==u&&u.$$typeof===_&&Gr(u)===c.type){n(o,c.sibling),(r=i(c,s.props)).ref=Yr(o,c,s),r.return=o,o=r;break e}n(o,c);break}t(o,c),c=c.sibling}s.type===T?((r=Bu(s.props.children,o.mode,l,s.key)).return=o,o=r):((l=Ou(s.type,s.key,s.props,null,o.mode,l)).ref=Yr(o,r,s),l.return=o,o=l)}return a(o);case k:e:{for(c=s.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===s.containerInfo&&r.stateNode.implementation===s.implementation){n(o,r.sibling),(r=i(r,s.children||[])).return=o,o=r;break e}n(o,r);break}t(o,r),r=r.sibling}(r=Uu(s,o.mode,l)).return=o,o=r}return a(o);case _:return e(o,r,(c=s._init)(s._payload),l)}if(te(s))return m(o,r,s,l);if(O(s))return g(o,r,s,l);Kr(o,s)}return"string"==typeof s&&""!==s||"number"==typeof s?(s=""+s,null!==r&&6===r.tag?(n(o,r.sibling),(r=i(r,s)).return=o,o=r):(n(o,r),(r=Fu(s,o.mode,l)).return=o,o=r),a(o)):n(o,r)}}var Xr=Qr(!0),Jr=Qr(!1),Zr={},es=xi(Zr),ts=xi(Zr),ns=xi(Zr);function os(e){if(e===Zr)throw Error(r(174));return e}function is(e,t){switch(Mi(ns,t),Mi(ts,e),Mi(es,Zr),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(es),Mi(es,t)}function rs(){Ei(es),Ei(ts),Ei(ns)}function ss(e){os(ns.current);var t=os(es.current),n=le(t,e.type);t!==n&&(Mi(ts,e),Mi(es,n))}function as(e){ts.current===e&&(Ei(es),Ei(ts))}var ls=xi(0);function us(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var cs=[];function ds(){for(var e=0;e<cs.length;e++)cs[e]._workInProgressVersionPrimary=null;cs.length=0}var ps=S.ReactCurrentDispatcher,fs=S.ReactCurrentBatchConfig,hs=0,ms=null,gs=null,vs=null,ys=!1,bs=!1,Ss=0,ws=0;function ks(){throw Error(r(321))}function Ts(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ao(e[n],t[n]))return!1;return!0}function Cs(e,t,n,o,i,s){if(hs=s,ms=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ps.current=null===e||null===e.memoizedState?aa:la,e=n(o,i),bs){s=0;do{if(bs=!1,Ss=0,25<=s)throw Error(r(301));s+=1,vs=gs=null,t.updateQueue=null,ps.current=ua,e=n(o,i)}while(bs)}if(ps.current=sa,t=null!==gs&&null!==gs.next,hs=0,vs=gs=ms=null,ys=!1,t)throw Error(r(300));return e}function xs(){var e=0!==Ss;return Ss=0,e}function Es(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vs?ms.memoizedState=vs=e:vs=vs.next=e,vs}function Ms(){if(null===gs){var e=ms.alternate;e=null!==e?e.memoizedState:null}else e=gs.next;var t=null===vs?ms.memoizedState:vs.next;if(null!==t)vs=t,gs=e;else{if(null===e)throw Error(r(310));e={memoizedState:(gs=e).memoizedState,baseState:gs.baseState,baseQueue:gs.baseQueue,queue:gs.queue,next:null},null===vs?ms.memoizedState=vs=e:vs=vs.next=e}return vs}function Is(e,t){return"function"==typeof t?t(e):t}function Ns(e){var t=Ms(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var o=gs,i=o.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}o.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,o=o.baseState;var l=a=null,u=null,c=s;do{var d=c.lane;if((hs&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),o=c.hasEagerState?c.eagerState:e(o,c.action);else{var p={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=p,a=o):u=u.next=p,ms.lanes|=d,Rl|=d}c=c.next}while(null!==c&&c!==s);null===u?a=o:u.next=l,ao(o,t.memoizedState)||(Sa=!0),t.memoizedState=o,t.baseState=a,t.baseQueue=u,n.lastRenderedState=o}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,ms.lanes|=s,Rl|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ps(e){var t=Ms(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var o=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ao(s,t.memoizedState)||(Sa=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,o]}function Ls(){}function _s(e,t){var n=ms,o=Ms(),i=t(),s=!ao(o.memoizedState,i);if(s&&(o.memoizedState=i,Sa=!0),o=o.queue,$s(Os.bind(null,n,o,e),[e]),o.getSnapshot!==t||s||null!==vs&&1&vs.memoizedState.tag){if(n.flags|=2048,Us(9,As.bind(null,n,o,i,t),void 0,null),null===Pl)throw Error(r(349));30&hs||Ds(n,t,i)}return i}function Ds(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ms.updateQueue)?(t={lastEffect:null,stores:null},ms.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function As(e,t,n,o){t.value=n,t.getSnapshot=o,Bs(t)&&Rs(e)}function Os(e,t,n){return n((function(){Bs(t)&&Rs(e)}))}function Bs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ao(e,n)}catch(e){return!0}}function Rs(e){var t=Pr(e,1);null!==t&&ou(t,e,1,-1)}function Fs(e){var t=Es();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,ms,e),[t.memoizedState,e]}function Us(e,t,n,o){return e={tag:e,create:t,destroy:n,deps:o,next:null},null===(t=ms.updateQueue)?(t={lastEffect:null,stores:null},ms.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(o=n.next,n.next=e,e.next=o,t.lastEffect=e),e}function Vs(){return Ms().memoizedState}function zs(e,t,n,o){var i=Es();ms.flags|=e,i.memoizedState=Us(1|t,n,void 0,void 0===o?null:o)}function js(e,t,n,o){var i=Ms();o=void 0===o?null:o;var r=void 0;if(null!==gs){var s=gs.memoizedState;if(r=s.destroy,null!==o&&Ts(o,s.deps))return void(i.memoizedState=Us(t,n,r,o))}ms.flags|=e,i.memoizedState=Us(1|t,n,r,o)}function Hs(e,t){return zs(8390656,8,e,t)}function $s(e,t){return js(2048,8,e,t)}function qs(e,t){return js(4,2,e,t)}function Ws(e,t){return js(4,4,e,t)}function Ys(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ks(e,t,n){return n=null!=n?n.concat([e]):null,js(4,4,Ys.bind(null,t,e),n)}function Gs(){}function Qs(e,t){var n=Ms();t=void 0===t?null:t;var o=n.memoizedState;return null!==o&&null!==t&&Ts(t,o[1])?o[0]:(n.memoizedState=[e,t],e)}function Xs(e,t){var n=Ms();t=void 0===t?null:t;var o=n.memoizedState;return null!==o&&null!==t&&Ts(t,o[1])?o[0]:(e=e(),n.memoizedState=[e,t],e)}function Js(e,t,n){return 21&hs?(ao(n,t)||(n=mt(),ms.lanes|=n,Rl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Sa=!0),e.memoizedState=n)}function Zs(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var o=fs.transition;fs.transition={};try{e(!1),t()}finally{bt=n,fs.transition=o}}function ea(){return Ms().memoizedState}function ta(e,t,n){var o=nu(e);n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},oa(e)?ia(t,n):null!==(n=Nr(e,t,n,o))&&(ou(n,e,o,tu()),ra(n,t,o))}function na(e,t,n){var o=nu(e),i={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(oa(e))ia(t,i);else{var r=e.alternate;if(0===e.lanes&&(null===r||0===r.lanes)&&null!==(r=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=r(s,n);if(i.hasEagerState=!0,i.eagerState=a,ao(a,s)){var l=t.interleaved;return null===l?(i.next=i,Ir(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(e){}null!==(n=Nr(e,t,i,o))&&(ou(n,e,o,i=tu()),ra(n,t,o))}}function oa(e){var t=e.alternate;return e===ms||null!==t&&t===ms}function ia(e,t){bs=ys=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ra(e,t,n){if(4194240&n){var o=t.lanes;n|=o&=e.pendingLanes,t.lanes=n,yt(e,n)}}var sa={readContext:Er,useCallback:ks,useContext:ks,useEffect:ks,useImperativeHandle:ks,useInsertionEffect:ks,useLayoutEffect:ks,useMemo:ks,useReducer:ks,useRef:ks,useState:ks,useDebugValue:ks,useDeferredValue:ks,useTransition:ks,useMutableSource:ks,useSyncExternalStore:ks,useId:ks,unstable_isNewReconciler:!1},aa={readContext:Er,useCallback:function(e,t){return Es().memoizedState=[e,void 0===t?null:t],e},useContext:Er,useEffect:Hs,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,zs(4194308,4,Ys.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zs(4194308,4,e,t)},useInsertionEffect:function(e,t){return zs(4,2,e,t)},useMemo:function(e,t){var n=Es();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var o=Es();return t=void 0!==n?n(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=ta.bind(null,ms,e),[o.memoizedState,e]},useRef:function(e){return e={current:e},Es().memoizedState=e},useState:Fs,useDebugValue:Gs,useDeferredValue:function(e){return Es().memoizedState=e},useTransition:function(){var e=Fs(!1),t=e[0];return e=Zs.bind(null,e[1]),Es().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var o=ms,i=Es();if(rr){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===Pl)throw Error(r(349));30&hs||Ds(o,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Hs(Os.bind(null,o,s,e),[e]),o.flags|=2048,Us(9,As.bind(null,o,s,n,t),void 0,null),n},useId:function(){var e=Es(),t=Pl.identifierPrefix;if(rr){var n=Ji;t=":"+t+"R"+(n=(Xi&~(1<<32-st(Xi)-1)).toString(32)+n),0<(n=Ss++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ws++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},la={readContext:Er,useCallback:Qs,useContext:Er,useEffect:$s,useImperativeHandle:Ks,useInsertionEffect:qs,useLayoutEffect:Ws,useMemo:Xs,useReducer:Ns,useRef:Vs,useState:function(){return Ns(Is)},useDebugValue:Gs,useDeferredValue:function(e){return Js(Ms(),gs.memoizedState,e)},useTransition:function(){return[Ns(Is)[0],Ms().memoizedState]},useMutableSource:Ls,useSyncExternalStore:_s,useId:ea,unstable_isNewReconciler:!1},ua={readContext:Er,useCallback:Qs,useContext:Er,useEffect:$s,useImperativeHandle:Ks,useInsertionEffect:qs,useLayoutEffect:Ws,useMemo:Xs,useReducer:Ps,useRef:Vs,useState:function(){return Ps(Is)},useDebugValue:Gs,useDeferredValue:function(e){var t=Ms();return null===gs?t.memoizedState=e:Js(t,gs.memoizedState,e)},useTransition:function(){return[Ps(Is)[0],Ms().memoizedState]},useMutableSource:Ls,useSyncExternalStore:_s,useId:ea,unstable_isNewReconciler:!1};function ca(e,t){try{var n="",o=t;do{n+=z(o),o=o.return}while(o);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i,digest:null}}function da(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function pa(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var fa="function"==typeof WeakMap?WeakMap:Map;function ha(e,t,n){(n=Ar(-1,n)).tag=3,n.payload={element:null};var o=t.value;return n.callback=function(){ql||(ql=!0,Wl=o),pa(0,t)},n}function ma(e,t,n){(n=Ar(-1,n)).tag=3;var o=e.type.getDerivedStateFromError;if("function"==typeof o){var i=t.value;n.payload=function(){return o(i)},n.callback=function(){pa(0,t)}}var r=e.stateNode;return null!==r&&"function"==typeof r.componentDidCatch&&(n.callback=function(){pa(0,t),"function"!=typeof o&&(null===Yl?Yl=new Set([this]):Yl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var o=e.pingCache;if(null===o){o=e.pingCache=new fa;var i=new Set;o.set(t,i)}else void 0===(i=o.get(t))&&(i=new Set,o.set(t,i));i.has(n)||(i.add(n),e=Eu.bind(null,e,t,n),t.then(e,e))}function va(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,o,i){return 1&e.mode?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ar(-1,1)).tag=2,Or(n,t,1))),n.lanes|=1),e)}var ba=S.ReactCurrentOwner,Sa=!1;function wa(e,t,n,o){t.child=null===e?Jr(t,null,n,o):Xr(t,e.child,n,o)}function ka(e,t,n,o,i){n=n.render;var r=t.ref;return xr(t,i),o=Cs(e,t,n,o,r,i),n=xs(),null===e||Sa?(rr&&n&&tr(t),t.flags|=1,wa(e,t,o,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qa(e,t,i))}function Ta(e,t,n,o,i){if(null===e){var r=n.type;return"function"!=typeof r||Du(r)||void 0!==r.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ou(n.type,null,o,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=r,Ca(e,t,r,o,i))}if(r=e.child,!(e.lanes&i)){var s=r.memoizedProps;if((n=null!==(n=n.compare)?n:lo)(s,o)&&e.ref===t.ref)return qa(e,t,i)}return t.flags|=1,(e=Au(r,o)).ref=t.ref,e.return=t,t.child=e}function Ca(e,t,n,o,i){if(null!==e){var r=e.memoizedProps;if(lo(r,o)&&e.ref===t.ref){if(Sa=!1,t.pendingProps=o=r,!(e.lanes&i))return t.lanes=e.lanes,qa(e,t,i);131072&e.flags&&(Sa=!0)}}return Ma(e,t,n,o,i)}function xa(e,t,n){var o=t.pendingProps,i=o.children,r=null!==e?e.memoizedState:null;if("hidden"===o.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==r?r.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Mi(Al,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=null!==r?r.baseLanes:n,Mi(Al,Dl),Dl|=o}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Mi(Al,Dl),Dl|=n;else null!==r?(o=r.baseLanes|n,t.memoizedState=null):o=n,Mi(Al,Dl),Dl|=o;return wa(e,t,i,n),t.child}function Ea(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ma(e,t,n,o,i){var r=Di(n)?Li:Ni.current;return r=_i(t,r),xr(t,i),n=Cs(e,t,n,o,r,i),o=xs(),null===e||Sa?(rr&&o&&tr(t),t.flags|=1,wa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qa(e,t,i))}function Ia(e,t,n,o,i){if(Di(n)){var r=!0;Ri(t)}else r=!1;if(xr(t,i),null===t.stateNode)$a(e,t),$r(t,n,o),Wr(t,n,o,i),o=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;u="object"==typeof u&&null!==u?Er(u):_i(t,u=Di(n)?Li:Ni.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof s.getSnapshotBeforeUpdate;d||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==o||l!==u)&&qr(t,s,o,u),Lr=!1;var p=t.memoizedState;s.state=p,Fr(t,o,s,i),l=t.memoizedState,a!==o||p!==l||Pi.current||Lr?("function"==typeof c&&(zr(t,n,c,o),l=t.memoizedState),(a=Lr||Hr(t,n,a,o,p,l,u))?(d||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=l),s.props=o,s.state=l,s.context=u,o=a):("function"==typeof s.componentDidMount&&(t.flags|=4194308),o=!1)}else{s=t.stateNode,Dr(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:vr(t.type,a),s.props=u,d=t.pendingProps,p=s.context,l="object"==typeof(l=n.contextType)&&null!==l?Er(l):_i(t,l=Di(n)?Li:Ni.current);var f=n.getDerivedStateFromProps;(c="function"==typeof f||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==d||p!==l)&&qr(t,s,o,l),Lr=!1,p=t.memoizedState,s.state=p,Fr(t,o,s,i);var h=t.memoizedState;a!==d||p!==h||Pi.current||Lr?("function"==typeof f&&(zr(t,n,f,o),h=t.memoizedState),(u=Lr||Hr(t,n,u,o,p,h,l)||!1)?(c||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(o,h,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(o,h,l)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=h),s.props=o,s.state=h,s.context=l,o=u):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),o=!1)}return Na(e,t,n,o,r,i)}function Na(e,t,n,o,i,r){Ea(e,t);var s=!!(128&t.flags);if(!o&&!s)return i&&Fi(t,n,!1),qa(e,t,r);o=t.stateNode,ba.current=t;var a=s&&"function"!=typeof n.getDerivedStateFromError?null:o.render();return t.flags|=1,null!==e&&s?(t.child=Xr(t,e.child,null,r),t.child=Xr(t,null,a,r)):wa(e,t,a,r),t.memoizedState=o.state,i&&Fi(t,n,!0),t.child}function Pa(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),is(e,t.containerInfo)}function La(e,t,n,o,i){return hr(),mr(i),t.flags|=256,wa(e,t,n,o),t.child}var _a,Da,Aa,Oa,Ba={dehydrated:null,treeContext:null,retryLane:0};function Ra(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fa(e,t,n){var o,i=t.pendingProps,s=ls.current,a=!1,l=!!(128&t.flags);if((o=l)||(o=(null===e||null!==e.memoizedState)&&!!(2&s)),o?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Mi(ls,1&s),null===e)return cr(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},1&i||null===a?a=Ru(l,i,0,null):(a.childLanes=0,a.pendingProps=l),e=Bu(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ra(n),t.memoizedState=Ba,e):Ua(t,l));if(null!==(s=e.memoizedState)&&null!==(o=s.dehydrated))return function(e,t,n,o,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,Va(e,t,a,o=da(Error(r(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=o.fallback,i=t.mode,o=Ru({mode:"visible",children:o.children},i,0,null),(s=Bu(s,i,a,null)).flags|=2,o.return=t,s.return=t,o.sibling=s,t.child=o,1&t.mode&&Xr(t,e.child,null,a),t.child.memoizedState=Ra(a),t.memoizedState=Ba,s);if(!(1&t.mode))return Va(e,t,a,null);if("$!"===i.data){if(o=i.nextSibling&&i.nextSibling.dataset)var l=o.dgst;return o=l,Va(e,t,a,o=da(s=Error(r(419)),o,void 0))}if(l=!!(a&e.childLanes),Sa||l){if(null!==(o=Pl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=i&(o.suspendedLanes|a)?0:i)&&i!==s.retryLane&&(s.retryLane=i,Pr(e,i),ou(o,e,i,-1))}return gu(),Va(e,t,a,o=da(Error(r(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Iu.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ir=ci(i.nextSibling),or=t,rr=!0,sr=null,null!==e&&(Ki[Gi++]=Xi,Ki[Gi++]=Ji,Ki[Gi++]=Qi,Xi=e.id,Ji=e.overflow,Qi=t),(t=Ua(t,o.children)).flags|=4096,t)}(e,t,l,i,o,s,n);if(a){a=i.fallback,l=t.mode,o=(s=e.child).sibling;var u={mode:"hidden",children:i.children};return 1&l||t.child===s?(i=Au(s,u)).subtreeFlags=14680064&s.subtreeFlags:((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null),null!==o?a=Au(o,a):(a=Bu(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Ra(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ba,i}return e=(a=e.child).sibling,i=Au(a,{mode:"visible",children:i.children}),!(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ua(e,t){return(t=Ru({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Va(e,t,n,o){return null!==o&&mr(o),Xr(t,e.child,null,n),(e=Ua(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function za(e,t,n){e.lanes|=t;var o=e.alternate;null!==o&&(o.lanes|=t),Cr(e.return,t,n)}function ja(e,t,n,o,i){var r=e.memoizedState;null===r?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:i}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=o,r.tail=n,r.tailMode=i)}function Ha(e,t,n){var o=t.pendingProps,i=o.revealOrder,r=o.tail;if(wa(e,t,o.children,n),2&(o=ls.current))o=1&o|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&za(e,n,t);else if(19===e.tag)za(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(Mi(ls,o),1&t.mode)switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===us(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ja(t,!1,i,n,r);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===us(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ja(t,!0,n,null,r);break;case"together":ja(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function $a(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Rl|=t.lanes,!(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=Au(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Au(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wa(e,t){if(!rr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var o=null;null!==n;)null!==n.alternate&&(o=n),n=n.sibling;null===o?t||null===e.tail?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Ya(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,o=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,o|=14680064&i.subtreeFlags,o|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,o|=i.subtreeFlags,o|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=o,e.childLanes=n,t}function Ka(e,t,n){var o=t.pendingProps;switch(nr(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ya(t),null;case 1:case 17:return Di(t.type)&&Ai(),Ya(t),null;case 3:return o=t.stateNode,rs(),Ei(Pi),Ei(Ni),ds(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),null!==e&&null!==e.child||(pr(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==sr&&(au(sr),sr=null))),Da(e,t),Ya(t),null;case 5:as(t);var i=os(ns.current);if(n=t.type,null!==e&&null!=t.stateNode)Aa(e,t,n,o,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(null===t.stateNode)throw Error(r(166));return Ya(t),null}if(e=os(es.current),pr(t)){o=t.stateNode,n=t.type;var s=t.memoizedProps;switch(o[fi]=t,o[hi]=s,e=!!(1&t.mode),n){case"dialog":Vo("cancel",o),Vo("close",o);break;case"iframe":case"object":case"embed":Vo("load",o);break;case"video":case"audio":for(i=0;i<Bo.length;i++)Vo(Bo[i],o);break;case"source":Vo("error",o);break;case"img":case"image":case"link":Vo("error",o),Vo("load",o);break;case"details":Vo("toggle",o);break;case"input":Q(o,s),Vo("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!s.multiple},Vo("invalid",o);break;case"textarea":ie(o,s),Vo("invalid",o)}for(var l in ye(n,s),i=null,s)if(s.hasOwnProperty(l)){var u=s[l];"children"===l?"string"==typeof u?o.textContent!==u&&(!0!==s.suppressHydrationWarning&&Zo(o.textContent,u,e),i=["children",u]):"number"==typeof u&&o.textContent!==""+u&&(!0!==s.suppressHydrationWarning&&Zo(o.textContent,u,e),i=["children",""+u]):a.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Vo("scroll",o)}switch(n){case"input":W(o),Z(o,s,!0);break;case"textarea":W(o),se(o);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(o.onclick=ei)}o=i,t.updateQueue=o,null!==o&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof o.is?e=l.createElement(n,{is:o.is}):(e=l.createElement(n),"select"===n&&(l=e,o.multiple?l.multiple=!0:o.size&&(l.size=o.size))):e=l.createElementNS(e,n),e[fi]=t,e[hi]=o,_a(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,o),n){case"dialog":Vo("cancel",e),Vo("close",e),i=o;break;case"iframe":case"object":case"embed":Vo("load",e),i=o;break;case"video":case"audio":for(i=0;i<Bo.length;i++)Vo(Bo[i],e);i=o;break;case"source":Vo("error",e),i=o;break;case"img":case"image":case"link":Vo("error",e),Vo("load",e),i=o;break;case"details":Vo("toggle",e),i=o;break;case"input":Q(e,o),i=G(e,o),Vo("invalid",e);break;case"option":default:i=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},i=R({},o,{value:void 0}),Vo("invalid",e);break;case"textarea":ie(e,o),i=oe(e,o),Vo("invalid",e)}for(s in ye(n,i),u=i)if(u.hasOwnProperty(s)){var c=u[s];"style"===s?ge(e,c):"dangerouslySetInnerHTML"===s?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===s?"string"==typeof c?("textarea"!==n||""!==c)&&pe(e,c):"number"==typeof c&&pe(e,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=c&&"onScroll"===s&&Vo("scroll",e):null!=c&&b(e,s,c,l))}switch(n){case"input":W(e),Z(e,o,!1);break;case"textarea":W(e),se(e);break;case"option":null!=o.value&&e.setAttribute("value",""+$(o.value));break;case"select":e.multiple=!!o.multiple,null!=(s=o.value)?ne(e,!!o.multiple,s,!1):null!=o.defaultValue&&ne(e,!!o.multiple,o.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=ei)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ya(t),null;case 6:if(e&&null!=t.stateNode)Oa(e,t,e.memoizedProps,o);else{if("string"!=typeof o&&null===t.stateNode)throw Error(r(166));if(n=os(ns.current),os(es.current),pr(t)){if(o=t.stateNode,n=t.memoizedProps,o[fi]=t,(s=o.nodeValue!==n)&&null!==(e=or))switch(e.tag){case 3:Zo(o.nodeValue,n,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zo(o.nodeValue,n,!!(1&e.mode))}s&&(t.flags|=4)}else(o=(9===n.nodeType?n:n.ownerDocument).createTextNode(o))[fi]=t,t.stateNode=o}return Ya(t),null;case 13:if(Ei(ls),o=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(rr&&null!==ir&&1&t.mode&&!(128&t.flags))fr(),hr(),t.flags|=98560,s=!1;else if(s=pr(t),null!==o&&null!==o.dehydrated){if(null===e){if(!s)throw Error(r(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(r(317));s[fi]=t}else hr(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ya(t),s=!1}else null!==sr&&(au(sr),sr=null),s=!0;if(!s)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((o=null!==o)!=(null!==e&&null!==e.memoizedState)&&o&&(t.child.flags|=8192,1&t.mode&&(null===e||1&ls.current?0===Ol&&(Ol=3):gu())),null!==t.updateQueue&&(t.flags|=4),Ya(t),null);case 4:return rs(),Da(e,t),null===e&&Ho(t.stateNode.containerInfo),Ya(t),null;case 10:return Tr(t.type._context),Ya(t),null;case 19:if(Ei(ls),null===(s=t.memoizedState))return Ya(t),null;if(o=!!(128&t.flags),null===(l=s.rendering))if(o)Wa(s,!1);else{if(0!==Ol||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(l=us(e))){for(t.flags|=128,Wa(s,!1),null!==(o=l.updateQueue)&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=n,n=t.child;null!==n;)e=o,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Mi(ls,1&ls.current|2),t.child}e=e.sibling}null!==s.tail&&Xe()>Hl&&(t.flags|=128,o=!0,Wa(s,!1),t.lanes=4194304)}else{if(!o)if(null!==(e=us(l))){if(t.flags|=128,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wa(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!rr)return Ya(t),null}else 2*Xe()-s.renderingStartTime>Hl&&1073741824!==n&&(t.flags|=128,o=!0,Wa(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Xe(),t.sibling=null,n=ls.current,Mi(ls,o?1&n|2:1&n),t):(Ya(t),null);case 22:case 23:return pu(),o=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==o&&(t.flags|=8192),o&&1&t.mode?!!(1073741824&Dl)&&(Ya(t),6&t.subtreeFlags&&(t.flags|=8192)):Ya(t),null;case 24:case 25:return null}throw Error(r(156,t.tag))}function Ga(e,t){switch(nr(t),t.tag){case 1:return Di(t.type)&&Ai(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return rs(),Ei(Pi),Ei(Ni),ds(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return as(t),null;case 13:if(Ei(ls),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));hr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(ls),null;case 4:return rs(),null;case 10:return Tr(t.type._context),null;case 22:case 23:return pu(),null;default:return null}}_a=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Da=function(){},Aa=function(e,t,n,o){var i=e.memoizedProps;if(i!==o){e=t.stateNode,os(es.current);var r,s=null;switch(n){case"input":i=G(e,i),o=G(e,o),s=[];break;case"select":i=R({},i,{value:void 0}),o=R({},o,{value:void 0}),s=[];break;case"textarea":i=oe(e,i),o=oe(e,o),s=[];break;default:"function"!=typeof i.onClick&&"function"==typeof o.onClick&&(e.onclick=ei)}for(c in ye(n,o),n=null,i)if(!o.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(r in l)l.hasOwnProperty(r)&&(n||(n={}),n[r]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in o){var u=o[c];if(l=null!=i?i[c]:void 0,o.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(r in l)!l.hasOwnProperty(r)||u&&u.hasOwnProperty(r)||(n||(n={}),n[r]="");for(r in u)u.hasOwnProperty(r)&&l[r]!==u[r]&&(n||(n={}),n[r]=u[r])}else n||(s||(s=[]),s.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(s=s||[]).push(c,u)):"children"===c?"string"!=typeof u&&"number"!=typeof u||(s=s||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Vo("scroll",e),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}},Oa=function(e,t,n,o){n!==o&&(t.flags|=4)};var Qa=!1,Xa=!1,Ja="function"==typeof WeakSet?WeakSet:Set,Za=null;function el(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){xu(e,t,n)}else n.current=null}function tl(e,t,n){try{n()}catch(n){xu(e,t,n)}}var nl=!1;function ol(e,t,n){var o=t.updateQueue;if(null!==(o=null!==o?o.lastEffect:null)){var i=o=o.next;do{if((i.tag&e)===e){var r=i.destroy;i.destroy=void 0,void 0!==r&&tl(t,n,r)}i=i.next}while(i!==o)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var o=n.create;n.destroy=o()}n=n.next}while(n!==t)}}function rl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&(delete t[fi],delete t[hi],delete t[gi],delete t[vi],delete t[yi]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ul(e,t,n){var o=e.tag;if(5===o||6===o)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=ei));else if(4!==o&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}function cl(e,t,n){var o=e.tag;if(5===o||6===o)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==o&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var dl=null,pl=!1;function fl(e,t,n){for(n=n.child;null!==n;)hl(e,t,n),n=n.sibling}function hl(e,t,n){if(rt&&"function"==typeof rt.onCommitFiberUnmount)try{rt.onCommitFiberUnmount(it,n)}catch(e){}switch(n.tag){case 5:Xa||el(n,t);case 6:var o=dl,i=pl;dl=null,fl(e,t,n),pl=i,null!==(dl=o)&&(pl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(pl?(e=dl,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),jt(e)):ui(dl,n.stateNode));break;case 4:o=dl,i=pl,dl=n.stateNode.containerInfo,pl=!0,fl(e,t,n),dl=o,pl=i;break;case 0:case 11:case 14:case 15:if(!Xa&&null!==(o=n.updateQueue)&&null!==(o=o.lastEffect)){i=o=o.next;do{var r=i,s=r.destroy;r=r.tag,void 0!==s&&(2&r||4&r)&&tl(n,t,s),i=i.next}while(i!==o)}fl(e,t,n);break;case 1:if(!Xa&&(el(n,t),"function"==typeof(o=n.stateNode).componentWillUnmount))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(e){xu(n,t,e)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Xa=(o=Xa)||null!==n.memoizedState,fl(e,t,n),Xa=o):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ja),t.forEach((function(t){var o=Nu.bind(null,e,t);n.has(t)||(n.add(t),t.then(o,o))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var o=0;o<n.length;o++){var i=n[o];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,pl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,pl=!0;break e}l=l.return}if(null===dl)throw Error(r(160));hl(s,a,i),dl=null,pl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(e){xu(i,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&o){try{ol(3,e,e.return),il(3,e)}catch(t){xu(e,e.return,t)}try{ol(5,e,e.return)}catch(t){xu(e,e.return,t)}}break;case 1:gl(t,e),yl(e),512&o&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),yl(e),512&o&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{pe(i,"")}catch(t){xu(e,e.return,t)}}if(4&o&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===s.type&&null!=s.name&&X(i,s),be(l,a);var c=be(l,s);for(a=0;a<u.length;a+=2){var d=u[a],p=u[a+1];"style"===d?ge(i,p):"dangerouslySetInnerHTML"===d?de(i,p):"children"===d?pe(i,p):b(i,d,p,c)}switch(l){case"input":J(i,s);break;case"textarea":re(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;null!=h?ne(i,!!s.multiple,h,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[hi]=s}catch(t){xu(e,e.return,t)}}break;case 6:if(gl(t,e),yl(e),4&o){if(null===e.stateNode)throw Error(r(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(t){xu(e,e.return,t)}}break;case 3:if(gl(t,e),yl(e),4&o&&null!==n&&n.memoizedState.isDehydrated)try{jt(t.containerInfo)}catch(t){xu(e,e.return,t)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(jl=Xe())),4&o&&ml(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xa=(c=Xa)||d,gl(t,e),Xa=c):gl(t,e),yl(e),8192&o){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&1&e.mode)for(Za=e,d=e.child;null!==d;){for(p=Za=d;null!==Za;){switch(h=(f=Za).child,f.tag){case 0:case 11:case 14:case 15:ol(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"==typeof m.componentWillUnmount){o=f,n=f.return;try{t=o,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(e){xu(o,n,e)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){kl(p);continue}}null!==h?(h.return=f,Za=h):kl(p)}d=d.sibling}e:for(d=null,p=e;;){if(5===p.tag){if(null===d){d=p;try{i=p.stateNode,c?"function"==typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=p.stateNode,a=null!=(u=p.memoizedProps.style)&&u.hasOwnProperty("display")?u.display:null,l.style.display=me("display",a))}catch(t){xu(e,e.return,t)}}}else if(6===p.tag){if(null===d)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(t){xu(e,e.return,t)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:gl(t,e),yl(e),4&o&&ml(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var o=n;break e}n=n.return}throw Error(r(160))}switch(o.tag){case 5:var i=o.stateNode;32&o.flags&&(pe(i,""),o.flags&=-33),cl(e,ll(e),i);break;case 3:case 4:var s=o.stateNode.containerInfo;ul(e,ll(e),s);break;default:throw Error(r(161))}}catch(t){xu(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Za=e,Sl(e,t,n)}function Sl(e,t,n){for(var o=!!(1&e.mode);null!==Za;){var i=Za,r=i.child;if(22===i.tag&&o){var s=null!==i.memoizedState||Qa;if(!s){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Xa;a=Qa;var u=Xa;if(Qa=s,(Xa=l)&&!u)for(Za=i;null!==Za;)l=(s=Za).child,22===s.tag&&null!==s.memoizedState?Tl(i):null!==l?(l.return=s,Za=l):Tl(i);for(;null!==r;)Za=r,Sl(r,t,n),r=r.sibling;Za=i,Qa=a,Xa=u}wl(e)}else 8772&i.subtreeFlags&&null!==r?(r.return=i,Za=r):wl(e)}}function wl(e){for(;null!==Za;){var t=Za;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Xa||il(5,t);break;case 1:var o=t.stateNode;if(4&t.flags&&!Xa)if(null===n)o.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:vr(t.type,n.memoizedProps);o.componentDidUpdate(i,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Ur(t,s,o);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ur(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var p=d.dehydrated;null!==p&&jt(p)}}}break;default:throw Error(r(163))}Xa||512&t.flags&&rl(t)}catch(e){xu(t,t.return,e)}}if(t===e){Za=null;break}if(null!==(n=t.sibling)){n.return=t.return,Za=n;break}Za=t.return}}function kl(e){for(;null!==Za;){var t=Za;if(t===e){Za=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Za=n;break}Za=t.return}}function Tl(e){for(;null!==Za;){var t=Za;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(e){xu(t,n,e)}break;case 1:var o=t.stateNode;if("function"==typeof o.componentDidMount){var i=t.return;try{o.componentDidMount()}catch(e){xu(t,i,e)}}var r=t.return;try{rl(t)}catch(e){xu(t,r,e)}break;case 5:var s=t.return;try{rl(t)}catch(e){xu(t,s,e)}}}catch(e){xu(t,t.return,e)}if(t===e){Za=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Za=a;break}Za=t.return}}var Cl,xl=Math.ceil,El=S.ReactCurrentDispatcher,Ml=S.ReactCurrentOwner,Il=S.ReactCurrentBatchConfig,Nl=0,Pl=null,Ll=null,_l=0,Dl=0,Al=xi(0),Ol=0,Bl=null,Rl=0,Fl=0,Ul=0,Vl=null,zl=null,jl=0,Hl=1/0,$l=null,ql=!1,Wl=null,Yl=null,Kl=!1,Gl=null,Ql=0,Xl=0,Jl=null,Zl=-1,eu=0;function tu(){return 6&Nl?Xe():-1!==Zl?Zl:Zl=Xe()}function nu(e){return 1&e.mode?2&Nl&&0!==_l?_l&-_l:null!==gr.transition?(0===eu&&(eu=mt()),eu):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type):1}function ou(e,t,n,o){if(50<Xl)throw Xl=0,Jl=null,Error(r(185));vt(e,n,o),2&Nl&&e===Pl||(e===Pl&&(!(2&Nl)&&(Fl|=n),4===Ol&&lu(e,_l)),iu(e,o),1===n&&0===Nl&&!(1&t.mode)&&(Hl=Xe()+500,Vi&&Hi()))}function iu(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,o=e.pingedLanes,i=e.expirationTimes,r=e.pendingLanes;0<r;){var s=31-st(r),a=1<<s,l=i[s];-1===l?a&n&&!(a&o)||(i[s]=ft(a,t)):l<=t&&(e.expiredLanes|=a),r&=~a}}(e,t);var o=pt(e,e===Pl?_l:0);if(0===o)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Vi=!0,ji(e)}(uu.bind(null,e)):ji(uu.bind(null,e)),ai((function(){!(6&Nl)&&Hi()})),n=null;else{switch(St(o)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=ot}n=Pu(n,ru.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ru(e,t){if(Zl=-1,eu=0,6&Nl)throw Error(r(327));var n=e.callbackNode;if(Tu()&&e.callbackNode!==n)return null;var o=pt(e,e===Pl?_l:0);if(0===o)return null;if(30&o||o&e.expiredLanes||t)t=vu(e,o);else{t=o;var i=Nl;Nl|=2;var s=mu();for(Pl===e&&_l===t||($l=null,Hl=Xe()+500,fu(e,t));;)try{bu();break}catch(t){hu(e,t)}kr(),El.current=s,Nl=i,null!==Ll?t=0:(Pl=null,_l=0,t=Ol)}if(0!==t){if(2===t&&0!==(i=ht(e))&&(o=i,t=su(e,i)),1===t)throw n=Bl,fu(e,0),lu(e,o),iu(e,Xe()),n;if(6===t)lu(e,o);else{if(i=e.current.alternate,!(30&o||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var o=0;o<n.length;o++){var i=n[o],r=i.getSnapshot;i=i.value;try{if(!ao(r(),i))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)||(t=vu(e,o),2===t&&(s=ht(e),0!==s&&(o=s,t=su(e,s))),1!==t)))throw n=Bl,fu(e,0),lu(e,o),iu(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=o,t){case 0:case 1:throw Error(r(345));case 2:case 5:ku(e,zl,$l);break;case 3:if(lu(e,o),(130023424&o)===o&&10<(t=jl+500-Xe())){if(0!==pt(e,0))break;if(((i=e.suspendedLanes)&o)!==o){tu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ii(ku.bind(null,e,zl,$l),t);break}ku(e,zl,$l);break;case 4:if(lu(e,o),(4194240&o)===o)break;for(t=e.eventTimes,i=-1;0<o;){var a=31-st(o);s=1<<a,(a=t[a])>i&&(i=a),o&=~s}if(o=i,10<(o=(120>(o=Xe()-o)?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*xl(o/1960))-o)){e.timeoutHandle=ii(ku.bind(null,e,zl,$l),o);break}ku(e,zl,$l);break;default:throw Error(r(329))}}}return iu(e,Xe()),e.callbackNode===n?ru.bind(null,e):null}function su(e,t){var n=Vl;return e.current.memoizedState.isDehydrated&&(fu(e,t).flags|=256),2!==(e=vu(e,t))&&(t=zl,zl=n,null!==t&&au(t)),e}function au(e){null===zl?zl=e:zl.push.apply(zl,e)}function lu(e,t){for(t&=~Ul,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),o=1<<n;e[n]=-1,t&=~o}}function uu(e){if(6&Nl)throw Error(r(327));Tu();var t=pt(e,0);if(!(1&t))return iu(e,Xe()),null;var n=vu(e,t);if(0!==e.tag&&2===n){var o=ht(e);0!==o&&(t=o,n=su(e,o))}if(1===n)throw n=Bl,fu(e,0),lu(e,t),iu(e,Xe()),n;if(6===n)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ku(e,zl,$l),iu(e,Xe()),null}function cu(e,t){var n=Nl;Nl|=1;try{return e(t)}finally{0===(Nl=n)&&(Hl=Xe()+500,Vi&&Hi())}}function du(e){null!==Gl&&0===Gl.tag&&!(6&Nl)&&Tu();var t=Nl;Nl|=1;var n=Il.transition,o=bt;try{if(Il.transition=null,bt=1,e)return e()}finally{bt=o,Il.transition=n,!(6&(Nl=t))&&Hi()}}function pu(){Dl=Al.current,Ei(Al)}function fu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ri(n)),null!==Ll)for(n=Ll.return;null!==n;){var o=n;switch(nr(o),o.tag){case 1:null!=(o=o.type.childContextTypes)&&Ai();break;case 3:rs(),Ei(Pi),Ei(Ni),ds();break;case 5:as(o);break;case 4:rs();break;case 13:case 19:Ei(ls);break;case 10:Tr(o.type._context);break;case 22:case 23:pu()}n=n.return}if(Pl=e,Ll=e=Au(e.current,null),_l=Dl=t,Ol=0,Bl=null,Ul=Fl=Rl=0,zl=Vl=null,null!==Mr){for(t=0;t<Mr.length;t++)if(null!==(o=(n=Mr[t]).interleaved)){n.interleaved=null;var i=o.next,r=n.pending;if(null!==r){var s=r.next;r.next=i,o.next=s}n.pending=o}Mr=null}return e}function hu(e,t){for(;;){var n=Ll;try{if(kr(),ps.current=sa,ys){for(var o=ms.memoizedState;null!==o;){var i=o.queue;null!==i&&(i.pending=null),o=o.next}ys=!1}if(hs=0,vs=gs=ms=null,bs=!1,Ss=0,Ml.current=null,null===n||null===n.return){Ol=1,Bl=t,Ll=null;break}e:{var s=e,a=n.return,l=n,u=t;if(t=_l,l.flags|=32768,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u,d=l,p=d.tag;if(!(1&d.mode||0!==p&&11!==p&&15!==p)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=va(a);if(null!==h){h.flags&=-257,ya(h,a,l,0,t),1&h.mode&&ga(s,c,t),u=c;var m=(t=h).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(!(1&t)){ga(s,c,t),gu();break e}u=Error(r(426))}else if(rr&&1&l.mode){var v=va(a);if(null!==v){!(65536&v.flags)&&(v.flags|=256),ya(v,a,l,0,t),mr(ca(u,l));break e}}s=u=ca(u,l),4!==Ol&&(Ol=2),null===Vl?Vl=[s]:Vl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Rr(s,ha(0,u,t));break e;case 1:l=u;var y=s.type,b=s.stateNode;if(!(128&s.flags||"function"!=typeof y.getDerivedStateFromError&&(null===b||"function"!=typeof b.componentDidCatch||null!==Yl&&Yl.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,Rr(s,ma(s,l,t));break e}}s=s.return}while(null!==s)}wu(n)}catch(e){t=e,Ll===n&&null!==n&&(Ll=n=n.return);continue}break}}function mu(){var e=El.current;return El.current=sa,null===e?sa:e}function gu(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===Pl||!(268435455&Rl)&&!(268435455&Fl)||lu(Pl,_l)}function vu(e,t){var n=Nl;Nl|=2;var o=mu();for(Pl===e&&_l===t||($l=null,fu(e,t));;)try{yu();break}catch(t){hu(e,t)}if(kr(),Nl=n,El.current=o,null!==Ll)throw Error(r(261));return Pl=null,_l=0,Ol}function yu(){for(;null!==Ll;)Su(Ll)}function bu(){for(;null!==Ll&&!Ge();)Su(Ll)}function Su(e){var t=Cl(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?wu(e):Ll=t,Ml.current=null}function wu(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=Ga(n,t)))return n.flags&=32767,void(Ll=n);if(null===e)return Ol=6,void(Ll=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=Ka(n,t,Dl)))return void(Ll=n);if(null!==(t=t.sibling))return void(Ll=t);Ll=t=e}while(null!==t);0===Ol&&(Ol=5)}function ku(e,t,n){var o=bt,i=Il.transition;try{Il.transition=null,bt=1,function(e,t,n,o){do{Tu()}while(null!==Gl);if(6&Nl)throw Error(r(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),r=1<<i;t[i]=0,o[i]=-1,e[i]=-1,n&=~r}}(e,s),e===Pl&&(Ll=Pl=null,_l=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||Kl||(Kl=!0,Pu(tt,(function(){return Tu(),null}))),s=!!(15990&n.flags),15990&n.subtreeFlags||s){s=Il.transition,Il.transition=null;var a=bt;bt=1;var l=Nl;Nl|=4,Ml.current=null,function(e,t){if(ti=$t,ho(e=fo())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var o=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(o&&0!==o.rangeCount){n=o.anchorNode;var i=o.anchorOffset,s=o.focusNode;o=o.focusOffset;try{n.nodeType,s.nodeType}catch(e){n=null;break e}var a=0,l=-1,u=-1,c=0,d=0,p=e,f=null;t:for(;;){for(var h;p!==n||0!==i&&3!==p.nodeType||(l=a+i),p!==s||0!==o&&3!==p.nodeType||(u=a+o),3===p.nodeType&&(a+=p.nodeValue.length),null!==(h=p.firstChild);)f=p,p=h;for(;;){if(p===e)break t;if(f===n&&++c===i&&(l=a),f===s&&++d===o&&(u=a),null!==(h=p.nextSibling))break;f=(p=f).parentNode}p=h}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ni={focusedElem:e,selectionRange:n},$t=!1,Za=t;null!==Za;)if(e=(t=Za).child,1028&t.subtreeFlags&&null!==e)e.return=t,Za=e;else for(;null!==Za;){t=Za;try{var m=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:vr(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var S=t.stateNode.containerInfo;1===S.nodeType?S.textContent="":9===S.nodeType&&S.documentElement&&S.removeChild(S.documentElement);break;default:throw Error(r(163))}}catch(e){xu(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Za=e;break}Za=t.return}m=nl,nl=!1}(e,n),vl(n,e),mo(ni),$t=!!ti,ni=ti=null,e.current=n,bl(n,e,i),Qe(),Nl=l,bt=a,Il.transition=s}else e.current=n;if(Kl&&(Kl=!1,Gl=e,Ql=i),0===(s=e.pendingLanes)&&(Yl=null),function(e){if(rt&&"function"==typeof rt.onCommitFiberRoot)try{rt.onCommitFiberRoot(it,e,void 0,!(128&~e.current.flags))}catch(e){}}(n.stateNode),iu(e,Xe()),null!==t)for(o=e.onRecoverableError,n=0;n<t.length;n++)o((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(ql)throw ql=!1,e=Wl,Wl=null,e;!!(1&Ql)&&0!==e.tag&&Tu(),1&(s=e.pendingLanes)?e===Jl?Xl++:(Xl=0,Jl=e):Xl=0,Hi()}(e,t,n,o)}finally{Il.transition=i,bt=o}return null}function Tu(){if(null!==Gl){var e=St(Ql),t=Il.transition,n=bt;try{if(Il.transition=null,bt=16>e?16:e,null===Gl)var o=!1;else{if(e=Gl,Gl=null,Ql=0,6&Nl)throw Error(r(331));var i=Nl;for(Nl|=4,Za=e.current;null!==Za;){var s=Za,a=s.child;if(16&Za.flags){var l=s.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Za=c;null!==Za;){var d=Za;switch(d.tag){case 0:case 11:case 15:ol(8,d,s)}var p=d.child;if(null!==p)p.return=d,Za=p;else for(;null!==Za;){var f=(d=Za).sibling,h=d.return;if(sl(d),d===c){Za=null;break}if(null!==f){f.return=h,Za=f;break}Za=h}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Za=s}}if(2064&s.subtreeFlags&&null!==a)a.return=s,Za=a;else e:for(;null!==Za;){if(2048&(s=Za).flags)switch(s.tag){case 0:case 11:case 15:ol(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Za=y;break e}Za=s.return}}var b=e.current;for(Za=b;null!==Za;){var S=(a=Za).child;if(2064&a.subtreeFlags&&null!==S)S.return=a,Za=S;else e:for(a=b;null!==Za;){if(2048&(l=Za).flags)try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(e){xu(l,l.return,e)}if(l===a){Za=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Za=w;break e}Za=l.return}}if(Nl=i,Hi(),rt&&"function"==typeof rt.onPostCommitFiberRoot)try{rt.onPostCommitFiberRoot(it,e)}catch(e){}o=!0}return o}finally{bt=n,Il.transition=t}}return!1}function Cu(e,t,n){e=Or(e,t=ha(0,t=ca(n,t),1),1),t=tu(),null!==e&&(vt(e,1,t),iu(e,t))}function xu(e,t,n){if(3===e.tag)Cu(e,e,n);else for(;null!==t;){if(3===t.tag){Cu(t,e,n);break}if(1===t.tag){var o=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof o.componentDidCatch&&(null===Yl||!Yl.has(o))){t=Or(t,e=ma(t,e=ca(n,e),1),1),e=tu(),null!==t&&(vt(t,1,e),iu(t,e));break}}t=t.return}}function Eu(e,t,n){var o=e.pingCache;null!==o&&o.delete(t),t=tu(),e.pingedLanes|=e.suspendedLanes&n,Pl===e&&(_l&n)===n&&(4===Ol||3===Ol&&(130023424&_l)===_l&&500>Xe()-jl?fu(e,0):Ul|=n),iu(e,t)}function Mu(e,t){0===t&&(1&e.mode?(t=ct,!(130023424&(ct<<=1))&&(ct=4194304)):t=1);var n=tu();null!==(e=Pr(e,t))&&(vt(e,t,n),iu(e,n))}function Iu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Mu(e,n)}function Nu(e,t){var n=0;switch(e.tag){case 13:var o=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(r(314))}null!==o&&o.delete(t),Mu(e,n)}function Pu(e,t){return Ye(e,t)}function Lu(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _u(e,t,n,o){return new Lu(e,t,n,o)}function Du(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Au(e,t){var n=e.alternate;return null===n?((n=_u(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ou(e,t,n,o,i,s){var a=2;if(o=e,"function"==typeof e)Du(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case T:return Bu(n.children,i,s,t);case C:a=8,i|=8;break;case x:return(e=_u(12,n,t,2|i)).elementType=x,e.lanes=s,e;case N:return(e=_u(13,n,t,i)).elementType=N,e.lanes=s,e;case P:return(e=_u(19,n,t,i)).elementType=P,e.lanes=s,e;case D:return Ru(n,i,s,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case E:a=10;break e;case M:a=9;break e;case I:a=11;break e;case L:a=14;break e;case _:a=16,o=null;break e}throw Error(r(130,null==e?e:typeof e,""))}return(t=_u(a,n,t,i)).elementType=e,t.type=o,t.lanes=s,t}function Bu(e,t,n,o){return(e=_u(7,e,o,t)).lanes=n,e}function Ru(e,t,n,o){return(e=_u(22,e,o,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Fu(e,t,n){return(e=_u(6,e,null,t)).lanes=n,e}function Uu(e,t,n){return(t=_u(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vu(e,t,n,o,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=o,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zu(e,t,n,o,i,r,s,a,l){return e=new Vu(e,t,n,a,l),1===t?(t=1,!0===r&&(t|=8)):t=0,r=_u(3,null,null,t),e.current=r,r.stateNode=e,r.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_r(r),e}function ju(e){if(!e)return Ii;e:{if(je(e=e._reactInternals)!==e||1!==e.tag)throw Error(r(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(r(171))}if(1===e.tag){var n=e.type;if(Di(n))return Bi(e,n,t)}return t}function Hu(e,t,n,o,i,r,s,a,l){return(e=zu(n,o,!0,e,0,r,0,a,l)).context=ju(null),n=e.current,(r=Ar(o=tu(),i=nu(n))).callback=null!=t?t:null,Or(n,r,i),e.current.lanes=i,vt(e,i,o),iu(e,o),e}function $u(e,t,n,o){var i=t.current,r=tu(),s=nu(i);return n=ju(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ar(r,s)).payload={element:e},null!==(o=void 0===o?null:o)&&(t.callback=o),null!==(e=Or(i,t,s))&&(ou(e,i,s,r),Br(e,i,s)),s}function qu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Yu(e,t){Wu(e,t),(e=e.alternate)&&Wu(e,t)}Cl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pi.current)Sa=!0;else{if(!(e.lanes&n||128&t.flags))return Sa=!1,function(e,t,n){switch(t.tag){case 3:Pa(t),hr();break;case 5:ss(t);break;case 1:Di(t.type)&&Ri(t);break;case 4:is(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,i=t.memoizedProps.value;Mi(yr,o._currentValue),o._currentValue=i;break;case 13:if(null!==(o=t.memoizedState))return null!==o.dehydrated?(Mi(ls,1&ls.current),t.flags|=128,null):n&t.child.childLanes?Fa(e,t,n):(Mi(ls,1&ls.current),null!==(e=qa(e,t,n))?e.sibling:null);Mi(ls,1&ls.current);break;case 19:if(o=!!(n&t.childLanes),128&e.flags){if(o)return Ha(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Mi(ls,ls.current),o)break;return null;case 22:case 23:return t.lanes=0,xa(e,t,n)}return qa(e,t,n)}(e,t,n);Sa=!!(131072&e.flags)}else Sa=!1,rr&&1048576&t.flags&&er(t,Yi,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;$a(e,t),e=t.pendingProps;var i=_i(t,Ni.current);xr(t,n),i=Cs(null,t,o,e,i,n);var s=xs();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(o)?(s=!0,Ri(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,_r(t),i.updater=jr,t.stateNode=i,i._reactInternals=t,Wr(t,o,e,n),t=Na(null,t,o,!0,s,n)):(t.tag=0,rr&&s&&tr(t),wa(null,t,i,n),t=t.child),t;case 16:o=t.elementType;e:{switch($a(e,t),e=t.pendingProps,o=(i=o._init)(o._payload),t.type=o,i=t.tag=function(e){if("function"==typeof e)return Du(e)?1:0;if(null!=e){if((e=e.$$typeof)===I)return 11;if(e===L)return 14}return 2}(o),e=vr(o,e),i){case 0:t=Ma(null,t,o,e,n);break e;case 1:t=Ia(null,t,o,e,n);break e;case 11:t=ka(null,t,o,e,n);break e;case 14:t=Ta(null,t,o,vr(o.type,e),n);break e}throw Error(r(306,o,""))}return t;case 0:return o=t.type,i=t.pendingProps,Ma(e,t,o,i=t.elementType===o?i:vr(o,i),n);case 1:return o=t.type,i=t.pendingProps,Ia(e,t,o,i=t.elementType===o?i:vr(o,i),n);case 3:e:{if(Pa(t),null===e)throw Error(r(387));o=t.pendingProps,i=(s=t.memoizedState).element,Dr(e,t),Fr(t,o,null,n);var a=t.memoizedState;if(o=a.element,s.isDehydrated){if(s={element:o,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=La(e,t,o,n,i=ca(Error(r(423)),t));break e}if(o!==i){t=La(e,t,o,n,i=ca(Error(r(424)),t));break e}for(ir=ci(t.stateNode.containerInfo.firstChild),or=t,rr=!0,sr=null,n=Jr(t,null,o,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(hr(),o===i){t=qa(e,t,n);break e}wa(e,t,o,n)}t=t.child}return t;case 5:return ss(t),null===e&&cr(t),o=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,oi(o,i)?a=null:null!==s&&oi(o,s)&&(t.flags|=32),Ea(e,t),wa(e,t,a,n),t.child;case 6:return null===e&&cr(t),null;case 13:return Fa(e,t,n);case 4:return is(t,t.stateNode.containerInfo),o=t.pendingProps,null===e?t.child=Xr(t,null,o,n):wa(e,t,o,n),t.child;case 11:return o=t.type,i=t.pendingProps,ka(e,t,o,i=t.elementType===o?i:vr(o,i),n);case 7:return wa(e,t,t.pendingProps,n),t.child;case 8:case 12:return wa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(o=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Mi(yr,o._currentValue),o._currentValue=a,null!==s)if(ao(s.value,a)){if(s.children===i.children&&!Pi.current){t=qa(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var u=l.firstContext;null!==u;){if(u.context===o){if(1===s.tag){(u=Ar(-1,n&-n)).tag=2;var c=s.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Cr(s.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(r(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Cr(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}wa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,o=t.pendingProps.children,xr(t,n),o=o(i=Er(i)),t.flags|=1,wa(e,t,o,n),t.child;case 14:return i=vr(o=t.type,t.pendingProps),Ta(e,t,o,i=vr(o.type,i),n);case 15:return Ca(e,t,t.type,t.pendingProps,n);case 17:return o=t.type,i=t.pendingProps,i=t.elementType===o?i:vr(o,i),$a(e,t),t.tag=1,Di(o)?(e=!0,Ri(t)):e=!1,xr(t,n),$r(t,o,i),Wr(t,o,i,n),Na(null,t,o,!0,e,n);case 19:return Ha(e,t,n);case 22:return xa(e,t,n)}throw Error(r(156,t.tag))};var Ku="function"==typeof reportError?reportError:function(e){console.error(e)};function Gu(e){this._internalRoot=e}function Qu(e){this._internalRoot=e}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Ju(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zu(){}function ec(e,t,n,o,i){var r=n._reactRootContainer;if(r){var s=r;if("function"==typeof i){var a=i;i=function(){var e=qu(s);a.call(e)}}$u(t,s,e,i)}else s=function(e,t,n,o,i){if(i){if("function"==typeof o){var r=o;o=function(){var e=qu(s);r.call(e)}}var s=Hu(t,o,e,0,null,!1,0,"",Zu);return e._reactRootContainer=s,e[mi]=s.current,Ho(8===e.nodeType?e.parentNode:e),du(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof o){var a=o;o=function(){var e=qu(l);a.call(e)}}var l=zu(e,0,!1,null,0,!1,0,"",Zu);return e._reactRootContainer=l,e[mi]=l.current,Ho(8===e.nodeType?e.parentNode:e),du((function(){$u(t,l,n,o)})),l}(n,t,e,i,o);return qu(s)}Qu.prototype.render=Gu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));$u(e,t,null,null)},Qu.prototype.unmount=Gu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;du((function(){$u(null,e,null,null)})),t[mi]=null}},Qu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Rt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),iu(t,Xe()),!(6&Nl)&&(Hl=Xe()+500,Hi()))}break;case 13:du((function(){var t=Pr(e,1);if(null!==t){var n=tu();ou(t,e,1,n)}})),Yu(e,1)}},kt=function(e){if(13===e.tag){var t=Pr(e,134217728);null!==t&&ou(t,e,134217728,tu()),Yu(e,134217728)}},Tt=function(e){if(13===e.tag){var t=nu(e),n=Pr(e,t);null!==n&&ou(n,e,t,tu()),Yu(e,t)}},Ct=function(){return bt},xt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},ke=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var i=ki(o);if(!i)throw Error(r(90));Y(o),J(o,i)}}}break;case"textarea":re(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=cu,Ne=du;var tc={usingClientEntryPoint:!1,Events:[Si,wi,ki,Ee,Me,cu]},nc={findFiberByHostInstance:bi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},oc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:S.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(oc),rt=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xu(t))throw Error(r(200));return function(e,t,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==o?null:""+o,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xu(e))throw Error(r(299));var n=!1,o="",i=Ku;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(o=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zu(e,1,!1,null,0,n,0,o,i),e[mi]=t.current,Ho(8===e.nodeType?e.parentNode:e),new Gu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return du(e)},t.hydrate=function(e,t,n){if(!Ju(t))throw Error(r(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xu(e))throw Error(r(405));var o=null!=n&&n.hydratedSources||null,i=!1,s="",a=Ku;if(null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Hu(t,null,e,1,null!=n?n:null,i,0,s,a),e[mi]=t.current,Ho(e),o)for(e=0;e<o.length;e++)i=(i=(n=o[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qu(t)},t.render=function(e,t,n){if(!Ju(t))throw Error(r(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ju(e))throw Error(r(40));return!!e._reactRootContainer&&(du((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[mi]=null}))})),!0)},t.unstable_batchedUpdates=cu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,o){if(!Ju(n))throw Error(r(200));if(null==e||void 0===e._reactInternals)throw Error(r(38));return ec(e,t,n,!1,o)},t.version="18.2.0-next-9e3b772b8-20220608"},5338:(e,t,n)=>{var o=n(961);t.createRoot=o.createRoot,t.hydrateRoot=o.hydrateRoot},961:(e,t,n)=>{!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(2551)},5287:(e,t)=>{var n=Symbol.for("react.element"),o=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.iterator,h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var S=b.prototype=new y;S.constructor=b,m(S,v.prototype),S.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,T={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,o){var i,r={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)k.call(t,i)&&!C.hasOwnProperty(i)&&(r[i]=t[i]);var l=arguments.length-2;if(1===l)r.children=o;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];r.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===r[i]&&(r[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:a,props:r,_owner:T.current}}function E(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var M=/\/+/g;function I(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,r,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case o:l=!0}}if(l)return s=s(l=e),e=""===r?"."+I(l,0):r,w(s)?(i="",null!=e&&(i=e.replace(M,"$&/")+"/"),N(s,t,i,"",(function(e){return e}))):null!=s&&(E(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(M,"$&/")+"/")+e)),t.push(s)),1;if(l=0,r=""===r?".":r+":",w(e))for(var u=0;u<e.length;u++){var c=r+I(a=e[u],u);l+=N(a,t,i,c,s)}else if(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"==typeof c)for(e=c.call(e),u=0;!(a=e.next()).done;)l+=N(a=a.value,t,i,c=r+I(a,u++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var o=[],i=0;return N(e,o,"","",(function(e){return t.call(n,e,i++)})),o}function L(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var _={current:null},D={transition:null},A={ReactCurrentDispatcher:_,ReactCurrentBatchConfig:D,ReactCurrentOwner:T};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=b,t.StrictMode=r,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.cloneElement=function(e,t,o){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),r=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=T.current),void 0!==t.key&&(r=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)k.call(t,u)&&!C.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=o;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:r,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:L}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return _.current.useCallback(e,t)},t.useContext=function(e){return _.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return _.current.useDeferredValue(e)},t.useEffect=function(e,t){return _.current.useEffect(e,t)},t.useId=function(){return _.current.useId()},t.useImperativeHandle=function(e,t,n){return _.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return _.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return _.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return _.current.useMemo(e,t)},t.useReducer=function(e,t,n){return _.current.useReducer(e,t,n)},t.useRef=function(e){return _.current.useRef(e)},t.useState=function(e){return _.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return _.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return _.current.useTransition()},t.version="18.2.0"},6540:(e,t,n)=>{e.exports=n(5287)},7463:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var o=n-1>>>1,i=e[o];if(!(0<r(i,t)))break e;e[o]=t,e[n]=i,n=o}}function o(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var o=0,i=e.length,s=i>>>1;o<s;){var a=2*(o+1)-1,l=e[a],u=a+1,c=e[u];if(0>r(l,n))u<i&&0>r(c,l)?(e[o]=c,e[u]=n,o=u):(e[o]=l,e[a]=n,o=a);else{if(!(u<i&&0>r(c,n)))break e;e[o]=c,e[u]=n,o=u}}}return t}function r(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],d=1,p=null,f=3,h=!1,m=!1,g=!1,v="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function S(e){for(var t=o(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=o(c)}}function w(e){if(g=!1,S(e),!m)if(null!==o(u))m=!0,D(k);else{var t=o(c);null!==t&&A(w,t.startTime-e)}}function k(e,n){m=!1,g&&(g=!1,y(E),E=-1),h=!0;var r=f;try{for(S(n),p=o(u);null!==p&&(!(p.expirationTime>n)||e&&!N());){var s=p.callback;if("function"==typeof s){p.callback=null,f=p.priorityLevel;var a=s(p.expirationTime<=n);n=t.unstable_now(),"function"==typeof a?p.callback=a:p===o(u)&&i(u),S(n)}else i(u);p=o(u)}if(null!==p)var l=!0;else{var d=o(c);null!==d&&A(w,d.startTime-n),l=!1}return l}finally{p=null,f=r,h=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var T,C=!1,x=null,E=-1,M=5,I=-1;function N(){return!(t.unstable_now()-I<M)}function P(){if(null!==x){var e=t.unstable_now();I=e;var n=!0;try{n=x(!0,e)}finally{n?T():(C=!1,x=null)}}else C=!1}if("function"==typeof b)T=function(){b(P)};else if("undefined"!=typeof MessageChannel){var L=new MessageChannel,_=L.port2;L.port1.onmessage=P,T=function(){_.postMessage(null)}}else T=function(){v(P,0)};function D(e){x=e,C||(C=!0,T())}function A(e,n){E=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,D(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return o(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,r){var s=t.unstable_now();switch(r="object"==typeof r&&null!==r&&"number"==typeof(r=r.delay)&&0<r?s+r:s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:r,expirationTime:a=r+a,sortIndex:-1},r>s?(e.sortIndex=r,n(c,e),null===o(u)&&e===o(c)&&(g?(y(E),E=-1):g=!0,A(w,r-s))):(e.sortIndex=a,n(u,e),m||h||(m=!0,D(k))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},9982:(e,t,n)=>{e.exports=n(7463)},3225:function(e,t){var n=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AnimationUtils=void 0,t.AnimationUtils={applyLoadingAnimation:function(e,t,o){return e.style.animation=`rotate ${t}s 0s infinite`,()=>n(this,void 0,void 0,(function*(){return new Promise((n=>{e.style.animation=`rotate ${t}s`;const i=()=>{o&&o(),e.style.animation="none",e.removeEventListener("animationend",i),n()};e.addEventListener("animationend",i)}))}))},setupAutoHideAnimation:function(e,t,n=!0,o=!0){const{hide:i,show:r}=this.setupCustomHideAnimation(e,t,n,o);t.addEventListener("mouseleave",(()=>i())),t.addEventListener("mouseenter",(()=>r()))},setupCustomHideAnimation:function(e,t,n=!0,o=!0){n&&e.classList.add("autoHiding"),e.classList.add("sbhidden"),e.classList.add("animationDone"),o||e.classList.add("autoHideLeft");let i=!1;return{hide:()=>{i=!1,e.classList.contains("autoHiding")&&e.classList.add("sbhidden")},show:()=>{i=!0,e.classList.remove("animationDone"),setTimeout((()=>{i&&e.classList.remove("sbhidden")}),10)}}},enableAutoHideAnimation:function(e){e.classList.add("autoHiding"),e.classList.add("sbhidden")},disableAutoHideAnimation:function(e){e.classList.remove("autoHiding"),e.classList.remove("sbhidden")}}},3531:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.sendRequestToCustomServer=t.setupBackgroundRequestProxy=t.sendRealRequestToCustomServer=void 0;const i=n(1108),r=n(3262);function s(e,t,n={},r={}){return o(this,void 0,void 0,(function*(){return"get"===e.toLowerCase()&&(t=(0,i.objectToURI)(t,n,!0),n=null),yield fetch(t,{method:e,headers:Object.assign({"Content-Type":"application/json"},r||{}),redirect:"follow",body:n?JSON.stringify(n):null})}))}t.sendRealRequestToCustomServer=s,t.setupBackgroundRequestProxy=function(){chrome.runtime.onMessage.addListener(((e,t,n)=>"sendRequest"===e.message?(s(e.type,e.url,e.data,e.headers).then((e=>o(this,void 0,void 0,(function*(){n({responseText:yield e.text(),status:e.status,ok:e.ok})})))).catch((()=>{n({responseText:"",status:-1,ok:!1})})),!0):"getHash"===e.message&&((0,r.getHash)(e.value,e.times).then(n).catch((e=>{n({error:null==e?void 0:e.message})})),!0)))},t.sendRequestToCustomServer=function(e,t,n={},o={}){return new Promise(((i,r)=>{chrome.runtime.sendMessage({message:"sendRequest",type:e,url:t,data:n,headers:o},(e=>{-1!==e.status?i(e):r(e)}))}))}},7046:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.chromeP=void 0,t.chromeP="undefined"==typeof browser?"undefined"!=typeof chrome?chrome:null:browser},2146:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DataCache=void 0,t.DataCache=class{constructor(e,t=2e3){this.cache={},this.init=e,this.cacheLimit=t}getFromCache(e){return this.cache[e]}setupCache(e){if(!this.cache[e]&&(this.cache[e]=Object.assign(Object.assign({},this.init()),{lastUsed:Date.now()}),Object.keys(this.cache).length>this.cacheLimit)){const e=Object.entries(this.cache).reduce(((e,t)=>e[1].lastUsed<t[1].lastUsed?e:t));delete this.cache[e[0]]}return this.cache[e]}cacheUsed(e){return this.cache[e]&&(this.cache[e].lastUsed=Date.now()),!!this.cache[e]}}},2184:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.injectUpdatedScripts=t.getCleanupStartMessage=t.getCleanupId=t.setupCleanupListener=t.addCleanupListener=void 0;const i=n(7046),r=[];function s(){return`${chrome.runtime.id}-cleanup`}t.addCleanupListener=function(e){r.push(e)},t.setupCleanupListener=function(){const e=s(),t=performance.now();window.postMessage({source:e,message:"cleanup-start"}),window.addEventListener("message",(n=>{var o;if((null===(o=n.data)||void 0===o?void 0:o.source)&&n.data.source===e&&"cleanup-start"===n.data.message&&performance.now()-t>5e3)for(const e of r)e()}))},t.getCleanupId=s,t.getCleanupStartMessage=function(){return"cleanup-start"},t.injectUpdatedScripts=function(e=[],t=!1){return o(this,void 0,void 0,(function*(){const n=t?e:e.concat(chrome.runtime.getManifest().content_scripts||[]);if("scripting"in chrome)for(const e of n)for(const t of yield i.chromeP.tabs.query({url:e.matches}))e.css&&e.css.length>0&&(yield i.chromeP.scripting.insertCSS({target:{tabId:t.id},files:e.css||[]})),yield i.chromeP.scripting.executeScript({target:{tabId:t.id},files:e.js||[],world:e.world||"ISOLATED"});else chrome.windows.getAll({populate:!0},(e=>{var t,o;for(const i of e)if(i.tabs)for(const e of i.tabs)for(const i of n)if(e.url&&(null===(o=null===(t=i.matches)||void 0===t?void 0:t.some)||void 0===o?void 0:o.call(t,(t=>e.url.match(t.replace(/\//g,"\\/").replace(/\./g,"\\.").replace(/\*/g,".*")))))){if(i.js)for(const t of i.js)chrome.tabs.executeScript(e.id,{file:t});if(i.css)for(const t of i.css)chrome.tabs.insertCSS(e.id,{file:t})}}))}))}},4586:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GenericTooltip=void 0;const o=n(6540),i=n(5338),r=n(1108),s=n(1740);t.GenericTooltip=class{constructor(e,t){var n,a,l,u,c,d,p,f,h,m,g,v,y,b,S,w,k,T,C;null!==(n=e.bottomOffset)&&void 0!==n||(e.bottomOffset="70px"),null!==(a=e.topOffset)&&void 0!==a||(e.topOffset="inherit"),null!==(l=e.leftOffset)&&void 0!==l||(e.leftOffset="inherit"),null!==(u=e.rightOffset)&&void 0!==u||(e.rightOffset="inherit"),null!==(c=e.zIndex)&&void 0!==c||(e.zIndex=1e4),null!==(d=e.innerBottomMargin)&&void 0!==d||(e.innerBottomMargin="0px"),null!==(p=e.opacity)&&void 0!==p||(e.opacity=.7),null!==(f=e.displayTriangle)&&void 0!==f||(e.displayTriangle=!e.topTriangle),null!==(h=e.topTriangle)&&void 0!==h||(e.topTriangle=!1),null!==(m=e.extraClass)&&void 0!==m||(e.extraClass=""),null!==(g=e.showLogo)&&void 0!==g||(e.showLogo=!0),null!==(v=e.showGotIt)&&void 0!==v||(e.showGotIt=!0),null!==(y=e.positionRealtive)&&void 0!==y||(e.positionRealtive=!0),null!==(b=e.containerAbsolute)&&void 0!==b||(e.containerAbsolute=!1),null!==(S=e.center)&&void 0!==S||(e.center=!1),null!==(w=e.elements)&&void 0!==w||(e.elements=[]),null!==(k=e.buttonsAtBottom)&&void 0!==k||(e.buttonsAtBottom=!1),null!==(T=e.textBoxes)&&void 0!==T||(e.textBoxes=[]),null!==(C=e.textBoxMaxHeight)&&void 0!==C||(e.textBoxMaxHeight="inherit"),this.text=e.text,this.container=document.createElement("div"),this.container.id="sponsorTooltip"+e.text,e.positionRealtive&&(this.container.style.position="relative"),e.containerAbsolute&&(this.container.style.position="absolute"),e.center&&((0,r.isFirefoxOrSafari)()&&!(0,s.isSafari)()?this.container.style.width="-moz-available":this.container.style.width="-webkit-fill-available"),e.prependElement?e.referenceNode.insertBefore(this.container,e.prependElement):e.referenceNode.appendChild(this.container),e.timeout&&(this.timer=setTimeout((()=>this.close()),1e3*e.timeout));const x=`rgba(28, 28, 28, ${e.opacity})`;this.root=(0,i.createRoot)(this.container),this.root.render(o.createElement("div",{style:{bottom:e.bottomOffset,top:e.topOffset,left:e.leftOffset,right:e.rightOffset,zIndex:e.zIndex,backgroundColor:x,margin:e.center?"auto":void 0},className:"sponsorBlockTooltip"+(e.displayTriangle||e.topTriangle?" sbTriangle":"")+(e.topTriangle?" sbTopTriangle":"")+(1===e.opacity?" sbSolid":"")+` ${e.extraClass}`},o.createElement("div",{style:{marginBottom:e.innerBottomMargin,maxHeight:e.textBoxMaxHeight,overflowY:"auto"}},e.showLogo?o.createElement("img",{className:"sponsorSkipLogo sponsorSkipObject",src:chrome.runtime.getURL(t)}):null,this.text?o.createElement("span",{className:"sponsorSkipObject"+(e.showLogo?"":" sponsorSkipObjectFirst")},this.getTextElements(this.text+(e.link?". ":"")),e.link?o.createElement("a",{style:{textDecoration:"underline"},target:"_blank",rel:"noopener noreferrer",href:e.link},chrome.i18n.getMessage("LearnMore")):e.linkOnClick?o.createElement("a",{style:{textDecoration:"underline",marginLeft:"5px",cursor:"pointer"},onClick:e.linkOnClick,onAuxClick:e.linkOnClick},chrome.i18n.getMessage("LearnMore")):null):null,e.textBoxes?e.textBoxes.map(((t,n)=>o.createElement("div",{key:n,className:"sponsorSkipObject"+(e.showLogo?"":" sponsorSkipObjectFirst")},t||String.fromCharCode(8203)," "))):null,e.elements,!e.buttonsAtBottom&&this.getButtons(e.buttons,e.buttonsAtBottom)),e.buttonsAtBottom&&this.getButtons(e.buttons,e.buttonsAtBottom),e.showGotIt?o.createElement("button",{className:"sponsorSkipObject sponsorSkipNoticeButton",style:{float:"right"},onClick:()=>this.close()},chrome.i18n.getMessage("GotIt")):null,e.secondButtonText?o.createElement("button",{className:"sponsorSkipObject sponsorSkipNoticeButton",style:{float:"right"},onClick:()=>{var t;return null===(t=e.secondButtonOnClick)||void 0===t?void 0:t.call(e)}},e.secondButtonText):null))}getTextElements(e){if(!e.includes("\n"))return[o.createElement(o.Fragment,null,e)];const t=[];for(const n of e.split("\n"))t.push(o.createElement("div",{style:{padding:"5px"},key:n},n));return t}getButtons(e,t){if(e){const n=[],i={};t&&(i.float="right");for(const t of e)n.push(o.createElement("button",{className:"sponsorSkipObject sponsorSkipNoticeButton sponsorSkipNoticeRightButton",style:i,key:t.name,onClick:e=>t.listener(e)},t.name));return n}return[]}close(){this.root.unmount(),this.container.remove(),this.timer&&clearTimeout(this.timer)}}},1740:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.keybindToString=t.formatKey=t.keybindEquals=t.isSafari=t.ProtoConfig=void 0;const i=n(1108);function r(){return"undefined"!=typeof navigator&&"Apple Computer, Inc."===navigator.vendor}function s(e){return null==e?"":" "==e?"Space":1==e.length?e.toUpperCase():e}t.ProtoConfig=class{constructor(e,t,n,o=!1){this.configLocalListeners=[],this.configSyncListeners=[],this.cachedSyncConfig=null,this.cachedLocalStorage=null,this.config=null,this.local=null,this.inDeArrow=!1,this.syncDefaults=e,this.localDefaults=t,this.inDeArrow=o,this.setupConfig(n).then((e=>{this.config=null==e?void 0:e.sync,this.local=null==e?void 0:e.local}))}configProxy(){chrome.storage.onChanged.addListener(((e,t)=>{if("sync"===t){for(const t in e)this.cachedSyncConfig[t]=e[t].newValue;for(const t of this.configSyncListeners)t(e)}else if("local"===t){for(const t in e)this.cachedLocalStorage[t]=e[t].newValue;for(const t of this.configLocalListeners)t(e)}}));let e=0;const t=new Set;let n=null;const o=this,i={set(i,r,s){if(o.cachedSyncConfig[r]=s,Date.now()-e<100){if(t.add(r),!n){const e=()=>{const e=[...t];t.clear(),chrome.storage.sync.set(e.map((e=>[e,o.cachedSyncConfig[e]])).reduce(((e,[t,n])=>(e[t]=n,e)),{})),n=null};n=setTimeout(e,20)}return!0}return chrome.storage.sync.set({[r]:s}),e=Date.now(),!0},get(e,t){const n=o.cachedSyncConfig[t];return e[t]||n},deleteProperty:(e,t)=>(chrome.storage.sync.remove(t),!0)},r={set:(e,t,n)=>(o.cachedLocalStorage[t]=n,chrome.storage.local.set({[t]:n}),!0),get(e,t){const n=o.cachedLocalStorage[t];return e[t]||n},deleteProperty:(e,t)=>(chrome.storage.local.remove(t),!0)};return{sync:new Proxy({handler:i},i),local:new Proxy({handler:r},r)}}forceSyncUpdate(e){const t=this.cachedSyncConfig[e];chrome.storage.sync.set({[e]:t})}forceLocalUpdate(e){const t=this.cachedLocalStorage[e];chrome.storage.local.set({[e]:t},(()=>{chrome.runtime.lastError&&alert(chrome.i18n.getMessage("storageFull"))}))}fetchConfig(){return o(this,void 0,void 0,(function*(){yield Promise.all([new Promise((e=>{chrome.storage.sync.get(null,(t=>{this.cachedSyncConfig=t,void 0===this.cachedSyncConfig&&(this.cachedSyncConfig={},(this.inDeArrow||window.location.href.includes("options.html"))&&alert(`${chrome.i18n.getMessage("syncDisabledWarning")}${this.inDeArrow?`\n\n${chrome.i18n.getMessage("syncDisabledWarningDeArrow")}`:""}${(0,i.isFirefoxOrSafari)()&&!r()?`\n\n${chrome.i18n.getMessage("syncDisabledFirefoxSuggestions")}`:""}`)),e()}))})),new Promise((e=>{chrome.storage.local.get(null,(t=>{this.cachedLocalStorage=t,e()}))}))])}))}setupConfig(e){return o(this,void 0,void 0,(function*(){if("undefined"==typeof chrome)return null;yield this.fetchConfig(),this.addDefaults();const t=this.configProxy();return e(t.sync),t}))}addDefaults(){for(const e in this.syncDefaults)if(Object.prototype.hasOwnProperty.call(this.cachedSyncConfig,e)){if("barTypes"===e)for(const t in this.syncDefaults[e])Object.prototype.hasOwnProperty.call(this.cachedSyncConfig[e],t)||(this.cachedSyncConfig[e][t]=this.syncDefaults[e][t])}else this.cachedSyncConfig[e]=this.syncDefaults[e];for(const e in this.localDefaults)Object.prototype.hasOwnProperty.call(this.cachedLocalStorage,e)||(this.cachedLocalStorage[e]=this.localDefaults[e])}isReady(){return null!==this.config}},t.isSafari=r,t.keybindEquals=function(e,t){return!(null==e||null==t||Boolean(e.alt)!=Boolean(t.alt)||Boolean(e.ctrl)!=Boolean(t.ctrl)||Boolean(e.shift)!=Boolean(t.shift)||null==e.key&&null==e.code||null==t.key&&null==t.code)&&(null!=e.code&&null!=t.code?e.code===t.code:null!=e.key&&null!=t.key&&e.key.toUpperCase()===t.key.toUpperCase())},t.formatKey=s,t.keybindToString=function(e){if(null==e||null==e.key)return"";let t="";return e.ctrl&&(t+="Ctrl + "),e.alt&&(t+="Alt + "),e.shift&&(t+="Shift + "),t+s(e.key)}},2907:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.YT_DOMAINS=void 0,t.YT_DOMAINS=["m.youtube.com","www.youtube.com","www.youtube-nocookie.com","music.youtube.com","www.youtubekids.com"]},4148:function(e,t){var n=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};function o(e,t=!1){var n,o,i;if(!e)return!1;if("VIDEO"===e.tagName&&(e.classList.contains("html5-main-video")||"player"===e.id||"player_html5_api"===e.id)&&1===[...document.querySelectorAll("video")].filter((e=>e.duration)).length&&e.duration)return!0;if(0===e.offsetHeight||0===e.offsetWidth&&!t)return!1;const r=null==e?void 0:e.getBoundingClientRect(),s=document.elementFromPoint(r.left+r.width/2,r.top+r.height/2)||document.elementFromPoint(r.left,r.top);return!s&&"movie_player"===e.id&&r.top<0||!!(s===e||s&&e.contains(s)||s&&s.contains(e))||"VIDEO"===e.tagName&&(!!(null===(n=null==s?void 0:s.closest(".html5-video-player"))||void 0===n?void 0:n.contains(e))||!!(null===(i=null===(o=null==e?void 0:e.closest("#inline-preview-player"))||void 0===o?void 0:o.classList)||void 0===i?void 0:i.contains("playing-mode")))}function i(e,t=!1){return r(e,t)}function r(e,t=!1,n){for(const i of e){const e=n?n(i):i;if(e&&o(e,t))return e}return null}Object.defineProperty(t,"__esModule",{value:!0}),t.getElement=t.waitForElement=t.findValidElement=t.findValidElementFromSelector=t.isVisible=void 0,t.isVisible=o,t.findValidElementFromSelector=function(e,t=!1){return r(e,t,(e=>document.querySelector(e)))},t.findValidElement=i;let s=!1,a=null,l=[];function u(){if(!a){const e=e=>{var t;const n=[];for(const o of l){const{selector:r,visibleCheck:s,ignoreWidth:a,callbacks:l}=o;let u=!0;if(e){let t=!1;for(const n of e)if("childList"===n.type&&n.addedNodes.length>0){if(n.target instanceof HTMLElement&&(n.target.matches(r)||n.target.querySelector(r))){t=!0;break}for(const e of n.addedNodes)if(e instanceof HTMLElement&&(e.matches(r)||e.querySelector(r))){t=!0;break}if(t)break}t||(u=!1)}const c=u?document.querySelectorAll(r):o.elements;if(c&&c.length>0){o.elements=c;const e=s?i(c,a):c[0];if(e){if(null===(t=chrome.runtime)||void 0===t?void 0:t.id)for(const t of l)t(e);n.push(r)}}}l=l.filter((e=>!n.includes(e.selector))),0===l.length&&(null==a||a.disconnect(),a=null,s=!1)};e(),l.length>0&&(a=new MutationObserver(e),a.observe(document.documentElement,{childList:!0,subtree:!0}))}}function c(e,t,n=!1){return t?i(document.querySelectorAll(e),n):document.querySelector(e)}t.waitForElement=function(e,t=!1,o=!1){return n(this,void 0,void 0,(function*(){return yield new Promise((n=>{const i=c(e,t,o);if(i)return void n(i);const r=l.find((n=>n.selector===e&&n.visibleCheck===t));r?r.callbacks.push(n):l.push({selector:e,visibleCheck:t,ignoreWidth:o,callbacks:[n]}),s||(s=!0,document.body?u():window.addEventListener("DOMContentLoaded",(()=>{u()})))}))}))},t.getElement=c},8423:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getYouTubeTitleNode=t.getYouTubeTitleNodeSelector=void 0,t.getYouTubeTitleNodeSelector=function(){return"#title h1, .ytd-video-primary-info-renderer.title, .slim-video-information-title, #player-container + .h-box > h1, .ytd-video-primary-info-renderer > h1.title, #watch7-headline"},t.getYouTubeTitleNode=function(){return document.querySelector("#title h1, .ytd-video-primary-info-renderer.title, .slim-video-information-title, #player-container + .h-box > h1, .ytd-video-primary-info-renderer > h1.title, #watch7-headline")}},7913:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorMessage=t.getFormattedTime=t.getFormattedTimeToSeconds=void 0,t.getFormattedTimeToSeconds=function(e){const t=/^(?:(?:(\d+):)?(\d+):)?(\d*(?:[.,]\d+)?)$/.exec(e);return null===t?null:3600*(t[1]?parseInt(t[1]):0)+60*(t[2]?parseInt(t[2]||"0"):0)+(t[3]?parseFloat(t[3].replace(",",".")):0)},t.getFormattedTime=function(e,t){e=Math.max(e,0);const n=Math.floor(e/60/60),o=Math.floor(e/60)%60;let i=String(o),r=e%60;t||(r=Math.floor(r));let s=String(t?r.toFixed(3):r);return r<10&&(s="0"+s),n&&o<10&&(i="0"+i),isNaN(n)||isNaN(o)?null:(n?n+":":"")+i+":"+s},t.getErrorMessage=function(e,t){const n=!t||t.includes("cf-wrapper")||t.includes("<!DOCTYPE html>")?"":"\n\n"+t;return[400,409,0].includes(e)?chrome.i18n.getMessage(e+"")+" "+chrome.i18n.getMessage("errorCode")+e+n:e>=500&&e<=599?(503==e&&(e=502),chrome.i18n.getMessage(e+"")+" "+chrome.i18n.getMessage("errorCode")+e+"\n\n"+chrome.i18n.getMessage("statusReminder")):chrome.i18n.getMessage("connectionError")+e+n}},3262:function(e,t){var n=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getHash=void 0,t.getHash=function(e,t=5e3){return n(this,void 0,void 0,(function*(){if(t<=0)return"";if(!("subtle"in crypto))return new Promise(((n,o)=>chrome.runtime.sendMessage({message:"getHash",value:e,times:t},(e=>{e.error?o(e.error):n(e)}))));let n=e;for(let e=0;e<t;e++){const e=yield crypto.subtle.digest("SHA-256",(new TextEncoder).encode(n).buffer);n=Array.from(new Uint8Array(e)).map((e=>e.toString(16).padStart(2,"0"))).join("")}return n}))}},1108:function(e,t){var n=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.isFirefoxOrSafari=t.timeoutPomise=t.PromiseTimeoutError=t.objectToURI=t.waitFor=void 0,t.waitFor=function(e,t=5e3,o=100,i){return n(this,void 0,void 0,(function*(){return yield new Promise(((n,r)=>{let s=null;const a=()=>{const t=e();(i?i(t):t)&&(n(t),s&&clearInterval(s))};t&&(setTimeout((()=>{clearInterval(s),r(`TIMEOUT waiting for ${null==e?void 0:e.toString()}: ${Error().stack}`)}),t),s=setInterval(a,o)),a()}))}))},t.objectToURI=function(e,t,n){let o=0;for(const i in t){const r=e.includes("?")||o>0?"&":n?"?":"",s="string"==typeof t[i]?t[i]:JSON.stringify(t[i]);e+=r+encodeURIComponent(i)+"="+encodeURIComponent(s),o++}return e};class o extends Error{constructor(e){super("Promise timed out"),this.promise=e}}t.PromiseTimeoutError=o,t.timeoutPomise=function(e){return new Promise(((t,n)=>{e&&setTimeout((()=>{n(new o)}),e)}))},t.isFirefoxOrSafari=function(){return"undefined"!=typeof browser}},6705:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.onVideoPage=t.onMobile=void 0,t.onMobile=function(){return"m.youtube.com"===window.location.hostname},t.onVideoPage=function(){return!!document.URL.match(/\/watch|\/shorts|\/live|\/embed/)}},9249:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.injectScript=void 0;const o=n(9291),i=n(2303);t.injectScript=function(e){const t=document.createElement("script");t.id="sponsorblock-document-script",t.setAttribute("version",i.version),t.innerHTML=e;const n=document.head||document.documentElement,r=document.getElementById("sponsorblock-document-script"),s=null==r?void 0:r.getAttribute("version");!n||r&&!(0,o.versionHigher)(i.version,null!=s?s:"")||(r&&(t.setAttribute("teardown","true"),r.remove()),n.appendChild(t))}},3497:(e,t)=>{function n(e){const t=e.replace(/__MSG_(\w+)__/g,(function(e,t){return t?chrome.i18n.getMessage(t).replace(/</g,"&#60;").replace(/"/g,"&quot;").replace(/\n/g,"<br/>"):""}));return t!=e&&t}Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalizedMessage=t.localizeHtmlPage=t.generateUserID=void 0,t.generateUserID=function(e=36){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let n="";const o="undefined"==typeof window?crypto:window.crypto;if(o&&o.getRandomValues){const i=new Uint32Array(e);o.getRandomValues(i);for(let o=0;o<e;o++)n+=t[i[o]%62];return n}for(let o=0;o<e;o++)n+=t[Math.floor(62*Math.random())];return n},t.localizeHtmlPage=function(){const e=n(document.title);e&&(document.title=e);const t=document.querySelector(".sponsorBlockPageBody"),o=n(t.innerHTML.toString());o&&(t.innerHTML=o)},t.getLocalizedMessage=n},4395:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getThumbnailSelectors=t.getThumbnailBoxSelectors=t.getThumbnailLink=t.getThumbnailImageSelectors=t.getThumbnailElementsToListenFor=t.getThumbnailElements=void 0;const o=n(6705);function i(){return(0,o.onMobile)()?[".media-item-thumbnail-container",".video-thumbnail-container-compact","ytm-thumbnail-cover",".video-thumbnail-container-vertical","ytm-hero-playlist-thumbnail-renderer"]:["ytd-thumbnail","ytd-playlist-thumbnail","ytm-shorts-lockup-view-model","yt-thumbnail-view-model"]}function r(...e){return 0===e.length&&(e=[""]),i().map((t=>e.map((e=>`${t}${e}`)).join(", "))).join(", ")}t.getThumbnailElements=i,t.getThumbnailElementsToListenFor=function(){const e=i();return(0,o.onMobile)()||(e.push("yt-lockup-view-model"),e.push("ytm-shorts-lockup-view-model-v2")),e},t.getThumbnailImageSelectors=function(){return(0,o.onMobile)()?"img.video-thumbnail-img, img.amsterdam-playlist-thumbnail":"ytd-thumbnail:not([hidden]) img, ytd-playlist-thumbnail yt-image:not(.blurred-image) img, yt-img-shadow.ytd-hero-playlist-thumbnail-renderer img, ytm-shorts-lockup-view-model img, .yt-thumbnail-view-model__image img"},t.getThumbnailLink=function(e){return(0,o.onMobile)()?e.querySelector(["a.media-item-thumbnail-container","ytm-channel-featured-video-renderer a","a.compact-media-item-image","a.reel-item-endpoint",".amsterdam-playlist-thumbnail-wrapper a"].join(", ")):e.querySelector(r(" a"))},t.getThumbnailBoxSelectors=function(){return(0,o.onMobile)()?".media-item-thumbnail-container":r(":not([hidden])",".ytd-hero-playlist-thumbnail-renderer")},t.getThumbnailSelectors=r},8343:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.updateAll=t.newThumbnails=t.setThumbnailListener=t.getThumbnailSelector=void 0;const o=n(1108),i=n(2184),r=n(6705),s=n(4395),a=n(3683),l=new Map;let u=0,c=null,d=(0,s.getThumbnailSelectors)(),p="div.thumbnail";function f(){return(0,a.isOnInvidious)()?p:d}t.getThumbnailSelector=f,t.setThumbnailListener=function(e,t,n,s,u){c=e,s&&(d=s),u&&(p=u);const f=()=>{null==t||t(),(0,o.waitFor)((()=>null!==(0,a.isOnInvidious)())).then((()=>{(0,a.isOnInvidious)()&&g()}))};if("complete"===document.readyState?f():window.addEventListener("load",f),(0,o.waitFor)((()=>n()),5e3,10).then((()=>{g()})),(0,r.onMobile)()){const e=()=>b();window.addEventListener("updateui",e),window.addEventListener("state-navigateend",e),(0,i.addCleanupListener)((()=>{window.removeEventListener("updateui",e),window.removeEventListener("state-navigateend",e)}))}(0,i.addCleanupListener)((()=>{for(const e of l)e[1].disconnect();l.clear()}))};let h=0,m=null;function g(){if(performance.now()-h<50||m)return m?void 0:void(m=setTimeout((()=>{m=null,g()}),50));h=performance.now();const e=l.keys(),t=document.querySelectorAll(f()),n=[];for(const e of t)if(!l.has(e)){n.push(e);const t=new MutationObserver((t=>{for(const n of t)if("attributes"===n.type&&"href"===n.attributeName){null==c||c([e]);break}}));l.set(e,t);const o=(0,s.getThumbnailLink)(e);o&&t.observe(o,{attributes:!0});const i=new MutationObserver((t=>{var n,o;for(const i of t)if("childList"===i.type&&(null===(n=i.addedNodes[0])||void 0===n?void 0:n.nodeName.toLowerCase().includes("shorts"))||(null===(o=i.previousSibling)||void 0===o?void 0:o.nodeName.toLowerCase().includes("shorts"))){null==c||c([e]);break}})),r=e.querySelector("#content");r&&i.observe(r,{childList:!0})}if(null==c||c(n),performance.now()-u>5e3){for(const t of e)if(document.body&&!document.body.contains(t)){const e=l.get(t);null==e||e.disconnect(),l.delete(t)}u=performance.now()}}t.newThumbnails=g,t.updateAll=function(){c&&c([...l.keys()])};const v=[100,200,300,400,500,750,1e3,1500,2500,5e3,1e4];let y=null;function b(e=0){if(e>=v.length)return;y&&clearTimeout(y);const t=v[e]-(e>0?v[e-1]:0);y=setTimeout((()=>{g(),b(e+1)}),t),g()}},9291:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.versionHigher=void 0,t.versionHigher=function(e,t){const n=e.split("."),o=t.split(".");if(n.length!==o.length)return!0;for(let e=0;e<n.length;e++){const t=parseInt(n[e]),i=parseInt(o[e]);if(t>i)return!0;if(t<i)return!1}return!1}},3683:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.isOnChannelPage=t.isCurrentTimeWrong=t.getIsInline=t.getLastNonInlineVideoID=t.getIsLivePremiere=t.setIsAdPlaying=t.getIsAdPlaying=t.getChannelIDInfo=t.getWaitingForChannelID=t.isOnMobileYouTube=t.isOnInvidious=t.setCurrentTime=t.verifyCurrentTime=t.getCurrentTime=t.getVideoDuration=t.getVideoID=t.getVideo=t.triggerVideoElementChange=t.waitForVideo=t.whitelistCheck=t.parseYouTubeVideoIDFromURL=t.getYouTubeVideoID=t.triggerVideoIDChange=t.checkVideoIDChange=t.checkIfNewVideoID=t.setupVideoModule=t.ChannelIDStatus=t.PageType=void 0;const i=n(1108),r=n(1740),s=n(4148),a=n(8343),l=n(2907),u=n(2184),c=n(9249);var d,p;!function(e){e.Unknown="unknown",e.Shorts="shorts",e.Watch="watch",e.Search="search",e.Browse="browse",e.Channel="channel",e.Embed="embed"}(d=t.PageType||(t.PageType={})),function(e){e[e.Fetching=0]="Fetching",e[e.Found=1]="Found",e[e.Failed=2]="Failed"}(p=t.ChannelIDStatus||(t.ChannelIDStatus={}));const f="a.ytp-title-link[data-sessionlink='feature=player-title']:not(.cbCustomTitle)",h="ytd-channel-video-player-renderer a.ytp-title-link[data-sessionlink='feature=player-title']:not(.cbCustomTitle)";let m=null,g=null,v=null,y=null;const b=[];let S,w,k,T=!1,C=!1,x=null,E=null,M=!1,I=d.Unknown,N=!1,P=null,L=!1,_=0,D=!1,A={videoIDChange:()=>{},channelIDChange:()=>{},videoElementChange:()=>{},playerInit:()=>{},resetValues:()=>{},windowListenerHandler:()=>{},newVideosLoaded:()=>{},onNavigateToChannel:()=>{},documentScript:"",allowClipPage:!1};function O(e,t=!1){var n,r;return o(this,void 0,void 0,(function*(){return!(!e&&x&&(A.allowClipPage||!(null===(n=null===document||void 0===document?void 0:document.URL)||void 0===n?void 0:n.includes("youtube.com/clip/")))||(t&&e&&(setTimeout((()=>{Y()}),200),setTimeout((()=>{Y()}),1e3)),x!==e||!(0,s.isVisible)(m)&&m?((0,s.isVisible)(m)||Y(),A.resetValues(),x=null,I=d.Unknown,w={status:p.Fetching,id:null},S=!1,L=!1,_=0,D=!1,C=!1,window.postMessage({source:"sb-reset-media-session-link",videoID:null},"/"),x=e,L=t,!e||(yield(0,i.waitFor)((()=>k().isReady()),5e3,1),V(),A.videoIDChange(e),0)):(Z()&&x&&(null===(r=A.onNavigateToChannel)||void 0===r||r.call(A)),1)))}))}function B(e){return e||(e=null===document||void 0===document?void 0:document.URL),I===d.Channel?R(!0,d.Channel):!A.allowClipPage&&e.includes("youtube.com/clip/")?null:e.includes("/embed/")&&e.includes("youtube.com")?R(!1,d.Embed):!e.includes("youtube.com")||e.includes("/watch")||e.includes("/shorts/")||e.includes("playlist")?F(e):Z()?R(!0,d.Channel):F(e)||R(!1)}function R(e=!0,t=d.Watch){var n,o;const i=t===d.Embed?document.querySelector(f):t===d.Channel?document.querySelector(h):null===(o=null===(n=null==m?void 0:m.parentElement)||void 0===n?void 0:n.parentElement)||void 0===o?void 0:o.querySelector(f),r=null==i?void 0:i.getAttribute("href");return r?(E=e,I=t,F(r)):null}function F(e){const t=U(e);return t.callLater?((0,i.waitFor)((()=>k().isReady())).then((()=>O(F(e)))),null):(E=t.onInvidious,M=t.onMobileYouTube,t.videoID)}function U(e){var t;e.startsWith("https://www.youtube.com/tv#/")&&(e=e.replace("#","")),e.startsWith("https://www.youtube.com/tv?")&&(e=e.replace(/\?[^#]+#/,""));let n=!1,o=!1,i=null;try{i=new URL(e)}catch(t){return console.error("[SB] Unable to parse URL: "+e),{videoID:null,onInvidious:n,onMobileYouTube:o,callLater:!1}}if(l.YT_DOMAINS.includes(i.host))"m.youtube.com"===i.host&&(o=!0),n=!1;else{if(!k().isReady()||!(null===(t=k().config.invidiousInstances)||void 0===t?void 0:t.includes(i.hostname)))return{videoID:null,onInvidious:n,onMobileYouTube:o,callLater:!k().isReady()};n=!0}if(i.searchParams.has("v")&&["/watch","/watch/"].includes(i.pathname)||i.pathname.startsWith("/tv/watch")){const e=i.searchParams.get("v");return{videoID:11==(null==e?void 0:e.length)?e:null,onInvidious:n,onMobileYouTube:o,callLater:!1}}if(i.pathname.startsWith("/embed/")||i.pathname.startsWith("/shorts/"))try{const e=i.pathname.split("/")[2];if((null==e?void 0:e.length)>=11)return{videoID:e.slice(0,11),onInvidious:n,onMobileYouTube:o,callLater:!1}}catch(t){return console.error("[SB] Video ID not valid for "+e),{videoID:null,onInvidious:n,onMobileYouTube:o,callLater:!1}}return{videoID:null,onInvidious:n,onMobileYouTube:o,callLater:!1}}function V(){var e,t,n,r,s,a,l,u,c,d,f,h;return o(this,void 0,void 0,(function*(){try{N=!0,yield(0,i.waitFor)((()=>w.status===p.Found),6e3,20)}catch(o){const i=null===(r=null===(n=null===(t=null===(e=document.querySelector("ytd-page-manager"))||void 0===e?void 0:e.data)||void 0===t?void 0:t.playerResponse)||void 0===n?void 0:n.videoDetails)||void 0===r?void 0:r.channelId,m=null===(h=null===(f=null===(d=null!==(c=null!==(a=null!==(s=document.querySelector("a.ytd-video-owner-renderer"))&&void 0!==s?s:document.querySelector("a.ytp-title-channel-logo"))&&void 0!==a?a:null===(u=null===(l=document.querySelector(".channel-profile #channel-name"))||void 0===l?void 0:l.parentElement)||void 0===u?void 0:u.parentElement)&&void 0!==c?c:document.querySelector("a.slim-owner-icon-and-title"))||void 0===d?void 0:d.getAttribute("href"))||void 0===f?void 0:f.match(/\/(?:(?:channel|c|user|)\/|@)(UC[a-zA-Z0-9_-]{22}|[a-zA-Z0-9_-]+)/))||void 0===h?void 0:h[1];w=m?{status:p.Found,id:null!=i?i:m}:{status:p.Failed,id:null}}N=!1,A.channelIDChange(w)}))}t.setupVideoModule=function(e,t){A=e,k=t,(0,u.setupCleanupListener)(),(0,i.waitFor)((()=>k().isReady()),1e3,1).then((()=>O(B()))),l.YT_DOMAINS.includes(location.host)&&(document.URL.includes("/embed/")||"complete"===document.readyState&&Z())&&(0,s.waitForElement)(Z()?h:f).then((e=>(0,i.waitFor)((()=>e.getAttribute("href"))))).then((()=>O(B()))).catch((()=>{})),function(){const e=()=>{(0,s.isVisible)(m)||Y()};A.documentScript&&(0,c.injectScript)(A.documentScript),document.addEventListener("yt-navigate-finish",e);const t=()=>{var e;document.querySelector('meta[property="og:title"][content="Piped"]')&&(null===(e=A.playerInit)||void 0===e||e.call(A))};window.addEventListener("playerInit",t),window.addEventListener("message",G),(0,u.addCleanupListener)((()=>{document.removeEventListener("yt-navigate-finish",e),window.removeEventListener("playerInit",t),window.removeEventListener("message",G)}))}();const n="navigation"in window;if(n){const e=e=>{O(B(e.destination.url))};window.navigation.addEventListener("navigate",e),(0,u.addCleanupListener)((()=>{window.navigation.removeEventListener("navigate",e)}))}(0,i.waitFor)((()=>null!==t().local)).then((()=>{t().local.navigationApiAvailable!==n&&(t().local.navigationApiAvailable=n,t().forceLocalUpdate("navigationApiAvailable"))})),H(),(0,u.addCleanupListener)((()=>{v&&(v.disconnect(),v=null)}))},t.checkIfNewVideoID=function(){return o(this,void 0,void 0,(function*(){const e=B();return e!==x&&(yield O(e))}))},t.checkVideoIDChange=function(){return o(this,void 0,void 0,(function*(){const e=B();return yield O(e)}))},t.triggerVideoIDChange=function(e){return o(this,void 0,void 0,(function*(){return yield O(e)}))},t.getYouTubeVideoID=B,t.parseYouTubeVideoIDFromURL=U,t.whitelistCheck=V;let z=0,j=null;function H(){if(!(E||null!==v&&(0,s.isVisible)(y.parentElement))){if(j&&clearTimeout(j),Date.now()-z<2e3)return void(j=setTimeout(H,Math.max(1e3,Date.now()-z)));z=Date.now();const e=(0,s.getElement)("#movie_player",!0);if(!e)return;const t=e.querySelector(".html5-video-container");if(!t)return;v&&v.disconnect(),v=new MutationObserver(Y),y=t,v.observe(t,{attributes:!0,childList:!0,subtree:!0})}}const $=[];t.waitForVideo=function(){return m?Promise.resolve(m):new Promise((e=>{$.push(e)}))};let q="",W=!1;function Y(){var e;return o(this,void 0,void 0,(function*(){if(T)return;(0,s.isVisible)(m)||K()||(m=null),T=!0;let t=(0,r.isSafari)()&&document.querySelector('video[vinegared="true"]')||(yield(0,s.waitForElement)("video",!0)),n=!1;if(document.querySelector(".miniplayer video")&&t){const e=[...document.querySelectorAll("video")].filter((e=>(0,s.isVisible)(e)));if(e.length>1){const o=t.duration,r=e.find((e=>!e.closest(".miniplayer")));r&&(t=r),isNaN(t.duration)&&(yield(0,i.waitFor)((()=>!!t.duration),5e3,50)),n=o!==t.duration}}if(T=!1,m===t&&g===t.style.width&&!n)return;m=t,g=t.style.width;const o=!b.includes(m);if(o&&b.push(m),null===(e=A.videoElementChange)||void 0===e||e.call(A,o,m),$.forEach((e=>e(t))),$.length=0,H(),document.URL.includes("/embed/")){if(W)return;W=!0;const e=(0,s.waitForElement)(f).then((e=>(0,i.waitFor)((()=>e),void 0,void 0,(e=>e.getAttribute("href")!==q&&!!e.getAttribute("href")&&!!e.textContent))));e.catch((()=>W=!1)),e.then((e=>q=e.getAttribute("href"))).then((()=>W=!1)).then((()=>O(B())))}else O(B())}))}function K(){return(0,r.isSafari)()&&!!document.querySelector('video[vinegared="true"]')}function G(e){var t,n,o,i;const r=e.data,s=r.type;"sponsorblock"!==r.source||!A.allowClipPage&&(null===(t=null===document||void 0===document?void 0:document.URL)||void 0===t?void 0:t.includes("youtube.com/clip/"))||("navigation"===s&&(0,a.newThumbnails)(),"navigation"===s&&r.videoID?(I=r.pageType,r.channelID&&(w={id:r.channelID,status:p.Found},N||V()),O(r.videoID)):"ad"===s?C!=r.playing&&(C=r.playing,null===(n=A.updatePlayerBar)||void 0===n||n.call(A)):"data"===s&&r.videoID?(r.isInline||(P=r.videoID),O(r.videoID,r.isInline),S=r.isLive||r.isPremiere):"newElement"===s?(0,a.newThumbnails)():"videoIDsLoaded"===s?null===(o=A.newVideosLoaded)||void 0===o||o.call(A,r.videoIDs):"adDuration"===s?_=r.duration:"currentTimeWrong"===s&&(D=!0,alert(`${chrome.i18n.getMessage("submissionFailedServerSideAds")}\n\nInclude the following:\n${r.playerTime}\n${r.expectedTime}`)),null===(i=A.windowListenerHandler)||void 0===i||i.call(A,e))}t.triggerVideoElementChange=function(e){var t;m=e,g=e.style.width;const n=!b.includes(m);n&&b.push(m),null===(t=A.videoElementChange)||void 0===t||t.call(A,n,m)};let Q=0;function X(){return H(),(!(0,s.isVisible)(m)||M&&m&&isNaN(m.duration))&&Date.now()-Q>500&&(Q=Date.now(),(0,s.isVisible)(m)||K()||(m=null),Y()),m}function J(){var e;const t=null===(e=X())||void 0===e?void 0:e.currentTime;return t?t-_:t}function Z(){return!!document.URL.match(/@|\/c\/|\/channel\/|\/user\//)}t.getVideo=X,t.getVideoID=function(){return x},t.getVideoDuration=function(){var e;return Math.max(0,(null!==(e=null==m?void 0:m.duration)&&void 0!==e?e:0)-_)},t.getCurrentTime=J,t.verifyCurrentTime=function(){X()&&X().paused&&window.postMessage({source:"sb-verify-time",time:J(),rawTime:X().currentTime},"/")},t.setCurrentTime=function(e){X()&&(X().currentTime=e+_)},t.isOnInvidious=function(){return E},t.isOnMobileYouTube=function(){return M},t.getWaitingForChannelID=function(){return N},t.getChannelIDInfo=function(){return w},t.getIsAdPlaying=function(){return C},t.setIsAdPlaying=function(e){C=e},t.getIsLivePremiere=function(){return S},t.getLastNonInlineVideoID=function(){return P},t.getIsInline=function(){return L},t.isCurrentTimeWrong=function(){return D},t.isOnChannelPage=Z},421:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(6540),r=n(8856),s=n(152),a=n(1727),l=n(1159),u=n(3225),c=n(2246),d=n(7913);class p extends i.Component{constructor(e){super(e),this.mainRef=i.createRef(),this.state={segment:null,show:!1,open:!1}}render(){var e,t,n,o,u;const c={backgroundColor:this.getColor(),display:this.state.show?"flex":"none",color:this.getTextColor()};return null===(o=null===(n=null===(t=null===(e=this.mainRef)||void 0===e?void 0:e.current)||void 0===t?void 0:t.parentElement)||void 0===n?void 0:n.classList)||void 0===o||o.toggle("cbPillOpen",this.state.show),i.createElement("span",{style:c,className:"sponsorBlockCategoryPill"+(this.props.showTextByDefault?"":" sbPillNoText"),"aria-label":this.getTitleText(),onClick:e=>this.toggleOpen(e),onMouseEnter:()=>this.openTooltip(),onMouseLeave:()=>this.closeTooltip(),ref:this.mainRef},i.createElement("span",{className:"sponsorBlockCategoryPillTitleSection"},i.createElement("img",{className:"sponsorSkipLogo sponsorSkipObject",src:chrome.runtime.getURL("icons/IconSponsorBlocker256px.png")}),(this.props.showTextByDefault||this.state.open)&&i.createElement("span",{className:"sponsorBlockCategoryPillTitle"},chrome.i18n.getMessage("category_"+(null===(u=this.state.segment)||void 0===u?void 0:u.category)))),this.state.open&&i.createElement(i.Fragment,null,i.createElement("div",{id:"sponsorTimesDownvoteButtonsContainerUpvoteCategoryPill",className:"voteButton",style:{marginLeft:"5px"},title:chrome.i18n.getMessage("upvoteButtonInfo"),onClick:e=>this.vote(e,1)},i.createElement(s.default,{fill:r.default.config.colorPalette.white})),i.createElement("div",{id:"sponsorTimesDownvoteButtonsContainerDownvoteCategoryPill",className:"voteButton",title:chrome.i18n.getMessage("reportButtonInfo"),onClick:e=>this.vote(e,0)},i.createElement(a.default,{fill:(0,l.downvoteButtonColor)(null,null,l.SkipNoticeAction.Downvote)}))),i.createElement("img",{src:chrome.runtime.getURL("icons/close.png"),className:"categoryPillClose",onClick:()=>{this.setState({show:!1}),this.closeTooltip()}}))}toggleOpen(e){e.stopPropagation(),this.state.show&&(this.props.showTooltipOnClick&&(this.state.open?this.closeTooltip():this.openTooltip()),this.setState({open:!this.state.open}))}vote(e,t){return o(this,void 0,void 0,(function*(){if(e.stopPropagation(),this.state.segment){const n=u.AnimationUtils.applyLoadingAnimation(e.currentTarget,.3),o=yield this.props.vote(t,this.state.segment.UUID);yield n(),1==o.successType||-1==o.successType&&429==o.statusCode?(this.setState({open:!1,show:1===t}),this.closeTooltip()):403!==o.statusCode&&alert((0,d.getErrorMessage)(o.statusCode,o.responseText))}}))}getColor(){var e;const t=null===(e=this.state.segment)||void 0===e?void 0:e.category;return null==t?null:`var(--sb-category-preview-${t}, var(--sb-category-${t}))`}getTextColor(){var e;const t=null===(e=this.state.segment)||void 0===e?void 0:e.category;return null==t?null:`var(--sb-category-text-preview-${t}, var(--sb-category-text-${t}))`}openTooltip(){this.tooltip&&this.tooltip.close();const e=document.querySelector("#above-the-fold, ytm-slim-owner-renderer");e&&(this.tooltip=new c.Tooltip({text:this.getTitleText(),referenceNode:e,bottomOffset:"0px",opacity:.95,displayTriangle:!1,showLogo:!1,showGotIt:!1,prependElement:e.firstElementChild}))}closeTooltip(){var e,t;null===(t=null===(e=this.tooltip)||void 0===e?void 0:e.close)||void 0===t||t.call(e),this.tooltip=null}getTitleText(){var e;const t=chrome.i18n.getMessage(`category_${null===(e=this.state.segment)||void 0===e?void 0:e.category}_pill`);return(t?t+". ":"")+chrome.i18n.getMessage("categoryPillTitleText")}}t.default=p},6387:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(6540),r=n(8856),s=n(9209),a=n(152),l=n(1727),u=n(1159),c=n(3225),d=n(2246),p=n(7913);class f extends i.Component{constructor(e){var t;super(e),this.state={segment:null,show:!1,size:null!==(t=e.size)&&void 0!==t?t:"22px"}}render(){return this.tooltip&&!this.state.show&&(this.tooltip.close(),this.tooltip=null),i.createElement(i.Fragment,null,i.createElement("button",{id:"sponsorTimesDownvoteButtonsContainerUpvoteChapter",className:"playerButton sbPlayerUpvote ytp-button "+(this.state.show?"":"sbhidden"),draggable:"false",title:chrome.i18n.getMessage("upvoteButtonInfo"),onClick:e=>this.vote(e,1)},i.createElement(a.default,{className:"playerButtonImage",fill:r.default.config.colorPalette.white,width:this.state.size,height:this.state.size})),i.createElement("button",{id:"sponsorTimesDownvoteButtonsContainerDownvoteChapter",className:"playerButton sbPlayerDownvote ytp-button "+(this.state.show?"":"sbhidden"),draggable:"false",title:chrome.i18n.getMessage("reportButtonInfo"),onClick:e=>{var t,n,o,i,r;const a=document.querySelector(".ytp-chapter-container");if(this.tooltip)this.tooltip.close(),this.tooltip=null;else if((null===(t=this.state.segment)||void 0===t?void 0:t.actionType)===s.ActionType.Chapter){const t=null===(n=null==a?void 0:a.parentElement)||void 0===n?void 0:n.parentElement;if(t){const n=t.getBoundingClientRect(),s=null===(i=null===(o=e.target)||void 0===o?void 0:o.parentElement)||void 0===i?void 0:i.getBoundingClientRect();this.tooltip=new d.Tooltip({referenceNode:null===(r=null==a?void 0:a.parentElement)||void 0===r?void 0:r.parentElement,prependElement:null==a?void 0:a.parentElement,showLogo:!1,showGotIt:!1,bottomOffset:`${n.height+25}px`,leftOffset:s.x-n.x+"px",extraClass:"centeredSBTriangle",buttons:[{name:chrome.i18n.getMessage("incorrectVote"),listener:t=>this.vote(t,0,e.target).then((()=>{var e;null===(e=this.tooltip)||void 0===e||e.close(),this.tooltip=null}))},{name:chrome.i18n.getMessage("harmfulVote"),listener:t=>this.vote(t,30,e.target).then((()=>{var e;null===(e=this.tooltip)||void 0===e||e.close(),this.tooltip=null}))}]})}}else this.vote(e,0,e.target)}},i.createElement(l.default,{className:"playerButtonImage",fill:(0,u.downvoteButtonColor)(this.state.segment?[this.state.segment]:null,u.SkipNoticeAction.Downvote,u.SkipNoticeAction.Downvote),width:this.state.size,height:this.state.size})))}vote(e,t,n){return o(this,void 0,void 0,(function*(){if(e.stopPropagation(),this.state.segment){const o=c.AnimationUtils.applyLoadingAnimation(null!=n?n:e.currentTarget,.3),i=yield this.props.vote(t,this.state.segment.UUID);yield o(),1==i.successType||-1==i.successType&&429==i.statusCode?this.setState({show:1===t}):403!==i.statusCode&&alert((0,p.getErrorMessage)(i.statusCode,i.responseText))}}))}}t.default=f},4342:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=n(6540),i=n(8856),r=n(7152);var s;!function(e){e[e.Timer=0]="Timer",e[e.Paused=1]="Paused",e[e.Stopped=2]="Stopped"}(s||(s={}));const a=[10,100,10,10];class l extends o.Component{constructor(e){var t;super(e),this.handleMouseMoveBinded=this.handleMouseMove.bind(this),this.parentRef=o.createRef();const n=()=>this.props.maxCountdownTime?this.props.maxCountdownTime():i.default.config.skipNoticeDuration;this.countdownInterval=null,this.amountOfPreviousNotices=e.amountOfPreviousNotices||0,this.idSuffix=e.idSuffix||"",this.state={maxCountdownTime:n,countdownTime:n(),countdownMode:s.Timer,mouseHovering:!1,startFaded:null!==(t=this.props.startFaded)&&void 0!==t&&t,mouseDownInfo:null,mouseMoved:!1,right:a[0],bottom:e.showInSecondSlot?290:a[1]}}componentDidMount(){this.startCountdown()}render(){var e;const t=Object.assign({zIndex:this.props.zIndex||1e3+this.amountOfPreviousNotices,right:this.state.right,bottom:this.state.bottom,userSelect:this.state.mouseDownInfo&&this.state.mouseMoved?"none":"auto"},null!==(e=this.props.style)&&void 0!==e?e:{});return o.createElement("div",{id:"sponsorSkipNotice"+this.idSuffix,className:"sponsorSkipObject sponsorSkipNoticeParent"+(this.props.showInSecondSlot?" secondSkipNotice":"")+(this.props.extraClass?` ${this.props.extraClass}`:""),onMouseEnter:e=>this.onMouseEnter(e),onMouseLeave:()=>{this.timerMouseLeave()},onMouseDown:e=>{document.addEventListener("mousemove",this.handleMouseMoveBinded),this.setState({mouseDownInfo:{x:e.clientX,y:e.clientY,right:this.state.right,bottom:this.state.bottom},mouseMoved:!1})},onMouseUp:()=>{document.removeEventListener("mousemove",this.handleMouseMoveBinded),this.setState({mouseDownInfo:null})},ref:this.parentRef,style:t},o.createElement("div",{className:"sponsorSkipNoticeTableContainer"+(this.props.fadeIn?" sponsorSkipNoticeFadeIn":"")+(this.state.startFaded?" sponsorSkipNoticeFaded":"")},o.createElement("table",{className:"sponsorSkipObject sponsorSkipNotice"+(this.props.limitWidth?" sponsorSkipNoticeLimitWidth":"")},o.createElement("tbody",null,o.createElement("tr",{id:"sponsorSkipNoticeFirstRow"+this.idSuffix,className:"sponsorSkipNoticeFirstRow"},o.createElement("td",{className:"noticeLeftIcon"},!this.props.hideLogo&&o.createElement(r.default,{id:"sponsorSkipLogo"+this.idSuffix,fill:this.props.logoFill,className:"sponsorSkipLogo sponsorSkipObject"}),o.createElement("span",{id:"sponsorSkipMessage"+this.idSuffix,style:{float:"left",marginRight:this.props.hideLogo?"0px":null},className:"sponsorSkipMessage sponsorSkipObject"},this.props.noticeTitle),this.props.firstColumn),this.props.firstRow,!this.props.hideRightInfo&&o.createElement("td",{className:"sponsorSkipNoticeRightSection",style:{top:"9.32px"}},this.props.timed?o.createElement("span",{id:"sponsorSkipNoticeTimeLeft"+this.idSuffix,onClick:()=>this.toggleManualPause(),className:"sponsorSkipObject sponsorSkipNoticeTimeLeft"},this.getCountdownElements()):"",o.createElement("img",{src:chrome.runtime.getURL("icons/close.png"),className:"sponsorSkipObject sponsorSkipNoticeButton sponsorSkipNoticeCloseButton sponsorSkipNoticeRightButton"+(this.props.biggerCloseButton?" biggerCloseButton":""),onClick:()=>this.close()}))),this.props.children,!this.props.smaller&&this.props.bottomRow?this.props.bottomRow:null))),this.props.smaller&&this.props.bottomRow?o.createElement("table",{style:{visibility:"hidden",paddingTop:"14px"}},o.createElement("tbody",null,this.props.bottomRow)):null)}getCountdownElements(){return[o.createElement("span",{id:"skipNoticeTimerText"+this.idSuffix,key:"skipNoticeTimerText",className:this.state.countdownMode!==s.Timer?"sbhidden":""},chrome.i18n.getMessage("NoticeTimeAfterSkip").replace("{seconds}",Math.ceil(this.state.countdownTime).toString())),o.createElement("img",{id:"skipNoticeTimerPaused"+this.idSuffix,key:"skipNoticeTimerPaused",className:this.state.countdownMode!==s.Paused?"sbhidden":"",src:chrome.runtime.getURL("icons/pause.svg"),alt:chrome.i18n.getMessage("paused")}),o.createElement("img",{id:"skipNoticeTimerStopped"+this.idSuffix,key:"skipNoticeTimerStopped",className:this.state.countdownMode!==s.Stopped?"sbhidden":"",src:chrome.runtime.getURL("icons/stop.svg"),alt:chrome.i18n.getMessage("manualPaused")})]}onMouseEnter(e){this.props.onMouseEnter&&this.props.onMouseEnter(e),this.fadedMouseEnter(),this.timerMouseEnter()}fadedMouseEnter(){this.state.startFaded&&this.setState({startFaded:!1})}timerMouseEnter(){this.state.countdownMode!==s.Stopped&&(this.pauseCountdown(),this.setState({mouseHovering:!0}))}timerMouseLeave(){this.state.countdownMode!==s.Stopped&&(this.startCountdown(),this.setState({mouseHovering:!1}))}toggleManualPause(){this.setState({countdownMode:this.state.countdownMode===s.Stopped?s.Timer:s.Stopped},(()=>{this.state.countdownMode===s.Stopped||this.state.mouseHovering?this.pauseCountdown():this.startCountdown()}))}countdown(){if(!this.props.timed)return;const e=Math.min(this.state.countdownTime-1,this.state.maxCountdownTime());if(e<=0)return clearInterval(this.countdownInterval),void this.close();if(3==e&&this.props.fadeOut){const e=document.getElementById("sponsorSkipNotice"+this.idSuffix);null==e||e.style.removeProperty("animation"),null==e||e.classList.add("sponsorSkipNoticeFadeOut")}this.setState({countdownTime:e})}removeFadeAnimation(){const e=document.getElementById("sponsorSkipNotice"+this.idSuffix);e.classList.remove("sponsorSkipNoticeFadeOut"),e.style.animation="none"}pauseCountdown(){this.props.timed&&!this.props.dontPauseCountdown&&(this.countdownInterval&&clearInterval(this.countdownInterval),this.countdownInterval=null,this.setState({countdownTime:this.state.maxCountdownTime(),countdownMode:this.state.countdownMode===s.Timer?s.Paused:this.state.countdownMode}),this.removeFadeAnimation())}startCountdown(){this.props.timed&&null===this.countdownInterval&&(this.setState({countdownTime:this.state.maxCountdownTime(),countdownMode:s.Timer}),this.setupInterval())}setupInterval(){this.countdownInterval&&clearInterval(this.countdownInterval),this.countdownInterval=setInterval(this.countdown.bind(this),1e3)}resetCountdown(){this.props.timed&&(this.setupInterval(),this.setState({countdownTime:this.state.maxCountdownTime(),countdownMode:s.Timer}),this.removeFadeAnimation())}close(e){null!==this.countdownInterval&&clearInterval(this.countdownInterval),e||this.props.closeListener()}addNoticeInfoMessage(e,t=""){const n=document.getElementById("sponsorTimesInfoMessage"+this.idSuffix);null!=n&&document.getElementById("sponsorSkipNotice"+this.idSuffix).removeChild(n);const o=document.getElementById("sponsorTimesInfoMessage"+this.idSuffix+"2");null!=o&&document.getElementById("sponsorSkipNotice"+this.idSuffix).removeChild(o);const i=document.createElement("p");if(i.id="sponsorTimesInfoMessage"+this.idSuffix,i.className="sponsorTimesInfoMessage",i.innerText=e,document.querySelector("#sponsorSkipNotice"+this.idSuffix+" > tbody").insertBefore(i,document.getElementById("sponsorSkipNoticeSpacer"+this.idSuffix)),void 0!==t){const e=document.createElement("p");e.id="sponsorTimesInfoMessage"+this.idSuffix+"2",e.className="sponsorTimesInfoMessage",e.innerText=t,document.querySelector("#sponsorSkipNotice"+this.idSuffix+" > tbody").insertBefore(e,document.getElementById("sponsorSkipNoticeSpacer"+this.idSuffix))}}getElement(){return this.parentRef}componentWillUnmount(){document.removeEventListener("mousemove",this.handleMouseMoveBinded)}handleMouseMove(e){if(this.state.mouseDownInfo&&1===e.buttons){const[t,n]=[e.clientX,e.clientY],o=t-this.state.mouseDownInfo.x,i=n-this.state.mouseDownInfo.y;(o>0||i>0)&&this.setState({mouseMoved:!0});const r=this.parentRef.current,s=r.parentElement.parentElement;this.setState({right:Math.min(s.clientWidth-r.clientWidth-a[2],Math.max(a[0],this.state.mouseDownInfo.right-o)),bottom:Math.min(s.clientHeight-r.clientHeight-a[3],Math.max(a[1],this.state.mouseDownInfo.bottom-i))})}else document.removeEventListener("mousemove",this.handleMouseMoveBinded)}}t.default=l},4332:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=n(6540);class i extends o.Component{constructor(e){super(e)}render(){const e={};return this.props.onClick&&(e.cursor="pointer",e.textDecoration="underline"),o.createElement("tr",{id:"sponsorTimesInfoMessage"+this.props.idSuffix,onClick:this.props.onClick,style:e,className:"sponsorTimesInfoMessage"},o.createElement("td",null,this.props.icon?o.createElement("img",{src:chrome.runtime.getURL(this.props.icon),className:"sponsorTimesInfoIcon"}):null,o.createElement("span",null,this.getTextElements(this.props.text))))}getTextElements(e){const t=[],n=e.split(/(?=\s+)/);for(const e of n)e.match(/^\s*http/)?t.push(o.createElement("a",{href:e,target:"_blank",rel:"noreferrer"},e)):t.push(e);return t}}t.default=i},1507:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=n(6540);class i extends o.Component{constructor(e){super(e),this.state={}}render(){return o.createElement("div",{id:this.props.id,style:{display:this.props.options.length>0?"inherit":"none"},className:"sbSelector"},o.createElement("div",{onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,className:"sbSelectorBackground"},this.getOptions()))}getOptions(){const e=[];for(const t of this.props.options)e.push(o.createElement("div",{className:"sbSelectorOption",onClick:e=>{e.stopPropagation(),this.props.onChange(t.label)},key:t.label},t.label));return e}}t.default=i},2841:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=n(6540),i=n(8272),r=n(8856),s=n(9209),a=n(4342),l=n(4332),u=new(n(205).default),c=n(1575),d=n(152),p=n(1727),f=n(4804),h=n(1159),m=n(3497),g=n(1740),v=n(7913),y=n(3683);var b;!function(e){e[e.Undo=0]="Undo",e[e.Redo=1]="Redo",e[e.Start=2]="Start"}(b||(b={}));class S extends o.Component{constructor(e){var t,n;super(e),this.noticeRef=o.createRef(),this.categoryOptionRef=o.createRef(),this.segments=e.segments,this.autoSkip=e.autoSkip,this.contentContainer=e.contentContainer;const i=this.props.upcomingNotice?(0,c.getUpcomingText)(this.segments):(0,c.getSkippingText)(this.segments,this.props.autoSkip),a=document.querySelectorAll(".sponsorSkipNoticeParent:not(.sponsorSkipUpcomingNotice)");this.amountOfPreviousNotices=a.length,this.showInSecondSlot=a.length>0&&[...a].some((e=>!e.classList.contains("secondSkipNotice"))),this.segments.length>1&&this.segments.sort(((e,t)=>e.segment[0]-t.segment[0]));for(const e of this.segments)this.idSuffix+=e.UUID;this.idSuffix+=this.amountOfPreviousNotices,this.selectedColor=r.default.config.colorPalette.red,this.unselectedColor=r.default.config.colorPalette.white,this.lockedColor=r.default.config.colorPalette.locked;const l=this.segments[0].actionType===s.ActionType.Mute,u=e.maxCountdownTime?()=>e.maxCountdownTime:l?this.getFullDurationCountdown(0):()=>r.default.config.skipNoticeDuration,d=this.props.startReskip?b.Redo:b.Undo,p=[d,l?b.Start:d],f=this.props.startReskip?this.reskip.bind(this):this.unskip.bind(this),m=[f,l?this.reskip.bind(this):f];this.state={noticeTitle:i,messages:[],messageOnClick:null,maxCountdownTime:u,countdownTime:u(),countdownText:null,skipButtonStates:p,skipButtonCallbacks:m,showSkipButton:[!0,!0],editing:!1,choosingCategory:!1,thanksForVotingText:null,actionState:h.SkipNoticeAction.None,showKeybindHint:null===(t=this.props.showKeybindHint)||void 0===t||t,smaller:null!==(n=this.props.smaller)&&void 0!==n&&n,voted:new Array(this.props.segments.length).fill(h.SkipNoticeAction.None),copied:new Array(this.props.segments.length).fill(h.SkipNoticeAction.None)},this.autoSkip||Object.assign(this.state,this.getUnskippedModeInfo(null,0,b.Start))}render(){const e={};this.contentContainer().onMobileYouTube&&(e.bottom="4em",e.transform="scale(0.8) translate(10%, 10%)");const t=this.getSkipButton(0);return o.createElement(a.default,{noticeTitle:this.state.noticeTitle,amountOfPreviousNotices:this.amountOfPreviousNotices,showInSecondSlot:this.showInSecondSlot,idSuffix:this.idSuffix,fadeIn:this.props.fadeIn,fadeOut:!this.props.upcomingNotice,startFaded:r.default.config.noticeVisibilityMode>=s.NoticeVisbilityMode.FadedForAll||r.default.config.noticeVisibilityMode>=s.NoticeVisbilityMode.FadedForAutoSkip&&this.autoSkip,timed:!0,maxCountdownTime:this.state.maxCountdownTime,style:e,biggerCloseButton:this.contentContainer().onMobileYouTube,ref:this.noticeRef,closeListener:()=>this.closeListener(),smaller:this.state.smaller,logoFill:r.default.config.barTypes[this.segments[0].category].color,limitWidth:!0,firstColumn:t,dontPauseCountdown:!!this.props.upcomingNotice,bottomRow:[...this.getMessageBoxes(),...this.getBottomRow()],extraClass:this.props.upcomingNotice?"sponsorSkipUpcomingNotice":"",onMouseEnter:()=>this.onMouseEnter()})}componentDidMount(){this.props.componentDidMount&&this.props.componentDidMount()}getBottomRow(){return[o.createElement("tr",{id:"sponsorSkipNoticeSecondRow"+this.idSuffix,key:0},this.state.thanksForVotingText?o.createElement("td",{id:"sponsorTimesVoteButtonInfoMessage"+this.idSuffix,className:"sponsorTimesInfoMessage sponsorTimesVoteButtonMessage",style:{marginRight:"10px"}},o.createElement("span",{style:{marginRight:"10px"}},this.state.thanksForVotingText),o.createElement("button",{id:"sponsorTimesContinueVotingContainer"+this.idSuffix,className:"sponsorSkipObject sponsorSkipNoticeButton",title:"Continue Voting",onClick:()=>this.setState({thanksForVotingText:null,messages:[]})},chrome.i18n.getMessage("ContinueVoting"))):o.createElement("td",{id:"sponsorTimesVoteButtonsContainer"+this.idSuffix,className:"sponsorTimesVoteButtonsContainer"},o.createElement("div",{id:"sponsorTimesDownvoteButtonsContainerUpvote"+this.idSuffix,className:"voteButton",style:{marginRight:"5px"},title:chrome.i18n.getMessage("upvoteButtonInfo"),onClick:()=>this.prepAction(h.SkipNoticeAction.Upvote)},o.createElement(d.default,{fill:this.state.actionState===h.SkipNoticeAction.Upvote?this.selectedColor:this.unselectedColor})),o.createElement("div",{id:"sponsorTimesDownvoteButtonsContainerDownvote"+this.idSuffix,className:"voteButton",style:{marginRight:"5px",marginLeft:"5px"},title:chrome.i18n.getMessage("reportButtonInfo"),onClick:()=>this.prepAction(h.SkipNoticeAction.Downvote)},o.createElement(p.default,{fill:(0,h.downvoteButtonColor)(this.segments,this.state.actionState,h.SkipNoticeAction.Downvote)})),o.createElement("div",{id:"sponsorTimesDownvoteButtonsContainerCopyDownvote"+this.idSuffix,className:"voteButton",style:{marginLeft:"5px"},onClick:()=>this.openEditingOptions()},o.createElement(f.default,{fill:!0===this.state.editing||this.state.actionState===h.SkipNoticeAction.CopyDownvote||!0===this.state.choosingCategory?this.selectedColor:this.unselectedColor}))),this.props.smaller&&this.segments[0].actionType!==s.ActionType.Mute?null:this.getSkipButton(1),!this.autoSkip||this.props.startReskip?"":o.createElement("td",{className:"sponsorSkipNoticeRightSection",key:1},o.createElement("button",{className:"sponsorSkipObject sponsorSkipNoticeButton sponsorSkipNoticeRightButton",onClick:this.contentContainer().dontShowNoticeAgain},chrome.i18n.getMessage("Hide")))),this.state.editing&&!this.state.thanksForVotingText&&!(this.state.choosingCategory||this.state.actionState===h.SkipNoticeAction.CopyDownvote)&&o.createElement("tr",{id:"sponsorSkipNoticeEditSegmentsRow"+this.idSuffix,key:2},o.createElement("td",{id:"sponsorTimesEditSegmentsContainer"+this.idSuffix},o.createElement("button",{className:"sponsorSkipObject sponsorSkipNoticeButton",title:chrome.i18n.getMessage("CopyDownvoteButtonInfo"),style:{color:(0,h.downvoteButtonColor)(this.segments,this.state.actionState,h.SkipNoticeAction.Downvote)},onClick:()=>this.prepAction(h.SkipNoticeAction.CopyDownvote)},chrome.i18n.getMessage("CopyAndDownvote")),o.createElement("button",{className:"sponsorSkipObject sponsorSkipNoticeButton",title:chrome.i18n.getMessage("ChangeCategoryTooltip"),style:{color:this.state.actionState===h.SkipNoticeAction.CategoryVote&&1==this.state.editing?this.selectedColor:this.unselectedColor},onClick:()=>this.resetStateToStart(h.SkipNoticeAction.CategoryVote,!0,!0)},chrome.i18n.getMessage("incorrectCategory")))),this.state.choosingCategory&&!this.state.thanksForVotingText&&o.createElement("tr",{id:"sponsorSkipNoticeCategoryChooserRow"+this.idSuffix,key:3},o.createElement("td",null,o.createElement("select",{id:"sponsorTimeCategories"+this.idSuffix,className:"sponsorTimeCategories sponsorTimeEditSelector",defaultValue:this.segments[0].category,onMouseDown:e=>e.stopPropagation(),ref:this.categoryOptionRef},this.getCategoryOptions()),1===this.segments.length&&o.createElement("button",{className:"sponsorSkipObject sponsorSkipNoticeButton",onClick:()=>this.prepAction(h.SkipNoticeAction.CategoryVote)},chrome.i18n.getMessage("submit")))),this.state.actionState!==h.SkipNoticeAction.None&&this.segments.length>1&&!this.state.thanksForVotingText&&o.createElement("tr",{id:"sponsorSkipNoticeSubmissionOptionsRow"+this.idSuffix,key:4},o.createElement("td",{id:"sponsorTimesSubmissionOptionsContainer"+this.idSuffix},this.getSubmissionChooser()))]}getSkipButton(e){if(this.state.showSkipButton[e]&&(this.segments.length>1||this.segments[0].actionType!==s.ActionType.Poi||this.props.unskipTime)){const t=1===e&&this.segments[0].actionType===s.ActionType.Mute,n={marginLeft:"4px",color:[h.SkipNoticeAction.Unskip0,h.SkipNoticeAction.Unskip1].includes(this.state.actionState)?this.selectedColor:this.unselectedColor};this.contentContainer().onMobileYouTube&&(n.padding="20px",n.minWidth="100px");const i=(0!==e||this.props.smaller||this.segments[0].actionType===s.ActionType.Mute)&&!this.props.upcomingNotice;return o.createElement("span",{className:"sponsorSkipNoticeUnskipSection",style:{visibility:i?null:"hidden"}},o.createElement("button",{id:"sponsorSkipUnskipButton"+this.idSuffix,className:"sponsorSkipObject sponsorSkipNoticeButton",style:n,onClick:()=>this.prepAction(1===e?h.SkipNoticeAction.Unskip1:h.SkipNoticeAction.Unskip0)},this.getSkipButtonText(e,t?s.ActionType.Skip:null)+(!t&&this.state.showKeybindHint?" ("+(0,g.keybindToString)(r.default.config.skipKeybind)+")":"")))}return null}getSubmissionChooser(){const e=[];for(let t=0;t<this.segments.length;t++)e.push(o.createElement("button",{className:"sponsorSkipObject sponsorSkipNoticeButton",style:{opacity:this.getSubmissionChooserOpacity(t),color:this.getSubmissionChooserColor(t)},onClick:()=>this.performAction(t),autoFocus:0==t,key:"submission"+t+this.segments[t].category+this.idSuffix},`${t+1}. ${chrome.i18n.getMessage("category_"+this.segments[t].category)} (${(0,v.getFormattedTime)(this.segments[t].segment[0])})`));return e}getSubmissionChooserOpacity(e){const t=this.state.actionState===h.SkipNoticeAction.Upvote,n=this.state.actionState==h.SkipNoticeAction.Downvote,o=this.state.actionState==h.SkipNoticeAction.CopyDownvote;return t&&this.state.voted[e]==h.SkipNoticeAction.Upvote||n&&this.state.voted[e]==h.SkipNoticeAction.Downvote||o&&this.state.copied[e]==h.SkipNoticeAction.CopyDownvote?.35:1}getSubmissionChooserColor(e){const t=this.state.actionState==h.SkipNoticeAction.Downvote,n=this.state.actionState==h.SkipNoticeAction.CopyDownvote;return r.default.config.isVip&&(t||n)&&1===this.segments[e].locked?this.lockedColor:this.unselectedColor}onMouseEnter(){this.state.smaller&&!this.props.upcomingNotice&&this.setState({smaller:!1})}getMessageBoxes(){if(0===this.state.messages.length)return[o.createElement("tr",{id:"sponsorSkipNoticeSpacer"+this.idSuffix,className:"sponsorBlockSpacer",key:"messageBoxSpacer"})];const e=[];for(let t=0;t<this.state.messages.length;t++)e.push(o.createElement("tr",{key:t+"_messageBox"},o.createElement("td",{key:t+"_messageBox"},o.createElement(l.default,{idSuffix:this.idSuffix,text:this.state.messages[t],onClick:this.state.messageOnClick,key:t+"_messageBox"}))));return e}prepAction(e){if(1===this.segments.length)this.performAction(0,e);else switch(this.state.smaller&&(this.setState({smaller:!1}),this.noticeRef.current.fadedMouseEnter(),this.noticeRef.current.resetCountdown()),null!=e?e:this.state.actionState){case h.SkipNoticeAction.None:this.resetStateToStart();break;case h.SkipNoticeAction.Upvote:this.resetStateToStart(h.SkipNoticeAction.Upvote);break;case h.SkipNoticeAction.Downvote:this.resetStateToStart(h.SkipNoticeAction.Downvote);break;case h.SkipNoticeAction.CategoryVote:this.resetStateToStart(h.SkipNoticeAction.CategoryVote,!0,!0);break;case h.SkipNoticeAction.CopyDownvote:this.resetStateToStart(h.SkipNoticeAction.CopyDownvote,!0);break;case h.SkipNoticeAction.Unskip0:this.resetStateToStart(h.SkipNoticeAction.Unskip0);break;case h.SkipNoticeAction.Unskip1:this.resetStateToStart(h.SkipNoticeAction.Unskip1)}}performAction(e,t){switch(null!=t?t:this.state.actionState){case h.SkipNoticeAction.None:this.noAction(e);break;case h.SkipNoticeAction.Upvote:this.upvote(e);break;case h.SkipNoticeAction.Downvote:this.downvote(e);break;case h.SkipNoticeAction.CategoryVote:this.categoryVote(e);break;case h.SkipNoticeAction.CopyDownvote:this.copyDownvote(e);break;case h.SkipNoticeAction.Unskip0:this.unskipAction(0,e,!1);break;case h.SkipNoticeAction.Unskip1:this.unskipAction(1,e,!0);break;default:this.resetStateToStart()}}noAction(e){const t=this.state.voted;t[e]=h.SkipNoticeAction.None,this.setState({voted:t})}upvote(e){1===this.segments.length&&this.resetStateToStart(),this.contentContainer().vote(1,this.segments[e].UUID,void 0,this)}downvote(e){1===this.segments.length&&this.resetStateToStart(),this.contentContainer().vote(0,this.segments[e].UUID,void 0,this)}categoryVote(e){this.contentContainer().vote(void 0,this.segments[e].UUID,this.categoryOptionRef.current.value,this)}copyDownvote(e){const t=this.props.contentContainer().sponsorVideoID,n={segment:this.segments[e].segment,UUID:(0,m.generateUserID)(),category:this.segments[e].category,actionType:this.segments[e].actionType,source:s.SponsorSourceType.Local},o=r.default.local.unsubmittedSegments[t]||[];o.push(n),r.default.local.unsubmittedSegments[t]=o,r.default.forceLocalUpdate("unsubmittedSegments"),this.props.contentContainer().sponsorTimesSubmitting.push(n),this.props.contentContainer().updatePreviewBar(),this.props.contentContainer().resetSponsorSubmissionNotice(),this.props.contentContainer().updateEditButtonsOnPlayer(),this.contentContainer().vote(0,this.segments[e].UUID,void 0,this);const i=this.state.copied;i[e]=h.SkipNoticeAction.CopyDownvote,this.setState({copied:i})}unskipAction(e,t,n){this.state.skipButtonCallbacks[e](e,t,n)}openEditingOptions(){this.resetStateToStart(void 0,!0)}getCategoryOptions(){const e=[],t=i.categoryList.filter((e=>i.categorySupport[e].includes(s.ActionType.Skip)));for(const n of t)e.push(o.createElement("option",{value:n,key:n,className:this.getCategoryNameClass(n)},chrome.i18n.getMessage("category_"+n)));return e}getCategoryNameClass(e){return this.props.contentContainer().lockedCategories.includes(e)?"sponsorBlockLockedColor":""}unskip(e,t,n){this.contentContainer().unskipSponsorTime(this.segments[t],this.props.unskipTime,n),this.unskippedMode(e,t,b.Redo)}reskip(e,t,n){this.contentContainer().reskipSponsorTime(this.segments[t],n);const o=this.state.skipButtonStates;o[e]=b.Undo;const i=this.state.skipButtonCallbacks;i[e]=this.unskip.bind(this);const s={skipButtonStates:o,skipButtonCallbacks:i,maxCountdownTime:()=>r.default.config.skipNoticeDuration,countdownTime:r.default.config.skipNoticeDuration};this.setState(s,(()=>{this.noticeRef.current.resetCountdown()}))}unskippedMode(e,t,n){this.setState(this.getUnskippedModeInfo(e,t,n),(()=>{this.noticeRef.current.resetCountdown()}))}getUnskippedModeInfo(e,t,n){const o=this.segments[t].actionType!==s.ActionType.Poi?this.getFullDurationCountdown(t):this.state.maxCountdownTime,i=this.state.skipButtonStates,r=this.state.skipButtonCallbacks;if(null===e)for(let e=0;e<i.length;e++)i[e]=n,r[e]=this.reskip.bind(this);else i[e]=n,r[e]=this.reskip.bind(this),1===e&&(i[0]=b.Redo,r[0]=this.reskip.bind(this));return{skipButtonStates:i,skipButtonCallbacks:r,maxCountdownTime:o,countdownTime:o(),showSkipButton:1===e?[!0,!0]:this.state.showSkipButton}}getFullDurationCountdown(e){return()=>{const t=this.segments[e],n=Math.round((t.segment[1]-(0,y.getCurrentTime)())*(1/(0,y.getVideo)().playbackRate));return Math.max(n,r.default.config.skipNoticeDuration)}}afterVote(e,t,n){const o=u.getSponsorIndexFromUUID(this.segments,e.UUID),r=i.wikiLinks[e.category],s=this.state.voted;switch(t){case 0:this.clearConfigListener(),this.setNoticeInfoMessageWithOnClick((()=>window.open(r)),chrome.i18n.getMessage("OpenCategoryWikiPage")),s[o]=h.SkipNoticeAction.Downvote;break;case 1:s[o]=h.SkipNoticeAction.Upvote;break;case 20:s[o]=h.SkipNoticeAction.None}this.setState({voted:s}),this.addVoteButtonInfo(chrome.i18n.getMessage("voted")),e&&n&&(this.segments[o].category=n)}setNoticeInfoMessageWithOnClick(e,...t){this.setState({messages:t,messageOnClick:t=>e(t)})}setNoticeInfoMessage(...e){this.setState({messages:e})}addVoteButtonInfo(e){this.setState({thanksForVotingText:e})}resetVoteButtonInfo(){this.setState({thanksForVotingText:null})}closeListener(){this.clearConfigListener(),this.props.closeListener()}clearConfigListener(){this.configListener&&(r.default.configSyncListeners.splice(r.default.configSyncListeners.indexOf(this.configListener),1),this.configListener=null)}unmutedListener(e){1===this.props.segments.length&&this.props.segments[0].actionType===s.ActionType.Mute&&e>=this.props.segments[0].segment[1]&&this.setState({showSkipButton:[!1,!0]})}resetStateToStart(e=h.SkipNoticeAction.None,t=!1,n=!1){this.setState({actionState:e,editing:t,choosingCategory:n,thanksForVotingText:null,messages:[]})}getSkipButtonText(e,t){switch(this.state.skipButtonStates[e]){case b.Undo:return this.getUndoText(t);case b.Redo:return this.getRedoText(t);case b.Start:return this.getStartText(t)}}getUndoText(e){switch(e||this.segments[0].actionType){case s.ActionType.Mute:return chrome.i18n.getMessage("unmute");case s.ActionType.Skip:default:return chrome.i18n.getMessage("unskip")}}getRedoText(e){switch(e||this.segments[0].actionType){case s.ActionType.Mute:return chrome.i18n.getMessage("mute");case s.ActionType.Skip:default:return chrome.i18n.getMessage("reskip")}}getStartText(e){switch(e||this.segments[0].actionType){case s.ActionType.Mute:return chrome.i18n.getMessage("mute");case s.ActionType.Skip:default:return chrome.i18n.getMessage("skip")}}}t.default=S},6821:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(6540),r=n(8272),s=n(8856),a=n(9209),l=n(2275),u=n(1507),c=n(1575),d=n(7913),p=n(6062),f=n(2271),h=n(3683),m=[].concat(...r.categoryList.filter((e=>!["chapter","intro"].includes(e))).map((e=>chrome.i18n.getMessage("category_"+e).split(/\/|\s|-/))));class g extends i.Component{constructor(e){var t;super(e),this.timesBeforeChanging=[],this.fullVideoWarningShown=!1,this.categoryNameWarningShown=!1,this.lastEditTime=0,this.editTimeTimeout=null,this.categoryOptionRef=i.createRef(),this.actionTypeOptionRef=i.createRef(),this.descriptionOptionRef=i.createRef(),this.idSuffix=this.props.idSuffix,this.previousSkipType=a.ActionType.Skip;const n=this.props.contentContainer().sponsorTimesSubmitting[this.props.index];this.state={editing:!1,sponsorTimeEdits:[null,null],selectedCategory:null!==(t=n.category)&&void 0!==t?t:c.DEFAULT_CATEGORY,selectedActionType:n.actionType,description:n.description||"",suggestedNames:[],chapterNameSelectorOpen:!1,chapterNameSelectorHovering:!1}}componentDidMount(){document.getElementById("sponsorTimeEditContainer"+this.idSuffix).addEventListener("keydown",(e=>{e.stopPropagation()})),document.getElementById("sponsorTimesContainer"+this.idSuffix).addEventListener("wheel",(e=>{this.state.editing&&e.preventDefault()}),{passive:!1}),this.configUpdateListener||(this.configUpdateListener=()=>this.configUpdate(),s.default.configSyncListeners.push(this.configUpdate.bind(this))),this.checkToShowFullVideoWarning()}componentWillUnmount(){this.configUpdateListener&&s.default.configSyncListeners.splice(s.default.configSyncListeners.indexOf(this.configUpdate.bind(this)),1)}render(){var e,t,n,o;this.checkToShowFullVideoWarning(),this.checkToShowChapterWarning();const s={textAlign:"center"};let l;0!=this.props.index&&(s.marginTop="15px");const c={},p=this.props.contentContainer().sponsorTimesSubmitting[this.props.index],f=p.segment;return this.state.selectedActionType===a.ActionType.Full&&(c.display="none"),l=this.state.editing?i.createElement("div",{id:"sponsorTimesContainer"+this.idSuffix,style:c,className:"sponsorTimeDisplay"},this.state.selectedActionType!==a.ActionType.Poi?i.createElement("span",{id:"startButton"+this.idSuffix,className:"sponsorNowButton",onClick:()=>this.setTimeTo(0,0)},chrome.i18n.getMessage("bracketStart")):"",i.createElement("span",{id:"nowButton0"+this.idSuffix,className:"sponsorNowButton",onClick:()=>this.setTimeToNow(0)},chrome.i18n.getMessage("bracketNow")),i.createElement("input",{id:"submittingTime0"+this.idSuffix,className:"sponsorTimeEdit sponsorTimeEditInput",type:"text",style:{color:"inherit",backgroundColor:"inherit"},value:null!==(e=this.state.sponsorTimeEdits[0])&&void 0!==e?e:"",onKeyDown:e=>e.stopPropagation(),onKeyUp:e=>e.stopPropagation(),onChange:e=>this.handleOnChange(0,e,p,e.target.value),onWheel:e=>this.changeTimesWhenScrolling(0,e,p)}),this.state.selectedActionType!==a.ActionType.Poi?i.createElement("span",null,i.createElement("span",null," "+chrome.i18n.getMessage("to")+" "),i.createElement("input",{id:"submittingTime1"+this.idSuffix,className:"sponsorTimeEdit sponsorTimeEditInput",type:"text",style:{color:"inherit",backgroundColor:"inherit"},value:null!==(t=this.state.sponsorTimeEdits[1])&&void 0!==t?t:"",onKeyDown:e=>e.stopPropagation(),onKeyUp:e=>e.stopPropagation(),onChange:e=>this.handleOnChange(1,e,p,e.target.value),onWheel:e=>this.changeTimesWhenScrolling(1,e,p)}),i.createElement("span",{id:"nowButton1"+this.idSuffix,className:"sponsorNowButton",onClick:()=>this.setTimeToNow(1)},chrome.i18n.getMessage("bracketNow")),i.createElement("span",{id:"endButton"+this.idSuffix,className:"sponsorNowButton",onClick:()=>this.setTimeToEnd()},chrome.i18n.getMessage("bracketEnd"))):""):i.createElement("div",{id:"sponsorTimesContainer"+this.idSuffix,style:c,className:"sponsorTimeDisplay",onClick:this.toggleEditTime.bind(this)},(0,d.getFormattedTime)(f[0],!0)+(isNaN(f[1])||this.state.selectedActionType===a.ActionType.Poi?"":" "+chrome.i18n.getMessage("to")+" "+(0,d.getFormattedTime)(f[1],!0))),i.createElement("div",{id:"sponsorTimeEditContainer"+this.idSuffix,style:s},l,i.createElement("div",{style:{position:"relative"}},i.createElement("select",{id:"sponsorTimeCategories"+this.idSuffix,className:"sponsorTimeEditSelector sponsorTimeCategories",ref:this.categoryOptionRef,style:{color:"inherit",backgroundColor:"inherit"},value:this.state.selectedCategory,onChange:e=>this.categorySelectionChange(e)},this.getCategoryOptions()),i.createElement("a",{href:r.wikiLinks[p.category]||"https://wiki.sponsor.ajay.app/index.php/Segment_Categories",target:"_blank",rel:"noreferrer"},i.createElement("img",{id:"sponsorTimeCategoriesHelpButton"+this.idSuffix,className:"helpButton",src:chrome.runtime.getURL("icons/help.svg"),title:chrome.i18n.getMessage("categoryGuidelines")}))),r.categorySupport[p.category]&&((null===(n=r.categorySupport[p.category])||void 0===n?void 0:n.length)>1||(null===(o=r.categorySupport[p.category])||void 0===o?void 0:o[0])===a.ActionType.Full)?i.createElement("div",{style:{position:"relative"}},i.createElement("select",{id:"sponsorTimeActionTypes"+this.idSuffix,className:"sponsorTimeEditSelector sponsorTimeActionTypes",value:this.state.selectedActionType,style:{color:"inherit",backgroundColor:"inherit"},ref:this.actionTypeOptionRef,onChange:e=>this.actionTypeSelectionChange(e)},this.getActionTypeOptions(p))):"",this.state.selectedActionType===a.ActionType.Chapter?i.createElement("div",{onBlur:()=>this.setState({chapterNameSelectorOpen:!1})},i.createElement("input",{id:"chapterName"+this.idSuffix,className:"sponsorTimeEdit sponsorTimeEditInput sponsorChapterNameInput",style:{color:"inherit",backgroundColor:"inherit"},ref:this.descriptionOptionRef,type:"text",value:this.state.description,onKeyDown:e=>e.stopPropagation(),onKeyUp:e=>e.stopPropagation(),onContextMenu:e=>e.stopPropagation(),onChange:e=>this.descriptionUpdate(e.target.value),onFocus:()=>this.setState({chapterNameSelectorOpen:!0})}),this.state.description&&(this.state.chapterNameSelectorOpen||this.state.chapterNameSelectorHovering)&&i.createElement(u.default,{id:"chapterNameSelector"+this.idSuffix,options:this.state.suggestedNames,onMouseEnter:()=>this.setState({chapterNameSelectorHovering:!0}),onMouseLeave:()=>this.setState({chapterNameSelectorHovering:!1}),onChange:e=>this.descriptionUpdate(e)})):"",i.createElement("div",{style:{marginTop:"3px"}},i.createElement("span",{id:"sponsorTimeDeleteButton"+this.idSuffix,className:"sponsorTimeEditButton",onClick:this.deleteTime.bind(this)},chrome.i18n.getMessage("delete")),isNaN(f[1])||[a.ActionType.Poi,a.ActionType.Full].includes(this.state.selectedActionType)||this.state.selectedActionType===a.ActionType.Chapter?"":i.createElement("span",{id:"sponsorTimePreviewButton"+this.idSuffix,className:"sponsorTimeEditButton",onClick:e=>this.previewTime(e.ctrlKey,e.shiftKey)},chrome.i18n.getMessage("preview")),isNaN(f[1])||this.state.selectedActionType==a.ActionType.Full?"":i.createElement("span",{id:"sponsorTimeInspectButton"+this.idSuffix,className:"sponsorTimeEditButton",onClick:this.inspectTime.bind(this)},chrome.i18n.getMessage("inspect")),isNaN(f[1])||[a.ActionType.Poi,a.ActionType.Full].includes(this.state.selectedActionType)?"":i.createElement("span",{id:"sponsorTimePreviewEndButton"+this.idSuffix,className:"sponsorTimeEditButton",onClick:e=>this.previewTime(e.ctrlKey,e.shiftKey,!0)},chrome.i18n.getMessage("End")),isNaN(f[1])||this.state.selectedActionType==a.ActionType.Full?"":i.createElement("span",{id:"sponsorTimeEditButton"+this.idSuffix,className:"sponsorTimeEditButton",onClick:this.toggleEditTime.bind(this)},this.state.editing?chrome.i18n.getMessage("save"):chrome.i18n.getMessage("edit"))))}handleOnChange(e,t,n,o){const i=this.state.sponsorTimeEdits,r=(0,d.getFormattedTimeToSeconds)(i[e]),s=(0,d.getFormattedTimeToSeconds)(o),l=Math.abs(r-s);0<l&&l<.5&&this.showScrollToEditToolTip(),i[e]=o,0===e&&n.actionType===a.ActionType.Poi&&(i[1]=o),this.setState({sponsorTimeEdits:i},(()=>this.saveEditTimes()))}changeTimesWhenScrolling(e,t,n){if(!s.default.config.allowScrollingToEdit)return;let o=0;o=t.shiftKey?t.ctrlKey?1:.001:t.ctrlKey?.1:.01;const i=this.state.sponsorTimeEdits;let r=(0,d.getFormattedTimeToSeconds)(this.state.sponsorTimeEdits[e]);null!==r&&0!=t.deltaY&&(t.deltaY<0?r+=o:r>=o?r-=o:r=0,i[e]=(0,d.getFormattedTime)(r,!0),n.actionType===a.ActionType.Poi&&(i[1]=i[0]),this.setState({sponsorTimeEdits:i}),this.saveEditTimes())}showScrollToEditToolTip(){s.default.config.scrollToEditTimeUpdate||null!==document.getElementById("sponsorRectangleTooltipsponsorTimesContainer"+this.idSuffix)||this.showToolTip(chrome.i18n.getMessage("SponsorTimeEditScrollNewFeature"),"scrollToEdit",(()=>{s.default.config.scrollToEditTimeUpdate=!0}))}showToolTip(e,t,n){const o=document.getElementById("sponsorTimesContainer"+this.idSuffix);if(o){const i=`sponsorRectangleTooltip${t+this.idSuffix}`;return document.getElementById(i)||new l.RectangleTooltip({text:e,referenceNode:o.parentElement,prependElement:o,timeout:15,bottomOffset:"0px",leftOffset:"-318px",backgroundColor:"rgba(28, 28, 28, 1.0)",htmlId:i,buttonFunction:n,fontSize:"14px",maxHeight:"200px"}),!0}return!1}checkToShowFullVideoWarning(){const e=this.props.contentContainer().sponsorTimesSubmitting[this.props.index];(e.segment[1]-e.segment[0])/(0,h.getVideoDuration)()>.6&&!this.fullVideoWarningShown&&("sponsor"===e.category||"selfpromo"===e.category||"chooseACategory"===e.category)&&this.showToolTip(chrome.i18n.getMessage("fullVideoTooltipWarning"),"fullVideoWarning")&&(this.fullVideoWarningShown=!0)}checkToShowChapterWarning(){const e=this.props.contentContainer().sponsorTimesSubmitting[this.props.index];e.actionType===a.ActionType.Chapter&&e.description&&!this.categoryNameWarningShown&&m.some((t=>e.description.toLowerCase().includes(t.toLowerCase())))&&this.showToolTip(chrome.i18n.getMessage("chapterNameTooltipWarning"),"chapterWarning")&&(this.categoryNameWarningShown=!0)}getCategoryOptions(){var e;const t=[i.createElement("option",{value:c.DEFAULT_CATEGORY,key:c.DEFAULT_CATEGORY},chrome.i18n.getMessage(c.DEFAULT_CATEGORY))];for(const n of null!==(e=this.props.categoryList)&&void 0!==e?e:r.categoryList){const e=["chapter"],o=s.default.config.showCategoryWithoutPermission||s.default.config.permissions[n];(!e.includes(n)&&(void 0===o||s.default.config.showCategoryWithoutPermission)||o)&&t.push(i.createElement("option",{value:n,key:n,className:this.getCategoryLockedClass(n)},chrome.i18n.getMessage("category_"+n)))}return t}getCategoryLockedClass(e){return this.props.contentContainer().lockedCategories.includes(e)?"sponsorBlockLockedColor":""}categorySelectionChange(e){const t=e.target.value;if(this.setState({selectedCategory:t}),t!==c.DEFAULT_CATEGORY&&!s.default.config.categorySelections.some((e=>e.name===t)))return e.target.value=c.DEFAULT_CATEGORY,void(confirm(chrome.i18n.getMessage("enableThisCategoryFirst").replace("{0}",chrome.i18n.getMessage("category_"+t)))&&chrome.runtime.sendMessage({message:"openConfig",hash:"behavior"}));const n=this.props.contentContainer().sponsorTimesSubmitting[this.props.index];this.handleReplacingLostTimes(t,n.actionType,n),this.saveEditTimes(),this.props.categoryChangeListener&&this.props.categoryChangeListener(this.props.index,t)}actionTypeSelectionChange(e){const t=this.props.contentContainer().sponsorTimesSubmitting[this.props.index];this.setState({selectedActionType:e.target.value}),this.handleReplacingLostTimes(t.category,e.target.value,t),this.saveEditTimes()}handleReplacingLostTimes(e,t,n){var o,i,s,l,u;(null===(o=r.categorySupport[e])||void 0===o?void 0:o.includes(a.ActionType.Poi))?(this.previousSkipType!==a.ActionType.Poi&&(this.timesBeforeChanging=[null,n.segment[1]]),this.setTimeTo(1,null),this.props.contentContainer().updateEditButtonsOnPlayer(),this.props.contentContainer().sponsorTimesSubmitting.some(((t,n)=>t.category===e&&n!==this.props.index))&&alert(chrome.i18n.getMessage("poiOnlyOneSegment")),this.previousSkipType=a.ActionType.Poi):1===(null===(i=r.categorySupport[e])||void 0===i?void 0:i.length)&&(null===(s=r.categorySupport[e])||void 0===s?void 0:s[0])===a.ActionType.Full?(this.previousSkipType!==a.ActionType.Full&&(this.timesBeforeChanging=[...n.segment]),this.previousSkipType=a.ActionType.Full):"chooseACategory"!==e&&(!(null===(l=r.categorySupport[e])||void 0===l?void 0:l.includes(a.ActionType.Skip))&&!(null===(u=r.categorySupport[e])||void 0===u?void 0:u.includes(a.ActionType.Chapter))||[a.ActionType.Poi,a.ActionType.Full].includes(this.getNextActionType(e,t)))||this.previousSkipType===a.ActionType.Skip||(this.timesBeforeChanging[0]&&this.setTimeTo(0,this.timesBeforeChanging[0]),this.timesBeforeChanging[1]&&this.setTimeTo(1,this.timesBeforeChanging[1]),this.previousSkipType=a.ActionType.Skip)}getActionTypeOptions(e){const t=[];for(const n of r.categorySupport[e.category])t.push(i.createElement("option",{value:n,key:n},chrome.i18n.getMessage(n)));return t}setTimeToNow(e){this.setTimeTo(e,this.props.contentContainer().getRealCurrentTime())}setTimeToEnd(){this.setTimeTo(1,(0,h.getVideoDuration)())}setTimeTo(e,t){const n=this.props.contentContainer().sponsorTimesSubmitting[this.props.index];null===t&&(t=n.segment[0]);const o=1===n.segment.length;n.segment[e]=t,n.actionType===a.ActionType.Poi&&(n.segment[1]=t),o&&this.props.contentContainer().updateEditButtonsOnPlayer(),this.setState({sponsorTimeEdits:this.getFormattedSponsorTimesEdits(n)},(()=>this.saveEditTimes()))}toggleEditTime(){if(this.state.editing)this.setState({editing:!1}),this.saveEditTimes();else{const e=this.props.contentContainer().sponsorTimesSubmitting[this.props.index];this.setState({editing:!0,sponsorTimeEdits:this.getFormattedSponsorTimesEdits(e)})}}getFormattedSponsorTimesEdits(e){return[(0,d.getFormattedTime)(e.segment[0],!0),(0,d.getFormattedTime)(e.segment[1],!0)]}saveEditTimes(){var e,t,n,o;const i=Date.now()-this.lastEditTime;if(i<200)return void(this.editTimeTimeout||(this.editTimeTimeout=setTimeout((()=>{this.saveEditTimes()}),200-i)));this.lastEditTime=Date.now(),this.editTimeTimeout=null;const r=this.props.contentContainer().sponsorTimesSubmitting,l=this.categoryOptionRef.current.value;if(this.state.editing){const e=(0,d.getFormattedTimeToSeconds)(this.state.sponsorTimeEdits[0]),t=(0,d.getFormattedTimeToSeconds)(this.state.sponsorTimeEdits[1]);if(null!==e&&null!==t){const n=1===r[this.props.index].segment.length;r[this.props.index].segment=[e,t],n&&this.props.contentContainer().updateEditButtonsOnPlayer()}else null!==e&&(r[this.props.index].segment[0]=e)}else null!==this.state.sponsorTimeEdits[1]||"outro"!==l||r[this.props.index].segment[1]||(r[this.props.index].segment[1]=(0,h.getVideoDuration)(),this.props.contentContainer().updateEditButtonsOnPlayer());r[this.props.index].category=l;const u=this.getNextActionType(l,null===(t=null===(e=this.actionTypeOptionRef)||void 0===e?void 0:e.current)||void 0===t?void 0:t.value);r[this.props.index].actionType=u,this.setState({selectedActionType:u});const c=u===a.ActionType.Chapter?null===(o=null===(n=this.descriptionOptionRef)||void 0===n?void 0:n.current)||void 0===o?void 0:o.value:"";r[this.props.index].description=c,s.default.local.unsubmittedSegments[this.props.contentContainer().sponsorVideoID]=r,s.default.forceLocalUpdate("unsubmittedSegments"),this.props.contentContainer().updatePreviewBar(),r[this.props.index].actionType!==a.ActionType.Full||0===r[this.props.index].segment[0]&&0===r[this.props.index].segment[1]||(this.setTimeTo(0,0),this.setTimeTo(1,0))}getNextActionType(e,t){var n,o,i;return t&&(null===(n=r.categorySupport[e])||void 0===n?void 0:n.includes(t))?t:null!==(i=null===(o=r.categorySupport[e])||void 0===o?void 0:o[0])&&void 0!==i?i:a.ActionType.Skip}previewTime(e=!1,t=!1,n=!1){const o=this.props.contentContainer().sponsorTimesSubmitting,i=this.props.index;let r=f.defaultPreviewTime;e&&(r=.5),t&&(r=.25);const s=o[i].segment[0],a=o[i].segment[1],l=0===s||n?a:s-r*(0,h.getVideo)().playbackRate;this.props.contentContainer().previewTime(l,!n)}inspectTime(){const e=this.props.contentContainer().sponsorTimesSubmitting[this.props.index].segment[0];this.props.contentContainer().previewTime(e+1e-4,!1)}deleteTime(){const e=this.props.contentContainer().sponsorTimesSubmitting,t=this.props.index,n=e[t].segment.length<2;e.splice(t,1),e.length>0?s.default.local.unsubmittedSegments[this.props.contentContainer().sponsorVideoID]=e:delete s.default.local.unsubmittedSegments[this.props.contentContainer().sponsorVideoID],s.default.forceLocalUpdate("unsubmittedSegments"),this.props.contentContainer().updatePreviewBar(),0==e.length?this.props.submissionNotice.cancel():this.props.submissionNotice.forceUpdate(),(0===e.length||n)&&this.props.contentContainer().updateEditButtonsOnPlayer()}descriptionUpdate(e){this.setState({description:e},(()=>{this.saveEditTimes()})),this.fetchingSuggestions||this.fetchSuggestions(e)}fetchSuggestions(e){return o(this,void 0,void 0,(function*(){if(this.props.contentContainer().channelIDInfo.status!==a.ChannelIDStatus.Found)return;this.fetchingSuggestions=!0;const t=yield(0,p.asyncRequestToServer)("GET","/api/chapterNames",{description:e,channelID:this.props.contentContainer().channelIDInfo.id});if(t.ok)try{const e=JSON.parse(t.responseText);this.setState({suggestedNames:e.map((e=>({label:e.description})))})}catch(e){}this.fetchingSuggestions=!1}))}configUpdate(){this.forceUpdate()}}t.default=g},8818:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=n(6540),i=n(8856),r=n(3936),s=n(8272),a=n(4342),l=n(4332),u=n(6821),c=n(2271),d=n(7621),p=n(3683);class f extends o.Component{constructor(e){super(e),this.noticeRef=o.createRef(),this.contentContainer=e.contentContainer,this.callback=e.callback;const t=chrome.i18n.getMessage("confirmNoticeTitle");this.lastSegmentCount=this.props.contentContainer().sponsorTimesSubmitting.length,this.state={noticeTitle:t,messages:[],idSuffix:"SubmissionNotice"}}componentDidMount(){this.videoObserver=new MutationObserver((()=>{this.forceUpdate()})),this.videoObserver.observe((0,p.getVideo)(),{attributes:!0}),document.getElementById("sponsorSkipNoticeMiddleRow"+this.state.idSuffix).addEventListener("wheel",(function(e){e.ctrlKey&&e.preventDefault()}),{passive:!1})}componentWillUnmount(){this.videoObserver&&this.videoObserver.disconnect()}componentDidUpdate(){const e=this.props.contentContainer().sponsorTimesSubmitting.length;e>this.lastSegmentCount&&(this.lastSegmentCount=e,this.scrollToBottom())}scrollToBottom(){const e=this.noticeRef.current.getElement().current.querySelector("#sponsorSkipNoticeMiddleRowSubmissionNotice");e.scrollTo({top:e.scrollHeight+1e3})}render(){var e;const t=o.createElement("img",{id:"sponsorSkipSortButton"+this.state.idSuffix,className:"sponsorSkipObject sponsorSkipNoticeButton sponsorSkipSmallButton",onClick:()=>this.sortSegments(),title:chrome.i18n.getMessage("sortSegments"),key:"sortButton",src:chrome.runtime.getURL("icons/sort.svg")}),n=o.createElement("img",{id:"sponsorSkipExportButton"+this.state.idSuffix,className:"sponsorSkipObject sponsorSkipNoticeButton sponsorSkipSmallButton",onClick:()=>this.exportSegments(),title:chrome.i18n.getMessage("exportSegments"),key:"exportButton",src:chrome.runtime.getURL("icons/export.svg")});return o.createElement(a.default,{noticeTitle:this.state.noticeTitle,idSuffix:this.state.idSuffix,ref:this.noticeRef,closeListener:this.cancel.bind(this),zIndex:5e3,firstColumn:[t,n]},this.getMessageBoxes(),o.createElement("tr",{id:"sponsorSkipNoticeMiddleRow"+this.state.idSuffix,className:"sponsorTimeMessagesRow",style:{maxHeight:(null===(e=(0,p.getVideo)())||void 0===e?void 0:e.offsetHeight)-200+"px"},onMouseDown:e=>e.stopPropagation()},o.createElement("td",{style:{width:"100%"}},this.getSponsorTimeMessages())),o.createElement("tr",{id:"sponsorSkipNoticeSecondRow"+this.state.idSuffix},o.createElement("td",{className:"sponsorSkipNoticeRightSection",style:{position:"relative"}},o.createElement("button",{className:"sponsorSkipObject sponsorSkipNoticeButton sponsorSkipNoticeRightButton",onClick:()=>window.open("https://wiki.sponsor.ajay.app/w/Guidelines")},chrome.i18n.getMessage(i.default.config.submissionCountSinceCategories>3?"guidelines":"readTheGuidelines")),o.createElement("button",{className:"sponsorSkipObject sponsorSkipNoticeButton sponsorSkipNoticeRightButton",onClick:this.submit.bind(this)},chrome.i18n.getMessage("submit")))))}getSponsorTimeMessages(){const e=[];this.timeEditRefs=[];const t=this.props.contentContainer().sponsorTimesSubmitting;for(let n=0;n<t.length;n++){const i=o.createRef();e.push(o.createElement(u.default,{key:t[n].UUID,idSuffix:this.state.idSuffix+n,index:n,contentContainer:this.props.contentContainer,submissionNotice:this,categoryChangeListener:this.categoryChangeListener.bind(this),ref:i})),this.timeEditRefs.push(i)}return e}getMessageBoxes(){const e=[];for(let t=0;t<this.state.messages.length;t++)e.push(o.createElement(l.default,{idSuffix:this.state.idSuffix+t,text:this.state.messages[t],key:t}));return e}cancel(){var e;null===(e=this.guidelinesReminder)||void 0===e||e.close(),this.noticeRef.current.close(!0),this.contentContainer().resetSponsorSubmissionNotice(!1),this.props.closeListener()}submit(){var e,t,n;if((0,p.isCurrentTimeWrong)())return void alert(chrome.i18n.getMessage("submissionFailedServerSideAds"));for(const e of this.timeEditRefs)e.current.saveEditTimes();const o=this.props.contentContainer().sponsorTimesSubmitting;for(const e of o)if("chooseACategory"===e.category)return void alert(chrome.i18n.getMessage("youMustSelectACategory"));if("Music"===(null===(n=null===(t=null===(e=this.contentContainer().videoInfo)||void 0===e?void 0:e.microformat)||void 0===t?void 0:t.playerMicroformatRenderer)||void 0===n?void 0:n.category))for(const e of o)if("sponsor"===e.category){if(!confirm(chrome.i18n.getMessage("nonMusicCategoryOnMusic")))return;break}this.props.callback().then((e=>{e&&this.cancel()}))}sortSegments(){let e=this.props.contentContainer().sponsorTimesSubmitting;e=e.sort(((e,t)=>e.segment[0]-t.segment[0])),i.default.local.unsubmittedSegments[this.props.contentContainer().sponsorVideoID]=e,i.default.forceLocalUpdate("unsubmittedSegments"),this.forceUpdate()}exportSegments(){const e=this.props.contentContainer().sponsorTimesSubmitting.sort(((e,t)=>e.segment[0]-t.segment[0]));window.navigator.clipboard.writeText((0,d.exportTimes)(e)),new r.default(null,"exportCopied",{title:chrome.i18n.getMessage("CopiedExclamation"),timed:!0,maxCountdownTime:()=>.6,referenceNode:document.querySelector(".noticeLeftIcon"),dontPauseCountdown:!0,style:{top:0,bottom:0,minWidth:0,right:"30px",margin:"auto"},hideLogo:!0,hideRightInfo:!0,extraClass:"exportCopiedNotice"})}categoryChangeListener(e,t){var n,o,a,l,u;const d=null===(l=null===(a=null===(o=null===(n=this.noticeRef)||void 0===n?void 0:n.current)||void 0===o?void 0:o.getElement())||void 0===a?void 0:a.current)||void 0===l?void 0:l.offsetWidth;if("chooseACategory"!==t&&i.default.config.showCategoryGuidelines&&(0,p.getVideo)().offsetWidth>2*d){const e={title:chrome.i18n.getMessage(`category_${t}`),textBoxes:(0,c.getGuidelineInfo)(t),buttons:[{name:chrome.i18n.getMessage("FullDetails"),listener:()=>window.open(s.wikiLinks[t])},{name:chrome.i18n.getMessage("Hide"),listener:()=>{var e;i.default.config.showCategoryGuidelines=!1,null===(e=this.guidelinesReminder)||void 0===e||e.close(),this.guidelinesReminder=null}}],timed:!1,style:{right:`${d+10}px`},extraClass:"sb-guidelines-notice"};e.textBoxes?this.guidelinesReminder?this.guidelinesReminder.update(e):this.guidelinesReminder=new r.default(null,"GuidelinesReminder",e):(null===(u=this.guidelinesReminder)||void 0===u||u.close(),this.guidelinesReminder=null)}}}t.default=f},8856:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.generateDebugDetails=void 0;const o=n(8272),i=n(5339),r=n(9209),s=n(1740);class a extends s.ProtoConfig{resetToDefault(){chrome.storage.sync.set(Object.assign(Object.assign({},this.syncDefaults),{userID:this.config.userID,minutesSaved:this.config.minutesSaved,skipCount:this.config.skipCount,sponsorTimesContributed:this.config.sponsorTimesContributed})),chrome.storage.local.set(Object.assign({},this.localDefaults))}}const l=new a({userID:null,isVip:!1,permissions:{},defaultCategory:"chooseACategory",renderSegmentsAsChapters:!1,whitelistedChannels:[],forceChannelCheck:!1,minutesSaved:0,skipCount:0,sponsorTimesContributed:0,submissionCountSinceCategories:0,showTimeWithSkips:!0,disableSkipping:!1,muteSegments:!0,fullVideoSegments:!0,fullVideoLabelsOnThumbnails:!0,manualSkipOnFullVideo:!1,trackViewCount:!0,trackViewCountInPrivate:!0,trackDownvotes:!0,trackDownvotesInPrivate:!1,dontShowNotice:!1,showUpcomingNotice:!1,noticeVisibilityMode:r.NoticeVisbilityMode.FadedForAutoSkip,hideVideoPlayerControls:!1,hideInfoButtonPlayerControls:!1,hideDeleteButtonPlayerControls:!1,hideUploadButtonPlayerControls:!1,hideSkipButtonPlayerControls:!1,hideDiscordLaunches:0,hideDiscordLink:!1,invidiousInstances:["invidious.snopyta.org"],supportInvidious:!1,serverAddress:o.serverAddress,minDuration:0,skipNoticeDuration:4,audioNotificationOnSkip:!1,checkForUnlistedVideos:!1,testingServer:!1,ytInfoPermissionGranted:!1,allowExpirements:!0,showDonationLink:!0,showPopupDonationCount:0,showUpsells:!0,showNewFeaturePopups:!0,donateClicked:0,autoHideInfoButton:!0,autoSkipOnMusicVideos:!1,scrollToEditTimeUpdate:!1,categoryPillUpdate:!1,showChapterInfoMessage:!0,darkMode:!0,showCategoryGuidelines:!0,showCategoryWithoutPermission:!1,showSegmentNameInChapterBar:!0,showAutogeneratedChapters:!0,useVirtualTime:!0,showSegmentFailedToFetchWarning:!0,allowScrollingToEdit:!0,deArrowInstalled:!1,showDeArrowPromotion:!0,showDeArrowInSettings:!0,shownDeArrowPromotion:!1,showZoomToFillError2:!0,cleanPopup:!1,categoryPillColors:{},skipKeybind:{key:"Enter"},skipToHighlightKeybind:{key:"Enter",ctrl:!0},startSponsorKeybind:{key:";"},submitKeybind:{key:"'"},actuallySubmitKeybind:{key:"'",ctrl:!0},previewKeybind:{key:";",ctrl:!0},nextChapterKeybind:{key:"ArrowRight",ctrl:!0},previousChapterKeybind:{key:"ArrowLeft",ctrl:!0},closeSkipNoticeKeybind:{key:"Backspace"},categorySelections:[{name:"sponsor",option:r.CategorySkipOption.AutoSkip},{name:"poi_highlight",option:r.CategorySkipOption.ManualSkip},{name:"exclusive_access",option:r.CategorySkipOption.ShowOverlay},{name:"chapter",option:r.CategorySkipOption.ShowOverlay}],payments:{licenseKey:null,lastCheck:0,lastFreeCheck:0,freeAccess:!1,chaptersAllowed:!1},colorPalette:{red:"#780303",white:"#ffffff",locked:"#ffc83d"},barTypes:{"preview-chooseACategory":{color:"#ffffff",opacity:"0.7"},sponsor:{color:"#00d400",opacity:"0.7"},"preview-sponsor":{color:"#007800",opacity:"0.7"},selfpromo:{color:"#ffff00",opacity:"0.7"},"preview-selfpromo":{color:"#bfbf35",opacity:"0.7"},exclusive_access:{color:"#008a5c",opacity:"0.7"},interaction:{color:"#cc00ff",opacity:"0.7"},"preview-interaction":{color:"#6c0087",opacity:"0.7"},intro:{color:"#00ffff",opacity:"0.7"},"preview-intro":{color:"#008080",opacity:"0.7"},outro:{color:"#0202ed",opacity:"0.7"},"preview-outro":{color:"#000070",opacity:"0.7"},preview:{color:"#008fd6",opacity:"0.7"},"preview-preview":{color:"#005799",opacity:"0.7"},music_offtopic:{color:"#ff9900",opacity:"0.7"},"preview-music_offtopic":{color:"#a6634a",opacity:"0.7"},poi_highlight:{color:"#ff1684",opacity:"0.7"},"preview-poi_highlight":{color:"#9b044c",opacity:"0.7"},filler:{color:"#7300FF",opacity:"0.9"},"preview-filler":{color:"#2E0066",opacity:"0.7"}}},{downvotedSegments:{},navigationApiAvailable:null,alreadyInstalled:!1,unsubmittedSegments:{}},(function(e){if(e.showZoomToFillError&&chrome.storage.sync.remove("showZoomToFillError"),e.unsubmittedSegments&&Object.keys(e.unsubmittedSegments).length>0&&chrome.storage.local.set({unsubmittedSegments:e.unsubmittedSegments},(()=>{chrome.storage.sync.remove("unsubmittedSegments")})),e.chapterCategoryAdded||(e.chapterCategoryAdded=!0,e.categorySelections.some((e=>"chapter"===e.name))||(e.categorySelections.push({name:"chapter",option:r.CategorySkipOption.ShowOverlay}),e.categorySelections=e.categorySelections)),void 0!==e.exclusive_accessCategoryAdded&&chrome.storage.sync.remove("exclusive_accessCategoryAdded"),void 0!==e.fillerUpdate&&chrome.storage.sync.remove("fillerUpdate"),void 0!==e.highlightCategoryAdded&&chrome.storage.sync.remove("highlightCategoryAdded"),void 0!==e.highlightCategoryUpdate&&chrome.storage.sync.remove("highlightCategoryUpdate"),e.askAboutUnlistedVideos&&chrome.storage.sync.remove("askAboutUnlistedVideos"),!e.autoSkipOnMusicVideosUpdate){e.autoSkipOnMusicVideosUpdate=!0;for(const t of e.categorySelections)if("music_offtopic"===t.name&&t.option===r.CategorySkipOption.AutoSkip){e.autoSkipOnMusicVideos=!0;break}}if(e.disableAutoSkip)for(const t of e.categorySelections)"sponsor"===t.name&&(t.option=r.CategorySkipOption.ManualSkip,chrome.storage.sync.remove("disableAutoSkip"));"string"==typeof e.skipKeybind&&(e.skipKeybind={key:e.skipKeybind}),"string"==typeof e.startSponsorKeybind&&(e.startSponsorKeybind={key:e.startSponsorKeybind}),"string"==typeof e.submitKeybind&&(e.submitKeybind={key:e.submitKeybind});const t=["skipKeybind","startSponsorKeybind","submitKeybind"];for(let n=t.length-1;n>=0;n--)for(let o=0;o<t.length;o++)n!=o&&(0,s.keybindEquals)(e[t[n]],e[t[o]])&&(e[t[n]]=null);void 0!==e.sponsorVideoID&&chrome.storage.sync.remove("sponsorVideoID"),void 0!==e.previousVideoID&&chrome.storage.sync.remove("previousVideoID"),!e.supportInvidious&&e.invidiousInstances.length<i.length&&(e.invidiousInstances=[...new Set([...i,...e.invidiousInstances])]),e.lastIsVipUpdate&&chrome.storage.sync.remove("lastIsVipUpdate")}));t.default=l,t.generateDebugDetails=function(){const e={debug:{userAgent:navigator.userAgent,platform:navigator.platform,language:navigator.language,extensionVersion:chrome.runtime.getManifest().version},config:JSON.parse(JSON.stringify(l.cachedSyncConfig))};return delete e.config.userID,e.config.serverAddress=e.config.serverAddress===o.serverAddress?"Default server address":"Custom server address",e.config.invidiousInstances=e.config.invidiousInstances.length,e.config.whitelistedChannels=e.config.whitelistedChannels.length,JSON.stringify(e,null,4)}},6069:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(8856),r=n(9209),s=n(205),a=n(9268),l=n(5474),u=n(4329),c=n(403),d=n(8480),p=n(2084),f=n(3726),h=n(6846),m=n(3225),g=n(7082),v=n(5144),y=n(7621),b=n(1924),S=n(5222),w=n(1108),k=n(7913),T=n(3683),C=n(1740),x=n(4148),E=n(3262),M=n(3497),I=n(8343),N=n(8537),P=n(8261),L=n(4982),_=n(5933),D=n(2184),A=n(9695),O=n(6062),B=n(2869),R=n(2271),F=n(6705),U=n(3611);(0,_.cleanPage)();const V=new s.default;V.wait((()=>i.default.isReady()),5e3,10).then((()=>{!function(){if(!(0,w.isFirefoxOrSafari)()&&i.default.config.invidiousInstances.includes(new URL(document.URL).hostname)){const e=()=>{const e=document.getElementsByTagName("head")[0];for(const t of V.css){const n=document.createElement("link");n.rel="stylesheet",n.type="text/css",n.href=chrome.runtime.getURL(t),e.appendChild(n)}};"complete"===document.readyState?e():document.addEventListener("DOMContentLoaded",e)}}(),It(),(0,L.runCompatibilityChecks)()}));const z=.003,j=.5;let H=!1,$=[],q=!1,W=!1,Y=!1;const K=[];let G=null,Q=null,X=!1,J=null,Z=!1,ee=null,te=[];const ne={videoTime:null,preciseTime:null,fromPause:!1,approximateDelay:null};let oe=null;const ie={time:0,date:0};let re=null,se=null,ae=null,le=null,ue=[],ce=!1;const de=[];(0,T.setupVideoModule)({videoIDChange:function(){if(null===ve)if((0,T.isOnMobileYouTube)()){const e=new MutationObserver(Pe);let t=null;V.wait((()=>(t=document.getElementById("player-control-container"),null!==t))).then((()=>{e.observe(document.getElementById("player-control-container"),{attributes:!0,childList:!0,subtree:!0})})).catch()}else V.wait(f.getControls).then(_e);chrome.runtime.sendMessage({message:"videoChanged",videoID:(0,T.getVideoID)(),whitelisted:ge}),qe(),ct(),Te=[],gt(),(0,A.tryShowingDeArrowPromotion)().catch(v.logWarn),Xe(),(0,T.getIsInline)()&&(setTimeout(Xe,500),setTimeout(Xe,1e3),setTimeout(Xe,3e3))},channelIDChange:function(e){return o(this,void 0,void 0,(function*(){const t=i.default.config.whitelistedChannels;null!=t&&e.status===r.ChannelIDStatus.Found&&t.includes(e.id)&&(ge=!0),i.default.config.forceChannelCheck&&(null==$?void 0:$.length)>0&&Ye()}))},videoElementChange:function(e,t){(0,w.waitFor)((()=>i.default.isReady())).then((()=>{e&&(function(e){if(e){if(e.addEventListener("loadstart",Ae),e.addEventListener("durationchange",De),je&&(0,D.addCleanupListener)((()=>{e.removeEventListener("loadstart",Ae),e.removeEventListener("durationchange",De)})),!i.default.config.disableSkipping){pe=!1;let t=!1,n=!0,o=0;const i=()=>{He(),$e(),Be()};e.addEventListener("ratechange",i),e.addEventListener("videoSpeed_ratechange",i);const r=()=>{!me&&Date.now()-o<200&&0===e.currentTime||(me=!1,He(),function(){const e=document.querySelector(".miniplayer");if(!(0,F.onVideoPage)()&&(0,f.isVisible)(e)){const t=(0,T.getLastNonInlineVideoID)();if(t){(0,T.triggerVideoIDChange)(t);const n=e.querySelector("video");n&&(0,T.getVideo)()!==n&&(0,T.triggerVideoElementChange)(n)}}}(),(pe||n)&&(pe=!1,(0,v.logDebug)("Setting switching videos to false"),$&&Ye()),n=!1,Mt(),(Math.abs(he-e.currentTime)>.3||he!==e.currentTime&&Date.now()-fe>2e3)&&(fe=Date.now(),he=e.currentTime,Be()))};e.addEventListener("play",r);const s=()=>{He(),n=!1,t&&(t=!1,(0,v.logDebug)(`[SB] Playing event after buffering: ${Math.abs(he-e.currentTime)>.3||he!==e.currentTime&&Date.now()-fe>2e3}`)),pe&&(pe=!1,(0,v.logDebug)("Setting switching videos to false"),$&&Ye()),(Math.abs(he-e.currentTime)>.3||he!==e.currentTime&&Date.now()-fe>2e3)&&(fe=Date.now(),he=e.currentTime,Be()),Ve&&clearInterval(Ve),ze=e.playbackRate,document.body.classList.contains("vsc-initialized")&&(Ve=setInterval((()=>{(0,T.getVideoID)()&&!e.paused||!Ve?e.playbackRate!==ze&&(ze=e.playbackRate,i()):clearInterval(Ve)}),2e3))};e.addEventListener("playing",s);const a=()=>{ne.fromPause=!1,e.paused?(xt((0,T.getCurrentTime)()),0===(0,T.getCurrentTime)()&&(n=!0)):(fe=Date.now(),he=e.currentTime,He(),$e(),e.loop&&e.currentTime<.2&&(0,T.getCurrentTime)()<.2?Be(!1,0):Be())};e.addEventListener("seeking",a);const l=()=>{he=-1,fe=0,Ve&&clearInterval(Ve),ne.videoTime=null,ne.preciseTime=null,function(e){oe=e.currentTime}(e),Oe()},u=()=>{ne.fromPause=!0,l()};e.addEventListener("pause",u);const c=()=>{(0,v.logDebug)("[SB] Not skipping due to buffering"),t=!0,l()};e.addEventListener("waiting",c);const d=()=>{o=Date.now(),me&&0===e.currentTime&&r()};e.addEventListener("emptied",d);const p=()=>{me&&0===(0,T.getCurrentTime)()&&r()};e.addEventListener("loadedmetadata",p),Be(),je&&(0,D.addCleanupListener)((()=>{e.removeEventListener("play",r),e.removeEventListener("playing",s),e.removeEventListener("seeking",a),e.removeEventListener("ratechange",i),e.removeEventListener("videoSpeed_ratechange",i),e.removeEventListener("pause",u),e.removeEventListener("waiting",c),e.removeEventListener("empty",d),e.removeEventListener("loadedmetadata",p),Ve&&clearInterval(Ve)}))}je=!1}}(t),ye||(ye=new d.SkipButtonControlBar({skip:e=>nt({v:(0,T.getVideo)(),skipTime:e.segment,skippingSegments:[e],openNotice:!0,forceAutoSkip:!0}),selectSegment:Ke,onMobileYouTube:(0,T.isOnMobileYouTube)()})),ye.attachToPage(),be||(be=new h.CategoryPill),be.attachToPage((0,T.isOnMobileYouTube)(),(0,T.isOnInvidious)(),bt)),Ge(),Xe(),setTimeout(Xe,100),setTimeout(Xe,1e3),setTimeout(Xe,5e3)}))},playerInit:()=>{ve=null,_e()},updatePlayerBar:()=>{Ge(),ct()},resetValues:function(){var e;fe=0,he=-1,Z=!1,me=!0,$=[],q=!1,ue=[],ke=0,X=!1,ee=null,ge=!1,te=[],null!==ve&&ve.clear(),H=!1,null!==pe&&(0,F.onVideoPage)()?(pe=!0,(0,v.logDebug)("Setting switching videos to true (reset data)")):pe=!1,null==ye||ye.disable(),null==be||be.setVisibility(!1);for(let t=0;t<K.length;t++)null===(e=K.pop())||void 0===e||e.close();G&&(G.close(),G=null),(0,A.hideDeArrowPromotion)()},documentScript:2===chrome.runtime.getManifest().manifest_version?P:void 0},(()=>i.default)),(0,N.setupThumbnailListener)();let pe=null,fe=0,he=-1,me=!0,ge=!1,ve=null,ye=null,be=null,Se=null;const we={};!function(){document.addEventListener("keydown",Et);const e=()=>{document.removeEventListener("keydown",Et),document.body.addEventListener("keydown",Et),(0,D.addCleanupListener)((()=>{document.body.removeEventListener("keydown",Et)}))};"complete"===document.readyState?e():document.addEventListener("DOMContentLoaded",e)}();let ke,Te=[],Ce=!1,xe=!1,Ee=null;const Me=()=>({vote:yt,dontShowNoticeAgain:St,unskipSponsorTime:rt,sponsorTimes:$,sponsorTimesSubmitting:Te,skipNotices:K,sponsorVideoID:(0,T.getVideoID)(),reskipSponsorTime:st,updatePreviewBar:Ge,onMobileYouTube:(0,T.isOnMobileYouTube)(),sponsorSubmissionNotice:Ee,resetSponsorSubmissionNotice:wt,updateEditButtonsOnPlayer:dt,previewTime:et,videoInfo:ee,getRealCurrentTime:pt,lockedCategories:te,channelIDInfo:(0,T.getChannelIDInfo)()}),Ie=.5;function Ne(e){for(const t in e)switch(t){case"hideVideoPlayerControls":case"hideInfoButtonPlayerControls":case"hideDeleteButtonPlayerControls":ct();break;case"categorySelections":qe(!0,!0);break;case"barTypes":It();break;case"fullVideoSegments":case"fullVideoLabelsOnThumbnails":(0,I.updateAll)()}}function Pe(){var e;if((null===(e=chrome.runtime)||void 0===e?void 0:e.id)&&!document.querySelector(".YtProgressBarProgressBarPlayheadDotInDragging")){if(ct(),null==ye||ye.updateMobileControls(),null!==ve){if(!ve.parent.contains(ve.container)&&(0,B.isMobileControlsOpen)())return ve.createElement(),void Ge();ve.parent.isConnected||(ve.remove(),ve=null)}_e()}}function Le(){const e=[{selector:".ytChapteredProgressBarHost, .ytProgressBarLineHost, .YtProgressBarLineHost, .YtChapteredProgressBarHost",isVisibleCheck:!0},{selector:".YtmProgressBarProgressBarLine",isVisibleCheck:!0},{selector:"#video-preview .ytp-progress-bar, #video-preview .YtProgressBarLineHost",isVisibleCheck:!0},{selector:".ytp-progress-bar",isVisibleCheck:!0},{selector:".no-model.cue-range-marker",isVisibleCheck:!0},{selector:".vjs-progress-holder",isVisibleCheck:!1},{selector:"#progress-bar>#sliderContainer>div>#sliderBar>#progressContainer"},{selector:".shaka-ad-markers",isVisibleCheck:!1},{selector:".ytp-progress-bar-container > .html5-progress-bar > .ytp-progress-list"}];for(const t of e){const e=document.querySelectorAll(t.selector),n=t.isVisibleCheck?(0,x.findValidElement)(e):e[0];if(n)return n}return null}function _e(){if(null!==ve)return;const e=Le();if(e){const t=new b.ChapterVote(bt);ve=new a.default(e,(0,T.isOnMobileYouTube)(),(0,T.isOnInvidious)(),t,(()=>We(!0))),Ge()}}function De(){Mt(),Ge()}function Ae(){_e(),Ge(),ct()}function Oe(){(0,v.logDebug)("Pausing skipping"),null!==re&&(clearTimeout(re),re=null),null!==se&&(clearInterval(se),se=null),null!==le&&(clearTimeout(le),le=null)}function Be(e=!1,t,n=!0){var s,a,l;return o(this,void 0,void 0,(function*(){if(Oe(),(0,T.getIsAdPlaying)())return he=-1,fe=0,void(0,v.logDebug)("[SB] Ad playing, pausing skipping");if(yield(0,T.checkIfNewVideoID)())return;if((0,v.logDebug)(`Considering to start skipping: ${!(0,T.getVideo)()}, ${null===(s=(0,T.getVideo)())||void 0===s?void 0:s.paused}`),!(0,T.getVideo)())return;if(null==t&&(t=Re()),$e(),xt(t),(0,T.getVideo)().paused&&0!==(0,T.getCurrentTime)()||(0,T.getCurrentTime)()>=(0,T.getVideoDuration)()-.01&&(0,T.getVideoDuration)()>1)return;const o=function(e,t,n){var o;const i=e=>{var t;const n=null===(t=V.getCategorySelection(e.category))||void 0===t?void 0:t.option;return n!==r.CategorySkipOption.AutoSkip&&!lt(e)||e.actionType!==r.ActionType.Skip?n!==r.CategorySkipOption.ShowOverlay?1:2:0},{includedTimes:s,scheduledTimes:a}=Ze($,t,n),{scheduledTimes:l}=Ze($,t,n,e,!0),u=g.GenericUtils.indexesOf(a,Math.min(...l)),c=null!==(o=u.sort(((e,t)=>i(s[e])-i(s[t])||s[e].segment[1]-s[e].segment[0]-(s[t].segment[1]-s[t].segment[0])))[0])&&void 0!==o?o:-1,d=u.filter((e=>e!==c&&0!==i(s[e]))),p=Je(s,c),{includedTimes:f,scheduledTimes:h}=Ze(Te,t,n),{scheduledTimes:m}=Ze(Te,t,n,e,!1),v=h.indexOf(Math.min(...m)),y=Je(f,v);return-1===v&&-1!==c||a[c]<h[v]?{array:s,index:c,endIndex:p,extraIndexes:d,openNotice:!0}:{array:f,index:v,endIndex:y,extraIndexes:[],openNotice:!1}}(t,e,n),u=o.array[o.index],c=[null==u?void 0:u.scheduledTime,null===(a=o.array[o.endIndex])||void 0===a?void 0:a.segment[1]],d=(null==c?void 0:c[0])-t,p=(0,T.getVideoID)();if(ce&&!Fe(t,-1!==o.index&&d<z&&lt(u))){(0,T.getVideo)().muted=!1,ce=!1;for(const e of K)e.unmutedListener(t)}if((0,v.logDebug)(`Ready to start skipping: ${o.index} at ${t}`),-1===o.index)return;if(i.default.config.disableSkipping||ge||(0,T.getChannelIDInfo)().status===r.ChannelIDStatus.Fetching&&i.default.config.forceChannelCheck)return;if(Ue())return;let f=[o.array[o.index]];if(o.index!==o.endIndex){f=[];for(const e of o.array)lt(e)&&e.segment[0]>=c[0]&&e.segment[1]<=c[1]&&e.segment[0]===e.scheduledTime&&f.push(e)}(0,v.logDebug)(`Next step in starting skipping: ${!ut(u)}, ${!(null==Te?void 0:Te.some((e=>e.segment===u.segment)))}`);const h=e=>{var t;let n=null,i=!1,s=!0;if(!Ue(p,u)){if(e||(e=Math.max((0,T.getCurrentTime)(),Re())),ut(u)||(null==Te?void 0:Te.some((e=>e.segment===u.segment))))if(e>=c[0]-z&&e<c[1]){nt({v:(0,T.getVideo)(),skipTime:c,skippingSegments:f,openNotice:o.openNotice});for(const e of o.extraIndexes){const t=o.array[e];ut(t)&&nt({v:(0,T.getVideo)(),skipTime:[t.scheduledTime,t.segment[1]],skippingSegments:[t],openNotice:o.openNotice})}(null===(t=V.getCategorySelection(u.category))||void 0===t?void 0:t.option)===r.CategorySkipOption.ManualSkip||u.actionType===r.ActionType.Mute?n=c[0]+.001:(n=c[1],s=!1,Math.abs(c[1]-(0,T.getVideoDuration)())>j&&(i=!0))}else n=e+.001;else n=e+.001;null!==n&&e>n&&(n=e),Be(i,n,s)}};if(d<z)h(t);else{let e=1e3*d*(1/(0,T.getVideo)().playbackRate);if(e<((0,w.isFirefoxOrSafari)()&&!(0,C.isSafari)()?750:300)){let n=null;(0,w.isFirefoxOrSafari)()&&!(0,C.isSafari)()&&e>300&&(n=yield new Promise((e=>{(0,T.getVideo)().addEventListener("timeupdate",(()=>e(performance.now())),{once:!0})})));const o=n||performance.now(),i=Math.max(t,(0,T.getCurrentTime)());e=1e3*((null==c?void 0:c[0])-i)*(1/(0,T.getVideo)().playbackRate);let r=!0;const s=(0,T.getCurrentTime)();(0,v.logDebug)(`Starting setInterval skipping ${(0,T.getCurrentTime)()} to skip at ${c[0]}`),null!==se&&clearInterval(se),se=setInterval((()=>{if((0,w.isFirefoxOrSafari)()&&!ne.fromPause&&r&&s!==(0,T.getCurrentTime)()){r=!1;const e=Re()-(0,T.getCurrentTime)();e>0&&(ne.approximateDelay=e)}const t=performance.now()-o;(t+1e3*z>=e||(0,T.getCurrentTime)()>=c[0])&&(clearInterval(se),(0,w.isFirefoxOrSafari)()||(0,T.getVideo)().muted||Fe((0,T.getCurrentTime)(),!0)||((0,T.getVideo)().muted=!0,(0,T.getVideo)().muted=!1),h(Math.max((0,T.getCurrentTime)(),i+(0,T.getVideo)().playbackRate*Math.max(e,t)/1e3)))}),0)}else{(0,v.logDebug)(`Starting timeout to skip ${(0,T.getCurrentTime)()} to skip at ${c[0]}`);const t=(0,w.isFirefoxOrSafari)()&&!(0,C.isSafari)()?600:150,n=Math.max(0,e-t);if(re=setTimeout(h,n),i.default.config.showUpcomingNotice&&(0,T.getCurrentTime)()<f[0].segment[0]&&!(null==Te?void 0:Te.some((e=>e.segment===u.segment)))&&[r.ActionType.Skip,r.ActionType.Mute].includes(f[0].actionType)&&!(null===(l=(0,T.getVideo)())||void 0===l?void 0:l.paused)){const e=3e3,t=Math.max(0,n-e),o=n-t,i=lt(f[0]);le&&clearTimeout(le),le=setTimeout(it,t,[f[0]],o,i)}}}}))}function Re(){var e;const t=null!=oe?oe:null!==ne.videoTime?(performance.now()-ne.preciseTime)*((null===(e=(0,T.getVideo)())||void 0===e?void 0:e.playbackRate)||1)/1e3+ne.videoTime:null;return i.default.config.useVirtualTime&&!(0,C.isSafari)()&&t&&Math.abs(t-(0,T.getCurrentTime)())<.2&&0!==(0,T.getCurrentTime)()?Math.max(t,(0,T.getCurrentTime)()):(0,T.getCurrentTime)()}function Fe(e,t){const n=n=>n.actionType===r.ActionType.Mute&&n.hidden===r.SponsorHideType.Visible&&n.segment[0]<=e&&(n.segment[1]>e||t&&n.segment[1]+.02>e);return(null==$?void 0:$.some(n))||Te.some(n)}function Ue(e,t){if(!(0,F.onVideoPage)())return!1;const n=(0,T.getYouTubeVideoID)(),o=e||(0,T.getVideoID)();return!(n===o&&(!t||$&&(null==$?void 0:$.some((e=>e.segment[0]===t.segment[0]&&e.segment[1]===t.segment[1])))||Te.some((e=>e.segment[0]===t.segment[0]&&e.segment[1]===t.segment[1])))||(console.error("[SponsorBlock] The videoID recorded when trying to skip is different than what it should be."),console.error("[SponsorBlock] VideoID recorded: "+o+". Actual VideoID: "+n),console.error("[SponsorBlock] SponsorTime",t,"sponsorTimes",$,"sponsorTimesSubmitting",Te),(0,T.checkVideoIDChange)(),0))}chrome.runtime.onMessage.addListener((function(e,t,n){var o;switch(e.message){case"update":(0,T.checkVideoIDChange)();break;case"sponsorStart":ft(),n({creatingSegment:mt()});break;case"isInfoFound":n({found:H,status:ke,sponsorTimes:$,time:null!==(o=(0,T.getCurrentTime)())&&void 0!==o?o:0,onMobileYouTube:(0,T.isOnMobileYouTube)()}),!e.updating&&xe&&null!=document.getElementById("sponsorBlockPopupContainer")&&vt(),xe=!0;break;case"getVideoID":n({videoID:(0,T.getVideoID)()});break;case"getChannelID":n({channelID:(0,T.getChannelIDInfo)().id});break;case"isChannelWhitelisted":n({value:ge});break;case"whitelistChange":ge=e.value,qe();break;case"submitTimes":kt();break;case"refreshSegments":(0,T.getVideoID)()||(0,T.checkVideoIDChange)(),n({hasVideo:null!=(0,T.getVideoID)()}),(0,T.getVideoID)()&&qe(!1,!0);break;case"unskip":rt($.find((t=>t.UUID===e.UUID)),null,!0);break;case"reskip":st($.find((t=>t.UUID===e.UUID)),!0);break;case"selectSegment":Ke(e.UUID);break;case"submitVote":return yt(e.type,e.UUID).then((e=>n(e))),!0;case"hideSegment":V.getSponsorTimeFromUUID($,e.UUID).hidden=e.type,V.addHiddenSegment((0,T.getVideoID)(),e.UUID,e.type),Ge(),(null==ye?void 0:ye.isEnabled())&&Te.every((e=>e.hidden!==r.SponsorHideType.Visible||e.actionType!==r.ActionType.Poi))&&ye.disable();break;case"closePopup":vt();break;case"copyToClipboard":navigator.clipboard.writeText(e.text);break;case"importSegments":{const t=(0,y.importTimes)(e.data,(0,T.getVideoDuration)());let o=!1;for(const e of t)if(!Te.some((t=>Math.abs(t.segment[0]-e.segment[0])<1&&Math.abs(t.segment[1]-e.segment[1])<1))){const t=i.default.config.showCategoryWithoutPermission||i.default.config.permissions.chapter;"chapter"!==e.category||V.getCategorySelection("chapter")&&t||(e.category="chooseACategory",e.actionType=r.ActionType.Skip,e.description=""),Te.push(e),o=!0}o&&(i.default.local.unsubmittedSegments[(0,T.getVideoID)()]=Te,i.default.forceLocalUpdate("unsubmittedSegments"),dt(),gt(!1),kt()),n({importedSegments:t});break}case"keydown":(document.body||document).dispatchEvent(new KeyboardEvent("keydown",{key:e.key,keyCode:e.keyCode,code:e.code,which:e.which,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,altKey:e.altKey,metaKey:e.metaKey}));break;case"getLogs":n({debug:window.SBLogs.debug,warn:window.SBLogs.warn})}n({})})),i.default.configSyncListeners.includes(Ne)||i.default.configSyncListeners.push(Ne);let Ve=null,ze=1,je=!0;function He(){if(ae&&clearInterval(ae),ne.videoTime=(0,T.getCurrentTime)(),ne.preciseTime=performance.now(),(0,w.isFirefoxOrSafari)()){let e=0,t=0,n=ne.videoTime,o=performance.now();ae=setInterval((()=>{const i=performance.now()-o;if(n!==(0,T.getCurrentTime)()&&(t++,(i<20||t>30)&&e++,n=(0,T.getCurrentTime)()),e>1){const e=ne.fromPause&&ne.approximateDelay?ne.approximateDelay:0;ne.videoTime=(0,T.getCurrentTime)()+e,ne.preciseTime=performance.now(),clearInterval(ae),ae=null}o=performance.now()}),1)}}function $e(){oe=null}function qe(e=!0,t=!1){var n;return o(this,void 0,void 0,(function*(){const s=(0,T.getVideoID)();if(!s)return void console.error("[SponsorBlock] Attempted to fetch segments with a null/undefined videoID.");const a=yield(0,U.getSegmentsForVideo)(s,t);if(s===(0,T.getVideoID)()){if(ke=a.status,200===a.status){const t=a.segments;if(t&&t.length){if(H=!0,null!==$&&e)for(let e=0;e<$.length;e++)$[e].source===r.SponsorSourceType.Local&&t.push($[e]);const n=$||[];if($=t,q=!1,0!==i.default.config.minDuration)for(const e of $){const t=e.segment[1]-e.segment[0];t>0&&t<i.default.config.minDuration&&(e.hidden=r.SponsorHideType.MinimumDuration)}if(e)for(const e of n){const t=$.find((t=>e.UUID===t.UUID));t&&(t.hidden=e.hidden,t.category=e.category)}const o=(yield(0,E.getHash)(s,1)).slice(0,4),a=i.default.local.downvotedSegments[o];if(a)for(const e of $){const t=yield(0,E.getHash)(e.UUID,1),n=a.segments.find((e=>e.uuid===t));n&&(e.hidden=n.hidden)}(0,T.getVideo)()||(yield(0,T.waitForVideo)()),Ye(),isNaN((0,T.getVideoDuration)())||Ge()}}We(!0),chrome.runtime.sendMessage({message:"infoUpdated",found:H,status:ke,sponsorTimes:$,time:null!==(n=(0,T.getCurrentTime)())&&void 0!==n?n:0,onMobileYouTube:(0,T.isOnMobileYouTube)()}),i.default.config.isVip&&function(){var e;o(this,void 0,void 0,(function*(){const t=(yield(0,E.getHash)((0,T.getVideoID)(),1)).slice(0,4),n=yield(0,O.asyncRequestToServer)("GET","/api/lockCategories/"+t);if(n.ok)try{const t=null===(e=JSON.parse(n.responseText).filter((e=>e.videoID===(0,T.getVideoID)()))[0])||void 0===e?void 0:e.categories;Array.isArray(t)&&(te=t)}catch(e){}}))}()}}))}function We(e){if(!q&&!Y&&(0,F.onVideoPage)()&&!(0,T.isOnMobileYouTube)()){const t=()=>(0,T.getVideoDuration)()&&(0,f.getExistingChapters)((0,T.getVideoID)(),(0,T.getVideoDuration)());if(!e||document.hasFocus()||W||t())Y=!0,(0,w.waitFor)(t,e?15e3:0,400,(e=>(null==e?void 0:e.length)>0)).then((e=>{Y=!1,!q&&(null==e?void 0:e.length)>0&&($=(null!=$?$:[]).concat(...e).sort(((e,t)=>e.segment[0]-t.segment[0])),q=!0,Ge())})).catch((()=>{Y=!1})),i.default.config.showAutogeneratedChapters||(0,w.waitFor)((()=>(0,f.hasAutogeneratedChapters)()),e?15e3:0,400).then((()=>{xt((0,T.getCurrentTime)())})).catch((()=>{}));else{W=!0;const t=()=>{We(e),window.removeEventListener("focus",t)};window.addEventListener("focus",t)}}}function Ye(){var e;if((!pe||(0,C.isSafari)())&&$){let t=(0,p.getStartTimeFromUrl)(document.URL)||-1,n=!1;for(const e of $)if(e.segment[0]<=(0,T.getCurrentTime)()&&e.segment[0]>t&&e.segment[1]>(0,T.getCurrentTime)()&&e.actionType!==r.ActionType.Poi){t=e.segment[0],n=!0;break}if(!n)for(const e of Te)if(e.segment[0]<=(0,T.getCurrentTime)()&&e.segment[0]>t&&e.segment[1]>(0,T.getCurrentTime)()&&e.actionType!==r.ActionType.Poi){t=e.segment[0],n=!0;break}const o=$.filter((e=>e.segment[1]>(0,T.getCurrentTime)()&&e.actionType===r.ActionType.Poi&&e.hidden===r.SponsorHideType.Visible)).sort(((e,t)=>t.segment[0]-e.segment[0]));for(const t of o){const n=null===(e=V.getCategorySelection(t.category))||void 0===e?void 0:e.option;if(n!==r.CategorySkipOption.ShowOverlay&&(nt({v:(0,T.getVideo)(),skipTime:t.segment,skippingSegments:[t],openNotice:!0,unskipTime:(0,T.getCurrentTime)()}),n===r.CategorySkipOption.AutoSkip))break}const i=$.filter((e=>e.actionType===r.ActionType.Full))[0];i&&(0,w.waitFor)((()=>be)).then((()=>{null==be||be.setSegment(i)})),-1!==t?Be(void 0,t):Be()}}function Ke(e){J=e,Ge()}function Ge(){if(null===ve)return;if((0,T.getIsAdPlaying)())return void ve.clear();if(null===(0,T.getVideo)())return;const e=(0,f.getHashParams)(),t=(null==e?void 0:e.requiredSegment)||void 0,n=[];$&&$.forEach((e=>{var o;e.hidden===r.SponsorHideType.Visible&&n.push({segment:e.segment,category:e.category,actionType:e.actionType,unsubmitted:!1,showLarger:e.actionType===r.ActionType.Poi,description:e.description,source:e.source,requiredSegment:t&&(e.UUID===t||(null===(o=e.UUID)||void 0===o?void 0:o.startsWith(t))),selectedSegment:J&&e.UUID===J})})),Te.forEach((e=>{n.push({segment:e.segment,category:e.category,actionType:e.actionType,unsubmitted:!0,showLarger:e.actionType===r.ActionType.Poi,description:e.description,source:e.source})})),ve.set(n.filter((e=>e.actionType!==r.ActionType.Full)),(0,T.getVideoDuration)()),(0,T.getVideo)()&&xt((0,T.getCurrentTime)()),i.default.config.showTimeWithSkips&&function(e){(isNaN(e)||e<0)&&(e=0);const t=(0,T.isOnInvidious)()?".vjs-duration":(0,T.isOnMobileYouTube)()?".ytwPlayerTimeDisplayContent":".ytp-time-display.notranslate .ytp-time-wrapper",n=document.querySelector(t);if(!n)return;const o="sponsorBlockDurationAfterSkips";let i=document.getElementById(o);null===i&&(i=document.createElement("span"),i.id=o,(0,T.isOnMobileYouTube)()?(i.style.paddingLeft="4px",n.insertBefore(i,n.lastChild)):n.appendChild(i));const r=(0,k.getFormattedTime)((0,T.getVideoDuration)()-e);i.innerText=null==r||e<=0?"":" ("+r+")"}(V.getTimestampsDuration(n.filter((({actionType:e})=>![r.ActionType.Mute,r.ActionType.Chapter].includes(e))).map((({segment:e})=>e))))}let Qe=!1;function Xe(){var e;if(!Le()&&!Qe&&(0,T.getVideo)()&&(0,T.getVideoID)())return Qe=!0,void setTimeout((()=>{Qe=!1,Xe()}),500);ve&&!(null===(e=Le())||void 0===e?void 0:e.contains(ve.container))&&(ve.remove(),ve=null),_e()}function Je(e,t,n=!0){if(-1==t||!lt(e[t])||e[t].actionType!==r.ActionType.Skip)return t;let o=t;for(let t=0;t<(null==e?void 0:e.length);t++){const i=e[t].segment,s=e[o].segment[1];i[0]-z<=s&&i[1]>s&&(!n||e[t].hidden===r.SponsorHideType.Visible)&&lt(e[t])&&e[t].actionType===r.ActionType.Skip&&(o=t)}return o!==t&&(o=Je(e,o,n)),o}function Ze(e,t,n,o,i=!1){if(!e)return{includedTimes:[],scheduledTimes:[]};const s=[],a=[],l=e=>(void 0===o||n&&e.scheduledTime>=o||t&&e.scheduledTime<o&&e.segment[1]>o&&ut(e))&&(!i||e.hidden===r.SponsorHideType.Visible)&&2===e.segment.length&&e.actionType!==r.ActionType.Poi&&e.actionType!==r.ActionType.Full,u=e.map((e=>Object.assign(Object.assign({},e),{scheduledTime:e.segment[0]})));e.forEach((e=>{!u.some((t=>e.segment[1]===t.scheduledTime&&l(t)))&&(void 0===o||e.segment[1]>o)&&u.push(Object.assign(Object.assign({},e),{scheduledTime:e.segment[1]}))}));for(let e=0;e<u.length;e++)l(u[e])&&(a.push(u[e].scheduledTime),s.push(u[e]));return{includedTimes:s,scheduledTimes:a}}function et(e,t=!0){Z=!0,(0,T.setCurrentTime)(e),t&&(0,T.getVideo)().paused&&(0,T.getVideo)().play()}function tt(e,t,n){for(const t of e)!Z&&Te.some((e=>e.segment===t.segment))&&(Z=!0);if(!i.default.config.trackViewCount||!i.default.config.trackViewCountInPrivate&&chrome.extension.inIncognitoContext)return;let o=!1;for(const s of e){const e=null==$?void 0:$.findIndex((e=>e.segment===s.segment));-1===e||ue[e]||(ue[e]=!0,o||(i.default.config.minutesSaved=i.default.config.minutesSaved+t/60,s.actionType!==r.ActionType.Chapter&&(i.default.config.skipCount=i.default.config.skipCount+1),o=!0),n&&(0,O.asyncRequestToServer)("POST","/api/viewedVideoSponsorTime?UUID="+s.UUID))}}function nt({v:e,skipTime:t,skippingSegments:n,openNotice:o,forceAutoSkip:s,unskipTime:a}){var l;if(i.default.config.disableSkipping)return;const u=s||lt(n[0]),c=Te.some((e=>e.segment===n[0].segment));if((u||c)&&(0,T.getCurrentTime)()!==t[1])switch(n[0].actionType){case r.ActionType.Poi:case r.ActionType.Skip:e.loop&&(0,T.getVideoDuration)()>1&&t[1]>=(0,T.getVideoDuration)()-1?(0,T.setCurrentTime)(0):(0,T.getVideoDuration)()>1&&t[1]>=(0,T.getVideoDuration)()&&("Apple Computer, Inc."===navigator.vendor||(0,f.isPlayingPlaylist)())?(0,T.setCurrentTime)((0,T.getVideoDuration)()-.001):(0,T.getVideoDuration)()>1&&Math.abs(t[1]-(0,T.getVideoDuration)())<j&&(0,w.isFirefoxOrSafari)()&&!(0,C.isSafari)()?(0,T.setCurrentTime)((0,T.getVideoDuration)()):(Fe(t[1],!0)&&(e.muted=!0,ce=!0),(0,T.setCurrentTime)(t[1]));break;case r.ActionType.Mute:e.muted||(e.muted=!0,ce=!0)}if(u&&i.default.config.audioNotificationOnSkip&&!c&&!(null===(l=(0,T.getVideo)())||void 0===l?void 0:l.muted)){const e=new Audio(chrome.runtime.getURL("icons/beep.oga"));e.volume=.1*(0,T.getVideo)().volume;const t=navigator.mediaSession.metadata;e.play(),e.addEventListener("ended",(()=>{navigator.mediaSession.metadata=null,setTimeout((()=>{navigator.mediaSession.metadata=t,e.remove()}))}))}u||1!==n.length||n[0].actionType!==r.ActionType.Poi?o&&(i.default.config.dontShowNotice&&u?u&&(null==Q||Q.setShowKeybindHint(!1),Q={setShowKeybindHint:()=>{},toggleSkip:()=>{rt(n[0],a),ot(n,u,a,!0)}}):ot(n,u,a,!1)):(0,w.waitFor)((()=>ye)).then((()=>{ye.enable(n[0]),((0,T.isOnMobileYouTube)()||null==i.default.config.skipKeybind)&&ye.setShowKeybindHint(!1),null==Q||Q.setShowKeybindHint(!1),Q=ye})),(u||c)&&tt(n,t[1]-t[0],!0)}function ot(e,t,n,o){for(const t of K)if(e.length===t.segments.length&&e.every((e=>t.segments.some((t=>t.UUID===e.UUID)))))return;const r=!!G&&!G.closed,s=new l.default(e,t,Me,(()=>{null==G||G.close(),G=null}),n,o,r);((0,T.isOnMobileYouTube)()||null==i.default.config.skipKeybind)&&s.setShowKeybindHint(!1),K.push(s),null==Q||Q.setShowKeybindHint(!1),Q=s}function it(e,t,n){G&&!G.closed&&G.sameNotice(e)||(null==G||G.close(),G=new u.default(e,Me,t/1e3,n))}function rt(e,t=null,n=!1){e.actionType===r.ActionType.Mute&&((0,T.getVideo)().muted=!1,ce=!1),(n||e.actionType===r.ActionType.Skip)&&(0,T.setCurrentTime)(null!=t?t:e.segment[0]+.001)}function st(e,t=!1){if(e.actionType!==r.ActionType.Mute||t){const t=Math.max(e.segment[1]-(0,T.getCurrentTime)(),0),n=t/(e.segment[1]-e.segment[0])>Ie;(0,T.setCurrentTime)(e.segment[1]),tt([e],e.actionType!==r.ActionType.Chapter?t:0,n),Be(!0,e.segment[1],!1)}else(0,T.getVideo)().muted=!0,ce=!0}function at(e,t,n,o,i=!1){const r=document.getElementById(e+"Button");if(null!==r)return r;const s=document.createElement("button");s.draggable=i,s.id=e+"Button",s.classList.add("playerButton"),s.classList.add("ytp-button"),s.setAttribute("title",chrome.i18n.getMessage(t)),s.addEventListener("click",(()=>{n()}));const a=document.createElement("img");return s.draggable=i,a.id=e+"Image",a.className="playerButtonImage",a.src=chrome.runtime.getURL("icons/"+o),s.appendChild(a),Se&&Se.prepend(s),we[e]={button:s,image:a,setupListener:!1},s}function lt(e){var t;return(!i.default.config.manualSkipOnFullVideo||!(null==$?void 0:$.some((t=>t.category===e.category&&t.actionType===r.ActionType.Full))))&&((null===(t=V.getCategorySelection(e.category))||void 0===t?void 0:t.option)===r.CategorySkipOption.AutoSkip||i.default.config.autoSkipOnMusicVideos&&(null==$?void 0:$.some((e=>"music_offtopic"===e.category)))&&e.actionType===r.ActionType.Skip||Te.some((t=>t.segment===e.segment)))}function ut(e){var t;return e.actionType!==r.ActionType.Full&&e.source!==r.SponsorSourceType.YouTube&&(null===(t=V.getCategorySelection(e.category))||void 0===t?void 0:t.option)!==r.CategorySkipOption.ShowOverlay||i.default.config.autoSkipOnMusicVideos&&(null==$?void 0:$.some((e=>"music_offtopic"===e.category)))&&e.actionType===r.ActionType.Skip}function ct(){return o(this,void 0,void 0,(function*(){(0,T.getVideoID)()&&!(0,T.isOnMobileYouTube)()&&(yield function(){var e;return o(this,void 0,void 0,(function*(){Se=yield V.wait(f.getControls).catch(),at("startSegment","sponsorStart",(()=>ft()),"PlayerStartIconSponsorBlocker.svg"),at("cancelSegment","sponsorCancel",(()=>(mt()&&(Te.length>1?(Te.pop(),i.default.local.unsubmittedSegments[(0,T.getVideoID)()]=Te):(wt(),Te=[],delete i.default.local.unsubmittedSegments[(0,T.getVideoID)()]),i.default.forceLocalUpdate("unsubmittedSegments")),dt(),void gt(!1))),"PlayerCancelSegmentIconSponsorBlocker.svg"),at("delete","clearTimes",(()=>function(){const e=(0,T.getVideoID)(),t=i.default.local.unsubmittedSegments[e];if(null!=t&&t.length>0){const n=chrome.i18n.getMessage("clearThis")+Ct(t)+"\n"+chrome.i18n.getMessage("confirmMSG");if(!confirm(n))return;wt(),delete i.default.local.unsubmittedSegments[e],i.default.forceLocalUpdate("unsubmittedSegments"),Te=[],Ge(),dt()}}()),"PlayerDeleteIconSponsorBlocker.svg"),at("submit","OpenSubmissionMenu",(()=>kt()),"PlayerUploadIconSponsorBlocker.svg"),at("info","openPopup",(()=>function(){if(null!=document.getElementById("sponsorBlockPopupContainer"))return;xe=!1,we.info&&(we.info.button.style.display="none");const e=document.createElement("div");e.id="sponsorBlockPopupContainer";const t=document.createElement("iframe");t.width="374",t.height="500",t.style.borderRadius="12px",t.addEventListener("load",(()=>o(this,void 0,void 0,(function*(){t.contentWindow.postMessage("","*");const e=document.querySelector(".stylus");e&&t.contentWindow.postMessage({type:"style",css:e.textContent},"*");const n=document.getElementById("efyt-theme");if(n){const e=document.getElementById("efyt-theme-variables");if(e){const o=yield fetch(n.getAttribute("href")).then((e=>e.text())),i=yield fetch(e.getAttribute("href")).then((e=>e.text()));o&&i&&t.contentWindow.postMessage({type:"style",css:o.replace("./images/youtube-deep-dark/IconSponsorBlocker256px.png","https://raw.githubusercontent.com/RaitaroH/YouTube-DeepDark/master/YT_Images/IconSponsorBlocker256px.png")+i},"*")}}})))),t.src=chrome.runtime.getURL("popup.html"),e.appendChild(t);const n=e=>{let t;for(const n of e)null!==n.firstElementChild&&(t=n);return t},i=[{selector:"#secondary-inner",hasChildCheck:!0},{selector:"#watch7-sidebar-contents"}];for(const t of i){const o=document.querySelectorAll(t.selector),i=t.hasChildCheck?n(o):o[0];if(i){t.hasChildCheck&&i.insertBefore(e,i.firstChild);break}}}()),"PlayerInfoIconSponsorBlocker.svg");const t=(0,f.getControls)();i.default.config.autoHideInfoButton&&!(0,T.isOnInvidious)()&&t&&(null===(e=we.info)||void 0===e?void 0:e.button)&&!de.includes(t)&&(de.push(t),m.AnimationUtils.setupAutoHideAnimation(we.info.button,t))}))}(),dt(),i.default.config.hideInfoButtonPlayerControls||document.URL.includes("/embed/")||(0,T.isOnInvidious)()||null!=document.getElementById("sponsorBlockPopupContainer")?we.info.button.style.display="none":we.info.button.style.removeProperty("display"))}))}function dt(){if(!(0,T.getVideoID)()||(0,T.isOnMobileYouTube)())return;const e=!(i.default.config.hideVideoPlayerControls||(0,T.isOnInvidious)());let t=!1,n=!1,o=!1;e&&(t=mt(),n=Te.length>0,o=Te.length>1||Te.length>0&&!t),we.startSegment.button.style.display=e?"unset":"none",we.cancelSegment.button.style.display=e&&t?"unset":"none",e&&(t?(we.startSegment.image.src=chrome.runtime.getURL("icons/PlayerStopIconSponsorBlocker.svg"),we.startSegment.button.setAttribute("title",chrome.i18n.getMessage("sponsorEnd"))):(we.startSegment.image.src=chrome.runtime.getURL("icons/PlayerStartIconSponsorBlocker.svg"),we.startSegment.button.setAttribute("title",chrome.i18n.getMessage("sponsorStart")))),we.submit.button.style.display=n&&!i.default.config.hideUploadButtonPlayerControls?"unset":"none",we.delete.button.style.display=o&&!i.default.config.hideDeleteButtonPlayerControls?"unset":"none"}function pt(){var e,t;return"M 18,11 V 7 l -5,5 5,5 v -4 c 3.3,0 6,2.7 6,6 0,3.3 -2.7,6 -6,6 -3.3,0 -6,-2.7 -6,-6 h -2 c 0,4.4 3.6,8 8,8 4.4,0 8,-3.6 8,-8 0,-4.4 -3.6,-8 -8,-8 z"===(null===(t=null===(e=document.querySelector(".ytp-play-button"))||void 0===e?void 0:e.querySelector(".ytp-svg-fill"))||void 0===t?void 0:t.getAttribute("d"))?(0,T.getVideoDuration)():(0,T.getCurrentTime)()}function ft(){(0,T.verifyCurrentTime)();const e=Math.round(1e3*(pt()+Number.EPSILON))/1e3;if(mt()){const t=ht(),n=t.segment[0],o=e;t.segment=[Math.min(n,o),Math.max(n,o)]}else Te.push({segment:[e],UUID:(0,M.generateUserID)(),category:i.default.config.defaultCategory,actionType:r.ActionType.Skip,source:r.SponsorSourceType.Local});i.default.local.unsubmittedSegments[(0,T.getVideoID)()]=Te,i.default.forceLocalUpdate("unsubmittedSegments"),qe(!0,!0),dt(),gt(!1),We(!1),200!==ke&&404!==ke&&!X&&i.default.config.showSegmentFailedToFetchWarning&&(alert(chrome.i18n.getMessage("segmentFetchFailureWarning")),X=!0)}function ht(){return Te[Te.length-1]}function mt(){var e;const t=ht();return t&&2!==(null===(e=null==t?void 0:t.segment)||void 0===e?void 0:e.length)}function gt(e=!0){const t=i.default.local.unsubmittedSegments[(0,T.getVideoID)()];if(e&&null!=t){Te=[];for(const e of t)Te.push({segment:e.segment,UUID:e.UUID,category:e.category,actionType:e.actionType,description:e.description,source:e.source});Te.length>0&&(Z=!0,We(!0))}Ge(),null!==(0,T.getVideo)()&&Be(),null!==Ee&&Ee.update(),function(){var e;if(Ce)return;Ce=!0;let t=!1;const n=(0,f.getHashParams)().segments;if(Array.isArray(n))for(const o of n)Array.isArray(o.segment)&&(Te.some((e=>e.segment[0]===o.segment[0]&&e.segment[1]==e.segment[1]))||(Te.push({segment:o.segment,UUID:(0,M.generateUserID)(),category:o.category?o.category:i.default.config.defaultCategory,actionType:o.actionType?o.actionType:r.ActionType.Skip,description:null!==(e=o.description)&&void 0!==e?e:"",source:r.SponsorSourceType.Local}),t=!0));t&&(i.default.local.unsubmittedSegments[(0,T.getVideoID)()]=Te,i.default.forceLocalUpdate("unsubmittedSegments"))}()}function vt(){const e=document.getElementById("sponsorBlockPopupContainer");null!==e&&(e.remove(),!document.URL.includes("/embed/")&&we.info&&(we.info.button.style.display="unset"))}function yt(e,t,n,i){return o(this,void 0,void 0,(function*(){null!=i&&(i.addVoteButtonInfo.bind(i)(chrome.i18n.getMessage("Loading")),i.setNoticeInfoMessage.bind(i)());const o=yield bt(e,t,n);return null!=o&&null!=i&&(1==o.successType||-1==o.successType&&429==o.statusCode?i.afterVote.bind(i)(V.getSponsorTimeFromUUID($,t),e,n):-1==o.successType&&(403===o.statusCode&&o.responseText.startsWith("Vote rejected due to a tip from a moderator.")?(0,S.openWarningDialog)(Me):i.setNoticeInfoMessage.bind(i)((0,k.getErrorMessage)(o.statusCode,o.responseText)),i.resetVoteButtonInfo.bind(i)())),o}))}function bt(e,t,n){return o(this,void 0,void 0,(function*(){const o=V.getSponsorIndexFromUUID($,t);if(-1==o||$[o].source!==r.SponsorSourceType.Server)return Promise.resolve(void 0);if(0===e&&ue[o]||1===e&&!ue[o]){let t=1;0==e&&(t=-1,ue[o]=!1),i.default.config.minutesSaved=i.default.config.minutesSaved+t*($[o].segment[1]-$[o].segment[0])/60,i.default.config.skipCount=i.default.config.skipCount+t}return new Promise((o=>{chrome.runtime.sendMessage({message:"submitVote",type:e,UUID:t,category:n},(s=>{if(1===s.successType){const o=V.getSponsorTimeFromUUID($,t);o&&(0===e?o.hidden=r.SponsorHideType.Downvoted:n?o.category=n:1===e&&(o.hidden=r.SponsorHideType.Visible),n||i.default.config.isVip||V.addHiddenSegment((0,T.getVideoID)(),o.UUID,o.hidden),Ge())}o(s)}))}))}))}function St(){i.default.config.dontShowNotice=!0,function(){const e=document.getElementsByClassName("sponsorSkipNotice");for(let t=0;t<e.length;t++)e[t].remove()}()}function wt(e=!0){null==Ee||Ee.close(e),Ee=null}function kt(){if(null!==Ee)return null==Ee||Ee.close(),void(Ee=null);void 0!==Te&&Te.length>0&&(Ee=new c.default(Me,Tt))}function Tt(){return o(this,void 0,void 0,(function*(){if(!Te.every((e=>e.actionType===r.ActionType.Full))&&((0,T.getIsLivePremiere)()||(0,f.isVisible)(document.querySelector(".ytp-live-badge"))))return alert(chrome.i18n.getMessage("liveOrPremiere")),!1;if(!Z&&!Te.every((e=>[r.ActionType.Full,r.ActionType.Chapter,r.ActionType.Poi].includes(e.actionType)||e.segment[1]>=(0,T.getVideoDuration)()||0===e.segment[0])))return alert(`${chrome.i18n.getMessage("previewSegmentRequired")} ${(0,C.keybindToString)(i.default.config.previewKeybind)}`),!1;we.submit.image.src=chrome.runtime.getURL("icons/PlayerUploadIconSponsorBlocker.svg");const e=m.AnimationUtils.applyLoadingAnimation(we.submit.button,1,(()=>dt()));for(let e=0;e<Te.length;e++)Te[e].segment[1]>(0,T.getVideoDuration)()&&(Te[e].segment[1]=(0,T.getVideoDuration)());if(i.default.local.unsubmittedSegments[(0,T.getVideoID)()]=Te,i.default.forceLocalUpdate("unsubmittedSegments"),i.default.config.minDuration>0)for(let e=0;e<Te.length;e++){const t=Te[e].segment[1]-Te[e].segment[0];if(t>0&&t<i.default.config.minDuration){const e=chrome.i18n.getMessage("shortCheck")+"\n\n"+Ct(Te);if(!confirm(e))return!1}}const t=yield(0,O.asyncRequestToServer)("POST","/api/skipSegments",{videoID:(0,T.getVideoID)(),userID:i.default.config.userID,segments:Te,videoDuration:(0,T.getVideoDuration)(),userAgent:`${chrome.runtime.id}/v${chrome.runtime.getManifest().version}`});if(200===t.status){e(),delete i.default.local.unsubmittedSegments[(0,T.getVideoID)()],i.default.forceLocalUpdate("unsubmittedSegments");const n=Te;try{const e=JSON.parse(t.responseText);if((null==e?void 0:e.length)===n.length)for(let t=0;t<e.length;t++)n[t].UUID=e[t].UUID,n[t].source=r.SponsorSourceType.Server}catch(e){}$=($||[]).concat(n).sort(((e,t)=>e.segment[0]-t.segment[0])),i.default.config.sponsorTimesContributed=i.default.config.sponsorTimesContributed+Te.length,i.default.config.submissionCountSinceCategories=i.default.config.submissionCountSinceCategories+1,Te=[],Ge();const o=$.filter((e=>e.actionType===r.ActionType.Full))[0];return o&&(null==be||be.setSegment(o)),!0}return we.submit.button.style.animation="unset",we.submit.image.src=chrome.runtime.getURL("icons/PlayerUploadFailedIconSponsorBlocker.svg"),403===t.status&&t.responseText.startsWith("Submission rejected due to a tip from a moderator.")?(0,S.openWarningDialog)(Me):alert((0,k.getErrorMessage)(t.status,t.responseText)),!1}))}function Ct(e){let t="";for(let n=0;n<e.length;n++)for(let o=0;o<e[n].segment.length;o++){let i=(0,k.getFormattedTime)(e[n].segment[o]);1==o?i=" "+chrome.i18n.getMessage("to")+" "+i:n>0&&(i=", "+i),t+=i}return t}function xt(e){null==ve||ve.updateChapterText($,Te,e),chrome.runtime.sendMessage({message:"time",time:e})}function Et(e){var t,n,o,s,a,l;if((["textarea","input"].includes(null===(n=null===(t=document.activeElement)||void 0===t?void 0:t.tagName)||void 0===n?void 0:n.toLowerCase())||(null===(o=document.activeElement)||void 0===o?void 0:o.isContentEditable)||(null===(l=null===(a=null===(s=document.activeElement)||void 0===s?void 0:s.id)||void 0===a?void 0:a.toLowerCase())||void 0===l?void 0:l.match(/editable|input/)))&&document.hasFocus())return;const u={key:e.key,code:e.code,alt:e.altKey,ctrl:e.ctrlKey,shift:e.shiftKey},c=i.default.config.skipKeybind,d=i.default.config.skipToHighlightKeybind,p=i.default.config.closeSkipNoticeKeybind,f=i.default.config.startSponsorKeybind,h=i.default.config.actuallySubmitKeybind,m=i.default.config.previewKeybind,g=i.default.config.submitKeybind,v=i.default.config.nextChapterKeybind,y=i.default.config.previousChapterKeybind;if((0,C.keybindEquals)(u,c))Q&&Q.toggleSkip.call(Q);else if((0,C.keybindEquals)(u,d))ye&&ye.toggleSkip.call(ye);else{if((0,C.keybindEquals)(u,p)){for(let e=0;e<K.length;e++)K.pop().close();return null==G||G.close(),void(G=null)}if((0,C.keybindEquals)(u,f))ft();else if((0,C.keybindEquals)(u,h))void 0!==Te&&Te.length>0&&null!==Ee&&Ee.submit();else{if((0,C.keybindEquals)(u,g))return e.preventDefault(),void kt();if(!(0,C.keybindEquals)(u,m))return(0,C.keybindEquals)(u,v)?($.length>0&&e.stopPropagation(),void function(){var e;const t=null===(e=ve.unfilteredChapterGroups)||void 0===e?void 0:e.filter((e=>[r.ActionType.Chapter,null].includes(e.actionType)));if(!t||t.length<=0)return;ie.time=(0,T.getCurrentTime)(),ie.date=Date.now();const n=t.findIndex((e=>e.segment[0]>(0,T.getCurrentTime)()));-1!==n?(0,T.setCurrentTime)(t[n].segment[0]):(0,T.setCurrentTime)((0,T.getVideoDuration)())}()):(0,C.keybindEquals)(u,y)?($.length>0&&e.stopPropagation(),void function(){var e;if(Date.now()-ie.date<3e3)return(0,T.setCurrentTime)(ie.time),void(ie.date=0);const t=null===(e=ve.unfilteredChapterGroups)||void 0===e?void 0:e.filter((e=>[r.ActionType.Chapter,null].includes(e.actionType)));if(!t||t.length<=0)return void(0,T.setCurrentTime)(0);const n=t.findIndex((e=>e.segment[0]>(0,T.getCurrentTime)()-Math.min(5,e.segment[1]-e.segment[0]))),o=-1!==n?n-1:t.length-1;-1!==o?(0,T.setCurrentTime)(t[o].segment[0]):(0,T.setCurrentTime)(0)}()):void 0;void 0!==Te&&Te.length>0&&(et(Te[Te.length-1].segment[0]-R.defaultPreviewTime),Ee&&Ee.scrollToBottom())}}}function Mt(){const e=(0,T.getIsAdPlaying)();(0,T.setIsAdPlaying)(document.getElementsByClassName("ad-showing").length>0),e!=(0,T.getIsAdPlaying)()&&(Ge(),ct())}function It(){let e=document.getElementById("sbCategoryColorStyle");e||(e=document.createElement("style"),e.id="sbCategoryColorStyle",(0,L.isVorapisInstalled)()&&(e.className="stylus"),(document.head||document.documentElement).appendChild(e));let t=":root {";for(const[e,n]of Object.entries(i.default.config.barTypes)){t+=`--sb-category-${e}: ${n.color};`,t+=`--darkreader-bg--sb-category-${e}: ${n.color};`;const o=g.GenericUtils.getLuminance(n.color);t+=`--sb-category-text-${e}: ${o>128?"black":"white"};`,t+=`--darkreader-text--sb-category-text-${e}: ${o>128?"black":"white"};`}t+="}",e.innerText=t}},9695:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.hideDeArrowPromotion=t.tryShowingDeArrowPromotion=void 0,n(1108),n(8423),n(3262),n(3683),n(8856),n(2246),n(8249),n(3726),n(6062);t.tryShowingDeArrowPromotion=function(){return o(this,void 0,void 0,(function*(){}))},t.hideDeArrowPromotion=function(){}},9268:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=n(8856),i=n(9209),r=n(3126),s=n(1575),a=n(7621),l=n(4148),u=n(2184),c=n(3726),d=n(4982),p="sponsorCategoryTooltipVisible";t.default=class{constructor(e,t,n,o,i,r=!1){this.lastSmallestSegment={},this.segments=[],this.hasYouTubeChapters=!1,this.existingChapters=[],this.videoDuration=0,this.lastChapterUpdate=0,r||(this.container=document.createElement("ul"),this.container.id="previewbar",this.parent=e,this.onMobileYouTube=t,this.onInvidious=n,this.chapterVote=o,this.updateExistingChapters=i,this.updatePageElements(),this.createElement(e),this.createChapterMutationObservers(),this.setupHoverText())}setupHoverText(){var e;if(this.onMobileYouTube||this.onInvidious)return;document.querySelectorAll(".sponsorCategoryTooltip").forEach((e=>e.remove())),this.categoryTooltip=document.createElement("div"),this.categoryTooltip.className="ytp-tooltip-title sponsorCategoryTooltip",this.chapterTooltip=document.createElement("div"),this.chapterTooltip.className="ytp-tooltip-title sponsorCategoryTooltip";const t=null!==(e=document.querySelector(".ytp-tooltip-text-wrapper, .ytp-progress-tooltip-text-container"))&&void 0!==e?e:document.querySelector("#progress-bar-container.ytk-player > #hover-time-info"),n=t.querySelector(".ytp-tooltip-title:not(.sponsorCategoryTooltip), .ytp-progress-tooltip-text:not(.sponsorCategoryTooltip)");if(!t||!t.parentElement)return;this.categoryTooltipContainer=t.parentElement;const s=t.querySelector(".ytp-tooltip-title, .ytp-progress-tooltip-text");if(!this.categoryTooltipContainer||!s)return;t.insertBefore(this.categoryTooltip,s.nextSibling),t.insertBefore(this.chapterTooltip,s.nextSibling);const l=document.querySelector(".ytp-progress-bar-container");if(!l)return;let u=!1;l.addEventListener("mouseenter",(()=>{u=!0})),l.addEventListener("mouseleave",(()=>{u=!1})),l.addEventListener("mousemove",(e=>{var f;if(!(u&&this.categoryTooltip&&this.categoryTooltipContainer&&(null===(f=chrome.runtime)||void 0===f?void 0:f.id)))return;let h=!!t.querySelector(".ytp-tooltip-text.ytp-tooltip-text-no-title, .ytp-progress-tooltip-timestamp");const m=this.decimalToTime((e.clientX-l.getBoundingClientRect().x)/l.clientWidth),[g,v]=(0,r.partition)(this.segments,(e=>e.actionType!==i.ActionType.Chapter));let y=this.getSmallestSegment(m,g,"normal"),b=this.getSmallestSegment(m,v,"chapter");null===y&&null!==b&&(y=b,b=this.getSmallestSegment(m,v.filter((e=>e!==b))));const S=this.hasYouTubeChapters||!o.default.config.showAutogeneratedChapters&&(0,c.hasAutogeneratedChapters)();S?(n.style.display="none",h=!0,n.classList.add("sponsorTooltipHasYTChapters")):n.classList.remove("sponsorTooltipHasYTChapters"),null===y&&null===b?S||(this.categoryTooltipContainer.classList.remove(p),n.style.removeProperty("display")):(this.categoryTooltipContainer.classList.add(p),null!==y&&null!==b?(this.categoryTooltipContainer.classList.add("sponsorTwoTooltips"),n.classList.remove("sponsorTooltipHasYTChapters")):this.categoryTooltipContainer.classList.remove("sponsorTwoTooltips"),this.setTooltipTitle(y,this.categoryTooltip),this.setTooltipTitle(b,this.chapterTooltip),(0,d.isVorapisInstalled)()&&t.parentElement.classList.add("with-text"),(0,a.normalizeChapterName)(n.textContent)===(0,a.normalizeChapterName)(this.categoryTooltip.textContent)||(0,a.normalizeChapterName)(n.textContent)===(0,a.normalizeChapterName)(this.chapterTooltip.textContent)?("none"!==n.style.display&&(n.style.display="none"),h=!0):"none"===n.style.display&&n.style.removeProperty("display"),this.categoryTooltip.style.right=s.style.right,this.chapterTooltip.style.right=s.style.right,this.categoryTooltip.style.textAlign=s.style.textAlign,this.chapterTooltip.style.textAlign=s.style.textAlign),this.categoryTooltip.classList.toggle("ytp-tooltip-text-no-title",h),this.chapterTooltip.classList.toggle("ytp-tooltip-text-no-title",h)}))}setTooltipTitle(e,t){if(e){const n=e.description||(0,s.shortCategoryName)(e.category);e.unsubmitted?t.textContent=chrome.i18n.getMessage("unsubmitted")+" "+n:t.textContent=n,t.style.removeProperty("display")}else t.style.display="none"}createElement(e){e&&(this.parent=e),this.onMobileYouTube?this.container.style.transform="none":this.onInvidious||this.container.classList.add("sbNotInvidious"),this.parent.prepend(this.container)}clear(){for(var e,t,n;this.container.firstChild;)this.container.removeChild(this.container.firstChild);this.customChaptersBar&&(this.customChaptersBar.style.display="none"),null===(t=null===(e=this.originalChapterBar)||void 0===e?void 0:e.style)||void 0===t||t.removeProperty("display"),null===(n=this.chapterVote)||void 0===n||n.setVisibility(!1),document.querySelectorAll(".sponsorBlockChapterBar").forEach((e=>{e!==this.customChaptersBar&&e.remove()}))}set(e,t){var n,o;this.segments=null!=e?e:[],this.videoDuration=null!=t?t:0,this.hasYouTubeChapters=e.some((e=>e.source===i.SponsorSourceType.YouTube));for(const e of this.segments.filter((e=>e.actionType===i.ActionType.Chapter&&e.source===i.SponsorSourceType.Server))){const t=e.segment[1]-e.segment[0],n=this.segments.find((n=>n.actionType===i.ActionType.Chapter&&n.source===i.SponsorSourceType.YouTube&&Math.abs(n.segment[0]-e.segment[0])<Math.min(3,t/3)&&Math.abs(n.segment[1]-e.segment[1])<Math.min(3,t/3)));if(n){const e=this.segments.indexOf(n);this.segments.splice(e,1)}}this.updatePageElements();const r=null!==(o=parseInt(null===(n=this.progressBar)||void 0===n?void 0:n.getAttribute("aria-valuemax")))&&void 0!==o?o:0;!([...document.querySelectorAll("video")].filter((e=>(0,c.isVisible)(e))).length>1)&&r&&Math.abs(r-this.videoDuration)>3&&(this.videoDuration=r),this.update()}updatePageElements(){var e,t,n;const o=document.querySelectorAll(".ytp-progress-bar, .ytp-progress-bar-container > .html5-progress-bar > .ytp-progress-list");if(this.progressBar=null!==(e=(0,l.findValidElement)(o))&&void 0!==e?e:null==o?void 0:o[0],this.progressBar){const e=this.progressBar.querySelector(".ytp-chapters-container:not(.sponsorBlockChapterBar)");this.originalChapterBar!==e&&(null===(n=null===(t=this.originalChapterBar)||void 0===t?void 0:t.style)||void 0===n||n.removeProperty("display"),this.originalChapterBar=e)}}update(){var e,t,n,o,r,s;this.clear();const a=this.getChapterChevron();if(this.segments||null===(e=null==a?void 0:a.style)||void 0===e||e.removeProperty("display"),this.chapterMargin=2,this.originalChapterBar&&(this.originalChapterBarBlocks=this.originalChapterBar.querySelectorAll(":scope > div"),this.existingChapters=this.segments.filter((e=>e.source===i.SponsorSourceType.YouTube)).sort(((e,t)=>e.segment[0]-t.segment[0])),(null===(t=this.existingChapters)||void 0===t?void 0:t.length)>0)){const e=parseFloat(null===(s=null===(r=null===(o=null===(n=this.originalChapterBarBlocks)||void 0===n?void 0:n[0])||void 0===o?void 0:o.style)||void 0===r?void 0:r.marginRight)||void 0===s?void 0:s.replace("px",""));e&&(this.chapterMargin=e)}const l=this.segments.sort((({segment:e},{segment:t})=>t[1]-t[0]-(e[1]-e[0])));for(const e of l){if(e.actionType===i.ActionType.Chapter)continue;const t=this.createBar(e);this.container.appendChild(t)}this.createChaptersBar(this.segments.sort(((e,t)=>e.segment[0]-t.segment[0]))),a&&(this.segments.some((e=>e.source===i.SponsorSourceType.YouTube))?a.style.removeProperty("display"):this.segments&&(a.style.display="none"))}createBar(e){var t;const{category:n,unsubmitted:i,segment:r,showLarger:s}=e,a=document.createElement("li");a.classList.add("previewbar"),e.requiredSegment&&a.classList.add("requiredSegment"),e.selectedSegment&&a.classList.add("selectedSegment"),a.innerHTML=s?"&nbsp;&nbsp;":"&nbsp;";const l=(i?"preview-":"")+n;a.setAttribute("sponsorblock-category",l),a.style.backgroundColor=`var(--sb-category-${l})`,this.onMobileYouTube||(a.style.opacity=null===(t=o.default.config.barTypes[l])||void 0===t?void 0:t.opacity),a.style.position="absolute";const u=Math.min(r[1],this.videoDuration)-r[0],c=r[1]?Math.min(this.videoDuration,r[0]):r[0],d=Math.min(this.videoDuration,r[1]);return a.style.left=this.timeToPercentage(c),u>0&&(a.style.right=this.timeToRightPercentage(d)),this.chapterFilter(e)&&r[1]<this.videoDuration&&(a.style.marginRight=`${this.chapterMargin}px`),a}createChaptersBar(e){var t;if(!this.progressBar||!this.originalChapterBar||this.originalChapterBar.childElementCount<=0)return this.originalChapterBar&&this.originalChapterBar.style.removeProperty("display"),document.querySelectorAll(".sponsorBlockChapterBar").forEach((e=>e.remove())),void(this.customChaptersBar=null);const n=e!==this.lastRenderedSegments;if(n&&(this.lastRenderedSegments=e,this.unfilteredChapterGroups=this.createChapterRenderGroups(e)),(e.every((e=>e.source===i.SponsorSourceType.YouTube))||!o.default.config.renderSegmentsAsChapters&&e.every((e=>e.actionType!==i.ActionType.Chapter||e.source===i.SponsorSourceType.YouTube)))&&(!(0,c.hasAutogeneratedChapters)()||o.default.config.showAutogeneratedChapters))return this.customChaptersBar&&(this.customChaptersBar.style.display="none"),void this.originalChapterBar.style.removeProperty("display");const r=null==e?void 0:e.filter((e=>this.chapterFilter(e)));if(r){let t=this.unfilteredChapterGroups;if(r.length!==e.length&&(t=this.createChapterRenderGroups(r)),this.chapterGroups=t.filter((e=>this.chapterGroupFilter(e))),t.length!==this.chapterGroups.length)for(let e=1;e<this.chapterGroups.length;e++)this.chapterGroups[e].segment[0]!==this.chapterGroups[e-1].segment[1]&&(this.chapterGroups[e-1].segment[1]=this.chapterGroups[e].segment[0])}else this.chapterGroups=this.unfilteredChapterGroups;if(0===this.chapterGroups.length&&!o.default.config.showAutogeneratedChapters&&(0,c.hasAutogeneratedChapters)()&&(this.chapterGroups=[{segment:[0,this.videoDuration],originalDuration:0,actionType:null}]),!this.chapterGroups||this.chapterGroups.length<=0)return this.customChaptersBar&&(this.customChaptersBar.style.display="none"),void this.originalChapterBar.style.removeProperty("display");let s=!1;this.customChaptersBar&&this.progressBar.contains(this.customChaptersBar)||(document.querySelectorAll(".sponsorBlockChapterBar").forEach((e=>e.remove())),s=!0,this.customChaptersBar=this.originalChapterBar.cloneNode(!0),this.customChaptersBar.classList.add("sponsorBlockChapterBar")),this.customChaptersBar.style.display="none";const a=this.customChaptersBar.querySelectorAll(".ytp-chapter-hover-container"),l=a[0];if(a.length>this.chapterGroups.length)for(let e=a.length-1;e>=this.chapterGroups.length;e--)this.customChaptersBar.removeChild(a[e]);for(let e=0;e<this.chapterGroups.length;e++){const t=this.chapterGroups[e].segment;let n=a[e];n?s&&this.firstTimeSetupChapterSection(n):(n=l.cloneNode(!0),this.firstTimeSetupChapterSection(n),this.customChaptersBar.appendChild(n)),this.setupChapterSection(n,t[0],t[1],e!==this.chapterGroups.length-1)}this.originalChapterBar.style.display="none",this.customChaptersBar.style.removeProperty("display"),s&&((null===(t=this.container)||void 0===t?void 0:t.parentElement)===this.progressBar?this.progressBar.insertBefore(this.customChaptersBar,this.container.nextSibling):this.progressBar.prepend(this.customChaptersBar)),n&&this.updateChapterAllMutation(this.originalChapterBar,this.progressBar,!0)}createChapterRenderGroups(e){const t=[];return null==e||e.forEach(((n,o)=>{var i;const r=t[t.length-1];if(r&&r.segment[1]>n.segment[0]){const e=n.segment[1]-n.segment[0];if(n.segment[0]<r.segment[0]||e<r.originalDuration){let o=r;const i=[];for(;(null==o?void 0:o.segment[0])>=n.segment[0];){const e=t.pop();e.segment[1]>n.segment[1]&&(e.segment[0]===n.segment[0]&&(e.segment[0]=n.segment[1]),i.push(e)),o=t[t.length-1]}const s=this.getActionTypePrioritized([n.actionType,null==r?void 0:r.actionType]);t.push({segment:[n.segment[0],n.segment[1]],originalDuration:e,actionType:s}),(null==o?void 0:o.segment[1])>n.segment[1]&&t.push({segment:[n.segment[1],o.segment[1]],originalDuration:o.originalDuration,actionType:o.actionType}),i.reverse();let a=n.segment;for(const e of i)e.segment[0]<a[1]&&(e.segment[0]=a[1]),a=e.segment;t.push(...i),o&&(o.segment[1]=n.segment[0])}else t.push({segment:[r.segment[1],n.segment[1]],originalDuration:e,actionType:n.actionType})}else{const e=(null==r?void 0:r.segment[1])||0;n.segment[0]>e&&t.push({segment:[e,n.segment[0]],originalDuration:0,actionType:null});const o=Math.min(n.segment[1],this.videoDuration);t.push({segment:[n.segment[0],o],originalDuration:o-n.segment[0],actionType:n.actionType})}if(o===e.length-1){const r=e[o+1],s=r?r.segment[0]:this.videoDuration,a=(null===(i=t[t.length-1])||void 0===i?void 0:i.segment[1])||n.segment[1];this.intervalToDecimal(a,s)>.003&&t.push({segment:[a,s],originalDuration:0,actionType:null})}})),t}getActionTypePrioritized(e){var t;return e.includes(i.ActionType.Skip)?i.ActionType.Skip:e.includes(i.ActionType.Mute)?i.ActionType.Mute:null!==(t=e.find((e=>e)))&&void 0!==t?t:e[0]}setupChapterSection(e,t,n,o){const i=this.intervalToPercentage(t,n);o?(e.style.marginRight=`${this.chapterMargin}px`,e.style.width=`calc(${i} - ${this.chapterMargin}px)`):(e.style.marginRight="0",e.style.width=i),e.setAttribute("decimal-width",String(this.intervalToDecimal(t,n)))}firstTimeSetupChapterSection(e){e.addEventListener("mouseenter",(()=>{var t;null===(t=this.hoveredSection)||void 0===t||t.classList.remove("ytp-exp-chapter-hover-effect"),e.classList.add("ytp-exp-chapter-hover-effect"),this.hoveredSection=e}))}createChapterMutationObservers(){if(!this.progressBar||!this.originalChapterBar)return;const e=new MutationObserver((e=>{var t;const n={};for(const o of e){const e=o.target;"attributes"===o.type&&(null===(t=e.parentElement)||void 0===t?void 0:t.classList.contains("ytp-progress-list"))&&(n[e.classList[0]]=o.target)}this.updateChapterMutation(n,this.progressBar)}));e.observe(this.originalChapterBar,{subtree:!0,attributes:!0,attributeFilter:["style","class"]});const t=new MutationObserver((e=>{for(const t of e)if("childList"===t.type){this.update();break}this.updateChapterMutation({},this.progressBar)}));t.observe(this.originalChapterBar,{childList:!0}),(0,u.addCleanupListener)((()=>{e.disconnect(),t.disconnect()}))}updateChapterAllMutation(e,t,n=!1){const o=e.querySelectorAll(".ytp-progress-list > *"),i={};for(const e of o)i[e.classList[0]]=e;this.updateChapterMutation(i,t,n)}updateChapterMutation(e,t,n=!1){var o;if(this.customChaptersBar){let i=0;const r=this.customChaptersBar.querySelectorAll(".ytp-chapter-hover-container");for(let o=0;o<r.length;o++){const s=r[o],a=parseFloat(s.getAttribute("decimal-width")),l=a-this.chapterMargin/t.clientWidth;for(const u in e){const c=`.${u}`,d=s.querySelector(c);if(d){const s=o===r.length-1?a:l,p=e[u],f=this.findLeftAndScale(c,p,t),h=f.left/t.clientWidth,m=Math.max(0,Math.min(1,(h-i)/s));if(isNaN(h)||isNaN(m)||(d.style.left=100*m+"%",d.style.removeProperty("display")),null!==f.scale){const e=f.scale/t.clientWidth,o=Math.max(0,Math.min(1-m,(e-i)/s-m));if(d.style.transform=`scaleX(${o})`,d.style.backgroundSize){const e=Math.max(f.scale/o,s*t.clientWidth);d.style.backgroundSize=`${e}px`,f.scale<(i+s)*t.clientWidth?d.style.backgroundPosition=`-${e-s*t.clientWidth}px`:d.style.backgroundPosition=`-${i*t.clientWidth}px`}n&&(d.style.transition="none",setTimeout((()=>d.style.removeProperty("transition")),50))}d.className!==p.className&&(d.className=p.className)}}i+=a}0!==r.length&&r.length!==(null===(o=this.existingChapters)||void 0===o?void 0:o.length)&&Date.now()-this.lastChapterUpdate>3e3&&(this.lastChapterUpdate=Date.now(),this.updateExistingChapters())}}findLeftAndScale(e,t,n){var o;const i=t.parentElement.parentElement.parentElement.children;let r=0,s=0,a=0,l=0,u=null,c=0,d=0,p=0;for(let t=0;t<i.length;t++){const f=i[t],h=f.querySelector(e),m=null!==(o=this.getPartialChapterSectionStyle(f,"width"))&&void 0!==o?o:n.clientWidth,g=m+this.getPartialChapterSectionStyle(f,"marginRight"),v=parseFloat(h.style.left.replace("px",""));0!==v&&(a=v,l=r);const y=h.style.transform.match(/scaleX\(([0-9.]+?)\)/);if(y){const e=parseFloat(y[1]),n=e+v/m;if(p>.99999&&0===n){c=r-s;break}if(p=n,u=e,d=m,(t===i.length-1||n<.99999)&&n>0){c=r,0!==v&&(c+=a);break}}s=g,r+=s}return{left:a+l,scale:null!==u?u*d+c:null}}getPartialChapterSectionStyle(e,t){var n;const o=e.style[t];return(null==o?void 0:o.includes("%"))?this.customChaptersBar.clientWidth*(parseFloat(o.replace("%",""))/100):parseInt(null===(n=e.style[t].match(/\d+/g))||void 0===n?void 0:n[0])||0}updateChapterText(e,t,n){var r;if(!o.default.config.showSegmentNameInChapterBar||o.default.config.disableSkipping||(!e||e.length<=0)&&(null==t?void 0:t.length)<=0&&(o.default.config.showAutogeneratedChapters||!(0,c.hasAutogeneratedChapters)())){const e=this.getChaptersContainer();return e&&(null===(r=e.querySelector(".sponsorChapterText"))||void 0===r||r.remove(),e.querySelector(".ytp-chapter-title-content").style.removeProperty("display"),e.classList.remove("sponsorblock-chapter-visible")),[]}null!=e||(e=[]),(null==t?void 0:t.length)>0&&(e=e.concat(t));const a=e.filter((e=>e.hidden===i.SponsorHideType.Visible&&e.segment[0]<=n&&e.segment[1]>n&&e.category!==s.DEFAULT_CATEGORY));return this.setActiveSegments(a),a}setActiveSegments(e){var t,n;const r=this.getChaptersContainer();if(r)if(e.length>0){r.classList.add("sponsorblock-chapter-visible");const t=e.sort(((e,t)=>e.actionType===i.ActionType.Chapter&&t.actionType!==i.ActionType.Chapter?-1:e.actionType!==i.ActionType.Chapter&&t.actionType===i.ActionType.Chapter?1:e.actionType===i.ActionType.Chapter&&t.actionType===i.ActionType.Chapter&&e.source===i.SponsorSourceType.Server&&t.source!==i.SponsorSourceType.Server?-.5:e.actionType===i.ActionType.Chapter&&t.actionType===i.ActionType.Chapter&&e.source!==i.SponsorSourceType.Server&&t.source===i.SponsorSourceType.Server?.5:4*(t.segment[0]-e.segment[0])))[0],n=this.getChapterButton(r);n.classList.remove("ytp-chapter-container-disabled"),n.disabled=!1;const o=r.querySelector(".ytp-chapter-title-content");if(o.style.display="none",(o.parentElement.querySelector(".sponsorChapterText")||(()=>{const e=document.createElement("div");return o.parentElement.insertBefore(e,o),e.classList.add("sponsorChapterText"),e})()).innerText=t.description||(0,s.shortCategoryName)(t.category),t.actionType!==i.ActionType.Chapter?o.classList.add("sponsorBlock-segment-title"):o.classList.remove("sponsorBlock-segment-title"),t.source===i.SponsorSourceType.Server){const e=this.chapterVote.getContainer();if(!n.contains(e)){const t=document.querySelectorAll("#chapterVote");t.length>0&&t.forEach((e=>e.remove())),n.insertBefore(e,this.getChapterChevron())}this.chapterVote.setVisibility(!0),this.chapterVote.setSegment(t)}else this.chapterVote.setVisibility(!1)}else if(!o.default.config.showAutogeneratedChapters&&(0,c.hasAutogeneratedChapters)()){null===(t=r.querySelector(".sponsorChapterText"))||void 0===t||t.remove(),r.querySelector(".ytp-chapter-title-content").style.display="none",r.classList.remove("sponsorblock-chapter-visible");const e=r.querySelector(".ytp-chapter-title-prefix");e&&(e.style.display="none"),this.chapterVote.setVisibility(!1)}else null===(n=r.querySelector(".sponsorChapterText"))||void 0===n||n.remove(),r.querySelector(".ytp-chapter-title-content").style.removeProperty("display"),r.classList.remove("sponsorblock-chapter-visible"),this.chapterVote.setVisibility(!1)}getChaptersContainer(){return document.querySelector(".ytp-chapter-container")}getChapterButton(e){var t;return null===(t=null!=e?e:this.getChaptersContainer())||void 0===t?void 0:t.querySelector("button.ytp-chapter-title")}remove(){this.container.remove(),this.categoryTooltip&&(this.categoryTooltip.remove(),this.categoryTooltip=void 0),this.categoryTooltipContainer&&(this.categoryTooltipContainer.classList.remove(p),this.categoryTooltipContainer=void 0)}chapterFilter(e){return(o.default.config.renderSegmentsAsChapters||e.actionType===i.ActionType.Chapter)&&e.actionType!==i.ActionType.Poi&&this.chapterGroupFilter(e)}chapterGroupFilter(e){return 2===e.segment.length&&this.intervalToDecimal(e.segment[0],e.segment[1])>.003}intervalToPercentage(e,t){return 100*this.intervalToDecimal(e,t)+"%"}intervalToDecimal(e,t){return this.timeToDecimal(t)-this.timeToDecimal(e)}timeToPercentage(e){return 100*this.timeToDecimal(e)+"%"}timeToRightPercentage(e){return 100*(1-this.timeToDecimal(e))+"%"}timeToDecimal(e){return this.decimalTimeConverter(e,!0)}decimalToTime(e){return this.decimalTimeConverter(e,!1)}decimalTimeConverter(e,t){var n,o;if((null===(n=this.originalChapterBarBlocks)||void 0===n?void 0:n.length)>1&&this.existingChapters.length===(null===(o=this.originalChapterBarBlocks)||void 0===o?void 0:o.length)){const n=this.originalChapterBar.parentElement.clientWidth;let o=0,i=-1;for(let r=0;r<this.originalChapterBarBlocks.length;r++){const s=this.originalChapterBarBlocks[r],a=parseFloat(s.style.width.replace("px","")),l=s.style.marginRight?parseFloat(s.style.marginRight.replace("px","")):0;if(!(t&&e>=this.existingChapters[r].segment[1]||!t&&e>=(o+a+l)/n))break;o+=a+l,i=r}const r=this.existingChapters[i+1];if(r){const s=parseFloat(this.originalChapterBarBlocks[i+1].style.width.replace("px","")),a=r.segment[1]-r.segment[0];if(t){const t=(e-r.segment[0])/a,i=s/n;return Math.min(1,o/n+t*i)}{const t=(e*n-o)/s;return Math.max(0,r.segment[0]+t*a)}}}return t?Math.min(1,e/this.videoDuration):Math.max(0,e*this.videoDuration)}getMinimumSize(e=!1){return this.videoDuration*(e?.006:.003)}getSmallestSegment(e,t,n){var o;const i=n?null===(o=this.lastSmallestSegment[n])||void 0===o?void 0:o.index:null,r=i&&t[i]===this.lastSmallestSegment[n].segment?i:0,s=r>0&&e<this.lastSmallestSegment[n].segment.segment[0]?-1:1;let a=null,l=-1,u=1/0;for(let n=r;n<t.length&&n>=0;n+=s){const o=t[n],i=o.segment[1]-o.segment[0],r=this.getMinimumSize(o.showLarger),c=0!==i?o.segment[0]:Math.floor(o.segment[0]),d=i>r?o.segment[1]:Math.ceil(o.segment[0]+r);if(c<=e&&d>=e&&i<u&&(u=i,a=o,l=n),1===s&&o.segment[0]>e)break}return a&&(this.lastSmallestSegment[n]={index:l,segment:a}),a}getChapterChevron(){return document.querySelector(".ytp-chapter-title-chevron")}}},8480:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SkipButtonControlBar=void 0;const o=n(8856),i=n(1575),r=n(3225),s=n(1740),a=n(2869);t.SkipButtonControlBar=class{constructor(e){this.showKeybindHint=!0,this.enabled=!1,this.duration=0,this.left=0,this.swipeStart=0,this.skip=e.skip,this.onMobileYouTube=e.onMobileYouTube,this.container=document.createElement("div"),this.container.classList.add("skipButtonControlBarContainer"),this.container.classList.add("sbhidden"),this.onMobileYouTube&&this.container.classList.add("mobile"),this.skipIcon=document.createElement("img"),this.skipIcon.src=chrome.runtime.getURL("icons/skipIcon.svg"),this.skipIcon.classList.add("ytp-button"),this.skipIcon.id="sbSkipIconControlBarImage",this.textContainer=document.createElement("div"),this.container.appendChild(this.skipIcon),this.container.appendChild(this.textContainer),this.container.addEventListener("click",(()=>this.toggleSkip())),this.container.addEventListener("mouseenter",(()=>{this.stopTimer(),this.segment&&e.selectSegment(this.segment.UUID)})),this.container.addEventListener("mouseleave",(()=>{this.startTimer(),e.selectSegment(null)})),this.onMobileYouTube&&(this.container.addEventListener("touchstart",(e=>this.handleTouchStart(e))),this.container.addEventListener("touchmove",(e=>this.handleTouchMove(e))),this.container.addEventListener("touchend",(()=>this.handleTouchEnd())))}getElement(){return this.container}attachToPage(){const e=this.getMountingContainer();if(this.chapterText=document.querySelector(".ytp-chapter-container"),e&&!e.contains(this.container))if(this.onMobileYouTube?e.appendChild(this.container):e.insertBefore(this.container,this.chapterText),this.onMobileYouTube){const{hide:t,show:n}=r.AnimationUtils.setupCustomHideAnimation(this.skipIcon,e,!1,!1);this.hideButton=t,this.showButton=n}else r.AnimationUtils.setupAutoHideAnimation(this.skipIcon,e,!1,!1)}getMountingContainer(){return this.onMobileYouTube?document.getElementById("player-container-id"):document.querySelector(".ytp-left-controls")}enable(e,t){var n,o,i,s;t&&(this.duration=t),this.segment=e,this.enabled=!0,this.refreshText(),null===(o=null===(n=this.container)||void 0===n?void 0:n.classList)||void 0===o||o.remove("textDisabled"),null===(s=null===(i=this.textContainer)||void 0===i?void 0:i.classList)||void 0===s||s.remove("sbhidden"),r.AnimationUtils.disableAutoHideAnimation(this.skipIcon),this.startTimer()}refreshText(){var e,t;this.segment&&(null===(t=null===(e=this.chapterText)||void 0===e?void 0:e.classList)||void 0===t||t.add("sbhidden"),this.container.classList.remove("sbhidden"),this.textContainer.innerText=this.getTitle(),this.skipIcon.setAttribute("title",this.getTitle()))}setShowKeybindHint(e){this.showKeybindHint=e,this.refreshText()}stopTimer(){this.timeout&&clearTimeout(this.timeout)}startTimer(){this.stopTimer(),this.timeout=setTimeout((()=>this.disableText()),1e3*Math.max(o.default.config.skipNoticeDuration,this.duration))}disable(){var e,t,n,o;this.container.classList.add("sbhidden"),null===(t=null===(e=this.chapterText)||void 0===e?void 0:e.classList)||void 0===t||t.remove("sbhidden"),null===(o=null===(n=this.getChapterPrefix())||void 0===n?void 0:n.classList)||void 0===o||o.remove("sbhidden"),this.enabled=!1}isEnabled(){return this.enabled}toggleSkip(){this.segment&&this.enabled&&(this.skip(this.segment),this.disableText())}disableText(){var e,t,n,i,s,a;o.default.config.hideSkipButtonPlayerControls?this.disable():(this.container.classList.add("textDisabled"),null===(t=null===(e=this.textContainer)||void 0===e?void 0:e.classList)||void 0===t||t.add("sbhidden"),null===(i=null===(n=this.chapterText)||void 0===n?void 0:n.classList)||void 0===i||i.remove("sbhidden"),null===(a=null===(s=this.getChapterPrefix())||void 0===s?void 0:s.classList)||void 0===a||a.add("sbhidden"),r.AnimationUtils.enableAutoHideAnimation(this.skipIcon),this.onMobileYouTube&&this.hideButton())}updateMobileControls(){this.enabled&&((0,a.isMobileControlsOpen)()?this.showButton():this.hideButton())}getTitle(){return(0,i.getSkippingText)([this.segment],!1)+(this.showKeybindHint?" ("+(0,s.keybindToString)(o.default.config.skipToHighlightKeybind)+")":"")}getChapterPrefix(){return document.querySelector(".ytp-chapter-title-prefix")}handleTouchStart(e){this.swipeStart=e.touches[0].clientX}handleTouchMove(e){const t=this.swipeStart-e.touches[0].clientX;this.left=Math.min(-t,0),this.updateLeftStyle()}handleTouchEnd(){this.left<-this.container.offsetWidth/2&&(this.disableText(),this.skipIcon.style.display="none",setTimeout((()=>this.skipIcon.style.removeProperty("display")),200)),this.left=0,this.updateLeftStyle()}updateLeftStyle(){this.container.style.left=this.left+"px"}}},6846:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.CategoryPill=void 0;const i=n(6540),r=n(5338),s=n(421),a=n(8856),l=n(2246),u=n(1108),c=n(8423),d=n(2184);t.CategoryPill=class{constructor(){this.ref=i.createRef(),(0,d.addCleanupListener)((()=>{this.mutationObserver&&this.mutationObserver.disconnect()}))}attachToPage(e,t,n){return o(this,void 0,void 0,(function*(){this.onMobileYouTube=e,this.onInvidious=t,this.vote=n,this.attachToPageInternal()}))}attachToPageInternal(){return o(this,void 0,void 0,(function*(){let e=yield(0,u.waitFor)((()=>(0,c.getYouTubeTitleNode)()));const t=document.querySelector("#title #description");if(t&&(e=e.parentElement),e&&!e.contains(this.container)){this.container||(this.container=document.createElement("span"),this.container.id="categoryPill",this.container.style.display="relative",this.root=(0,r.createRoot)(this.container),this.ref=i.createRef(),this.root.render(i.createElement(s.default,{ref:this.ref,vote:this.vote,showTextByDefault:!this.onMobileYouTube,showTooltipOnClick:this.onMobileYouTube})),this.onMobileYouTube&&(this.mutationObserver&&this.mutationObserver.disconnect(),this.mutationObserver=new MutationObserver((e=>{e.some((e=>e.removedNodes.length>0))&&this.attachToPageInternal()})),this.mutationObserver.observe(e,{childList:!0,subtree:!0}))),this.lastState&&(0,u.waitFor)((()=>this.ref.current)).then((()=>{var e;null===(e=this.ref.current)||void 0===e||e.setState(this.lastState)}));const n=document.createElement("span");n.id="categoryPillParent",n.appendChild(this.container),e.prepend(n),t||(e.style.display="flex")}}))}close(){this.root.unmount(),this.container.remove()}setVisibility(e){var t,n;const o={show:e,open:!!e&&(null===(t=this.ref.current)||void 0===t?void 0:t.state.open)};null===(n=this.ref.current)||void 0===n||n.setState(o),this.lastState=o}setSegment(e){var t,n,i;return o(this,void 0,void 0,(function*(){if(yield(0,u.waitFor)((()=>this.ref.current)),(null===(n=null===(t=this.ref.current)||void 0===t?void 0:t.state)||void 0===n?void 0:n.segment)!==e){const t={segment:e,show:!0,open:!1};if(null===(i=this.ref.current)||void 0===i||i.setState(t),this.lastState=t,!a.default.config.categoryPillUpdate){a.default.config.categoryPillUpdate=!0;const e=yield(0,u.waitFor)((()=>document.querySelector("#info.ytd-watch-flexy")));e&&new l.Tooltip({text:chrome.i18n.getMessage("categoryPillNewFeature"),link:"https://blog.ajay.app/full-video-sponsorblock",referenceNode:e,prependElement:e.firstChild,bottomOffset:"-10px",opacity:.95,timeout:5e4})}}this.onMobileYouTube&&!document.contains(this.container)&&this.attachToPageInternal()}))}}},1924:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ChapterVote=void 0;const i=n(6540),r=n(5338),s=n(6387);t.ChapterVote=class{constructor(e){this.ref=i.createRef(),this.container=document.createElement("span"),this.container.id="chapterVote",this.container.style.height="100%",this.root=(0,r.createRoot)(this.container),this.root.render(i.createElement(s.default,{ref:this.ref,vote:e}))}getContainer(){return this.container}close(){this.root.unmount(),this.container.remove()}setVisibility(e){var t;const n=Object.assign({show:e},e?{}:{segment:null});this.ref.current?null===(t=this.ref.current)||void 0===t||t.setState(n):this.unsavedState=n}setSegment(e){var t,n,i;return o(this,void 0,void 0,(function*(){if((null===(n=null===(t=this.ref.current)||void 0===t?void 0:t.state)||void 0===n?void 0:n.segment)!==e){const t={segment:e,show:!0};this.ref.current?null===(i=this.ref.current)||void 0===i||i.setState(t):this.unsavedState=t}}))}}},3936:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=n(6540),i=n(5338),r=n(4342),s=new(n(205).default),a=n(4332),l=n(3683);t.default=class{constructor(e,t,n){var r;this.noticeRef=o.createRef(),this.idSuffix=t,this.contentContainer=e;const a=null!==(r=n.referenceNode)&&void 0!==r?r:s.findReferenceNode();this.noticeElement=document.createElement("div"),this.noticeElement.className="sponsorSkipNoticeContainer",this.noticeElement.id="sponsorSkipNoticeContainer"+t,a.prepend(this.noticeElement),this.root=(0,i.createRoot)(this.noticeElement),this.update(n)}update(e){var t,n,i;this.root.render(o.createElement(r.default,{noticeTitle:e.title,idSuffix:this.idSuffix,fadeIn:null===(t=e.fadeIn)||void 0===t||t,timed:null===(n=e.timed)||void 0===n||n,ref:this.noticeRef,style:e.style,extraClass:e.extraClass,maxCountdownTime:e.maxCountdownTime,dontPauseCountdown:e.dontPauseCountdown,hideLogo:e.hideLogo,hideRightInfo:e.hideRightInfo,closeListener:()=>this.close()},(null===(i=e.textBoxes)||void 0===i?void 0:i.length)>0?o.createElement("tr",{id:"sponsorSkipNoticeMiddleRow"+this.idSuffix,className:"sponsorTimeMessagesRow",style:{maxHeight:(0,l.getVideo)()?(0,l.getVideo)().offsetHeight-200+"px":null}},o.createElement("td",{style:{width:"100%"}},this.getMessageBoxes(this.idSuffix,e.textBoxes))):null,e.hideLogo?null:o.createElement(o.Fragment,null,o.createElement("tr",{id:"sponsorSkipNoticeSpacer"+this.idSuffix,className:"sponsorBlockSpacer"}),o.createElement("tr",{className:"sponsorSkipNoticeRightSection",style:{position:"relative"}},o.createElement("td",null,this.getButtons(e.buttons))))))}getMessageBoxes(e,t){if(t){const n=[];for(let i=0;i<t.length;i++)n.push(o.createElement(a.default,{idSuffix:e,key:i,icon:t[i].icon,text:t[i].text}));return n}return null}getButtons(e){if(e){const t=[];for(const n of e)t.push(o.createElement("button",{className:"sponsorSkipObject sponsorSkipNoticeButton sponsorSkipNoticeRightButton",key:n.name,onClick:e=>n.listener(e)},n.name));return t}return null}close(){this.root.unmount(),this.noticeElement.remove()}}},2275:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RectangleTooltip=void 0;const o=n(6540),i=n(5338);t.RectangleTooltip=class{constructor(e){var t,n,r,s,a,l,u;null!==(t=e.bottomOffset)&&void 0!==t||(e.bottomOffset="0px"),null!==(n=e.leftOffset)&&void 0!==n||(e.leftOffset="0px"),null!==(r=e.maxHeight)&&void 0!==r||(e.maxHeight="100px"),null!==(s=e.maxWidth)&&void 0!==s||(e.maxWidth="300px"),null!==(a=e.backgroundColor)&&void 0!==a||(e.backgroundColor="rgba(28, 28, 28, 0.7)"),this.text=e.text,null!==(l=e.fontSize)&&void 0!==l||(e.fontSize="10px"),this.container=document.createElement("div"),null!==(u=e.htmlId)&&void 0!==u||(e.htmlId="sponsorRectangleTooltip"+e.text),this.container.id=e.htmlId,this.container.style.display="relative",e.prependElement?e.referenceNode.insertBefore(this.container,e.prependElement):e.referenceNode.appendChild(this.container),e.timeout&&(this.timer=setTimeout((()=>this.close()),1e3*e.timeout)),this.root=(0,i.createRoot)(this.container),this.root.render(o.createElement("div",{style:{bottom:e.bottomOffset,left:e.leftOffset,maxHeight:e.maxHeight,maxWidth:e.maxWidth,backgroundColor:e.backgroundColor,fontSize:e.fontSize},className:"sponsorBlockRectangleTooltip"},o.createElement("div",null,o.createElement("img",{className:"sponsorSkipLogo sponsorSkipObject",src:chrome.runtime.getURL("icons/IconSponsorBlocker256px.png")}),o.createElement("span",{className:"sponsorSkipObject"},this.text+(e.link?". ":""),e.link?o.createElement("a",{style:{textDecoration:"underline"},target:"_blank",rel:"noopener noreferrer",href:e.link},chrome.i18n.getMessage("LearnMore")):null)),o.createElement("button",{className:"sponsorSkipObject sponsorSkipNoticeButton",style:{float:"right"},onClick:()=>{e.buttonFunction&&e.buttonFunction(),this.close()}},chrome.i18n.getMessage("GotIt"))))}close(){this.root.unmount(),this.container.remove(),this.timer&&clearTimeout(this.timer)}}},5474:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=n(6540),i=n(5338),r=new(n(205).default),s=n(2841),a=n(9209),l=n(8856),u=n(1159);t.default=class{constructor(e,t=!1,n,u,c=null,d=!1,p){this.skipNoticeRef=o.createRef(),this.segments=e,this.autoSkip=t,this.contentContainer=n;const f=r.findReferenceNode(),h=document.getElementsByClassName("sponsorSkipNotice").length;let m="";for(const e of this.segments)m+=e.UUID;m+=h,this.noticeElement=document.createElement("div"),this.noticeElement.className="sponsorSkipNoticeContainer",this.noticeElement.id="sponsorSkipNoticeContainer"+m,f.prepend(this.noticeElement),this.root=(0,i.createRoot)(this.noticeElement),this.root.render(o.createElement(s.default,{segments:e,autoSkip:t,startReskip:d,contentContainer:n,ref:this.skipNoticeRef,closeListener:()=>this.close(),smaller:l.default.config.noticeVisibilityMode>=a.NoticeVisbilityMode.MiniForAll||l.default.config.noticeVisibilityMode>=a.NoticeVisbilityMode.MiniForAutoSkip&&t,fadeIn:!p,unskipTime:c,componentDidMount:u}))}setShowKeybindHint(e){var t,n;null===(n=null===(t=this.skipNoticeRef)||void 0===t?void 0:t.current)||void 0===n||n.setState({showKeybindHint:e})}close(){this.root.unmount(),this.noticeElement.remove();const e=this.contentContainer().skipNotices;e.splice(e.indexOf(this),1)}toggleSkip(){var e,t;null===(t=null===(e=this.skipNoticeRef)||void 0===e?void 0:e.current)||void 0===t||t.prepAction(u.SkipNoticeAction.Unskip0)}unmutedListener(e){var t,n;null===(n=null===(t=this.skipNoticeRef)||void 0===t?void 0:t.current)||void 0===n||n.unmutedListener(e)}}},403:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=n(6540),i=n(5338),r=new(n(205).default),s=n(8818);t.default=class{constructor(e,t){this.noticeRef=o.createRef(),this.contentContainer=e,this.callback=t;const n=r.findReferenceNode();this.noticeElement=document.createElement("div"),this.noticeElement.id="submissionNoticeContainer",n.prepend(this.noticeElement),this.root=(0,i.createRoot)(this.noticeElement),this.root.render(o.createElement(s.default,{contentContainer:e,callback:t,ref:this.noticeRef,closeListener:()=>this.close(!1)}))}update(){this.noticeRef.current.forceUpdate()}close(e=!0){e&&this.noticeRef.current.cancel(),this.root.unmount(),this.noticeElement.remove()}submit(){var e,t;null===(t=null===(e=this.noticeRef.current)||void 0===e?void 0:e.submit)||void 0===t||t.call(e)}scrollToBottom(){var e,t;null===(t=null===(e=this.noticeRef.current)||void 0===e?void 0:e.scrollToBottom)||void 0===t||t.call(e)}}},2246:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Tooltip=void 0;const o=n(4586);class i extends o.GenericTooltip{constructor(e){super(e,"icons/IconSponsorBlocker256px.png")}}t.Tooltip=i},4329:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=n(6540),i=n(5338),r=n(205),s=n(2841),a=new r.default;t.default=class{constructor(e,t,n,r){this.closed=!1,this.upcomingNoticeRef=o.createRef(),this.segments=e,this.contentContainer=t;const l=a.findReferenceNode();this.noticeElement=document.createElement("div"),this.noticeElement.className="sponsorSkipNoticeContainer",l.prepend(this.noticeElement),this.root=(0,i.createRoot)(this.noticeElement),this.root.render(o.createElement(s.default,{segments:e,autoSkip:r,upcomingNotice:!0,contentContainer:t,ref:this.upcomingNoticeRef,closeListener:()=>this.close(),smaller:!0,fadeIn:!0,maxCountdownTime:n}))}close(){this.root.unmount(),this.noticeElement.remove(),this.closed=!0}sameNotice(e){if(e.length!==this.segments.length)return!1;for(let t=0;t<e.length;t++)if(e[t].UUID!==this.segments[t].UUID)return!1;return!0}}},4804:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=n(6540);t.default=({fill:e="#ffffff"})=>o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:e},o.createElement("path",{d:"M14.1 7.1l2.9 2.9L6.1 20.7l-3.6.7.7-3.6L14.1 7.1zm0-2.8L1.4 16.9 0 24l7.1-1.4L19.8 9.9l-5.7-5.7zm7.1 4.3L24 5.7 18.3 0l-2.8 2.8 5.7 5.7z"}))},7152:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=n(6540);t.default=function({id:e="",fill:t="#ff0000",className:n="",onClick:i}){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 565.15 568",id:e,className:n,onClick:()=>null==i?void 0:i()},o.createElement("g",{id:"Layer_2","data-name":"Layer 2"},o.createElement("g",{id:"Layer_1-2","data-name":"Layer 1",style:{fill:t}},o.createElement("path",{d:"M282.58,568a65,65,0,0,1-34.14-9.66C95.41,463.94,2.54,300.46,0,121A64.91,64.91,0,0,1,34,62.91a522.56,522.56,0,0,1,497.16,0,64.91,64.91,0,0,1,34,58.12c-2.53,179.43-95.4,342.91-248.42,437.3A65,65,0,0,1,282.58,568Zm0-548.31A502.24,502.24,0,0,0,43.4,80.22a45.27,45.27,0,0,0-23.7,40.53c2.44,172.67,91.81,330,239.07,420.83a46.19,46.19,0,0,0,47.61,0C453.64,450.73,543,293.42,545.45,120.75a45.26,45.26,0,0,0-23.7-40.54A502.26,502.26,0,0,0,282.58,19.69Z",id:"path8",style:{fill:t}}),o.createElement("path",{style:{fill:t},d:"M 284.70508 42.693359 A 479.9 479.9 0 0 0 54.369141 100.41992 A 22.53 22.53 0 0 0 42.669922 120.41992 C 45.069922 290.25992 135.67008 438.63977 270.83008 522.00977 A 22.48 22.48 0 0 0 294.32031 522.00977 C 429.48031 438.63977 520.08047 290.25992 522.48047 120.41992 A 22.53 22.53 0 0 0 510.7793 100.41992 A 479.9 479.9 0 0 0 284.70508 42.693359 z M 220.41016 145.74023 L 411.2793 255.93945 L 220.41016 366.14062 L 220.41016 145.74023 z ",id:"path10"}))),o.createElement("polygon",{style:{fill:"#fff"},points:"411.28 255.94 220.41 145.74 220.41 366.14 411.28 255.94"}))}},1727:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=n(6540);t.default=({fill:e="#ffffff",className:t="",width:n="18",height:i="18"})=>o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:i,fill:e,className:t,viewBox:"0 0 24 24"},o.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),o.createElement("path",{d:"M15 3H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v2c0 1.1.9 2 2 2h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 23l6.59-6.59c.36-.36.58-.86.58-1.41V5c0-1.1-.9-2-2-2zm4 0v12h4V3h-4z"}))},152:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=n(6540);t.default=({fill:e="#ffffff",className:t="",width:n="18",height:i="18"})=>o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:e,width:n,height:i,className:t,viewBox:"0 0 24 24"},o.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),o.createElement("path",{d:"M1 21h4V9H1v12zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-2z"}))},9209:(e,t)=>{var n,o,i,r,s,a;Object.defineProperty(t,"__esModule",{value:!0}),t.NoticeVisbilityMode=t.ChannelIDStatus=t.SponsorSourceType=t.ActionTypes=t.ActionType=t.SponsorHideType=t.CategorySkipOption=void 0,(a=t.CategorySkipOption||(t.CategorySkipOption={}))[a.Disabled=-1]="Disabled",a[a.ShowOverlay=0]="ShowOverlay",a[a.ManualSkip=1]="ManualSkip",a[a.AutoSkip=2]="AutoSkip",(s=t.SponsorHideType||(t.SponsorHideType={}))[s.Visible=void 0]="Visible",s[s.Downvoted=1]="Downvoted",s[s.MinimumDuration=2]="MinimumDuration",s[s.Hidden=3]="Hidden",function(e){e.Skip="skip",e.Mute="mute",e.Chapter="chapter",e.Full="full",e.Poi="poi"}(n=t.ActionType||(t.ActionType={})),t.ActionTypes=[n.Skip,n.Mute,n.Chapter,n.Full,n.Poi],(r=t.SponsorSourceType||(t.SponsorSourceType={}))[r.Server=void 0]="Server",r[r.Local=1]="Local",r[r.YouTube=2]="YouTube",(i=t.ChannelIDStatus||(t.ChannelIDStatus={}))[i.Fetching=0]="Fetching",i[i.Found=1]="Found",i[i.Failed=2]="Failed",(o=t.NoticeVisbilityMode||(t.NoticeVisbilityMode={}))[o.FullSize=0]="FullSize",o[o.MiniForAutoSkip=1]="MiniForAutoSkip",o[o.MiniForAll=2]="MiniForAll",o[o.FadedForAutoSkip=3]="FadedForAutoSkip",o[o.FadedForAll=4]="FadedForAll"},205:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(8856),r=n(9209),s=n(3262),a=n(1108),l=n(4148),u=n(1740);t.default=class{constructor(e=null){this.js=["./js/content.js"],this.css=["content.css","./libs/Source+Sans+Pro.css","popup.css","shared.css"],this.backgroundScriptContainer=e}wait(e,t=5e3,n=100){return o(this,void 0,void 0,(function*(){return(0,a.waitFor)(e,t,n)}))}containsPermission(e){return new Promise((t=>{chrome.permissions.contains(e,t)}))}setupExtraSitePermissions(e){const t=[];(0,u.isSafari)()&&t.push("webNavigation"),chrome.permissions.request({origins:this.getPermissionRegex(),permissions:t},(t=>o(this,void 0,void 0,(function*(){t?this.setupExtraSiteContentScripts():this.removeExtraSiteRegistration(),e(t)}))))}getExtraSiteRegistration(){return{message:"registerContentScript",id:"invidious",allFrames:!0,js:this.js,css:this.css,matches:this.getPermissionRegex()}}setupExtraSiteContentScripts(){const e=this.getExtraSiteRegistration();this.backgroundScriptContainer?this.backgroundScriptContainer.registerFirefoxContentScript(e):chrome.runtime.sendMessage(e)}removeExtraSiteRegistration(){const e="invidious";this.backgroundScriptContainer?this.backgroundScriptContainer.unregisterFirefoxContentScript(e):chrome.runtime.sendMessage({message:"unregisterContentScript",id:e}),chrome.permissions.remove({origins:this.getPermissionRegex()})}applyInvidiousPermissions(e,t="supportInvidious"){return new Promise((n=>{e?this.setupExtraSitePermissions((e=>{e||(i.default.config[t]=!1),n(e)})):(this.removeExtraSiteRegistration(),n(!1))}))}containsInvidiousPermission(){return new Promise((e=>{const t=[];(0,u.isSafari)()&&t.push("webNavigation"),chrome.permissions.contains({origins:this.getPermissionRegex(),permissions:t},(function(t){e(t)}))}))}getMergedTimestamps(e){let t=[];return e.forEach((e=>{const n=t.findIndex((t=>e[0]>=t[0]&&e[0]<=t[1])),o=t.findIndex((t=>e[1]>=t[0]&&e[1]<=t[1]));if(~n&&~o){if(n===o)return;const e=t.splice(Math.max(n,o),1)[0],i=t.splice(Math.min(n,o),1)[0];t.push([Math.min(e[0],i[0]),Math.max(e[1],i[1])])}else~n?t[n][1]=e[1]:~o?t[o][0]=e[0]:t.push(e.slice());t=t.filter((t=>!(t[0]>e[0]&&t[1]<e[1])))})),t}getTimestampsDuration(e){return this.getMergedTimestamps(e).reduce(((e,t)=>e+t[1]-t[0]),0)}getSponsorIndexFromUUID(e,t){for(let n=0;n<e.length;n++)if(e[n].UUID===t)return n;return-1}getSponsorTimeFromUUID(e,t){return e[this.getSponsorIndexFromUUID(e,t)]}getCategorySelection(e){for(const t of i.default.config.categorySelections)if(t.name===e)return t;return{name:e,option:r.CategorySkipOption.Disabled}}getPermissionRegex(e=[]){const t=[];0===e.length&&(e=[...i.default.config.invidiousInstances]);for(const n of e)t.push("https://*."+n+"/*"),t.push("http://*."+n+"/*");return t}findReferenceNode(){var e,t;let n=(0,l.findValidElementFromSelector)(["#player-container-id","#movie_player",".html5-video-player","#c4-player","#player-container","#main-panel.ytmusic-player-page","#player-container .video-js",".main-video-section > .video-container",".shaka-video-container","#player-container.ytk-player"]);if(null==n){const o=document.getElementById("player");if(n=null==o?void 0:o.firstChild,n){let i=1;for(;i<o.children.length&&(!(null===(e=n.classList)||void 0===e?void 0:e.contains("html5-video-player"))||!(null===(t=n.classList)||void 0===t?void 0:t.contains("ytp-embed")));)n=o.children[i],i++}}return n}isContentScript(){return"http:"===window.location.protocol||"https:"===window.location.protocol}isHex(e){return Boolean(e.match(/^[0-9a-f]+$/i))}addHiddenSegment(e,t,n){return o(this,void 0,void 0,(function*(){if(chrome.extension.inIncognitoContext&&!i.default.config.trackDownvotesInPrivate||!i.default.config.trackDownvotes)return;const o=(yield(0,s.getHash)(e,1)).slice(0,4),a=yield(0,s.getHash)(t,1),l=i.default.local.downvotedSegments,u=l[o]||{segments:[],lastAccess:0};u.lastAccess=Date.now();const c=u.segments.find((e=>e.uuid===a));n===r.SponsorHideType.Visible?(u.segments.splice(u.segments.indexOf(c),1),0===u.segments.length&&delete l[o]):(c?c.hidden=n:u.segments.push({uuid:a,hidden:n}),l[o]=u);const d=Object.entries(l);if(d.length>1e4){let e=null;for(let t=0;t<d[0].length;t++)(null===e||d[t][1].lastAccess<e[1].lastAccess)&&(e=d[t]);delete l[e[0]]}i.default.forceLocalUpdate("downvotedSegments")}))}}},3126:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.partition=void 0,t.partition=function(e,t){const n=[],o=[];return e.forEach((e=>(t(e)?n:o).push(e))),[n,o]}},1575:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_CATEGORY=t.shortCategoryName=t.getCategorySuffix=t.getUpcomingText=t.getSkippingText=void 0;const o=n(9209);t.getSkippingText=function(e,t){const n=chrome.i18n.getMessage(e.length>1?"multipleSegments":"category_"+e[0].category+"_short")||chrome.i18n.getMessage("category_"+e[0].category);if(t){let t="";switch(e[0].actionType){case o.ActionType.Skip:t="skipped";break;case o.ActionType.Mute:t="muted";break;case o.ActionType.Poi:t="skipped_to_category"}return chrome.i18n.getMessage(t).replace("{0}",n)}{let t="";switch(e[0].actionType){case o.ActionType.Skip:t="skip_category";break;case o.ActionType.Mute:t="mute_category";break;case o.ActionType.Poi:t="skip_to_category"}return chrome.i18n.getMessage(t).replace("{0}",n)}},t.getUpcomingText=function(e){const t=chrome.i18n.getMessage(e.length>1?"multipleSegments":"category_"+e[0].category+"_short")||chrome.i18n.getMessage("category_"+e[0].category);return chrome.i18n.getMessage("upcoming").replace("{0}",t)},t.getCategorySuffix=function(e){return e.startsWith("poi_")?"_POI":"exclusive_access"===e?"_full":"chapter"===e?"_chapter":""},t.shortCategoryName=function(e){return chrome.i18n.getMessage("category_"+e+"_short")||chrome.i18n.getMessage("category_"+e)},t.DEFAULT_CATEGORY="chooseACategory"},4982:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isVorapisInstalled=t.runCompatibilityChecks=void 0;const o=n(8856);t.runCompatibilityChecks=function(){o.default.config.showZoomToFillError2&&document.URL.includes("watch?v=")&&setTimeout((()=>{document.querySelector(".zoomtofillBtn")&&alert(chrome.i18n.getMessage("zoomToFillUnsupported")),o.default.config.showZoomToFillError2=!1}),1e4)},t.isVorapisInstalled=function(){return document.querySelector(".v3")}},2271:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defaultPreviewTime=t.getGuidelineInfo=void 0,t.getGuidelineInfo=function(e){switch(e){case"sponsor":return[{icon:"icons/money.svg",text:chrome.i18n.getMessage(`category_${e}_guideline1`)},{icon:"icons/close-smaller.svg",text:chrome.i18n.getMessage(`category_${e}_guideline2`)},{icon:"icons/segway.png",text:chrome.i18n.getMessage("generic_guideline1")},{icon:"icons/right-arrow.svg",text:chrome.i18n.getMessage("generic_guideline2")}];case"selfpromo":return[{icon:"icons/money.svg",text:chrome.i18n.getMessage(`category_${e}_guideline1`)},{icon:"icons/campaign.svg",text:chrome.i18n.getMessage(`category_${e}_guideline2`)},{icon:"icons/close-smaller.svg",text:chrome.i18n.getMessage(`category_${e}_guideline3`)},{icon:"icons/segway.png",text:chrome.i18n.getMessage("generic_guideline1")},{icon:"icons/right-arrow.svg",text:chrome.i18n.getMessage("generic_guideline2")}];case"exclusive_access":return[{icon:"icons/money.svg",text:chrome.i18n.getMessage(`category_${e}_guideline1`)}];case"interaction":return[{icon:"icons/lightbulb.svg",text:chrome.i18n.getMessage(`category_${e}_guideline1`)},{icon:"icons/lightbulb.svg",text:chrome.i18n.getMessage(`category_${e}_guideline2`)},{icon:"icons/close-smaller.svg",text:chrome.i18n.getMessage(`category_${e}_guideline3`)},{icon:"icons/segway.png",text:chrome.i18n.getMessage("generic_guideline1")},{icon:"icons/right-arrow.svg",text:chrome.i18n.getMessage("generic_guideline2")}];case"intro":return[{icon:"icons/check-smaller.svg",text:chrome.i18n.getMessage(`category_${e}_guideline1`)},{icon:"icons/close-smaller.svg",text:chrome.i18n.getMessage(`category_${e}_guideline2`)},{icon:"icons/segway.png",text:chrome.i18n.getMessage("generic_guideline1")},{icon:"icons/right-arrow.svg",text:chrome.i18n.getMessage("generic_guideline2")}];case"outro":return[{icon:"icons/close-smaller.svg",text:chrome.i18n.getMessage(`category_${e}_guideline1`)},{icon:"icons/segway.png",text:chrome.i18n.getMessage("generic_guideline1")},{icon:"icons/right-arrow.svg",text:chrome.i18n.getMessage("generic_guideline2")}];case"preview":return[{icon:"icons/check-smaller.svg",text:chrome.i18n.getMessage(`category_${e}_guideline1`)},{icon:"icons/check-smaller.svg",text:chrome.i18n.getMessage(`category_${e}_guideline2`)},{icon:"icons/close-smaller.svg",text:chrome.i18n.getMessage(`category_${e}_guideline3`)},{icon:"icons/segway.png",text:chrome.i18n.getMessage("generic_guideline1")},{icon:"icons/right-arrow.svg",text:chrome.i18n.getMessage("generic_guideline2")}];case"filler":return[{icon:"icons/stopwatch.svg",text:chrome.i18n.getMessage(`category_${e}_guideline1`)},{icon:"icons/stopwatch.svg",text:chrome.i18n.getMessage(`category_${e}_guideline2`)},{icon:"icons/close-smaller.svg",text:chrome.i18n.getMessage(`category_${e}_guideline3`)},{icon:"icons/segway.png",text:chrome.i18n.getMessage("generic_guideline1")},{icon:"icons/right-arrow.svg",text:chrome.i18n.getMessage("generic_guideline2")}];case"music_offtopic":return[{icon:"icons/music-note.svg",text:chrome.i18n.getMessage(`category_${e}_guideline1`)},{icon:"icons/music-note.svg",text:chrome.i18n.getMessage(`category_${e}_guideline2`)},{icon:"icons/right-arrow.svg",text:chrome.i18n.getMessage("generic_guideline2")}];case"poi_highlight":return[{icon:"icons/star.svg",text:chrome.i18n.getMessage(`category_${e}_guideline1`)},{icon:"icons/bolt.svg",text:chrome.i18n.getMessage(`category_${e}_guideline2`)},{icon:"icons/bolt.svg",text:chrome.i18n.getMessage(`category_${e}_guideline3`)}];case"chapter":return[{icon:"icons/close-smaller.svg",text:chrome.i18n.getMessage(`category_${e}_guideline1`)},{icon:"icons/check-smaller.svg",text:chrome.i18n.getMessage(`category_${e}_guideline2`)},{icon:"icons/check-smaller.svg",text:chrome.i18n.getMessage(`category_${e}_guideline3`)}];default:return[{icon:"icons/segway.png",text:chrome.i18n.getMessage("generic_guideline1")},{icon:"icons/right-arrow.svg",text:chrome.i18n.getMessage("generic_guideline2")}]}},t.defaultPreviewTime=2},8249:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getExtensionIdsToImportFrom=t.isDeArrowInstalled=void 0;const o=n(8272),i=n(8856),r=n(1740),s=n(1108);function a(){return(0,r.isSafari)()?o.extensionImportList.safari:(0,s.isFirefoxOrSafari)()?o.extensionImportList.firefox:o.extensionImportList.chromium}t.isDeArrowInstalled=function(){return i.default.config.deArrowInstalled?Promise.resolve(!0):new Promise((e=>{const t=a();let n=0;for(const o of t)chrome.runtime.sendMessage(o,{message:"isInstalled"},(o=>{if(chrome.runtime.lastError)return n++,void(n===t.length&&e(!1));e(o),o&&(i.default.config.deArrowInstalled=!0)}))}))},t.getExtensionIdsToImportFrom=a},7621:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeChapterName=t.exportTimesAsHashParam=t.importTimes=t.exportTimes=void 0;const o=n(9209),i=n(1575),r=n(8272),s=n(7913),a=n(3497),l="undefined"==typeof chrome,u=r.categoryList.filter((e=>"chapter"!==e)).map((e=>({code:e,names:l?[e]:[chrome.i18n.getMessage("category_"+e),(0,i.shortCategoryName)(e)]})));function c(e){const t=e.description||(0,i.shortCategoryName)(e.category);return`${(0,s.getFormattedTime)(e.segment[0],!0)}${e.segment[1]&&e.segment[0]!==e.segment[1]?` - ${(0,s.getFormattedTime)(e.segment[1],!0)}`:""} ${t}`}function d(e,t){let n=e;for(const o of t)o.condition&&!o.condition(e)||(n=n.replace(o.matcher,""));return n}t.exportTimes=function(e){let t="";for(const n of e)[o.ActionType.Full,o.ActionType.Mute].includes(n.actionType)||n.source===o.SponsorSourceType.YouTube||(t+=c(n)+"\n");return t.replace(/\n$/,"")},t.importTimes=function(e,t){var n;const i=e.split("\n"),r=[];for(const e of i){const t=e.match(/(?:((?:\d+:)?\d+:\d+)+(?:\.\d+)?)|(?:\d+(?=s| second))/g);if(t){const i=(0,s.getFormattedTimeToSeconds)(t[0]);if(null!==i){const l=[{matcher:/^(?:\s+seconds?)?[-:()\s]*|(?:\s+at)?[-:(\s]+$/g},{matcher:/[-:()\s]*$/g,condition:e=>!!e.match(/^\s*\(/)}],c=d(e.split(t[0])[0],l);let p=null;const f=e.split(t[1]||t[0]);p=d(f[f.length-1],l);const h=(null==c?void 0:c.length)>(null==p?void 0:p.length)?c:p,m=null===(n=u.find((e=>e.names.includes(h))))||void 0===n?void 0:n.code,g=h?null!=m?m:"chapter":"chooseACategory",v={segment:[i,(0,s.getFormattedTimeToSeconds)(t[1])],category:g,actionType:"chapter"===g?o.ActionType.Chapter:o.ActionType.Skip,description:"chapter"===g?h:null,source:o.SponsorSourceType.Local,UUID:(0,a.generateUserID)()};r.length>0&&null===r[r.length-1].segment[1]&&(r[r.length-1].segment[1]=v.segment[0]),r.push(v)}}}return r.length>0&&null===r[r.length-1].segment[1]&&(r[r.length-1].segment[1]=t),r},t.exportTimesAsHashParam=function(e){const t=e.map((e=>Object.assign({actionType:e.actionType,category:e.category,segment:e.segment},e.description?{description:e.description}:{})));return`#segments=${JSON.stringify(t)}`},t.normalizeChapterName=function(e){return e.toLowerCase().replace(/[.:'’`‛‘"‟”-]/gu,"").replace(/\s+/g," ")}},7082:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GenericUtils=void 0;const n="0123456789abcdef";t.GenericUtils={getLuminance:function(e){const{r:t,g:o,b:i}=(4==(r=e).length&&(r="#"+r[1]+r[1]+r[2]+r[2]+r[3]+r[3]),/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r)?{r:16*n.indexOf(r[1])+n.indexOf(r[2]),g:16*n.indexOf(r[3])+n.indexOf(r[4]),b:16*n.indexOf(r[5])+n.indexOf(r[6])}:null);var r;return Math.sqrt(t*t*.299+o*o*.587+i*i*.114)},indexesOf:function(e,t){return e.map(((e,n)=>e===t?n:-1)).filter((e=>-1!==e))}}},5144:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.logWarn=t.logDebug=void 0,"undefined"!=typeof window&&(window.SBLogs={debug:[],warn:[]}),t.logDebug=function(e){"undefined"!=typeof window?window.SBLogs.debug.push(`[${(new Date).toISOString()}] ${e}`):console.log(`[${(new Date).toISOString()}] ${e}`)},t.logWarn=function(e){"undefined"!=typeof window?window.SBLogs.warn.push(`[${(new Date).toISOString()}] ${e}`):console.warn(`[${(new Date).toISOString()}] ${e}`)}},2869:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isMobileControlsOpen=void 0,t.isMobileControlsOpen=function(){var e;const t=document.getElementById("player-control-overlay");return!!t&&!!(null===(e=null==t?void 0:t.classList)||void 0===e?void 0:e.contains("fadein"))}},1159:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.downvoteButtonColor=t.SkipNoticeAction=void 0;const o=n(8856);var i;(i=t.SkipNoticeAction||(t.SkipNoticeAction={}))[i.None=0]="None",i[i.Upvote=1]="Upvote",i[i.Downvote=2]="Downvote",i[i.CategoryVote=3]="CategoryVote",i[i.CopyDownvote=4]="CopyDownvote",i[i.Unskip0=5]="Unskip0",i[i.Unskip1=6]="Unskip1",t.downvoteButtonColor=function(e,t,n){return(null==e?void 0:e.length)>1?t===n?o.default.config.colorPalette.red:o.default.config.colorPalette.white:o.default.config.isVip&&1===(null==e?void 0:e[0].locked)?o.default.config.colorPalette.locked:o.default.config.colorPalette.white}},5933:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.cleanPage=void 0,t.cleanPage=function(){if("complete"===document.readyState)for(const e of document.querySelectorAll("#categoryPillParent, .playerButton, .sponsorThumbnailLabel, #submissionNoticeContainer, .sponsorSkipNoticeContainer, #sponsorBlockPopupContainer, .skipButtonControlBarContainer, #previewbar, .sponsorBlockChapterBar"))e.remove()}},3726:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isPlayingPlaylist=t.getExistingChapters=t.hasAutogeneratedChapters=t.getHashParams=t.isVisible=t.isInPreviewPlayer=t.getControls=void 0;const o=n(9209),i=n(7913),r=n(8856);function s(e){return!!e.closest("#inline-preview-player")}function a(){return!!document.querySelector("ytd-engagement-panel-section-list-renderer ytd-macro-markers-list-renderer #menu")}t.getControls=function(){const e=[".ytp-right-controls",".player-controls-top",".vjs-control-bar",".shaka-bottom-controls",".html5-player-chrome"];for(const t of e){const e=Array.from(document.querySelectorAll(t)).filter((e=>!s(e)));if(e.length>0)return e[e.length-1]}return null},t.isInPreviewPlayer=s,t.isVisible=function(e){return e&&e.offsetWidth>0&&e.offsetHeight>0},t.getHashParams=function(){const e=window.location.hash.slice(1);return e?e.split("&").reduce(((e,t)=>{const[n,o]=t.split("="),i=decodeURIComponent(o);try{e[n]=(null==i?void 0:i.match(/{|\[/))?JSON.parse(i):o}catch(e){console.error(`Failed to parse hash parameter ${n}: ${o}`)}return e}),{}):{}},t.hasAutogeneratedChapters=a,t.getExistingChapters=function(e,t){var n,s,l,u;const c=document.querySelector("ytd-macro-markers-list-renderer"),d=null===(n=null==c?void 0:c.closest("ytd-engagement-panel-section-list-renderer"))||void 0===n?void 0:n.querySelector("#title-text.ytd-engagement-panel-title-header-renderer");if(null===(s=null==d?void 0:d.textContent)||void 0===s?void 0:s.includes("Key moment"))return[];if(!r.default.config.showAutogeneratedChapters&&a())return[];const p=[];if(c){let n=null;const r=c.querySelectorAll("ytd-macro-markers-list-item-renderer > a");for(const t of r){const r=t.querySelector("#time"),s=t.querySelector("#details h4");if(r&&(null===(l=null==s?void 0:s.innerText)||void 0===l?void 0:l.length)>0&&(null===(u=t.getAttribute("href"))||void 0===u?void 0:u.includes(e))){const e=(0,i.getFormattedTimeToSeconds)(r.innerText.replace(/\./g,":"));if(null===e)return[];n&&(n.segment[1]=e,p.push(n)),n={segment:[e,null],category:"chapter",actionType:o.ActionType.Chapter,description:s.innerText,source:o.SponsorSourceType.YouTube,UUID:null}}}n&&(n.segment[1]=t,p.push(n))}return p},t.isPlayingPlaylist=function(){return!!document.URL.includes("&list=")}},6062:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.sendRequestToServer=t.asyncRequestToServer=t.asyncRequestToCustomServer=void 0;const i=n(8856),r=n(8272),s=n(3531);function a(e,t,n={},o={}){return(0,s.sendRequestToCustomServer)(e,t,n,o)}t.asyncRequestToCustomServer=a,t.asyncRequestToServer=function(e,t,n={},s={}){return o(this,void 0,void 0,(function*(){const o=i.default.config.testingServer?r.testingServerAddress:i.default.config.serverAddress;return yield a(e,o+t,n,s)}))},t.sendRequestToServer=function(e,t,n){const o=i.default.config.testingServer?r.testingServerAddress:i.default.config.serverAddress;chrome.runtime.sendMessage({message:"sendRequest",type:e,url:o+t},(e=>{n(e)}))}},3611:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getSegmentsForVideo=void 0;const i=n(2146),r=n(3262),s=n(8856),a=n(8272),l=n(9209),u=n(3726),c=n(6062),d=new i.DataCache((()=>({segments:null,status:200})),5),p={};t.getSegmentsForVideo=function(e,t){return o(this,void 0,void 0,(function*(){if(!t){const t=d.getFromCache(e);if(t)return d.cacheUsed(e),t}if(p[e])return yield p[e];const n=function(e){var t,n,i,p,f,h;return o(this,void 0,void 0,(function*(){const o=s.default.config.categorySelections.map((e=>e.name)),m={},g=(0,u.getHashParams)();g.requiredSegment&&(m.requiredSegment=g.requiredSegment);const v=(yield(0,r.getHash)(e,1)).slice(0,4),y=yield(0,c.asyncRequestToServer)("GET","/api/skipSegments/"+v,Object.assign({categories:a.categoryList,actionTypes:l.ActionTypes},m),{"X-CLIENT-NAME":`${chrome.runtime.id}/v${chrome.runtime.getManifest().version}`});if(y.ok){const r=function(e=!1){const t=[l.ActionType.Skip,l.ActionType.Poi,l.ActionType.Chapter];return s.default.config.muteSegments&&t.push(l.ActionType.Mute),(s.default.config.fullVideoSegments||e)&&t.push(l.ActionType.Full),t}(),a=null===(h=null===(f=null===(p=null===(i=null===(n=null===(t=JSON.parse(y.responseText))||void 0===t?void 0:t.filter((t=>t.videoID===e)))||void 0===n?void 0:n.map((e=>e.segments)))||void 0===i?void 0:i[0])||void 0===p?void 0:p.filter((e=>r.includes(e.actionType)&&o.includes(e.category))))||void 0===f?void 0:f.map((e=>Object.assign(Object.assign({},e),{source:l.SponsorSourceType.Server}))))||void 0===h?void 0:h.sort(((e,t)=>e.segment[0]-t.segment[0]));if(a&&a.length){const t={segments:a,status:y.status};return d.setupCache(e).segments=t.segments,t}d.setupCache(e)}return{segments:null,status:y.status}}))}(e);p[e]=n;const i=yield n;return delete p[e],i}))}},8537:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.setupThumbnailListener=t.setupThumbnailHover=t.labelThumbnail=t.handleThumbnails=void 0;const i=n(3683),r=n(8856),s=n(1990),a=n(8343),l=n(3611);function u(e){return o(this,void 0,void 0,(function*(){yield Promise.all(e.map((e=>{c(e),d(e)})))}))}function c(e){var t,n;return o(this,void 0,void 0,(function*(){if(!(null===(t=r.default.config)||void 0===t?void 0:t.fullVideoSegments)||!(null===(n=r.default.config)||void 0===n?void 0:n.fullVideoLabelsOnThumbnails))return m(e),null;const o=f(e);if(!o)return m(e),null;const i=yield(0,s.getVideoLabel)(o);if(!i)return m(e),null;const{overlay:a,text:l}=function(e){const t=h(e);if(t)return{overlay:t,text:t.querySelector("span")};const n=document.createElement("div");n.classList.add("sponsorThumbnailLabel"),n.addEventListener("pointerenter",(t=>{t.stopPropagation(),e.dispatchEvent(new PointerEvent("pointerleave",{bubbles:!0}))})),n.addEventListener("pointerleave",(t=>{t.stopPropagation(),e.dispatchEvent(new PointerEvent("pointerenter",{bubbles:!0}))}));const o=function(){const e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("viewBox","0 0 565.15 568");const t=document.createElementNS("http://www.w3.org/2000/svg","use");return t.setAttribute("href","#SponsorBlockIcon"),e.appendChild(t),e}(),i=document.createElement("span");return n.appendChild(o),n.appendChild(i),e.appendChild(n),{overlay:n,text:i}}(e);return a.style.setProperty("--category-color",`var(--sb-category-preview-${i}, var(--sb-category-${i}))`),a.style.setProperty("--category-text-color",`var(--sb-category-text-preview-${i}, var(--sb-category-text-${i}))`),l.innerText=chrome.i18n.getMessage(`category_${i}`),a.classList.add("sponsorThumbnailLabelVisible"),a}))}function d(e){return o(this,void 0,void 0,(function*(){if((0,i.isOnInvidious)())return;const t=e.closest("#dismissible");t&&(t.removeEventListener("mouseenter",p),t.addEventListener("mouseenter",p))}))}function p(e){var t;if(!(null===(t=chrome.runtime)||void 0===t?void 0:t.id))return;const n=e.target.querySelector((0,a.getThumbnailSelector)());if(!n)return;const o=f(n);o&&(0,l.getSegmentsForVideo)(o,!1)}function f(e){var t;const n=function(e){var t;return(0,i.isOnInvidious)()?e.parentElement:"yt-thumbnail-view-model"===e.nodeName.toLowerCase()?null===(t=e.closest("yt-lockup-view-model"))||void 0===t?void 0:t.querySelector("a.yt-lockup-metadata-view-model-wiz__title"):e.querySelector("#thumbnail")}(e);return n&&"A"===n.nodeName&&n.href?null===(t=(0,i.parseYouTubeVideoIDFromURL)(n.href))||void 0===t?void 0:t.videoID:null}function h(e){return e.querySelector(".sponsorThumbnailLabel")}function m(e){const t=h(e);t&&t.classList.remove("sponsorThumbnailLabelVisible")}t.handleThumbnails=u,t.labelThumbnail=c,t.setupThumbnailHover=d,t.setupThumbnailListener=function(){(0,a.setThumbnailListener)(u,(()=>{!function(){const e=document.createElement("span");e.innerHTML='\n<svg viewBox="0 0 565.15 568" style="display: none">\n  <defs>\n    <g id="SponsorBlockIcon">\n      <path d="M282.58,568a65,65,0,0,1-34.14-9.66C95.41,463.94,2.54,300.46,0,121A64.91,64.91,0,0,1,34,62.91a522.56,522.56,0,0,1,497.16,0,64.91,64.91,0,0,1,34,58.12c-2.53,179.43-95.4,342.91-248.42,437.3A65,65,0,0,1,282.58,568Zm0-548.31A502.24,502.24,0,0,0,43.4,80.22a45.27,45.27,0,0,0-23.7,40.53c2.44,172.67,91.81,330,239.07,420.83a46.19,46.19,0,0,0,47.61,0C453.64,450.73,543,293.42,545.45,120.75a45.26,45.26,0,0,0-23.7-40.54A502.26,502.26,0,0,0,282.58,19.69Z"/>\n      <path d="M 284.70508 42.693359 A 479.9 479.9 0 0 0 54.369141 100.41992 A 22.53 22.53 0 0 0 42.669922 120.41992 C 45.069922 290.25992 135.67008 438.63977 270.83008 522.00977 A 22.48 22.48 0 0 0 294.32031 522.00977 C 429.48031 438.63977 520.08047 290.25992 522.48047 120.41992 A 22.53 22.53 0 0 0 510.7793 100.41992 A 479.9 479.9 0 0 0 284.70508 42.693359 z M 220.41016 145.74023 L 411.2793 255.93945 L 220.41016 366.14062 L 220.41016 145.74023 z "/>\n    </g>\n  </defs>\n</svg>',document.body.appendChild(e.children[0])}()}),(()=>r.default.isReady()))}},2084:(e,t)=>{function n(e){var t,n,o;if(!e)return 0;const i=/(?:(\d{1,3})h)?(?:(\d{1,2})m)?(\d+)s?/.exec(e);return i?3600*parseInt(null!==(t=i[1])&&void 0!==t?t:"0",10)+60*parseInt(null!==(n=i[2])&&void 0!==n?n:"0",10)+parseInt(null!==(o=i[3])&&void 0!==o?o:"0",10):/\d+/.test(e)?parseInt(e,10):0}Object.defineProperty(t,"__esModule",{value:!0}),t.urlTimeToSeconds=t.getStartTimeFromUrl=void 0,t.getStartTimeFromUrl=function(e){const t=new URLSearchParams(e);return n((null==t?void 0:t.get("t"))||(null==t?void 0:t.get("time_continue")))},t.urlTimeToSeconds=n},1990:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getVideoLabel=void 0;const i=n(9209),r=n(3262),s=n(205),a=n(5144),l=n(6062),u=new s.default,c={};t.getVideoLabel=function(e){return o(this,void 0,void 0,(function*(){const t=(yield(0,r.getHash)(e,1)).slice(0,3),n=yield function(e){return o(this,void 0,void 0,(function*(){const t=c[e];if(t)return t;const n=yield(0,l.asyncRequestToServer)("GET",`/api/videoLabels/${e}`);if(200!==n.status)return c[e]={timestamp:Date.now(),videos:{}},null;try{const t=JSON.parse(n.responseText),o={timestamp:Date.now(),videos:Object.fromEntries(t.map((e=>[e.videoID,e.segments[0].category])))};if(c[e]=o,Object.keys(c).length>1e3){const e=Object.entries(c).reduce(((e,t)=>e[1].timestamp<t[1].timestamp?e:t));delete c[e[0]]}return o}catch(e){return(0,a.logWarn)(`Error parsing video labels: ${e}`),null}}))}(t);if(n){const t=n.videos[e];return t&&u.getCategorySelection(t).option!==i.CategorySkipOption.Disabled?t:null}return null}))}},5222:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.openChat=t.openWarningDialog=void 0;const i=n(1108),r=n(3262),s=n(8856),a=n(3936),l=n(6062);function u(e){window.open("https://chat.sponsor.ajay.app/#"+(0,i.objectToURI)("",e,!1))}t.openWarningDialog=function(e){var t;return o(this,void 0,void 0,(function*(){const n=yield(0,l.asyncRequestToServer)("GET","/api/userInfo",{publicUserID:yield(0,r.getHash)(s.default.config.userID),values:["warningReason"]});if(n.ok){const i=null===(t=JSON.parse(n.responseText))||void 0===t?void 0:t.warningReason,c=yield(0,l.asyncRequestToServer)("GET","/api/getUsername?userID="+s.default.config.userID),d=c.ok?JSON.parse(c.responseText).userName:"",p=yield(0,r.getHash)(s.default.config.userID);let f=null;const h={title:chrome.i18n.getMessage("deArrowMessageRecieved"),textBoxes:[{text:chrome.i18n.getMessage("warningChatInfo"),icon:null},...i.split("\n").map((e=>({text:e,icon:null})))],buttons:[{name:chrome.i18n.getMessage("questionButton"),listener:()=>u({displayName:`${d||""}${d!==p?` | ${p}`:""}`})},{name:chrome.i18n.getMessage("warningConfirmButton"),listener:()=>o(this,void 0,void 0,(function*(){const e=yield(0,l.asyncRequestToServer)("POST","/api/warnUser",{userID:s.default.config.userID,enabled:!1});e.ok?null==f||f.close():alert(`${chrome.i18n.getMessage("warningError")} ${e.status}`)}))}],timed:!1};f=new a.default(e,"warningNotice",h)}}))},t.openChat=u},8261:e=>{e.exports='(()=>{"use strict";var e={907:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.YT_DOMAINS=void 0,t.YT_DOMAINS=["m.youtube.com","www.youtube.com","www.youtube-nocookie.com","music.youtube.com","www.youtubekids.com"]},148:function(e,t){var n=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{s(i.next(e))}catch(e){r(e)}}function l(e){try{s(i.throw(e))}catch(e){r(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((i=i.apply(e,t||[])).next())}))};function i(e,t=!1){var n,i,o;if(!e)return!1;if("VIDEO"===e.tagName&&(e.classList.contains("html5-main-video")||"player"===e.id||"player_html5_api"===e.id)&&1===[...document.querySelectorAll("video")].filter((e=>e.duration)).length&&e.duration)return!0;if(0===e.offsetHeight||0===e.offsetWidth&&!t)return!1;const r=null==e?void 0:e.getBoundingClientRect(),a=document.elementFromPoint(r.left+r.width/2,r.top+r.height/2)||document.elementFromPoint(r.left,r.top);return!a&&"movie_player"===e.id&&r.top<0||!!(a===e||a&&e.contains(a)||a&&a.contains(e))||"VIDEO"===e.tagName&&(!!(null===(n=null==a?void 0:a.closest(".html5-video-player"))||void 0===n?void 0:n.contains(e))||!!(null===(o=null===(i=null==e?void 0:e.closest("#inline-preview-player"))||void 0===i?void 0:i.classList)||void 0===o?void 0:o.contains("playing-mode")))}function o(e,t=!1){return r(e,t)}function r(e,t=!1,n){for(const o of e){const e=n?n(o):o;if(e&&i(e,t))return e}return null}Object.defineProperty(t,"__esModule",{value:!0}),t.getElement=t.waitForElement=t.findValidElement=t.findValidElementFromSelector=t.isVisible=void 0,t.isVisible=i,t.findValidElementFromSelector=function(e,t=!1){return r(e,t,(e=>document.querySelector(e)))},t.findValidElement=o;let a=!1,l=null,s=[];function d(){if(!l){const e=e=>{var t;const n=[];for(const i of s){const{selector:r,visibleCheck:a,ignoreWidth:l,callbacks:s}=i;let d=!0;if(e){let t=!1;for(const n of e)if("childList"===n.type&&n.addedNodes.length>0){if(n.target instanceof HTMLElement&&(n.target.matches(r)||n.target.querySelector(r))){t=!0;break}for(const e of n.addedNodes)if(e instanceof HTMLElement&&(e.matches(r)||e.querySelector(r))){t=!0;break}if(t)break}t||(d=!1)}const u=d?document.querySelectorAll(r):i.elements;if(u&&u.length>0){i.elements=u;const e=a?o(u,l):u[0];if(e){if(null===(t=chrome.runtime)||void 0===t?void 0:t.id)for(const t of s)t(e);n.push(r)}}}s=s.filter((e=>!n.includes(e.selector))),0===s.length&&(null==l||l.disconnect(),l=null,a=!1)};e(),s.length>0&&(l=new MutationObserver(e),l.observe(document.documentElement,{childList:!0,subtree:!0}))}}function u(e,t,n=!1){return t?o(document.querySelectorAll(e),n):document.querySelector(e)}t.waitForElement=function(e,t=!1,i=!1){return n(this,void 0,void 0,(function*(){return yield new Promise((n=>{const o=u(e,t,i);if(o)return void n(o);const r=s.find((n=>n.selector===e&&n.visibleCheck===t));r?r.callbacks.push(n):s.push({selector:e,visibleCheck:t,ignoreWidth:i,callbacks:[n]}),a||(a=!0,document.body?d():window.addEventListener("DOMContentLoaded",(()=>{d()})))}))}))},t.getElement=u},860:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{s(i.next(e))}catch(e){r(e)}}function l(e){try{s(i.throw(e))}catch(e){r(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;const o=n(291),r=n(303),a=n(907),l=n(395),s=n(705),d=n(445),u=n(148);let c,m="",v=!1;const f=(0,l.getThumbnailElementsToListenFor)(),w=["/youtubei/v1/search","/youtubei/v1/guide","/youtubei/v1/browse","/youtubei/v1/next","/youtubei/v1/player"],h=["videoDetails","videoPrimaryInfoRenderer","videoSecondaryInfoRenderer","currentVideoEndpoint"],p=e=>{window.postMessage(Object.assign({source:"sponsorblock"},e),"/")};function y(e){const t=c;c=e.detail,E(),t||(e.detail.addEventListener("onAdStart",(()=>p({type:"ad",playing:!0}))),e.detail.addEventListener("onAdFinish",(()=>p({type:"ad",playing:!1}))))}function b(e){const t=e.detail.pageType;if(t){const n={type:"navigation",pageType:t,videoID:null};if("shorts"===t||"watch"===t){const i=e.detail.endpoint;if(!i)return null;n.videoID=("shorts"===t?i.reelWatchEndpoint:i.watchEndpoint).videoId}return n}return null}function g(e){const t=b(e);t&&p(t)}function S(e){var t,n,i,o,r;E();const a=null===(r=null===(o=null===(i=null!==(n=null===(t=e.detail)||void 0===t?void 0:t.data)&&void 0!==n?n:e.detail)||void 0===i?void 0:i.response)||void 0===o?void 0:o.playerResponse)||void 0===r?void 0:r.videoDetails;if(a)p(Object.assign({channelID:a.channelId,channelTitle:a.author},b(e)));else{const t=b(e);t&&p(t)}}function E(){if(!c)return;const e=c.getVideoData(),t=c.isInline();e&&(e.video_id!==m||v!==t||t)&&(m=e.video_id,v=t,p({type:"data",videoID:e.video_id,isLive:e.isLive,isPremiere:e.isPremiere,isInline:t}))}function T(e){p({type:"videoIDsLoaded",videoIDs:Array.from(I(e))})}function I(e){const t=new Set;for(const n in e)"videoId"===n?t.add(e[n]):"object"!=typeof e[n]||h.includes(n)||I(e[n]).forEach((e=>t.add(e)));return t}function k(e){var t,n,i,o,r,a,l,s;if(null===(t=e.data)||void 0===t?void 0:t.source)if("dearrow-media-session"===(null===(n=e.data)||void 0===n?void 0:n.source))(0,d.setMediaSessionInfo)(e.data.data);else if("dearrow-reset-media-session-thumbnail"===(null===(i=e.data)||void 0===i?void 0:i.source))(0,d.resetMediaSessionThumbnail)();else if("sb-reset-media-session-link"===(null===(o=e.data)||void 0===o?void 0:o.source))(0,d.resetLastArtworkSrc)();else if("sb-verify-time"===(null===(r=e.data)||void 0===r?void 0:r.source)){const t=[...document.querySelectorAll("video")].filter((e=>(0,u.isVisible)(e)))[0];c&&(null===(a=e.data)||void 0===a?void 0:a.rawTime)===(null==t?void 0:t.currentTime)&&Math.abs(c.getCurrentTime()-(null===(l=e.data)||void 0===l?void 0:l.time))>.1&&2===c.getPlayerState()&&p({type:"currentTimeWrong",playerTime:c.getCurrentTime(),expectedTime:null===(s=e.data)||void 0===s?void 0:s.time})}}const M={browserFetch:null,browserPush:null,customElementDefine:null,waitingInterval:null};let L=!1,P=null;function O(){var e;document.removeEventListener("yt-player-updated",y),document.removeEventListener("yt-navigate-start",g),document.removeEventListener("yt-navigate-finish",S),(0,s.onMobile)()&&window.removeEventListener("state-navigateend",S),M.browserFetch&&(window.fetch=M.browserFetch),M.browserPush&&(window.Array.prototype.push=M.browserPush),M.customElementDefine&&(window.customElements.define=M.customElementDefine),M.waitingInterval&&clearInterval(M.waitingInterval),window.removeEventListener("message",k),window.teardownCB=null,L=!0,null===(e=null==P?void 0:P.disconnect)||void 0===e||e.call(P)}function _(){P&&P.disconnect(),P=new MutationObserver((e=>{for(const t of e)for(const e of t.addedNodes)if(e instanceof HTMLElement)for(const t of f)if(e.tagName.toLowerCase()===t||e.querySelector(t))return void p({type:"newElement",name:t})})),P.observe(document.documentElement,{childList:!0,subtree:!0});for(const e of f)document.querySelector(e)&&p({type:"newElement",name:e})}t.init=function(){var e,t,n;const l="true"===(null===(t=null===(e=document.querySelector("#sponsorblock-document-script"))||void 0===e?void 0:e.getAttribute)||void 0===t?void 0:t.call(e,"teardown")),d=window.versionCB&&(!window.versionCB||(0,o.versionHigher)(r.version,window.versionCB));if(l||d)null===(n=window.teardownCB)||void 0===n||n.call(window);else if(window.versionCB&&!(0,o.versionHigher)(r.version,window.versionCB))return;window.versionCB=r.version,window.teardownCB=O;const u=document.createElement("div");if(u.id="sponsorblock-document-script",u.setAttribute("version",r.version),(document.head||document.documentElement).appendChild(u),document.addEventListener("yt-player-updated",y),document.addEventListener("yt-navigate-start",g),document.addEventListener("yt-navigate-finish",S),(0,s.onMobile)()&&window.addEventListener("state-navigateend",S),a.YT_DOMAINS.includes(window.location.host)&&!(0,s.onMobile)())if(window.customElements){setTimeout((()=>{L||_()}),2e3);const e=window.customElements.define.bind(window.customElements);M.customElementDefine=e,Object.defineProperty(window.customElements,"define",{configurable:!0,enumerable:!1,writable:!0,value:(t,n,i)=>{let o=n;if(f.includes(t))if(L=!0,P&&(P.disconnect(),P=null),n.toString().startsWith("class")){class e extends n{constructor(){super(),p({type:"newElement",name:t})}}o=e}else o=function(){n.call(this),p({type:"newElement",name:t})},Object.setPrototypeOf(o.prototype,n.prototype),Object.setPrototypeOf(o,n);e(t,o,i)}})}else _();const c=window.fetch;M.browserFetch=c,window.fetch=(e,t=void 0)=>e instanceof Request&&w.some((t=>e.url.includes(t)))?(e.url.includes("/youtubei/v1/next")&&(setTimeout((()=>p({type:"newElement",name:""})),1e3),setTimeout((()=>p({type:"newElement",name:""})),2500),setTimeout((()=>p({type:"newElement",name:""})),8e3)),new Promise(((n,o)=>i(this,void 0,void 0,(function*(){try{const i=yield c(e,t),o=yield i.json();n(new Response(JSON.stringify(o),i)),T(o)}catch(e){o(e)}}))))):c(e,t);let m=0;const v={apply:(e,t,n)=>{if(n[0]&&n[0]!==window&&"number"==typeof n[0].start&&n[0].end&&"ssap"===n[0].namespace&&n[0].id){const e=n[0];if(e){const t=e.start;0!==t&&m!==t&&(m=t,p({type:"adDuration",duration:t/1e3}))}}return Reflect.apply(e,t,n)}};if(M.browserPush=window.Array.prototype.push,window.Array.prototype.push=new Proxy(window.Array.prototype.push,v),window.addEventListener("message",k),"undefined"!=typeof ytInitialData)T(ytInitialData);else{const e=setInterval((()=>{"undefined"!=typeof ytInitialData&&(T(ytInitialData),clearInterval(e))}),1);M.waitingInterval=e}setTimeout((()=>{setInterval.toString().includes("console.log(SCRIPTID, \'original interval:\', interval, location.href)")&&alert(\'Warning: You have the user script "YouTube CPU Tamer". This causes performance issues with SponsorBlock, and does not actually improve CPU performance. Please uninstall this user script.\')}),1e3)}},445:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.resetLastArtworkSrc=t.resetMediaSessionThumbnail=t.setMediaSessionInfo=void 0;let n=null,i=null,o=null;function r(e){var t,r,s;"mediaSession"in navigator&&(o||(o={}),o=Object.assign(Object.assign({},o),e),(null===(s=null===(r=null===(t=navigator.mediaSession.metadata)||void 0===t?void 0:t.artwork)||void 0===r?void 0:r[0])||void 0===s?void 0:s.src)&&!navigator.mediaSession.metadata.artwork[0].src.includes("dearrow-thumb")&&(n=navigator.mediaSession.metadata.artwork[0].src),l(navigator.mediaSession.metadata,o)&&(a(o),i&&clearTimeout(i),i=setTimeout((()=>{o&&l(navigator.mediaSession.metadata,o)&&a(o),i=null}),500)))}function a(e){var t,n,i,o,r,a,l,s;if("mediaSession"in navigator){const d=Object.assign({},function(){var e,t,n,i,o,r,a,l,s,d;const u=Object.assign(Object.assign({},navigator.mediaSession.metadata),{artwork:[...null!==(t=null===(e=navigator.mediaSession.metadata)||void 0===e?void 0:e.artwork)&&void 0!==t?t:[]]});return void 0===u.title?{title:null!==(i=null===(n=navigator.mediaSession.metadata)||void 0===n?void 0:n.title)&&void 0!==i?i:"",artist:null!==(r=null===(o=navigator.mediaSession.metadata)||void 0===o?void 0:o.artist)&&void 0!==r?r:"",album:null!==(l=null===(a=navigator.mediaSession.metadata)||void 0===a?void 0:a.album)&&void 0!==l?l:"",artwork:[...null!==(d=null===(s=navigator.mediaSession.metadata)||void 0===s?void 0:s.artwork)&&void 0!==d?d:[]]}:u}());for(const t in e)d[t]=e[t];(null===(n=null===(t=d.artwork)||void 0===t?void 0:t[0])||void 0===n?void 0:n.src)&&(null===(o=null===(i=d.artwork)||void 0===i?void 0:i[0])||void 0===o?void 0:o.src)!==(null===(l=null===(a=null===(r=navigator.mediaSession.metadata)||void 0===r?void 0:r.artwork)||void 0===a?void 0:a[0])||void 0===l?void 0:l.src)&&((null===(s=d.title)||void 0===s?void 0:s.endsWith(" "))?d.title=d.title.trim():d.title=d.title+" "),navigator.mediaSession.metadata=new MediaMetadata(d)}}function l(e,t){if(e&&t)for(const n of Object.keys(t)){if("object"==typeof t[n]&&l(e[n],t[n]))return!0;if(e[n]!==t[n])return!0}return!1}t.setMediaSessionInfo=r,t.resetMediaSessionThumbnail=function(){var e,t,i;n&&r({title:null===(i=null!==(e=null==o?void 0:o.title)&&void 0!==e?e:null===(t=navigator.mediaSession.metadata)||void 0===t?void 0:t.title)||void 0===i?void 0:i.trim(),artwork:[{src:n}]})},t.resetLastArtworkSrc=function(){n=null}},705:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.onVideoPage=t.onMobile=void 0,t.onMobile=function(){return"m.youtube.com"===window.location.hostname},t.onVideoPage=function(){return!!document.URL.match(/\\/watch|\\/shorts|\\/live|\\/embed/)}},395:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getThumbnailSelectors=t.getThumbnailBoxSelectors=t.getThumbnailLink=t.getThumbnailImageSelectors=t.getThumbnailElementsToListenFor=t.getThumbnailElements=void 0;const i=n(705);function o(){return(0,i.onMobile)()?[".media-item-thumbnail-container",".video-thumbnail-container-compact","ytm-thumbnail-cover",".video-thumbnail-container-vertical","ytm-hero-playlist-thumbnail-renderer"]:["ytd-thumbnail","ytd-playlist-thumbnail","ytm-shorts-lockup-view-model","yt-thumbnail-view-model"]}function r(...e){return 0===e.length&&(e=[""]),o().map((t=>e.map((e=>`${t}${e}`)).join(", "))).join(", ")}t.getThumbnailElements=o,t.getThumbnailElementsToListenFor=function(){const e=o();return(0,i.onMobile)()||(e.push("yt-lockup-view-model"),e.push("ytm-shorts-lockup-view-model-v2")),e},t.getThumbnailImageSelectors=function(){return(0,i.onMobile)()?"img.video-thumbnail-img, img.amsterdam-playlist-thumbnail":"ytd-thumbnail:not([hidden]) img, ytd-playlist-thumbnail yt-image:not(.blurred-image) img, yt-img-shadow.ytd-hero-playlist-thumbnail-renderer img, ytm-shorts-lockup-view-model img, .yt-thumbnail-view-model__image img"},t.getThumbnailLink=function(e){return(0,i.onMobile)()?e.querySelector(["a.media-item-thumbnail-container","ytm-channel-featured-video-renderer a","a.compact-media-item-image","a.reel-item-endpoint",".amsterdam-playlist-thumbnail-wrapper a"].join(", ")):e.querySelector(r(" a"))},t.getThumbnailBoxSelectors=function(){return(0,i.onMobile)()?".media-item-thumbnail-container":r(":not([hidden])",".ytd-hero-playlist-thumbnail-renderer")},t.getThumbnailSelectors=r},291:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.versionHigher=void 0,t.versionHigher=function(e,t){const n=e.split("."),i=t.split(".");if(n.length!==i.length)return!0;for(let e=0;e<n.length;e++){const t=parseInt(n[e]),o=parseInt(i[e]);if(t>o)return!0;if(t<o)return!1}return!1}},303:e=>{e.exports={version:"1.1.47"}}},t={};(0,function n(i){var o=t[i];if(void 0!==o)return o.exports;var r=t[i]={exports:{}};return e[i].call(r.exports,r,r.exports,n),r.exports}(860).init)()})();'},5339:e=>{e.exports=JSON.parse('["www.youtubekids.com","inv.nadeko.net","inv.tux.pizza","invidious.adminforge.de","invidious.jing.rocks","invidious.nerdvpn.de","invidious.perennialte.ch","invidious.privacyredirect.com","invidious.reallyaweso.me","invidious.yourdevice.ch","iv.ggtyler.dev","iv.nboeck.de","yewtu.be"]')},8272:e=>{e.exports=JSON.parse('{"serverAddress":"https://sponsor.ajay.app","testingServerAddress":"https://sponsor.ajay.app/test","serverAddressComment":"This specifies the default SponsorBlock server to connect to","categoryList":["sponsor","selfpromo","exclusive_access","interaction","poi_highlight","intro","outro","preview","filler","chapter","music_offtopic"],"categorySupport":{"sponsor":["skip","mute","full"],"selfpromo":["skip","mute","full"],"exclusive_access":["full"],"interaction":["skip","mute"],"intro":["skip","mute"],"outro":["skip","mute"],"preview":["skip","mute"],"filler":["skip","mute"],"music_offtopic":["skip"],"poi_highlight":["poi"],"chapter":["chapter"]},"wikiLinks":{"sponsor":"https://wiki.sponsor.ajay.app/w/Sponsor","selfpromo":"https://wiki.sponsor.ajay.app/w/Unpaid/Self_Promotion","exclusive_access":"https://wiki.sponsor.ajay.app/w/Exclusive_Access","interaction":"https://wiki.sponsor.ajay.app/w/Interaction_Reminder_(Subscribe)","intro":"https://wiki.sponsor.ajay.app/w/Intermission/Intro_Animation","outro":"https://wiki.sponsor.ajay.app/w/Endcards/Credits","preview":"https://wiki.sponsor.ajay.app/w/Preview/Recap","filler":"https://wiki.sponsor.ajay.app/w/Filler_Tangent","music_offtopic":"https://wiki.sponsor.ajay.app/w/Music:_Non-Music_Section","poi_highlight":"https://wiki.sponsor.ajay.app/w/Highlight","guidelines":"https://wiki.sponsor.ajay.app/w/Guidelines","mute":"https://wiki.sponsor.ajay.app/w/Mute_Segment","chapter":"https://wiki.sponsor.ajay.app/w/Chapter"},"extensionImportList":{"chromium":["enamippconapkdmgfgjchkhakpfinmaj"],"firefox":["deArrow@ajay.app","deArrowBETA@ajay.app"],"safari":["app.ajay.dearrow.extension"]}}')},2303:e=>{e.exports={version:"1.1.47"}}},t={};!function n(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={exports:{}};return e[o].call(r.exports,r,r.exports,n),r.exports}(6069)})();